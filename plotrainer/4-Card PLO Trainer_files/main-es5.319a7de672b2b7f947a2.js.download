!function(){function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return e};var e={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(T){l=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new O(i||[]);return r(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var d={};function f(){}function p(){}function g(){}var v={};l(v,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==n&&i.call(y,a)&&(v=y);var b=g.prototype=f.prototype=Object.create(v);function _(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function k(t,e){function n(r,o,a,s){var c=h(t[r],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?e.resolve(u.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(u).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,s)})}s(c.arg)}var o;r(this,"_invoke",{value:function(t,i){function r(){return new e(function(e,r){n(t,i,e,r)})}return o=o?o.then(r,r):r()}})}function C(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return M()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=h(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function w(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=h(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:p,configurable:!0}),p.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},_(k.prototype),l(k.prototype,s,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new k(u(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},_(b),l(b,c,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function e(t){return _(t)||x(t)||w(t)||b()}function n(t){var e="function"==typeof Map?new Map:void 0;return(n=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return i(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)})(t)}function i(t,e,n){return(i=h()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&s(r,n.prototype),r}).apply(null,arguments)}function r(){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=o(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=h();return function(){var n,i=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,m(i.key),i)}}function g(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function y(t,e){return _(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(u){l=!0,r=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(t,e)||w(t,e)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t){if(Array.isArray(t))return t}function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=w(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function C(t){return function(t){if(Array.isArray(t))return P(t)}(t)||x(t)||w(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){if(t){if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,e):void 0}}function x(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"3XR2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cards=void 0,e.cards=["2c","3c","4c","5c","6c","7c","8c","9c","Tc","Jc","Qc","Kc","Ac","2d","3d","4d","5d","6d","7d","8d","9d","Td","Jd","Qd","Kd","Ad","2h","3h","4h","5h","6h","7h","8h","9h","Th","Jh","Qh","Kh","Ah","2s","3s","4s","5s","6s","7s","8s","9s","Ts","Js","Qs","Ks","As"]},"4nFA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preflopSyntaxMapping=void 0;var i=n("bHQJ");e.preflopSyntaxMapping={$ss:i.PreflopClassification.TwoOfSameSuit,$ssn:i.PreflopClassification.TwoOfSameSuitNut,$ssnn:i.PreflopClassification.TwoOfSameSuitNonNut,$lds:i.PreflopClassification.DoubleSuitedLow,$hds:i.PreflopClassification.DoubleSuitedHigh,$ds:i.PreflopClassification.DoubleSuited,$dsn:i.PreflopClassification.DoubleSuitedNut,$dsnn:i.PreflopClassification.DoubleSuitedNonNut,$dsdn:i.PreflopClassification.DoubleSuitedDoubleNut,$dsp:i.PreflopClassification.DoubleSuitedPure,$dts:i.PreflopClassification.DoubleTripleSuited,$ts:i.PreflopClassification.ThreeOfSameSuit,$tsn:i.PreflopClassification.ThreeOfSameSuitNut,$tsnn:i.PreflopClassification.ThreeOfSameSuitNonNut,$qs:i.PreflopClassification.FourOfSameSuit,$rb:i.PreflopClassification.Rainbow,$ms:i.PreflopClassification.Monotone,$mt:i.PreflopClassification.Monotone,$0g:i.PreflopClassification.RundownGap0,$1g:i.PreflopClassification.RundownGap1,$2g:i.PreflopClassification.RundownGap2,$0g4:i.PreflopClassification.FourCardRundownGap0,$1g4:i.PreflopClassification.FourCardRundownGap1,$2g4:i.PreflopClassification.FourCardRundownGap2}},"6nyB":function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n("gNgD"),e),r(n("bHQJ"),e),r(n("4nFA"),e),r(n("mdgW"),e),r(n("bpw8"),e),r(n("D8wq"),e),r(n("QP+3"),e),r(n("dPh3"),e),r(n("fetW"),e),r(n("8EHw"),e),r(n("gKBI"),e),r(n("cuQr"),e),r(n("sBdy"),e),r(n("fynY"),e),r(n("SeXR"),e),r(n("EsPM"),e),r(n("n5Em"),e),r(n("M1Kt"),e),r(n("uZpj"),e),r(n("jrKG"),e),r(n("klPf"),e)},"8EHw":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.classifyPreflopCards=void 0;var i=n("bHQJ"),r=function(t){return t?["K","Q","J","T","9","8","7","6","5","4","3","2","A"]:["A","K","Q","J","T","9","8","7","6","5","4","3","2"]},o=function(t){return r(!1).indexOf(t)};function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(t,e){return t.map(function(t){return r(e).findIndex(function(e){return e===t[0]})})}(t,e),a=Array.from(new Set(o)).sort(function(t,e){return t-e});if(5===a.length){var s=a[0],c=a[4];if(c-s==4)return[i.PreflopClassification.RundownGap0];if(c-s==5)return[i.PreflopClassification.RundownGap1];if(c-s==6)return[i.PreflopClassification.RundownGap2]}else if(4===t.length&&4===a.length){var l=a[0],u=a[3];if(u-l==3)return n?[i.PreflopClassification.FourCardRundownGap0]:[i.PreflopClassification.RundownGap0];if(u-l==4)return n?[i.PreflopClassification.FourCardRundownGap1]:[i.PreflopClassification.RundownGap1];if(u-l==5)return n?[i.PreflopClassification.FourCardRundownGap2]:[i.PreflopClassification.RundownGap2]}else if(3===t.length&&3===a.length){var h=a[0],d=a[2];if(d-h==2)return[i.PreflopClassification.RundownGap0];if(d-h==3)return[i.PreflopClassification.RundownGap1];if(d-h==4)return[i.PreflopClassification.RundownGap2]}return[]}e.classifyPreflopCards=function(t){return[].concat(C(function(t){var e=["c","d","h","s"].map(function(e){return{suit:e,count:t.filter(function(t){return t[1]===e}).length,rank:Math.min.apply(Math,C(t.filter(function(t){return t[1]===e}).map(function(t){return o(t[0])})))}}).filter(function(t){return t.count>0});if(1===e.length)return[i.PreflopClassification.Monotone];if(e.length===t.length)return[i.PreflopClassification.Rainbow];var n=e.filter(function(t){return t.count>1});if(1===n.length)return 2===n[0].count?n[0].rank===o("A")?[i.PreflopClassification.TwoOfSameSuit,i.PreflopClassification.TwoOfSameSuitNut]:[i.PreflopClassification.TwoOfSameSuit,i.PreflopClassification.TwoOfSameSuitNonNut]:3===n[0].count?n[0].rank===o("A")?[i.PreflopClassification.ThreeOfSameSuit,i.PreflopClassification.ThreeOfSameSuitNut]:[i.PreflopClassification.ThreeOfSameSuit,i.PreflopClassification.ThreeOfSameSuitNonNut]:[i.PreflopClassification.FourOfSameSuit];var r=t.map(function(t){return{card:t,index:o(t[0])}}).sort(function(t,e){return t.index-e.index}),a=[i.PreflopClassification.DoubleSuited];return n.some(function(t){return t.rank===o("A")})?a.push(i.PreflopClassification.DoubleSuitedNut):a.push(i.PreflopClassification.DoubleSuitedNonNut),n.every(function(t){return t.rank===o("A")})&&a.push(i.PreflopClassification.DoubleSuitedDoubleNut),a.push(function(t,e){var n,r=t[0].index,o=t[1].index,a=t.filter(function(t){return t.index===r}),s=t.filter(function(t){return t.index===o}),c=k(a);try{var l=function(){var t,r=n.value,o=k(s.filter(function(t){return t.card!==r.card}));try{var a=function(){var n=t.value,o=e.find(function(t){return t.suit===r.card[1]}),a=e.find(function(t){return t.suit===n.card[1]});if(o.suit!==a.suit&&o.count>=2&&a.count>=2)return{v:{v:i.PreflopClassification.DoubleSuitedHigh}}};for(o.s();!(t=o.n()).done;){var c=a();if("object"==typeof c)return c.v}}catch(l){o.e(l)}finally{o.f()}};for(c.s();!(n=c.n()).done;){var u=l();if("object"==typeof u)return u.v}}catch(h){c.e(h)}finally{c.f()}return i.PreflopClassification.DoubleSuitedLow}(r,e)),a.push(n[0].count+n[1].count===5?i.PreflopClassification.DoubleTripleSuited:i.PreflopClassification.DoubleSuitedPure),a}(t)),C(function(t){var e=function(t){var e,n=[],i=k(t);try{var r=function(){var i=e.value;if(!n.find(function(t){return t.face===i[0]})){var r=t.filter(function(t){return t[0]===i[0]}).length;r>1&&n.push({face:i[0],amount:r})}};for(i.s();!(e=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}return n}(t);if(1===e.length){var n=e[0].amount;return 2===n?[i.PreflopClassification.Paired]:3===n?[i.PreflopClassification.Paired,i.PreflopClassification.ThreeOfAKind]:[i.PreflopClassification.Paired,i.PreflopClassification.ThreeOfAKind,i.PreflopClassification.FourOfAKind]}return 2===e.length?e.some(function(t){return 3===t.amount})?[i.PreflopClassification.Paired,i.PreflopClassification.DoublePaired,i.PreflopClassification.ThreeOfAKind]:[i.PreflopClassification.Paired,i.PreflopClassification.DoublePaired]:[i.PreflopClassification.NoPair]}(t)),C(function(t){var e=Array.from(new Set([].concat(C(a(t,!0)),C(a(t,!1)))));if(5!==t.length||e.some(function(t){return[i.PreflopClassification.RundownGap0,i.PreflopClassification.RundownGap1,i.PreflopClassification.RundownGap2].includes(t)}))return e;var n=[[0,1,2,3],[0,1,2,4],[0,1,3,4],[0,2,3,4],[1,2,3,4]].map(function(e){var n=y(e,4),i=n[0],r=n[1],o=n[2],a=n[3];return[t[i],t[r],t[o],t[a]]}),r=Array.from(new Set(n.flatMap(function(t){return[].concat(C(a(t,!0,!0)),C(a(t,!1,!0)))})));return[].concat(e,C(Array.from(r)))}(t)))}},D8wq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.itemMatchesFilter=e.filterItems=void 0;var i=n("gNgD"),r=n("QP+3");function o(t,e,n,i){if(!e)return!0;if(e.type===r.FilterType.Filter){var s=e;return s.combiner===r.FilterCombiner.AND?s.elements.every(function(e){return e.type===r.FilterType.Filter?o(t,e,n,i):a(t,e,n,i)}):!!s.elements.find(function(e){return e.type===r.FilterType.Filter?o(t,e,n,i):a(t,e,n,i)})}return a(t,e,n,i)}function a(t,e,n,o){try{if(r.isCardsFilter(e))return function(t,e){return function(t,e,n){var i={};e.forEach(function(t){return i[t]=[]});var r={s:[],h:[],d:[],c:[]},o=e.filter(function(t){return 2===t.length&&["s","h","d","c"].includes(t[1])}),a=e.filter(function(t){return["w","x","y","z"].includes(t[0])||["w","x","y","z"].includes(t[1])}),c=e.filter(function(t){return 1===t.length&&["A","K","Q","J","T","9","8","7","6","5","4","3","2"].includes(t)}),l=e.filter(function(t){return 1===t.length&&["s","h","d","c"].includes(t)});if(o.length>0){var u,h=k(o);try{var d=function(){var e=u.value,n=t.findIndex(function(t){return t===e});n>=0&&i[e].push(n)};for(h.s();!(u=h.n()).done;)d()}catch(R){h.e(R)}finally{h.f()}}if(a.length>0){t.forEach(function(t,e){var n=y(t,2),i=n[0],o=n[1];return r[o].push({face:i,cardIdx:e})});for(var f={},p=function(){var t=v[g],e=a.filter(function(e){return e[0]===t||e[1]===t});if(e.length>0){f[t]=[];for(var n=function(){var n=o[i],a=r[n];a.length>=e.length&&e.every(function(t){return 2!==t.length||a.find(function(e){return e.face===t[0]})})&&f[t].push(n)},i=0,o=Object.keys(r);i<o.length;i++)n()}},g=0,v=["w","x","y","z"];g<v.length;g++)p();var m,b=k(s.apply(void 0,C(Object.values(f))).filter(function(t){return new Set(t).size===t.length}));try{var _=function(){var t,e=m.value,n=k(Object.keys(f).map(function(t,n){return{genericSuit:t,suit:e[n]}}));try{var o=function(){var e,n=t.value,o=n.genericSuit,s=n.suit,c=a.filter(function(t){return t[0]===o||t[1]===o}),l=r[s],u=k(c);try{var h=function(){var t,n=e.value;if(2===n.length){var r=l.find(function(t){return t.face===n[0]});i[n].push(r.cardIdx)}else(t=i[n]).push.apply(t,C(l.map(function(t){return t.cardIdx})))};for(u.s();!(e=u.n()).done;)h()}catch(R){u.e(R)}finally{u.f()}};for(n.s();!(t=n.n()).done;)o()}catch(R){n.e(R)}finally{n.f()}};for(b.s();!(m=b.n()).done;)_()}catch(R){b.e(R)}finally{b.f()}}if(c.length>0){var w,x=k(c);try{var P=function(){var e=w.value;t.forEach(function(t,n){t[0]===e&&i[e].push(n)})};for(x.s();!(w=x.n()).done;)P()}catch(R){x.e(R)}finally{x.f()}}if(l.length>0){var O,S=k(l);try{var M=function(){var e=O.value;t.forEach(function(t,n){t[1]===e&&i[e].push(n)})};for(S.s();!(O=S.n()).done;)M()}catch(R){S.e(R)}finally{S.f()}}var T=e.map(function(t){return Array.from(new Set(i[t]))});if(T.every(function(t){return t.length>0})){var E=s.apply(void 0,C(T)).some(function(t){return new Set(t).size===e.length});return n?!E:E}return n}(t[0],e.cards,e.exclude)}(t,e);if(r.isClassificationFilter(e)){var a=e.classification,c=a.anyOf,l=a.noneOf,u=c.some(function(e){var n;return null===(n=t[1])||void 0===n?void 0:n.includes(e)})&&(!l||l.every(function(e){var n;return!(null===(n=t[1])||void 0===n?void 0:n.includes(e))}));return o&&console.log("classification",c,l,t,u),e.exclude?!u:u}if(r.isBucketFilter(e)){var h=i.cardsToString(t[0]),d=e.bucketIds.some(function(t){var e;return null===(e=function(t,e){var n,i=k(t);try{for(i.s();!(n=i.n()).done;){var r=n.value.get(e);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return[]}(n,h))||void 0===e?void 0:e.includes(t)});return e.exclude?!d:d}return!0}catch(f){return console.error(f.message),!1}}function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return t.map(function(t){return e.map(function(e){return t.concat([e])})}).reduce(function(t,e){return t.concat(e)},[])},[[]])}e.filterItems=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=r.parseFilterSyntax(n.replace("*",""),!1,a,t);return s&&console.log(JSON.stringify(c,null,2)),c?{items:e.filter(function(t,e){return o(t,c,i,s&&e<10)})}:{items:e}},e.itemMatchesFilter=o},EsPM:function(t,e,n){"use strict";function i(t,e){return t[0]!==e[0]?r(t[0],e[0]):t[1]!==e[1]?o(t[1],e[1]):0}function r(t,e){var n={A:0,K:1,Q:2,J:3,T:4,9:5,8:6,7:7,6:8,5:9,4:10,3:11,2:12};return n[t]-n[e]}function o(t,e){var n={s:0,h:1,d:2,c:3};return n[t]-n[e]}Object.defineProperty(e,"__esModule",{value:!0}),e.sortCard=e.sortCards=e.sortFlops=void 0,e.sortFlops=function(t,e){if(t.length!==e.length)return t.length-e.length;for(var n=C(t).sort(i),a=C(e).sort(i),s=0;s<t.length;s++){var c=r(n[s][0],a[s][0]);if(0!==c)return c}var l=new Set(t.map(function(t){return t[1]})).size,u=new Set(e.map(function(t){return t[1]})).size;if(l!==u){if(2===l)return-1;if(2===u)return 1;if(3===l)return-1;if(3===u)return 1}for(var h=0;h<t.length;h++){var d=o(n[h][1],a[h][1]);if(0!==d)return d}return 0},e.sortCards=function(t,e){if(t.length!==e.length)return t.length-e.length;for(var n=C(t).sort(i),a=C(e).sort(i),s=0;s<t.length;s++){var c=n[s],l=a[s],u=r(c[0],l[0]);if(0!==u)return u;if(s===t.length-1)return o(c[1],l[1])}return 0},e.sortCard=i},Iab2:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){a(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,a){var s=r.URL||r.webkitURL,c=document.createElement("a");c.download=o=o||t.name||"download",c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):n(c.href)?e(t,o,a):i(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){i(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,o){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),r);else if(n(t))e(t,r,o);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){i(a)})}}:function(t,n,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,c=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},u.readAsDataURL(t)}else{var h=r.URL||r.webkitURL,d=h.createObjectURL(t);a?a.location=d:location.href=d,a=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});r.saveAs=a.saveAs=a,t.exports=a})?i.apply(e,[]):i)||(t.exports=r)},M1Kt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateFivecardCombos=e.generateCombos=e.binaryToCards=e.generateFivecardBinaryCombos=e.generateBinaryCombos=e.allCards=void 0;var i=["As","Ah","Ad","Ac","Ks","Kh","Kd","Kc","Qs","Qh","Qd","Qc","Js","Jh","Jd","Jc","Ts","Th","Td","Tc","9s","9h","9d","9c","8s","8h","8d","8c","7s","7h","7d","7c","6s","6h","6d","6c","5s","5h","5d","5c","4s","4h","4d","4c","3s","3h","3d","3c","2s","2h","2d","2c"],r={As:BigInt(0x8000000000000),Ah:BigInt(0x4000000000000),Ad:BigInt(562949953421312),Ac:BigInt(281474976710656),Ks:BigInt(0x800000000000),Kh:BigInt(70368744177664),Kd:BigInt(35184372088832),Kc:BigInt(17592186044416),Qs:BigInt(8796093022208),Qh:BigInt(4398046511104),Qd:BigInt(2199023255552),Qc:BigInt(1099511627776),Js:BigInt(549755813888),Jh:BigInt(274877906944),Jd:BigInt(137438953472),Jc:BigInt(68719476736),Ts:BigInt(34359738368),Th:BigInt(17179869184),Td:BigInt(8589934592),Tc:BigInt(4294967296),"9s":BigInt(2147483648),"9h":BigInt(1073741824),"9d":BigInt(536870912),"9c":BigInt(268435456),"8s":BigInt(134217728),"8h":BigInt(67108864),"8d":BigInt(33554432),"8c":BigInt(16777216),"7s":BigInt(8388608),"7h":BigInt(4194304),"7d":BigInt(2097152),"7c":BigInt(1048576),"6s":BigInt(524288),"6h":BigInt(262144),"6d":BigInt(131072),"6c":BigInt(65536),"5s":BigInt(32768),"5h":BigInt(16384),"5d":BigInt(8192),"5c":BigInt(4096),"4s":BigInt(2048),"4h":BigInt(1024),"4d":BigInt(512),"4c":BigInt(256),"3s":BigInt(128),"3h":BigInt(64),"3d":BigInt(32),"3c":BigInt(16),"2s":BigInt(8),"2h":BigInt(4),"2d":BigInt(2),"2c":BigInt(1)},o=Object.keys(r),a=Object.values(r),s=function(t){return t.reduce(function(t,e){return t|e},BigInt(0))};function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===(null==t?void 0:t.length))return a;var e=s(t.map(function(t){return BigInt(r[t[0]+t[1]])}));return a.filter(function(t){return(BigInt(t)|e)===BigInt(t)+e})}function l(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=c(t),i=0;i<n.length-3;i++)for(var r=i+1;r<n.length-2;r++)for(var o=r+1;o<n.length-1;o++)for(var a=o+1;a<n.length;a++)e.push(s([n[i],n[r],n[o],n[a]]));return e}function u(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=c(t),i=0;i<n.length-4;i++)for(var r=i+1;r<n.length-3;r++)for(var o=r+1;o<n.length-2;o++)for(var a=o+1;a<n.length-1;a++)for(var l=a+1;l<n.length;l++)e.push(s([n[i],n[r],n[o],n[a],n[l]]));return e}function h(t){for(var e=t.toString(2),n=52-e.length,r=[],o=0;o<e.length;o++)"1"===e.charAt(o)&&r.push(i[o+n]);return r.join("")}e.allCards=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===(null==t?void 0:t.length)?o:c(t).map(function(t){return a.indexOf(t)}).map(function(t){return o[t]})},e.generateBinaryCombos=l,e.generateFivecardBinaryCombos=u,e.binaryToCards=h,e.generateCombos=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(t).map(function(t){return h(t)})},e.generateFivecardCombos=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(t).map(function(t){return h(t)})}},NpuA:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,i=e.IS_PAPA_WORKER||!1,r={},o=0,a={parse:function(n,i){var s=(i=i||{}).dynamicTyping||!1;if(k(s)&&(i.dynamicTypingFunction=s,s={}),i.dynamicTyping=s,i.transform=!!k(i.transform)&&i.transform,i.worker&&a.WORKERS_SUPPORTED){var c=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,i,s=(n=e.URL||e.webkitURL||null,i=t.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),c=new e.Worker(s);return c.onmessage=v,c.id=o++,r[c.id]=c}();return c.userStep=i.step,c.userChunk=i.chunk,c.userComplete=i.complete,c.userError=i.error,i.step=k(i.step),i.chunk=k(i.chunk),i.complete=k(i.complete),i.error=k(i.error),delete i.worker,void c.postMessage({input:n,config:i,workerId:c.id})}var f=null;return"string"==typeof n?(n=function(t){return 65279===t.charCodeAt(0)?t.slice(1):t}(n),f=i.download?new l(i):new h(i)):!0===n.readable&&k(n.read)&&k(n.on)?f=new d(i):(e.File&&n instanceof File||n instanceof Object)&&(f=new u(i)),f.stream(n)},unparse:function(t,e){var n=!1,i=!0,r=",",o="\r\n",s='"',c=s+s,l=!1,u=null,h=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||a.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(r=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(l=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(i=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");u=e.columns}void 0!==e.escapeChar&&(c=e.escapeChar+s),("boolean"==typeof e.escapeFormulae||e.escapeFormulae instanceof RegExp)&&(h=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var d=new RegExp(p(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return f(null,t,l);if("object"==typeof t[0])return f(u||Object.keys(t[0]),t,l)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||u),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),f(t.fields||[],t.data||[],l);throw new Error("Unable to serialize unrecognized input");function f(t,e,n){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,c=!Array.isArray(e[0]);if(s&&i){for(var l=0;l<t.length;l++)0<l&&(a+=r),a+=g(t[l],l);0<e.length&&(a+=o)}for(var u=0;u<e.length;u++){var h=s?t.length:e[u].length,d=!1,f=s?0===Object.keys(e[u]).length:0===e[u].length;if(n&&!s&&(d="greedy"===n?""===e[u].join("").trim():1===e[u].length&&0===e[u][0].length),"greedy"===n&&s){for(var p=[],v=0;v<h;v++)p.push(e[u][c?t[v]:v]);d=""===p.join("").trim()}if(!d){for(var m=0;m<h;m++)0<m&&!f&&(a+=r),a+=g(e[u][s&&c?t[m]:m],m);u<e.length-1&&(!n||0<h&&!f)&&(a+=o)}}return a}function g(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var i=!1;h&&"string"==typeof t&&h.test(t)&&(t="'"+t,i=!0);var o=t.toString().replace(d,c);return(i=i||!0===n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(o,a.BAD_DELIMITERS)||-1<o.indexOf(r)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?s+o+s:o}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=g,a.ParserHandle=f,a.NetworkStreamer=l,a.FileStreamer=u,a.StringStreamer=h,a.ReadableStreamStreamer=d,e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var n=t.config||{},i=[];return this.each(function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:s.extend({},n)})}),r(),this;function r(){if(0!==i.length){var e,n,r,c=i[0];if(k(t.before)){var l=t.before(c.file,c.inputElem);if("object"==typeof l){if("abort"===l.action)return e=c.file,n=c.inputElem,r=l.reason,void(k(t.error)&&t.error({name:"AbortError"},e,n,r));if("skip"===l.action)return void o();"object"==typeof l.config&&(c.instanceConfig=s.extend(c.instanceConfig,l.config))}else if("skip"===l)return void o()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(t){k(u)&&u(t,c.file,c.inputElem),o()},a.parse(c.file,c.instanceConfig)}else k(t.complete)&&t.complete()}function o(){i.splice(0,1),r()}}}function c(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new f(e),(this._handle.streamer=this)._config=e}).call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);void 0!==r&&(t=r)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var c=s.meta.cursor;this._finished||(this._partialLine=o.substring(c-this._baseIndex),this._baseIndex=c),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)e.postMessage({results:s,workerId:a.WORKER_ID,finished:l});else if(k(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!l||!k(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){k(this._config.error)?this._config.error(t):i&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function l(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),c.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=_(this._chunkLoaded,this),e.onerror=_(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}this._config.chunkSize&&e.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){this._sendError(new Error(e.statusText||t))}}function u(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),c.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=_(this._chunkLoaded,this),e.onerror=_(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;c.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function d(t){c.call(this,t=t||{});var e=[],n=!0,i=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=_(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=_(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=_(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function f(t){var e,n,i,r=Math.pow(2,53),o=-r,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,l=this,u=0,h=0,d=!1,f=!1,v=[],m={data:[],errors:[],meta:{}};if(k(t.step)){var y=t.step;t.step=function(e){if(m=e,w())C();else{if(C(),0===m.data.length)return;u+=e.data.length,t.preview&&u>t.preview?n.abort():(m.data=m.data[0],y(m,l))}}}function _(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function C(){return m&&i&&(P("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines&&(m.data=m.data.filter(function(t){return!_(t)})),w()&&function(){if(m)if(Array.isArray(m.data[0])){for(var e=0;w()&&e<m.data.length;e++)m.data[e].forEach(n);m.data.splice(0,1)}else m.data.forEach(n);function n(e,n){k(t.transformHeader)&&(e=t.transformHeader(e,n)),v.push(e)}}(),function(){if(!m||!t.header&&!t.dynamicTyping&&!t.transform)return m;function e(e,n){var i,r=t.header?{}:[];for(i=0;i<e.length;i++){var o=i,a=e[i];t.header&&(o=i>=v.length?"__parsed_extra":v[i]),t.transform&&(a=t.transform(a,o)),a=x(o,a),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(a)):r[o]=a}return t.header&&(i>v.length?P("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+i,h+n):i<v.length&&P("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+i,h+n)),r}var n=1;return!m.data.length||Array.isArray(m.data[0])?(m.data=m.data.map(e),n=m.data.length):m.data=e(m.data,0),t.header&&m.meta&&(m.meta.fields=v),h+=n,m}()}function w(){return t.header&&0===v.length}function x(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(s.test(t)){var e=parseFloat(t);if(o<e&&e<r)return!0}return!1}(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n;var i}function P(t,e,n,i){var r={type:t,code:e,message:n};void 0!==i&&(r.row=i),m.errors.push(r)}this.parse=function(r,o,s){if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(p(e)+"([^]*?)"+p(e),"gm"),i=(t=t.replace(n,"")).split("\r"),r=t.split("\n");if(1===i.length||1<r.length&&r[0].length<i[0].length)return"\n";for(var o=0,a=0;a<i.length;a++)"\n"===i[a][0]&&o++;return o>=i.length/2?"\r\n":"\r"}(r,t.quoteChar||'"')),i=!1,t.delimiter)k(t.delimiter)&&(t.delimiter=t.delimiter(r),m.meta.delimiter=t.delimiter);else{var c=function(e,n,i,r,o){var s,c,l,u;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var h=0;h<o.length;h++){var d=o[h],f=0,p=0,v=0;l=void 0;for(var m=new g({comments:r,delimiter:d,newline:n,preview:10}).parse(e),y=0;y<m.data.length;y++)if(i&&_(m.data[y]))v++;else{var b=m.data[y].length;p+=b,void 0!==l?0<b&&(f+=Math.abs(b-l),l=b):l=b}0<m.data.length&&(p/=m.data.length-v),(void 0===c||f<=c)&&(void 0===u||u<p)&&1.99<p&&(c=f,s=d,u=p)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(r,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(i=!0,t.delimiter=a.DefaultDelimiter),m.meta.delimiter=t.delimiter}var l=b(t);return t.preview&&t.header&&l.preview++,e=r,n=new g(l),m=n.parse(e,o,s),C(),d?{meta:{paused:!0}}:m||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),e=k(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){l.streamer._halted?(d=!1,l.streamer.parseChunk(e,!0)):setTimeout(l.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),m.meta.aborted=!0,k(t.complete)&&t.complete(m),e=""}}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,n=(t=t||{}).delimiter,i=t.newline,r=t.comments,o=t.step,s=t.preview,c=t.fastMode,l=e=null==t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(l=t.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<a.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var u=0,h=!1;this.parse=function(a,d,f){if("string"!=typeof a)throw new Error("Input must be a string");var g=a.length,v=n.length,m=i.length,y=r.length,b=k(o),_=[],C=[],w=[],x=u=0;if(!a)return $();if(t.header&&!d){var P=a.split(i)[0].split(n),O=[],S={},M=!1;for(var T in P){var E=P[T];k(t.transformHeader)&&(E=t.transformHeader(E,T));var R=E,F=S[E]||0;for(0<F&&(M=!0,R=E+"_"+F),S[E]=F+1;O.includes(R);)R=R+"_"+F;O.push(R)}if(M){var I=a.split(i);I[0]=O.join(n),a=I.join(i)}}if(c||!1!==c&&-1===a.indexOf(e)){for(var A=a.split(i),D=0;D<A.length;D++){if(u+=(w=A[D]).length,D!==A.length-1)u+=i.length;else if(f)return $();if(!r||w.substring(0,y)!==r){if(b){if(_=[],z(w.split(n)),G(),h)return $()}else z(w.split(n));if(s&&s<=D)return _=_.slice(0,s),$(!0)}}return $()}for(var L=a.indexOf(n,u),B=a.indexOf(i,u),N=new RegExp(p(l)+p(e),"g"),j=a.indexOf(e,u);;)if(a[u]!==e)if(r&&0===w.length&&a.substring(u,u+y)===r){if(-1===B)return $();B=a.indexOf(i,u=B+m),L=a.indexOf(n,u)}else if(-1!==L&&(L<B||-1===B))w.push(a.substring(u,L)),L=a.indexOf(n,u=L+v);else{if(-1===B)break;if(w.push(a.substring(u,B)),W(B+m),b&&(G(),h))return $();if(s&&_.length>=s)return $(!0)}else for(j=u,u++;;){if(-1===(j=a.indexOf(e,j+1)))return f||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:u}),q();if(j===g-1)return q(a.substring(u,j).replace(N,e));if(e!==l||a[j+1]!==l){if(e===l||0===j||a[j-1]!==l){-1!==L&&L<j+1&&(L=a.indexOf(n,j+1)),-1!==B&&B<j+1&&(B=a.indexOf(i,j+1));var V=U(-1===B?L:Math.min(L,B));if(a.substr(j+1+V,v)===n){w.push(a.substring(u,j).replace(N,e)),a[u=j+1+V+v]!==e&&(j=a.indexOf(e,u)),L=a.indexOf(n,u),B=a.indexOf(i,u);break}var H=U(B);if(a.substring(j+1+H,j+1+H+m)===i){if(w.push(a.substring(u,j).replace(N,e)),W(j+1+H+m),L=a.indexOf(n,u),j=a.indexOf(e,u),b&&(G(),h))return $();if(s&&_.length>=s)return $(!0);break}C.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:u}),j++}}else j++}return q();function z(t){_.push(t),x=u}function U(t){var e=0;if(-1!==t){var n=a.substring(j+1,t);n&&""===n.trim()&&(e=n.length)}return e}function q(t){return f||(void 0===t&&(t=a.substring(u)),w.push(t),u=g,z(w),b&&G()),$()}function W(t){u=t,z(w),w=[],B=a.indexOf(i,u)}function $(t){return{data:_,errors:C,meta:{delimiter:n,linebreak:i,aborted:h,truncated:!!t,cursor:x+(d||0)}}}function G(){o($()),_=[],C=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return u}}function v(t){var e=t.data,n=r[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){i=!0,m(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(k(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},o),!i);a++);delete e.results}else k(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!i&&m(e.workerId,e.results)}function m(t,e){var n=r[t];k(n.userComplete)&&n.userComplete(e),n.terminate(),delete r[t]}function y(){throw new Error("Not implemented.")}function b(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=b(t[n]);return e}function _(t,e){return function(){t.apply(e,arguments)}}function k(t){return"function"==typeof t}return i&&(e.onmessage=function(t){var n=t.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var i=a.parse(n.input,n.config);i&&e.postMessage({workerId:a.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(c.prototype)).constructor=l,(u.prototype=Object.create(c.prototype)).constructor=u,(h.prototype=Object.create(h.prototype)).constructor=h,(d.prototype=Object.create(c.prototype)).constructor=d,a})?i.apply(e,[]):i)||(t.exports=r)},"QP+3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseFilterSyntax=e.isClassificationFilter=e.isBucketFilter=e.isCardsFilter=e.isFilterGroup=e.isBasicFilter=e.FilterMode=e.FilterCombiner=e.FilterType=void 0;var i,r,o,a=n("mdgW"),s=n("bpw8"),c=n("bHQJ"),l=n("4nFA"),u=n("sBdy");function h(t){return t.type===i.Basic}function d(t){return t.type===i.Filter}function f(t){return"cards"in t}function p(t){return"bucketIds"in t}function g(t){return"classification"in t}!function(t){t.Filter="Filter",t.Basic="Basic"}(i=e.FilterType||(e.FilterType={})),function(t){t.AND="AND",t.OR="OR"}(r=e.FilterCombiner||(e.FilterCombiner={})),function(t){t.EQUALS="EQUALS",t.STRICT_EQUALS="STRICT_EQUALS",t.BETTER_THAN="BETTER_THAN",t.WORSE_THAN="WORSE_THAN"}(o=e.FilterMode||(e.FilterMode={})),e.isBasicFilter=h,e.isFilterGroup=d,e.isCardsFilter=f,e.isBucketFilter=p,e.isClassificationFilter=g;var v=[{token:"$np",replaceWith:"!RR"},{token:"$op",replaceWith:"RR!RROO"},{token:"$dp",replaceWith:"RROO"},{token:"$nt",replaceWith:"!RRR"}],m=[];function y(t,e,n){return t.split(e).join(n)}function b(t){return"="===t?o.STRICT_EQUALS:">"===t?o.BETTER_THAN:"<"===t?o.WORSE_THAN:o.EQUALS}function _(t,e,n){var r,o,a,s=[],c=/(!{0,1})((?:[2-9tjqkaTJQKA]{0,1}[cdhswxyz]{0,1})+)/g,l=k(t.matchAll(c));try{for(l.s();!(r=l.n()).done;){var h=r.value;if(0!=h[0].length){var d="!"===h[1]||e,f=(o=h[2],a=void 0,(a=o.match(/[2-9tjqkaTJQKA]{0,1}[cdhswxyz]{0,1}/g))?a.map(function(t){return 2===t.length?t[0].toUpperCase()+t[1]:["s","h","d","c","w","x","y","z"].includes(t.toLowerCase())?t.toLowerCase():1===t.length?t.toUpperCase():null}).filter(function(t){return!!t}):[]);if(!(f.length>0))throw new Error("INVALID_SYNTAX");s.push(n?{type:i.Basic,exclude:d,cards:u.normalizeSuits(f)}:{type:i.Basic,exclude:d,cards:f})}}}catch(p){l.e(p)}finally{l.f()}if(t.replace(c,"").trim().length>0)throw new Error("INVALID_SYNTAX");return s}function w(t){switch(t){case"RR":return c.PreflopClassification.Paired;case"RROO":return c.PreflopClassification.DoublePaired;case"RRR":return c.PreflopClassification.ThreeOfAKind;case"RRRR":return c.PreflopClassification.FourOfAKind}}function x(t){switch(t){case"RR":return a.PostflopClassification.PocketPair;case"RROO":return a.PostflopClassification.DoublePocketPair}}e.parseFilterSyntax=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;if(!e||0===e.length)return null;for(var P=function(t){if(t)if(h(t)){if(f(t))return t.cards.length>0;if(p(t))return t.bucketIds.length>0;if(g(t))return!!t.classification}else if(d(t))return t.elements.length>0;return!1},O=function(t,e){var n,i=t,r=k(e.sort(function(t,e){return e.token.length-t.token.length}));try{for(r.s();!(n=r.n()).done;){var o=n.value;i.includes(o.token)&&(i=y(i,o.token,o.replaceWith))}}catch(a){r.e(a)}finally{r.f()}return i=y(i,"!!",""),i=y(i," ","")}(e,u?m:v),S=0,M=0;M<O.length;M++){var T=O[M];if(")"===T&&0===S)throw new Error("INVALID_SYNTAX");"("===T?S+=1:")"===T&&(S-=1)}if(S>0)throw new Error("INVALID_SYNTAX");S=0;for(var E=0;E<O.length;E++){var R=O[E];if("("===R)S+=1;else if(")"===R)S-=1;else if(":"===R&&0===S){var F=O.substring(0,E),I=O.substring(E+1);if(0===I.length)throw new Error("INVALID_SYNTAX");var A=[t(F,n,c,u),t(I,n,c,u)].filter(P);return 1===A.length?A[0]:{type:i.Filter,combiner:r.AND,elements:A}}}S=0;for(var D=0;D<O.length;D++){var L=O[D];if("("===L)S+=1;else if(")"===L)S-=1;else if(","===L&&0===S){var B=O.substring(0,D),N=O.substring(D+1);if(0===N.length)throw new Error("INVALID_SYNTAX");var j=[t(B,n,c,u),t(N,n,c,u)].filter(P);return 1===j.length?j[0]:{type:i.Filter,combiner:n?r.AND:r.OR,elements:j}}}if(O.includes("(")){var V=function(t){for(var e,n=[],i=0,r=!1,o=0,a=0;a<t.length;a++){var s=t[a];if("("===s){if(0===o){a>0&&(r="!"===t[a-1]);var c=t.substring(i>0?i+1:i,r?a-1:a);n.push({group:c,exclude:!1}),e=a}o+=1}else if(")"===s&&0===(o-=1)){i=a;var l=t.substring(e+1,i);n.push({group:l,exclude:r})}}return i+1<t.length&&n.push({group:t.substring(i+1),exclude:!1}),n.filter(function(t){return"!"!==t.group&&""!==t.group})}(O).map(function(e){var n=e.group,i=e.exclude;return t(n,i,c,u)}).filter(P);return 1===V.length?V[0]:{type:i.Filter,combiner:r.AND,elements:V}}var H,z=k(c.sort(function(t,e){return e.token.length-t.token.length}));try{for(z.s();!(H=z.n()).done;){var U=H.value,q=O.indexOf(U.token);if(q>=0){var W={type:i.Basic,bucketIds:U.bucketIds},$=O.substring(0,q),G=O.substring(q+U.token.length),K=[t($,n,c,u),W,t(G,n,c,u)].filter(P);return 0===K.length?K[0]:{type:i.Filter,combiner:r.AND,elements:K}}}}catch(Y){z.e(Y)}finally{z.f()}var Q=u?function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],c=Object.keys(s.postflopSyntaxMapping).sort(function(t,e){return e.length-t.length}),l=new RegExp("(!{0,1})([=><]{0,1})("+c.map(function(t){return t.replace("$","\\$")}).join("|")+"){1}","g"),u=k(t.matchAll(l));try{for(u.s();!(e=u.n()).done;){var h=e.value,d="!"===h[1]||n,f=b(h[2]),p=s.postflopSyntaxMapping[h[3]],g=a.classificationFilterDefinitions[p];r.push(f===o.EQUALS?{type:i.Basic,exclude:d,classification:{anyOf:[p]}}:{type:i.Basic,exclude:d,classification:g[f]})}}catch(Y){u.e(Y)}finally{u.f()}var v,m=t.replace(l,""),y=/(!{0,1})(RRRR|RRR|RR(?:OO){0,1})+/g,w=k(m.matchAll(y));try{for(w.s();!(v=w.n()).done;){var P=v.value,O="!"===P[1]||n,S=x(P[2]);r.push({type:i.Basic,exclude:O,classification:{anyOf:[S]}})}}catch(Y){w.e(Y)}finally{w.f()}var M=m.replace(y,"");return M.length>0&&r.push.apply(r,C(_(M,n,!1))),r}(O,n):function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],o=Object.keys(l.preflopSyntaxMapping).sort(function(t,e){return e.length-t.length}),a=new RegExp("(!{0,1})("+o.map(function(t){return t.replace("$","\\$")}).join("|")+"){1}","g"),s=k(t.matchAll(a));try{for(s.s();!(e=s.n()).done;){var c=e.value;r.push({type:i.Basic,exclude:"!"===c[1]||n,classification:{anyOf:[l.preflopSyntaxMapping[c[2]]]}})}}catch(Y){s.e(Y)}finally{s.f()}var u,h=t.replace(a,""),d=/(!{0,1})(RRRR|RRR|RR(?:OO){0,1})+/g,f=k(h.matchAll(d));try{for(f.s();!(u=f.n()).done;){var p=u.value,g="!"===p[1]||n,v=w(p[2]);r.push({type:i.Basic,exclude:g,classification:{anyOf:[v]}})}}catch(Y){f.e(Y)}finally{f.f()}var m=h.replace(d,"");return m.length>0&&r.push.apply(r,C(_(m,n,!0))),r}(O,n);return 1===Q.length?Q[0]:{type:i.Filter,combiner:r.AND,elements:Q}}},SeXR:function(t,e,n){"use strict";function i(t,e){return function(t){switch(t){case 0:return[];case 2:return[[0,1]];case 4:return[[0,1],[2,3]];case 6:return[[0,1],[2,3],[4,5]];case 8:return[[0,1],[2,3],[4,5],[6,7]];case 10:return[[0,1],[2,3],[4,5],[6,7],[8,9]];default:throw Error("Can not parse cards from string of length "+t)}}(e?2*e:t.length).map(function(e){var n=y(e,2),i=n[0],r=n[1];return t[i].toUpperCase()+t[r].toLowerCase()})}Object.defineProperty(e,"__esModule",{value:!0}),e.parseCards=e.parse5Cards=e.parse4Cards=e.tryParseCards=void 0,e.tryParseCards=function(t){try{return i(t)}catch(e){return[]}},e.parse4Cards=function(t){return i(t,4)},e.parse5Cards=function(t){return i(t,5)},e.parseCards=i},bHQJ:function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.PreflopClassification=void 0,(i=e.PreflopClassification||(e.PreflopClassification={}))[i.NoPair=0]="NoPair",i[i.Paired=1]="Paired",i[i.DoublePaired=2]="DoublePaired",i[i.ThreeOfAKind=3]="ThreeOfAKind",i[i.FourOfAKind=4]="FourOfAKind",i[i.TwoOfSameSuit=5]="TwoOfSameSuit",i[i.ThreeOfSameSuit=6]="ThreeOfSameSuit",i[i.DoubleSuited=7]="DoubleSuited",i[i.DoubleSuitedLow=8]="DoubleSuitedLow",i[i.DoubleSuitedHigh=9]="DoubleSuitedHigh",i[i.Rainbow=10]="Rainbow",i[i.Monotone=11]="Monotone",i[i.RundownGap0=12]="RundownGap0",i[i.RundownGap1=13]="RundownGap1",i[i.RundownGap2=14]="RundownGap2",i[i.FourOfSameSuit=15]="FourOfSameSuit",i[i.ThreeOfSameSuitNut=16]="ThreeOfSameSuitNut",i[i.ThreeOfSameSuitNonNut=17]="ThreeOfSameSuitNonNut",i[i.DoubleSuitedPure=18]="DoubleSuitedPure",i[i.DoubleTripleSuited=19]="DoubleTripleSuited",i[i.TwoOfSameSuitNut=20]="TwoOfSameSuitNut",i[i.TwoOfSameSuitNonNut=21]="TwoOfSameSuitNonNut",i[i.DoubleSuitedNut=22]="DoubleSuitedNut",i[i.DoubleSuitedDoubleNut=23]="DoubleSuitedDoubleNut",i[i.FourCardRundownGap0=24]="FourCardRundownGap0",i[i.FourCardRundownGap1=25]="FourCardRundownGap1",i[i.FourCardRundownGap2=26]="FourCardRundownGap2",i[i.DoubleSuitedNonNut=27]="DoubleSuitedNonNut"},bpw8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postflopSyntaxMapping=void 0;var i=n("mdgW");e.postflopSyntaxMapping={$ss:i.PostflopClassification.TwoOfSameSuit,$ds:i.PostflopClassification.DoubleSuited,$dsp:i.PostflopClassification.DoubleSuitedPure,$dts:i.PostflopClassification.DoubleTripleSuited,$lds:i.PostflopClassification.DoubleSuitedLow,$hds:i.PostflopClassification.DoubleSuitedHigh,$ts:i.PostflopClassification.ThreeOfSameSuit,$rb:i.PostflopClassification.Rainbow,$ms:i.PostflopClassification.Monotone,$mt:i.PostflopClassification.Monotone,BOP:i.PostflopClassification.BoardPair,TP:i.PostflopClassification.TopPair,MP:i.PostflopClassification.MiddlePair,BP:i.PostflopClassification.BottomPair,RR:i.PostflopClassification.PocketPair,RROO:i.PostflopClassification.DoublePocketPair,OP:i.PostflopClassification.Overpair,UP:i.PostflopClassification.Underpair,"2P":i.PostflopClassification.TwoPair,"3P":i.PostflopClassification.ThreePair,"4P":i.PostflopClassification.FourPair,"2PTT":i.PostflopClassification.TopTwoPair,"2PT2":i.PostflopClassification.TopTwoPair,"2PTB":i.PostflopClassification.TopBottomTwoPair,"2PBB":i.PostflopClassification.BottomTwoPair,"2PB2":i.PostflopClassification.BottomTwoPair,TRI:i.PostflopClassification.Trips,TRIH:i.PostflopClassification.HighTrips,TRIL:i.PostflopClassification.LowTrips,SET:i.PostflopClassification.Set,SETB:i.PostflopClassification.BottomSet,SETM:i.PostflopClassification.MiddleSet,SETT:i.PostflopClassification.TopSet,STR:i.PostflopClassification.Straight,STR1:i.PostflopClassification.NutStraight,STR2:i.PostflopClassification.SecondNutStraight,STR3:i.PostflopClassification.ThirdNutStraight,STRNN:i.PostflopClassification.NonNutStraight,FL:i.PostflopClassification.Flush,FLN:i.PostflopClassification.NutFlush,FLN1:i.PostflopClassification.NutFlush,FLN2:i.PostflopClassification.SecondNutFlush,FLNN:i.PostflopClassification.NonNutFlush,FL3:i.PostflopClassification.FlushWith3,FL4:i.PostflopClassification.FlushWith4,FH:i.PostflopClassification.FullHouse,FHN:i.PostflopClassification.NutFullHouse,FHNN:i.PostflopClassification.NonNutFullHouse,QS:i.PostflopClassification.Quads,SF:i.PostflopClassification.StraightFlush,RF:i.PostflopClassification.RoyalFlush,SFD:i.PostflopClassification.StraightFlushDraw,FDSF:i.PostflopClassification.StraightFlushDraw,FD:i.PostflopClassification.FlushDraw,DFD:i.PostflopClassification.DoubleFlushDraw,NFD:i.PostflopClassification.NutFlushDraw,NFD1:i.PostflopClassification.NutFlushDraw,NFD2:i.PostflopClassification.SecondNutFlushDraw,FDNN:i.PostflopClassification.NonNutFlushDraw,BDFD:i.PostflopClassification.BackdoorFlushDraw,BDFD1:i.PostflopClassification.OneBackdoorFlushDraw,BDFD2:i.PostflopClassification.TwoBackdoorFlushDraw,BDNFD:i.PostflopClassification.BackdoorNutFlushDraw,SD:i.PostflopClassification.StraightDraw,WR:i.PostflopClassification.WrapStraightDraw,OESD:i.PostflopClassification.OpenEndStraightDraw,GS:i.PostflopClassification.GutshotStraightDraw,NWR:i.PostflopClassification.NutWrapStraightDraw,NOESD:i.PostflopClassification.NutOpenEndStraightDraw,NGS:i.PostflopClassification.NutGutshotStraightDraw,BLF:i.PostflopClassification.FlushBlocker,BLFN:i.PostflopClassification.NutFlushBlocker,BLF1:i.PostflopClassification.NutFlushBlocker,BLF2:i.PostflopClassification.SecondNutFlushBlocker,BLFNN:i.PostflopClassification.NonNutFlushBlocker,BLFD:i.PostflopClassification.FlushDrawBlocker,BLFDN:i.PostflopClassification.NutFlushDrawBlocker,BLFD1:i.PostflopClassification.NutFlushDrawBlocker,BLFD2:i.PostflopClassification.SecondNutFlushDrawBlocker,BLFDNN:i.PostflopClassification.NonNutFlushDrawBlocker,BLS:i.PostflopClassification.StraightBlocker,BLSRR:i.PostflopClassification.PocketPairStraightBlocker,BLS4:i.PostflopClassification.FourStraightBlocker,BLS3:i.PostflopClassification.ThreeStraightBlocker,BLS2:i.PostflopClassification.TwoStraightBlocker,BLS1:i.PostflopClassification.OneStraightBlocker,BLSD:i.PostflopClassification.StraightDrawBlocker,BLSDRR:i.PostflopClassification.PocketPairStraightDrawBlocker,BLSD4:i.PostflopClassification.FourStraightDrawBlocker,BLSD3:i.PostflopClassification.ThreeStraightDrawBlocker,BLSD2:i.PostflopClassification.TwoStraightDrawBlocker,BLSD1:i.PostflopClassification.OneStraightDrawBlocker,AIR:i.PostflopClassification.Air,MFD:i.PostflopClassification.MissedFlushDraw,MSD:i.PostflopClassification.MissedStraightDraw}},cuQr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseCombo=e.expandSuitsForComboWithVariations=e.expandSuitsForCombo=e.getRepresentative=void 0;var i=["s","h","d","c"];function r(t){return 1===t.length?C(a(t[0],i[0])).join(""):2===t.length?[].concat(C(a(t[0],i[0])),C(a(t[1],i[1]))).join(""):3===t.length?[].concat(C(a(t[0],i[0])),C(a(t[1],i[1])),C(a(t[2],i[2]))).join(""):[].concat(C(a(t[0],i[0])),C(a(t[1],i[1])),C(a(t[2],i[2])),C(a(t[3],i[3]))).join("")}function o(t){function e(t,e){return e.every(function(e){return!t.includes(e)})}for(var n=new Set([]),r=[],o=function(){var o=c[s],l=a(t[0],o);if(t.length>1){var u,h=k(i.filter(function(t){return t!==o}));try{var d=function(){var s=u.value,c=a(t[1],s);if(e(C(l),c))if(t.length>2){var h,d=k(i.filter(function(t){return![o,s].includes(t)}));try{var f=function(){var u=h.value,d=a(t[2],u);if(e([].concat(C(l),C(c)),d))if(t.length>3){var f,p=k(i.filter(function(t){return![o,s,u].includes(t)}));try{for(p.s();!(f=p.n()).done;){var g=f.value,v=a(t[3],g);if(e([].concat(C(l),C(c),C(d)),v)){var m=[].concat(C(l),C(c),C(d),C(v)).sort().join("");n.has(m)||(r.push([].concat(C(l),C(c),C(d),C(v)).join("")),n.add(m))}}}catch(b){p.e(b)}finally{p.f()}}else{var y=[].concat(C(l),C(c),C(d)).sort().join("");n.has(y)||(r.push([].concat(C(l),C(c),C(d)).join("")),n.add(y))}};for(d.s();!(h=d.n()).done;)f()}catch(g){d.e(g)}finally{d.f()}}else{var p=[].concat(C(l),C(c)).sort().join("");n.has(p)||(r.push([].concat(C(l),C(c)).join("")),n.add(p))}};for(h.s();!(u=h.n()).done;)d()}catch(p){h.e(p)}finally{h.f()}}else{var f=C(l).sort().join("");n.has(f)||(r.push(C(l).join("")),n.add(f))}},s=0,c=i;s<c.length;s++)o();return r}function a(t,e){return t.cards.map(function(t){return t+e})}function s(t){var e,n,i=[],r=!1,o=k(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;"["===a?(r=!0,e=[]):"]"===a?(r=!1,i.push({cards:e}),e=[]):r?e.push(a):i.push({cards:[a]})}}catch(s){o.e(s)}finally{o.f()}return i}e.getRepresentative=function(t){return r(s(t))},e.expandSuitsForCombo=function(t){var e=s(t);return{representative:r(e),variations:o(e).length}},e.expandSuitsForComboWithVariations=function(t){var e=s(t);return{representative:r(e),variations:o(e)}},e.parseCombo=s},dPh3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClassificationsForFilter=void 0;var i=n("QP+3");function r(t){return t.type!==i.FilterType.Basic?t.elements.flatMap(function(t){return r(t)}):i.isClassificationFilter(t)?[].concat(C(t.classification.anyOf),C(t.classification.noneOf||[])):void 0}e.getClassificationsForFilter=function(t){try{var e=r(t)||[];return Array.from(new Set(e.filter(function(t){return t>=0})))}catch(n){console.error(n)}return[]}},fetW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBucketsForFilter=void 0;var i=n("QP+3");function r(t){return t.type!==i.FilterType.Basic?t.elements.flatMap(function(t){return r(t)}):i.isBucketFilter(t)?t.bucketIds:void 0}e.getBucketsForFilter=function(t){try{var e=r(t)||[];return Array.from(new Set(e.filter(function(t){return t>=0})))}catch(n){console.error(n)}return[]}},fynY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressSuits=void 0;var i=n("SeXR"),r=n("gNgD"),o=["s","h","d","c"];e.compressSuits=function(t,e){var n,a=t.map(function(t){return function(t,e){var n=i.parseCards(t),a=n.filter(function(t){return e.includes(t[1])}),s=n.filter(function(t){return!e.includes(t[1])}),c=o.map(function(t){return s.filter(function(e){return e[1]===t})}).filter(function(t){return t.length>0}).map(function(t){return"{".concat(t.map(function(t){return t[0]}).join(""),"}")}).sort();return a.map(r.cardToString).join("")+c.join("")}(t,e)}),s={},c=k(new Set(a));try{var l=function(){var t=n.value;s[t]=a.filter(function(e){return e===t}).length};for(c.s();!(n=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}return s}},gKBI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.classifyPostflopCardsAndBoard=void 0;var i=n("mdgW"),r=["2","3","4","5","6","7","8","9","T","J","Q","K","A"];function o(t){return r.findIndex(function(e){return e===t})}e.classifyPostflopCardsAndBoard=function(t,e){var n=[].concat(C(function(t){var e=["c","d","h","s"].map(function(e){return{suit:e,count:t.filter(function(t){return t[1]===e}).length,rank:Math.min.apply(Math,C(t.filter(function(t){return t[1]===e}).map(function(t){return o(t[0])})))}}).filter(function(t){return t.count>0});if(1===e.length)return[i.PostflopClassification.Monotone];if(e.length===t.length)return[i.PostflopClassification.Rainbow];var n=e.filter(function(t){return t.count>1});if(1===n.length)return 2===n[0].count?[i.PostflopClassification.TwoOfSameSuit]:3===n[0].count?[i.PostflopClassification.ThreeOfSameSuit]:[i.PostflopClassification.FourOfSameSuit];var r=t.map(function(t){return{card:t,index:o(t[0])}}).sort(function(t,e){return t.index-e.index}),a=[i.PostflopClassification.DoubleSuited];return a.push(r[0].card[1]!==r[1].card[1]?i.PostflopClassification.DoubleSuitedHigh:i.PostflopClassification.DoubleSuitedLow),a.push(n[0].count+n[1].count===5?i.PostflopClassification.DoubleTripleSuited:i.PostflopClassification.DoubleSuitedPure),a}(t)),C(function(t,e){var n,r=function(t,e){return t.filter(function(t){return t[0]===e}).length},a=[],s=Math.max.apply(Math,C(e.map(function(t){return o(t[0])}))),c=(Math.max.apply(Math,C(e.map(function(t){return o(t[0])}).filter(function(t){return t<s}))),Math.min.apply(Math,C(e.map(function(t){return o(t[0])})))),l=Math.min.apply(Math,C(e.map(function(t){return o(t[0])}).filter(function(t){return t>c}))),u=0,h=Array.from(new Set([].concat(C(t.map(function(t){return t[0]})),C(e.map(function(t){return t[0]}))))).map(function(n){return{face:n,rank:o(n),handCount:r(t,n),boardCount:r(e,n)}}),d=k(h);try{var f=function(){var t=n.value,e=t.handCount,r=t.boardCount;if(e>=2&&a.push(i.PostflopClassification.PocketPair),e>=2&&0===r)a.push(t.rank>s?i.PostflopClassification.Overpair:t.rank<c?i.PostflopClassification.Underpair:t.rank>l?i.PostflopClassification.UpperPocketPair:i.PostflopClassification.LowerPocketPair);else if(1===e&&3===r||2===e&&2===r)a.push(i.PostflopClassification.Quads);else if(e>=2&&1===r)a.push(i.PostflopClassification.Set),a.push(t.rank===s?i.PostflopClassification.TopSet:t.rank===c?i.PostflopClassification.BottomSet:i.PostflopClassification.MiddleSet);else if(1===e&&2===r){a.push(i.PostflopClassification.Trips);var o=h.find(function(e){return e.face!==t.face&&2===e.boardCount});o&&a.push(t.rank>o.rank?i.PostflopClassification.HighTrips:i.PostflopClassification.LowTrips)}else 1===e&&1===r?(a.push(i.PostflopClassification.BoardPair),a.push(t.rank===s?i.PostflopClassification.TopPair:t.rank===c?i.PostflopClassification.BottomPair:i.PostflopClassification.MiddlePair)):0===e&&r>u&&(u=r)};for(d.s();!(n=d.n()).done;)f()}catch(_){d.e(_)}finally{d.f()}2===a.filter(function(t){return t===i.PostflopClassification.PocketPair}).length&&((a=a.filter(function(t){return t!==i.PostflopClassification.PocketPair})).push(i.PostflopClassification.PocketPair),a.push(i.PostflopClassification.DoublePocketPair));var p=a.filter(function(t){return t===i.PostflopClassification.BoardPair}).length;if(p>=2){if(a.push(i.PostflopClassification.TwoPair),p>=3&&(a.push(i.PostflopClassification.ThreePair),p>=4&&a.push(i.PostflopClassification.FourPair)),a.includes(i.PostflopClassification.TopPair)){var g=h.filter(function(t){return 1===t.boardCount}).map(function(t){return o(t.face)}).sort(function(t,e){return e-t}).slice(0,2),v=h.filter(function(t){return 1===t.handCount&&1===t.boardCount}).map(function(t){return o(t.face)}).sort(function(t,e){return e-t});g.every(function(t){return v.slice(0,2).includes(t)})?(a.push(i.PostflopClassification.TopTwoPair),v.length>2&&a.push(i.PostflopClassification.TopBottomTwoPair)):a.push(i.PostflopClassification.TopBottomTwoPair)}a.filter(function(t){return[i.PostflopClassification.BottomPair,i.PostflopClassification.MiddlePair].includes(t)}).length>=2&&a.push(i.PostflopClassification.BottomTwoPair);var m=[i.PostflopClassification.BoardPair,i.PostflopClassification.TopPair,i.PostflopClassification.MiddlePair,i.PostflopClassification.BottomPair];a=C(a.filter(function(t){return!m.includes(t)}))}var y=a.filter(function(t){return[i.PostflopClassification.PocketPair,i.PostflopClassification.DoublePocketPair].includes(t)}),b=function(t,e){if(0===e.filter(function(t){return t.boardCount>=2}).length)return t;if(e.find(function(t){return t.boardCount>=2&&t.handCount>=2||t.boardCount>=3&&t.handCount>=1}))return t;var n,r=function(t){var e,n=[],i=t.filter(function(t){return t.boardCount>=1}),r=k(i);try{var o=function(){var t=e.value;(1===t.boardCount||t.boardCount>=3||i.filter(function(e){return e.face!==t.face}).some(function(t){return t.boardCount<3}))&&n.push(t.rank)};for(r.s();!(e=r.n()).done;)o()}catch(_){r.e(_)}finally{r.f()}return Math.max.apply(Math,n)}(e),a=e.find(function(t){return t.rank===r}),s=e.filter(function(t){return t.boardCount>0&&t.rank!==r});1===a.boardCount?n=Math.max.apply(Math,C(s.map(function(t){return t.boardCount>=2&&t.rank}))):2===a.boardCount?n=Math.max.apply(Math,C(s.map(function(t){return t.rank}))):a.boardCount>=3&&(n=r===o("A")?o("K"):o("A"));var c=e.find(function(t){return t.rank===n});if(1===a.boardCount){if(a.handCount>=2&&(null==c?void 0:c.boardCount)>=2)return[i.PostflopClassification.FullHouse,i.PostflopClassification.NutFullHouse]}else if(2===a.boardCount){if(a.handCount>=1&&(null==c?void 0:c.boardCount)>=1&&(null==c?void 0:c.handCount)>=1)return[i.PostflopClassification.FullHouse,i.PostflopClassification.NutFullHouse]}else if(a.boardCount>=3){if(0===a.handCount&&(null==c?void 0:c.handCount)>=2)return[i.PostflopClassification.FullHouse,i.PostflopClassification.NutFullHouse];if(a.handCount>=1&&(null==c?void 0:c.handCount)>=1&&(null==c?void 0:c.boardCount)>=1)return[i.PostflopClassification.FullHouse,i.PostflopClassification.NutFullHouse]}var l,u=k(e.filter(function(t){return t.boardCount>=2}));try{var h=function(){var t=l.value,n=e.filter(function(e){return e.face!==t.face});if(2===t.boardCount){if(1===t.handCount&&n.some(function(t){return t.boardCount>=1&&t.handCount>=1}))return{v:[i.PostflopClassification.FullHouse,i.PostflopClassification.NonNutFullHouse]};if(0===t.handCount&&n.some(function(t){return t.boardCount>=1&&t.handCount>=2}))return{v:[i.PostflopClassification.FullHouse,i.PostflopClassification.NonNutFullHouse]}}else if(3===t.boardCount){if(n.some(function(t){return t.handCount>=2}))return{v:[i.PostflopClassification.FullHouse,i.PostflopClassification.NonNutFullHouse]};if(t.handCount>=1&&n.some(function(t){return t.boardCount>=1&&t.handCount>=1}))return{v:[i.PostflopClassification.FullHouse,i.PostflopClassification.NonNutFullHouse]}}};for(u.s();!(l=u.n()).done;){var d=h();if("object"==typeof d)return d.v}}catch(_){u.e(_)}finally{u.f()}return t}(a,h);return Array.from(new Set([].concat(C(y),C(b))))}(t,e)),C(function(t,e){var n,a=["c","d","h","s"].map(function(n){return{suit:n,handCards:t.filter(function(t){return t[1]===n}),boardCards:e.filter(function(t){return t[1]===n})}}),s=[],c=5-e.length,l=k(a);try{var u=function(){var a=n.value,l=a.handCards,u=a.boardCards,h=l.length,d=u.length,f=r.filter(function(t){return!u.find(function(e){return e[0]===t})}).map(function(t){return o(t)}).sort(function(t,e){return-1*t-e}),p=Math.max.apply(Math,C(l.map(function(t){return o(t[0])})));h>=2?d>=3?(s.push(i.PostflopClassification.Flush),h>=3&&(s.push(i.PostflopClassification.FlushWith3),h>=4&&s.push(i.PostflopClassification.FlushWith4)),s.push(p===f[0]?i.PostflopClassification.NutFlush:p===f[1]?i.PostflopClassification.SecondNutFlush:i.PostflopClassification.NonNutFlush)):2===d&&c>=1?(s.push(i.PostflopClassification.FlushDraw),s.push(p===f[0]?i.PostflopClassification.NutFlushDraw:p===f[1]?i.PostflopClassification.SecondNutFlushDraw:i.PostflopClassification.NonNutFlushDraw)):1===d&&c>=2?(s.push(i.PostflopClassification.BackdoorFlushDraw),p===f[0]&&s.push(i.PostflopClassification.BackdoorNutFlushDraw)):2===d&&0===c&&2===["c","d","h","s"].map(function(n){return{suit:n,handCards:t.filter(function(t){return t[1]===n}),boardCards:e.slice(0,4).filter(function(t){return t[1]===n})}}).find(function(t){return t.suit===a.suit}).boardCards.length&&s.push(i.PostflopClassification.MissedFlushDraw):1===h&&(d>=3?(s.push(i.PostflopClassification.FlushBlocker),s.push(p===f[0]?i.PostflopClassification.NutFlushBlocker:p===f[1]?i.PostflopClassification.SecondNutFlushBlocker:i.PostflopClassification.NonNutFlushBlocker)):2===d&&c>=1&&(s.push(i.PostflopClassification.FlushDrawBlocker),s.push(p===f[0]?i.PostflopClassification.NutFlushDrawBlocker:p===f[1]?i.PostflopClassification.SecondNutFlushDrawBlocker:i.PostflopClassification.NonNutFlushDrawBlocker)))};for(l.s();!(n=l.n()).done;)u()}catch(d){l.e(d)}finally{l.f()}2===s.filter(function(t){return t===i.PostflopClassification.FlushDraw}).length&&s.push(i.PostflopClassification.DoubleFlushDraw);var h=s.filter(function(t){return t===i.PostflopClassification.BackdoorFlushDraw});return 1===h.length?s.push(i.PostflopClassification.OneBackdoorFlushDraw):2===h.length&&s.push(i.PostflopClassification.TwoBackdoorFlushDraw),s}(t,e)),C(function(t,e){var n,r=[],c=5-e.length,l=new Set,u=new Set,h=new Set,d=new Set,f=new Set,p=[],g={},v=k(a);try{var m=function(){var s=n.value,v=a.findIndex(function(t){return t===s}),m=o(s[4]),y=t.filter(function(t){return s.find(function(e){return t[0]===e})}),b=e.filter(function(t){return s.find(function(e){return t[0]===e})}),_=s.filter(function(t){return!e.find(function(e){return e[0]===t})}),k=Array.from(new Set(b.map(function(t){return t[0]}))).length,w=Array.from(new Set(y.map(function(t){return t[0]}))).length;if(k>=3&&(l.add(v),g[v]=_),w>=2)for(var x=0;x<y.length-1;x++)for(var P=x+1;P<y.length;P++)if(y[x][0]!==y[P][0]){var O=[y[x],y[P]],S=[].concat(C(b.filter(function(t){return!O.find(function(e){return t[0]===e[0]})})),O),M=s.filter(function(t){return!S.find(function(e){return e[0]===t})});if(0===M.length){u.add(v);for(var T=function(){var t=R[E],e=S.filter(function(e){return e[1]===t});s.every(function(t){return e.find(function(e){return e[0]===t})})&&(r.push(i.PostflopClassification.StraightFlush),m===o("A")&&r.push(i.PostflopClassification.RoyalFlush))},E=0,R=["s","c","d","h"];E<R.length;E++)T()}else if(1===M.length&&c>0){if(h.add(v),2===Array.from(new Set(O.map(function(t){return t[0]}))).length){var F=M.filter(function(t){return!O.find(function(e){return t===e[0]})});p.push.apply(p,C(F))}for(var I=function(){var t=D[A];4===S.filter(function(e){return e[1]===t}).length&&r.push(i.PostflopClassification.StraightFlushDraw)},A=0,D=["s","c","d","h"];A<D.length;A++)I()}else if(1===M.length&&0===c){var L=[].concat(C(e.slice(0,4).filter(function(t){return s.find(function(e){return t[0]===e})}).filter(function(t){return!O.find(function(e){return t[0]===e[0]})})),O);1===s.filter(function(t){return!L.find(function(e){return e[0]===t})}).length&&r.push(i.PostflopClassification.MissedStraightDraw)}}var B=t.filter(function(t){return _.find(function(e){return t[0]===e})});1===Array.from(new Set(B.map(function(t){return t[0]}))).length&&(k>=3&&d.add(v),2===k&&c>0&&f.add(v))};for(v.s();!(n=v.n()).done;)m()}catch(F){v.e(F)}finally{v.f()}var y=Array.from(l).filter(function(t){if(l.has(t+1)){var e=g[t],n=g[t+1];return e.length!==n.length||n.some(function(t){return!e.includes(t)})}return!0}).sort(function(t,e){return-1*t-e});if(u.size>0)r.push(i.PostflopClassification.Straight),r.includes(i.PostflopClassification.MissedStraightDraw)&&(r=r.filter(function(t){return t!==i.PostflopClassification.MissedStraightDraw})),u.has(y[0])?r.push(i.PostflopClassification.NutStraight):y.length>1&&u.has(y[1])?r.push(i.PostflopClassification.SecondNutStraight):y.length>2&&u.has(y[2])&&r.push(i.PostflopClassification.ThirdNutStraight);else if(h.size>0){var b=Array.from(new Set(p));b.length>=3?(r.push(i.PostflopClassification.StraightDraw),r.push(i.PostflopClassification.WrapStraightDraw),b.every(function(n){return s(e,n,t)})&&r.push(i.PostflopClassification.NutWrapStraightDraw)):2===b.length?(r.push(i.PostflopClassification.StraightDraw),r.push(i.PostflopClassification.OpenEndStraightDraw),b.every(function(n){return s(e,n,t)})&&r.push(i.PostflopClassification.NutOpenEndStraightDraw)):1===b.length&&(r.push(i.PostflopClassification.StraightDraw),r.push(i.PostflopClassification.GutshotStraightDraw),b.every(function(n){return s(e,n,t)})&&r.push(i.PostflopClassification.NutGutshotStraightDraw))}if(0===u.size&&d.size>0){r.push(i.PostflopClassification.StraightBlocker);var _,w=new Set,x=k(d);try{var P=function(){var n=_.value,i=a[n].filter(function(t){return!e.find(function(e){return e[0]===t})});t.filter(function(t){return i.find(function(e){return t[0]===e})}).forEach(function(t){return w.add(t)})};for(x.s();!(_=x.n()).done;)P()}catch(F){x.e(F)}finally{x.f()}var O=Array.from(w);switch(O.find(function(t){return O.find(function(e){return t[0]===e[0]&&t[1]!==e[1]})})&&r.push(i.PostflopClassification.PocketPairStraightBlocker),O.length){case 1:r.push(i.PostflopClassification.OneStraightBlocker);break;case 2:r.push(i.PostflopClassification.TwoStraightBlocker);break;case 3:r.push(i.PostflopClassification.ThreeStraightBlocker);break;case 4:r.push(i.PostflopClassification.FourStraightBlocker)}}if(0===u.size&&0===h.size&&f.size>0){r.push(i.PostflopClassification.StraightDrawBlocker);var S,M=new Set,T=k(f);try{var E=function(){var n=S.value,i=a[n].filter(function(t){return!e.find(function(e){return e[0]===t})});t.filter(function(t){return i.find(function(e){return t[0]===e})}).forEach(function(t){return M.add(t)})};for(T.s();!(S=T.n()).done;)E()}catch(F){T.e(F)}finally{T.f()}var R=Array.from(M);switch(R.find(function(t){return R.find(function(e){return t[0]===e[0]&&t[1]!==e[1]})})&&r.push(i.PostflopClassification.PocketPairStraightDrawBlocker),R.length){case 1:r.push(i.PostflopClassification.OneStraightDrawBlocker);break;case 2:r.push(i.PostflopClassification.TwoStraightDrawBlocker);break;case 3:r.push(i.PostflopClassification.ThreeStraightDrawBlocker);break;case 4:r.push(i.PostflopClassification.FourStraightDrawBlocker)}}return r}(t,e)));return n.every(function(t){return!i.MadeHands.includes(t)})&&n.push(i.PostflopClassification.Air),n};var a=[["A","2","3","4","5"],["2","3","4","5","6"],["3","4","5","6","7"],["4","5","6","7","8"],["5","6","7","8","9"],["6","7","8","9","T"],["7","8","9","T","J"],["8","9","T","J","Q"],["9","T","J","Q","K"],["T","J","Q","K","A"]];function s(t,e,n){var i,r=Array.from(new Set(t.map(function(t){return t[0]}))),o=Array.from(new Set(n.map(function(t){return t[0]}))),s=[].concat(r,[e]),c=[],l=[],u=k(a);try{var h=function(){var t=i.value,e=a.findIndex(function(e){return e===t}),n=t.filter(function(t){return s.includes(t)}),r=t.filter(function(t){return!s.includes(t)}).filter(function(t){return o.includes(t)});n.length>=3&&(c.push(e),r.length>=2&&l.push(e))};for(u.s();!(i=u.n()).done;)h()}catch(f){u.e(f)}finally{u.f()}var d=Math.max.apply(Math,c);return Math.max.apply(Math,l)===d}},gNgD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cardsToString=e.cardToString=e.cardsAreEqual=e.cardIsEqual=void 0;var i=n("EsPM");function r(t,e){return t[0]===e[0]&&t[1]===e[1]}function o(t){return"".concat(t[0]?t[0]:"").concat(t[1]?t[1]:"")}e.cardIsEqual=r,e.cardsAreEqual=function(t,e){return t.length===e.length&&t.every(function(t){return e.find(function(e){return r(t,e)})})},e.cardToString=o,e.cardsToString=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?C(t).sort(i.sortCard).map(function(t){return o(t)}).join(""):C(t).map(function(t){return o(t)}).join("")}},jrKG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectFromRangeItem=void 0,e.selectFromRangeItem={combo:function(t){return t[0]},cards:function(t){return t[1]},frequency:function(t){return t[2]},ev:function(t){return t[3]},comboWeight:function(t){return t[4]},weight:function(t){return t[5]},variations:function(t){return t[6]},evDiff:function(t){return t[7]}}},klPf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boardDistance=e.sortBoardsByDistance=e.DEFAULT_BOARD_DISTANCE_WEIGHTS=void 0;var i=n("QP+3"),r=n("EsPM");e.DEFAULT_BOARD_DISTANCE_WEIGHTS={sumOfRankDifferences:1,amountNotExactRanks:10,notExactSuits:12,topTwoRanks:.5};var o=["2","3","4","5","6","7","8","9","T","J","Q","K","A"];function a(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_BOARD_DISTANCE_WEIGHTS,a=function(t){return new Set(t.map(function(t){return t[0]})).size<t.length},s=a(t);return s!==a(n)?1e3:s?function(t,e){for(var n=0,i=function(t){var e=Array.from(new Set(t.map(function(t){return t[0]}))),n=e.filter(function(e){return t.filter(function(t){return t[0]===e}).length>1}),i=e.filter(function(e){return 1===t.filter(function(t){return t[0]===e}).length}),r=t.filter(function(t){return n.includes(t[0])});return[].concat(C(t.filter(function(t){return i.includes(t[0])})),C(r))},r=i(t),a=i(e),s=0;s<r.length;s++){var c=a[s],l=o.indexOf(r[s][0])+2,u=o.indexOf(c[0])+2;n+=l*Math.abs(l-u)}return n}(t,n):function(t,n){for(var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_BOARD_DISTANCE_WEIGHTS,s=0,c=0,l=0,u={w:null,x:null,y:null,z:null},h=C(t).sort(r.sortCard),d=C(n).sort(r.sortCard),f=0;f<h.length;f++){var p=h[f],g=d[f];if(p[1]){var v=p[1].toLowerCase(),m=g[1].toLowerCase();"w"===(i=v)||"x"===i||"y"===i||"z"===i?null===u[v]?Object.values(u).filter(function(t){return null!==t}).includes(m)?l++:u[v]=m:u[v]!==m&&l++:v!==m&&l++}var y=o.indexOf(p[0].toUpperCase()),b=o.indexOf(g[0].toUpperCase()),_=Math.abs(y-b);s+=_,_>0&&c++}var k=h.slice(0,2).map(function(t){return o.indexOf(t[0].toUpperCase())}),w=d.slice(0,2).map(function(t){return o.indexOf(t[0].toUpperCase())});return a.amountNotExactRanks*c+a.notExactSuits*l+a.sumOfRankDifferences*s+a.topTwoRanks*(k[0]===w[0]&&k[1]===w[1]?0:1)}(t,n,i)}e.sortBoardsByDistance=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_BOARD_DISTANCE_WEIGHTS;try{var s=i.parseFilterSyntax(t,!1,[],!1);if(i.isBasicFilter(s)&&i.isCardsFilter(s)){var c=s.cards;return n.map(function(t){return Object.assign(Object.assign({},t),{distance:a(c,t.cards,o)})}).sort(function(t,e){return t.distance===e.distance?r.sortFlops(t.cards,e.cards):t.distance-e.distance})}}catch(l){return console.error(l),[]}},e.boardDistance=a},mdgW:function(t,e,n){"use strict";var i,r,o;Object.defineProperty(e,"__esModule",{value:!0}),e.classificationFilterDefinitions=e.MadeHands=e.PostflopClassification=void 0,function(t){t[t.TwoOfSameSuit=1]="TwoOfSameSuit",t[t.ThreeOfSameSuit=2]="ThreeOfSameSuit",t[t.DoubleSuited=3]="DoubleSuited",t[t.DoubleSuitedLow=4]="DoubleSuitedLow",t[t.DoubleSuitedHigh=5]="DoubleSuitedHigh",t[t.Rainbow=6]="Rainbow",t[t.Monotone=7]="Monotone",t[t.RoyalFlush=10]="RoyalFlush",t[t.StraightFlush=11]="StraightFlush",t[t.Quads=20]="Quads",t[t.FullHouse=31]="FullHouse",t[t.NutFullHouse=32]="NutFullHouse",t[t.NonNutFullHouse=33]="NonNutFullHouse",t[t.Flush=40]="Flush",t[t.NutFlush=41]="NutFlush",t[t.SecondNutFlush=42]="SecondNutFlush",t[t.NonNutFlush=43]="NonNutFlush",t[t.FlushWith3=44]="FlushWith3",t[t.FlushWith4=45]="FlushWith4",t[t.Straight=50]="Straight",t[t.NutStraight=51]="NutStraight",t[t.SecondNutStraight=52]="SecondNutStraight",t[t.ThirdNutStraight=53]="ThirdNutStraight",t[t.NonNutStraight=54]="NonNutStraight",t[t.Set=60]="Set",t[t.TopSet=61]="TopSet",t[t.MiddleSet=62]="MiddleSet",t[t.BottomSet=63]="BottomSet",t[t.Trips=64]="Trips",t[t.HighTrips=65]="HighTrips",t[t.LowTrips=66]="LowTrips",t[t.TwoPair=70]="TwoPair",t[t.ThreePair=71]="ThreePair",t[t.FourPair=72]="FourPair",t[t.TopTwoPair=73]="TopTwoPair",t[t.TopBottomTwoPair=74]="TopBottomTwoPair",t[t.BottomTwoPair=75]="BottomTwoPair",t[t.BoardPair=80]="BoardPair",t[t.TopPair=81]="TopPair",t[t.MiddlePair=82]="MiddlePair",t[t.BottomPair=83]="BottomPair",t[t.PocketPair=84]="PocketPair",t[t.DoublePocketPair=85]="DoublePocketPair",t[t.Overpair=86]="Overpair",t[t.Underpair=87]="Underpair",t[t.UpperPocketPair=88]="UpperPocketPair",t[t.LowerPocketPair=89]="LowerPocketPair",t[t.StraightFlushDraw=100]="StraightFlushDraw",t[t.FlushDraw=110]="FlushDraw",t[t.NutFlushDraw=111]="NutFlushDraw",t[t.SecondNutFlushDraw=112]="SecondNutFlushDraw",t[t.NonNutFlushDraw=113]="NonNutFlushDraw",t[t.DoubleFlushDraw=114]="DoubleFlushDraw",t[t.StraightDraw=120]="StraightDraw",t[t.WrapStraightDraw=121]="WrapStraightDraw",t[t.OpenEndStraightDraw=122]="OpenEndStraightDraw",t[t.GutshotStraightDraw=123]="GutshotStraightDraw",t[t.NutWrapStraightDraw=124]="NutWrapStraightDraw",t[t.NutOpenEndStraightDraw=125]="NutOpenEndStraightDraw",t[t.NutGutshotStraightDraw=126]="NutGutshotStraightDraw",t[t.BackdoorFlushDraw=130]="BackdoorFlushDraw",t[t.OneBackdoorFlushDraw=131]="OneBackdoorFlushDraw",t[t.TwoBackdoorFlushDraw=132]="TwoBackdoorFlushDraw",t[t.BackdoorNutFlushDraw=133]="BackdoorNutFlushDraw",t[t.FlushBlocker=200]="FlushBlocker",t[t.NutFlushBlocker=201]="NutFlushBlocker",t[t.SecondNutFlushBlocker=202]="SecondNutFlushBlocker",t[t.NonNutFlushBlocker=203]="NonNutFlushBlocker",t[t.FlushDrawBlocker=210]="FlushDrawBlocker",t[t.NutFlushDrawBlocker=211]="NutFlushDrawBlocker",t[t.SecondNutFlushDrawBlocker=212]="SecondNutFlushDrawBlocker",t[t.NonNutFlushDrawBlocker=213]="NonNutFlushDrawBlocker",t[t.StraightBlocker=220]="StraightBlocker",t[t.PocketPairStraightBlocker=221]="PocketPairStraightBlocker",t[t.FourStraightBlocker=222]="FourStraightBlocker",t[t.ThreeStraightBlocker=223]="ThreeStraightBlocker",t[t.TwoStraightBlocker=224]="TwoStraightBlocker",t[t.OneStraightBlocker=225]="OneStraightBlocker",t[t.StraightDrawBlocker=230]="StraightDrawBlocker",t[t.PocketPairStraightDrawBlocker=231]="PocketPairStraightDrawBlocker",t[t.FourStraightDrawBlocker=232]="FourStraightDrawBlocker",t[t.ThreeStraightDrawBlocker=233]="ThreeStraightDrawBlocker",t[t.TwoStraightDrawBlocker=234]="TwoStraightDrawBlocker",t[t.OneStraightDrawBlocker=235]="OneStraightDrawBlocker",t[t.Air=240]="Air",t[t.MissedFlushDraw=241]="MissedFlushDraw",t[t.MissedStraightDraw=242]="MissedStraightDraw",t[t.FourOfSameSuit=301]="FourOfSameSuit",t[t.DoubleSuitedPure=302]="DoubleSuitedPure",t[t.DoubleTripleSuited=303]="DoubleTripleSuited"}(o=e.PostflopClassification||(e.PostflopClassification={})),e.MadeHands=[o.RoyalFlush,o.StraightFlush,o.Quads,o.FullHouse,o.Flush,o.Straight,o.Set,o.Trips,o.TwoPair,o.BoardPair,o.PocketPair];var a=(v(i={},o.StraightFlush,[o.RoyalFlush]),v(i,o.NutFullHouse,[o.Quads]),v(i,o.NonNutFullHouse,[o.NutFullHouse]),v(i,o.FullHouse,[o.NutFullHouse,o.NonNutFullHouse]),v(i,o.SecondNutFlush,[o.NutFlush]),v(i,o.NonNutFlush,[o.NutFlush]),v(i,o.FlushWith3,[o.NutFlush,o.NonNutFlush]),v(i,o.FlushWith4,[o.NutFlush,o.NonNutFlush]),v(i,o.Flush,[o.NutFlush,o.NonNutFlush]),v(i,o.SecondNutStraight,[o.NutStraight]),v(i,o.ThirdNutStraight,[o.NutStraight,o.SecondNutStraight]),v(i,o.Straight,[o.NutStraight,o.SecondNutStraight,o.ThirdNutStraight]),v(i,o.TopSet,[o.HighTrips]),v(i,o.HighTrips,[o.TopSet]),v(i,o.MiddleSet,[o.TopSet,o.HighTrips]),v(i,o.BottomSet,[o.TopSet,o.MiddleSet,o.HighTrips]),v(i,o.LowTrips,[o.TopSet,o.MiddleSet,o.HighTrips]),v(i,o.Trips,[o.TopSet,o.MiddleSet,o.BottomSet,o.HighTrips,o.LowTrips]),v(i,o.Set,[o.TopSet,o.MiddleSet,o.BottomSet,o.HighTrips,o.LowTrips]),v(i,o.TopBottomTwoPair,[o.TopTwoPair]),v(i,o.BottomTwoPair,[o.TopTwoPair,o.TopBottomTwoPair]),v(i,o.TwoPair,[o.TopTwoPair,o.TopBottomTwoPair,o.BottomTwoPair]),v(i,o.TopPair,[o.Overpair]),v(i,o.MiddlePair,[o.Overpair,o.TopPair,o.UpperPocketPair]),v(i,o.BottomPair,[o.Overpair,o.TopPair,o.MiddlePair,o.UpperPocketPair,o.LowerPocketPair]),v(i,o.BoardPair,[o.Overpair,o.TopPair,o.MiddlePair,o.BottomPair]),v(i,o.Underpair,[o.Overpair,o.TopPair,o.MiddlePair,o.BottomPair,o.UpperPocketPair,o.LowerPocketPair]),v(i,o.StraightFlushDraw,[o.FlushDraw,o.StraightDraw,o.Air]),v(i,o.FlushDraw,[o.StraightFlushDraw,o.StraightDraw,o.Air]),v(i,o.StraightDraw,[o.StraightFlushDraw,o.FlushDraw,o.Air]),v(i,o.Air,[o.StraightFlushDraw,o.FlushDraw,o.StraightDraw,o.Air]),i);function s(t){return{STRICT_EQUALS:{anyOf:[t],noneOf:C(c(t))},BETTER_THAN:{anyOf:[t].concat(C(c(t)))},WORSE_THAN:{anyOf:C(l(t)),noneOf:[t].concat(C(c(t)))}}}function c(t){if(t===o.Air)return e.MadeHands;var n=e.MadeHands.indexOf(t);return e.MadeHands.slice(0,n)}function l(t){if(t===o.Air)return[];var n=e.MadeHands.indexOf(t);return[].concat(C(e.MadeHands.slice(n)),[o.Air])}function u(t,e){return{STRICT_EQUALS:{anyOf:[t],noneOf:[].concat(C(h(t)),C(c(e)))},BETTER_THAN:{anyOf:[t].concat(C(h(t)),C(c(e)))},WORSE_THAN:{anyOf:C(l(e)),noneOf:[t].concat(C(c(e)))}}}function h(t){return a[t]?a[t]:[]}e.classificationFilterDefinitions=(v(r={},o.RoyalFlush,s(o.RoyalFlush)),v(r,o.StraightFlush,s(o.StraightFlush)),v(r,o.Quads,s(o.Quads)),v(r,o.NutFullHouse,u(o.NutFullHouse,o.FullHouse)),v(r,o.NonNutFullHouse,u(o.NonNutFullHouse,o.FullHouse)),v(r,o.FullHouse,s(o.FullHouse)),v(r,o.NutFlush,u(o.NutFlush,o.Flush)),v(r,o.SecondNutFlush,u(o.SecondNutFlush,o.Flush)),v(r,o.NonNutFlush,u(o.NonNutFlush,o.Flush)),v(r,o.FlushWith3,u(o.FlushWith3,o.Flush)),v(r,o.FlushWith4,u(o.FlushWith4,o.Flush)),v(r,o.Flush,s(o.Flush)),v(r,o.NutStraight,u(o.NutStraight,o.Straight)),v(r,o.SecondNutStraight,u(o.SecondNutStraight,o.Straight)),v(r,o.ThirdNutStraight,u(o.ThirdNutStraight,o.Straight)),v(r,o.Straight,s(o.Straight)),v(r,o.TopSet,u(o.TopSet,o.Set)),v(r,o.HighTrips,u(o.HighTrips,o.Trips)),v(r,o.MiddleSet,u(o.MiddleSet,o.Set)),v(r,o.BottomSet,u(o.BottomSet,o.Set)),v(r,o.LowTrips,u(o.LowTrips,o.Set)),v(r,o.Trips,s(o.Trips)),v(r,o.Set,s(o.Set)),v(r,o.ThreePair,u(o.ThreePair,o.TwoPair)),v(r,o.FourPair,u(o.FourPair,o.TwoPair)),v(r,o.TopTwoPair,u(o.TopTwoPair,o.TwoPair)),v(r,o.TopBottomTwoPair,u(o.TopBottomTwoPair,o.TwoPair)),v(r,o.BottomTwoPair,u(o.BottomTwoPair,o.TwoPair)),v(r,o.TwoPair,s(o.TwoPair)),v(r,o.Overpair,{STRICT_EQUALS:{anyOf:[o.Overpair],noneOf:C(c(o.BoardPair))},BETTER_THAN:{anyOf:[o.Overpair].concat(C(c(o.BoardPair)))},WORSE_THAN:{anyOf:[o.BoardPair,o.PocketPair].concat(C(l(o.PocketPair))),noneOf:[o.Overpair].concat(C(c(o.BoardPair)))}}),v(r,o.TopPair,{STRICT_EQUALS:{anyOf:[o.TopPair],noneOf:[o.Overpair].concat(C(c(o.BoardPair)))},BETTER_THAN:{anyOf:[o.Overpair,o.TopPair].concat(C(c(o.BoardPair)))},WORSE_THAN:{anyOf:C(l(o.BoardPair)),noneOf:[o.TopPair,o.Overpair].concat(C(c(o.BoardPair)))}}),v(r,o.MiddlePair,{STRICT_EQUALS:{anyOf:[o.MiddlePair],noneOf:[o.Overpair,o.TopPair].concat(C(c(o.BoardPair)))},BETTER_THAN:{anyOf:[o.Overpair,o.TopPair,o.MiddlePair,o.UpperPocketPair].concat(C(c(o.BoardPair)))},WORSE_THAN:{anyOf:C(l(o.BoardPair)),noneOf:[o.TopPair,o.MiddlePair,o.Overpair,o.UpperPocketPair].concat(C(c(o.BoardPair)))}}),v(r,o.BottomPair,{STRICT_EQUALS:{anyOf:[o.BottomPair],noneOf:[o.Overpair,o.TopPair,o.MiddlePair].concat(C(c(o.BoardPair)))},BETTER_THAN:{anyOf:[o.Overpair,o.BoardPair,o.UpperPocketPair,o.LowerPocketPair].concat(C(c(o.BoardPair)))},WORSE_THAN:{anyOf:C(l(o.BoardPair)),noneOf:[o.TopPair,o.MiddlePair,o.BottomPair,o.Overpair,o.UpperPocketPair,o.LowerPocketPair].concat(C(c(o.BoardPair)))}}),v(r,o.BoardPair,{STRICT_EQUALS:{anyOf:[o.BoardPair],noneOf:[o.Overpair].concat(C(c(o.BoardPair)))},BETTER_THAN:{anyOf:[o.Overpair,o.BoardPair].concat(C(c(o.BoardPair)))},WORSE_THAN:{anyOf:C(l(o.BoardPair)),noneOf:[o.BoardPair,o.Overpair].concat(C(c(o.BoardPair)))}}),v(r,o.UpperPocketPair,u(o.UpperPocketPair,o.PocketPair)),v(r,o.LowerPocketPair,u(o.LowerPocketPair,o.PocketPair)),v(r,o.PocketPair,s(o.PocketPair)),v(r,o.DoublePocketPair,u(o.DoublePocketPair,o.PocketPair)),v(r,o.Underpair,{STRICT_EQUALS:{anyOf:[o.Underpair],noneOf:[o.Overpair,o.UpperPocketPair,o.LowerPocketPair].concat(C(c(o.PocketPair)))},BETTER_THAN:{anyOf:[o.PocketPair].concat(C(c(o.PocketPair)))},WORSE_THAN:{anyOf:[o.Air],noneOf:[o.PocketPair].concat(C(c(o.PocketPair)))}}),v(r,o.StraightFlushDraw,{STRICT_EQUALS:{anyOf:[o.StraightFlushDraw],noneOf:C(c(o.Air))},BETTER_THAN:{anyOf:[o.StraightFlushDraw].concat(C(c(o.Air)))},WORSE_THAN:{anyOf:[o.Air],noneOf:[o.StraightFlushDraw].concat(C(c(o.Air)))}}),v(r,o.FlushDraw,{STRICT_EQUALS:{anyOf:[o.FlushDraw],noneOf:[o.StraightFlushDraw].concat(C(c(o.Air)))},BETTER_THAN:{anyOf:[o.StraightFlushDraw,o.FlushDraw].concat(C(c(o.Air)))},WORSE_THAN:{anyOf:[o.Air],noneOf:[o.StraightFlushDraw,o.FlushDraw].concat(C(c(o.Air)))}}),v(r,o.StraightDraw,{STRICT_EQUALS:{anyOf:[o.StraightDraw],noneOf:[o.StraightFlushDraw,o.FlushDraw].concat(C(c(o.Air)))},BETTER_THAN:{anyOf:[o.StraightFlushDraw,o.FlushDraw,o.StraightDraw].concat(C(c(o.Air)))},WORSE_THAN:{anyOf:[o.Air],noneOf:[o.StraightFlushDraw,o.FlushDraw,o.StraightDraw].concat(C(c(o.Air)))}}),v(r,o.BackdoorFlushDraw,{STRICT_EQUALS:{anyOf:[o.BackdoorFlushDraw],noneOf:[o.StraightFlushDraw,o.FlushDraw,o.StraightDraw].concat(C(c(o.Air)))},BETTER_THAN:{anyOf:[o.StraightFlushDraw,o.FlushDraw,o.StraightDraw,o.BackdoorFlushDraw].concat(C(c(o.Air)))},WORSE_THAN:{anyOf:[o.Air],noneOf:[o.StraightFlushDraw,o.FlushDraw,o.StraightDraw,o.BackdoorFlushDraw].concat(C(c(o.Air)))}}),v(r,o.Air,{STRICT_EQUALS:{anyOf:[o.Air],noneOf:[o.StraightFlushDraw,o.FlushDraw,o.StraightDraw,o.BackdoorFlushDraw].concat(C(c(o.Air)))},BETTER_THAN:{anyOf:[o.Air].concat(C(c(o.Air)))},WORSE_THAN:{anyOf:[],noneOf:[o.Air].concat(C(c(o.Air)))}}),r)},n5Em:function(t,e,n){"use strict";function i(t,e){var n,i=t.split("-").filter(function(t){return!!t}),r=C(e),o=r[0],a=k(i);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=r.findIndex(function(t){return t===o}),l=r[(c+1)%r.length];"F"===s&&(r=r.filter(function(t){return t!==o})),o=l}}catch(u){a.e(u)}finally{a.f()}return o}Object.defineProperty(e,"__esModule",{value:!0}),e.getActivePlayerFromPostflopNode=e.getActivePlayerFromPreflopNode=void 0,e.getActivePlayerFromPreflopNode=function(t,e){return i(t,2===e?["SB","BB"]:["EP","MP","CO","BTN","SB","BB"])},e.getActivePlayerFromPostflopNode=function(t,e){return i(t,function(t,e){var n=["SB","BB","EP","MP","CO","BTN"];return C(t).sort(function(t,e){return n.indexOf(t)-n.indexOf(e)})}(e))}},sBdy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeSuits=void 0,e.normalizeSuits=function(t){var e={s:"x",h:"y",d:"z",c:"w"};return t.map(function(t){return 2===t.length?e[t[1]]?t[0]+e[t[1]]:t:e[t[0]]?e[t[0]]:t})}},uZpj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unpackBinaryRangeFor4card=e.unpackBinaryRangeFor5card=e.unpackBinaryRanges=void 0;var i=n("3XR2");function r(t){for(var e=t.getInt32(1),n=new Array(e),r=0,o=0;o<e;o++){var a=5+17*o,s=t.getUint8(a++),c=t.getUint8(a++),l=t.getUint8(a++),u=t.getUint8(a++),h=t.getUint8(a++),d=t.getFloat32(a),f=t.getInt32(a+=4),p=t.getFloat32(a+=4);r+=d*p;var g=[i.cards[s],i.cards[c],i.cards[l],i.cards[u],i.cards[h]];n[o]=[g[0]+g[1]+g[2]+g[3]+g[4],g,d,-2147483648===f?null:f,p,d*p,1]}return{items:n,totalWeight:r}}function o(t){for(var e=t.getInt32(1),n=new Array(e),r=0,o=0;o<e;o++){var a=5+16*o,s=t.getUint8(a++),c=t.getUint8(a++),l=t.getUint8(a++),u=t.getUint8(a++),h=t.getFloat32(a),d=t.getInt32(a+=4),f=t.getFloat32(a+=4);r+=h*f;var p=[i.cards[s],i.cards[c],i.cards[l],i.cards[u]];n[o]=[p[0]+p[1]+p[2]+p[3],p,h,-2147483648===d?null:d,f,h*f,1]}return{items:n,totalWeight:r}}e.unpackBinaryRanges=function(t){for(var e=t.length,n=new Array(e),i=0;i<e;i++){var a=t[i],s=a.key,c=a.data,l=new DataView(c),u=void 0;switch(l.getUint8(0)){case 10:u=o(l);break;case 30:u=r(l)}var h=u,d=h.items,f=h.totalWeight;n[i]={key:s,items:d,totalWeight:f}}return n},e.unpackBinaryRangeFor5card=r,e.unpackBinaryRangeFor4card=o},zUnb:function(o,s,h){"use strict";function p(t){return"function"==typeof t}h.r(s);var m=!1,b={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=t},get useDeprecatedSynchronousErrorHandling(){return m}};function _(t){setTimeout(function(){throw t},0)}var w={closed:!0,next:function(t){},error:function(t){if(b.useDeprecatedSynchronousErrorHandling)throw t;_(t)},complete:function(){}},x=Array.isArray||function(t){return t&&"number"==typeof t.length};function P(t){return null!==t&&"object"==typeof t}var O,S=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),M=((O=function(){function t(e){f(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return g(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(p(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(u){e=u instanceof S?T(u.errors):[u]}}if(x(o))for(var s=-1,c=o.length;++s<c;){var l=o[s];if(P(l))try{l.unsubscribe()}catch(u){e=e||[],u instanceof S?e=e.concat(T(u.errors)):e.push(u)}}if(e)throw new S(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new O),O);function T(t){return t.reduce(function(t,e){return t.concat(e instanceof S?e.errors:e)},[])}var E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),R=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;switch(f(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=w;break;case 1:if(!t){o.destination=w;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(u(o))):(o.syncErrorThrowable=!0,o.destination=new F(u(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new F(u(o),t,i,r)}return o}return g(n,[{key:E,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,r(d(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,i){var r=new n(t,e,i);return r.syncErrorThrowable=!1,r}}]),n}(M),F=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a,s;f(this,n),(a=e.call(this))._parentSubscriber=t;var c=u(a);return p(i)?s=i:i&&(s=i.next,r=i.error,o=i.complete,i!==w&&(p((c=Object.create(i)).unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(u(a)))),a._context=c,a._next=s,a._error=r,a._complete=o,a}return g(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;b.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=b.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):_(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;_(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};b.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),b.useDeprecatedSynchronousErrorHandling)throw n;_(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!b.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return b.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(_(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(R),I="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(t){return t}var D,L=((D=function(){function t(e){f(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return g(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,r=function(t,e,n){if(t){if(t instanceof R)return t;if(t[E])return t[E]()}return t||e||n?new R(t,e,n):new R(w)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||b.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),b.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){b.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof R?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=B(e))(function(e,i){var r;r=n.subscribe(function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}},i,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:I,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(i=e).length?A:1===i.length?i[0]:function(t){return i.reduce(function(t,e){return e(t)},t)})(this);var i}},{key:"toPromise",value:function(t){var e=this;return new(t=B(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})}}]),t}()).create=function(t){return new D(t)},D);function B(t){if(t||(t=b.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var N,j=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),V=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this)).subject=t,r.subscriber=i,r.closed=!1,r}return g(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(M),H=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this,t)).destination=t,i}return g(n)}(R),z=((N=function(t){a(n,t);var e=c(n);function n(){var t;return f(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return g(n,[{key:E,value:function(){return new H(this)}},{key:"lift",value:function(t){var e=new U(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new j;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new j;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new j;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new j;return r(d(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new j;return this.hasError?(t.error(this.thrownError),M.EMPTY):this.isStopped?(t.complete(),M.EMPTY):(this.observers.push(t),new V(this,t))}},{key:"asObservable",value:function(){var t=new L;return t.source=this,t}}]),n}(L)).create=function(t,e){return new U(t,e)},N),U=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this)).destination=t,r.source=i,r}return g(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):M.EMPTY}}]),n}(z);function q(t){return t&&"function"==typeof t.schedule}function W(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new $(t,e))}}var $=function(){function t(e,n){f(this,t),this.project=e,this.thisArg=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new G(t,this.project,this.thisArg))}}]),t}(),G=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t)).project=i,o.count=0,o.thisArg=r||u(o),o}return g(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(R),K=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}};var Q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Y=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Z(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var J=function(t){if(t&&"function"==typeof t[I])return i=t,function(t){var e=i[I]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Y(t))return K(t);if(Z(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,_),t};if(t&&"function"==typeof t[Q])return e=t,function(t){for(var n=e[Q]();;){var i=void 0;try{i=n.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,i,r=P(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function X(t,e){return new L(function(n){var i=new M,r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function tt(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[I]}(t))return function(t,e){return new L(function(n){var i=new M;return i.add(e.schedule(function(){var r=t[I]();i.add(r.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}(t,e);if(Z(t))return function(t,e){return new L(function(n){var i=new M;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i})}(t,e);if(Y(t))return X(t,e);if(function(t){return t&&"function"==typeof t[Q]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new L(function(n){var i,r=new M;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(function(){i=t[Q](),r.add(e.schedule(function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof L?t:new L(J(t))}var et=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this)).parent=t,i}return g(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(R),nt=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(R);function it(t,e){if(!e.closed)return t instanceof L?t.subscribe(e):J(t)(e)}function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(i){return i.pipe(rt(function(n,i){return tt(t(n,i)).pipe(W(function(t,r){return e(n,t,i,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new ot(t,n))})}var ot=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;f(this,t),this.project=e,this.concurrent=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new at(t,this.project,this.concurrent))}}]),t}(),at=function(t){a(n,t);var e=c(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return f(this,n),(r=e.call(this,t)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return g(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new et(this),n=this.destination;n.add(e);var i=it(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(nt);function st(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return rt(A,t)}function ct(t,e){return e?X(t,e):new L(K(t))}function lt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return q(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(i=e.pop())):"number"==typeof o&&(i=e.pop()),null===r&&1===e.length&&e[0]instanceof L?e[0]:st(i)(ct(e,r))}function ut(){return function(t){return t.lift(new dt(t))}}var ht,dt=function(){function t(e){f(this,t),this.connectable=e}return g(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new ft(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),ft=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).connectable=i,r}return g(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(R),pt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(ht=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this)).source=t,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return g(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new M).add(this.source.subscribe(new gt(this.getSubject(),this))),t.closed&&(this._connection=null,t=M.EMPTY)),t}},{key:"refCount",value:function(){return ut()(this)}}]),n}(L).prototype)._subscribe},_isComplete:{value:ht._isComplete,writable:!0},getSubject:{value:ht.getSubject},connect:{value:ht.connect},refCount:{value:ht.refCount}},gt=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).connectable=i,r}return g(n,[{key:"_error",value:function(t){this._unsubscribe(),r(d(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),r(d(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(H);function vt(){return new z}function mt(t){for(var e in t)if(t[e]===mt)return e;throw Error("Could not find renamed property on target object.")}function yt(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function bt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _t(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var kt=mt({__forward_ref__:mt});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return bt(this())},t}function wt(t){return xt(t)?t():t}function xt(t){return"function"==typeof t&&t.hasOwnProperty(kt)&&t.__forward_ref__===Ct}function Pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function St(t){return Mt(t,Rt)||Mt(t,It)}function Mt(t,e){return t.hasOwnProperty(e)?t[e]:null}function Tt(t){return t&&(t.hasOwnProperty(Ft)||t.hasOwnProperty(At))?t[Ft]:null}var Et,Rt=mt({"\u0275prov":mt}),Ft=mt({"\u0275inj":mt}),It=mt({ngInjectableDef:mt}),At=mt({ngInjectorDef:mt}),Dt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function Lt(t){var e=Et;return Et=t,e}function Bt(t,e,n){var i=St(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&Dt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(bt(t),"]"))}function Nt(t){return{toString:t}.toString()}var jt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Vt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Ht="undefined"!=typeof globalThis&&globalThis,zt="undefined"!=typeof window&&window,Ut="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt="undefined"!=typeof global&&global,Wt=Ht||qt||zt||Ut,$t={},Gt=[],Kt=mt({"\u0275cmp":mt}),Qt=mt({"\u0275dir":mt}),Yt=mt({"\u0275pipe":mt}),Zt=mt({"\u0275mod":mt}),Jt=mt({"\u0275loc":mt}),Xt=mt({"\u0275fac":mt}),te=mt({__NG_ELEMENT_ID__:mt}),ee=0;function ne(t){return Nt(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Gt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Vt.Emulated,id:"c",styles:t.styles||Gt,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=ee++,n.inputs=ce(t.inputs,e),n.outputs=ce(t.outputs),r&&r.forEach(function(t){return t(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(re)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(oe)}:null,n})}function ie(t,e,n){var i=t.\u0275cmp;i.directiveDefs=function(){return e.map(re)},i.pipeDefs=function(){return n.map(oe)}}function re(t){return he(t)||function(t){return t[Qt]||null}(t)}function oe(t){return function(t){return t[Yt]||null}(t)}var ae={};function se(t){var e={type:t.type,bootstrap:t.bootstrap||Gt,declarations:t.declarations||Gt,imports:t.imports||Gt,exports:t.exports||Gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Nt(function(){ae[t.id]=t.type}),e}function ce(t,e){if(null==t)return $t;var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}var le=ne;function ue(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function he(t){return t[Kt]||null}function de(t,e){var n=t[Zt]||null;if(!n&&!0===e)throw new Error("Type ".concat(bt(t)," does not have '\u0275mod' property."));return n}function fe(t){return Array.isArray(t)&&"object"==typeof t[1]}function pe(t){return Array.isArray(t)&&!0===t[1]}function ge(t){return 0!=(8&t.flags)}function ve(t){return 2==(2&t.flags)}function me(t){return 1==(1&t.flags)}function ye(t){return null!==t.template}function be(t,e){return t.hasOwnProperty(Xt)?t[Xt]:null}var _e=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,i))).code=t,r}return g(n)}(n(Error));function ke(t){return"string"==typeof t?t:null==t?"":String(t)}function Ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ke(t)}function we(t,e){var n=e?" in "+e:"";throw new _e("201","No provider for ".concat(Ce(t)," found").concat(n))}var xe=function(){function t(e,n,i){f(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return g(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Pe(){return Oe}function Oe(t){return t.type.prototype.ngOnChanges&&(t.setInput=Me),Se}function Se(){var t=Te(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===$t)t.previous=e;else for(var i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Me(t,e,n,i){var r=Te(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:$t,current:null}),o=r.current||(r.current={}),a=r.previous,s=this.declaredInputs[n],c=a[s];o[s]=new xe(c&&c.currentValue,e,a===$t),t[i]=e}function Te(t){return t.__ngSimpleChanges__||null}Pe.ngInherit=!0;var Ee=void 0;function Re(t){return!!t.listen}var Fe={createRenderer:function(t,e){return void 0!==Ee?Ee:"undefined"!=typeof document?document:void 0}};function Ie(t){for(;Array.isArray(t);)t=t[0];return t}function Ae(t,e){return Ie(e[t])}function De(t,e){return Ie(e[t.index])}function Le(t,e){return t.data[e]}function Be(t,e){return t[e]}function Ne(t,e){var n=e[t];return fe(n)?n:n[0]}function je(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ve(t){return 4==(4&t[2])}function He(t){return 128==(128&t[2])}function ze(t,e){return null==e?null:t[e]}function Ue(t){t[18]=0}function qe(t,e){t[5]+=e;for(var n=t,i=t[3];null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}var We={lFrame:vn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $e(){return We.bindingsEnabled}function Ge(){return We.lFrame.lView}function Ke(){return We.lFrame.tView}function Qe(t){We.lFrame.contextLView=t}function Ye(){for(var t=Ze();null!==t&&64===t.type;)t=t.parent;return t}function Ze(){return We.lFrame.currentTNode}function Je(t,e){var n=We.lFrame;n.currentTNode=t,n.isParent=e}function Xe(){return We.lFrame.isParent}function tn(){We.lFrame.isParent=!1}function en(){return We.isInCheckNoChangesMode}function nn(t){We.isInCheckNoChangesMode=t}function rn(){var t=We.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function on(){return We.lFrame.bindingIndex}function an(){return We.lFrame.bindingIndex++}function sn(t){var e=We.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cn(t){We.lFrame.currentDirectiveIndex=t}function ln(t){var e=We.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function un(){return We.lFrame.currentQueryIndex}function hn(t){We.lFrame.currentQueryIndex=t}function dn(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fn(t,e,n){if(n&Dt.SkipSelf){for(var i=e,r=t;!(null!==(i=i.parent)||n&Dt.Host||(i=dn(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}var o=We.lFrame=gn();return o.currentTNode=e,o.lView=t,!0}function pn(t){var e=gn(),n=t[1];We.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function gn(){var t=We.lFrame,e=null===t?null:t.child;return null===e?vn(t):e}function vn(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function mn(){var t=We.lFrame;return We.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var yn=mn;function bn(){var t=mn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _n(){return We.lFrame.selectedIndex}function kn(t){We.lFrame.selectedIndex=t}function Cn(){var t=We.lFrame;return Le(t.tView,t.selectedIndex)}function wn(){We.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function xn(t,e){for(var n=e.directiveStart,i=e.directiveEnd;n<i;n++){var r=t.data[n].type.prototype,o=r.ngAfterContentInit,a=r.ngAfterContentChecked,s=r.ngAfterViewInit,c=r.ngAfterViewChecked,l=r.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Pn(t,e,n){Mn(t,e,3,n)}function On(t,e,n,i){(3&t[2])===n&&Mn(t,e,n,i)}function Sn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Mn(t,e,n,i){for(var r=null!=i?i:-1,o=0,a=void 0!==i?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(Tn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Tn(t,e,n,i){var r=n[i]<0,o=n[i+1],a=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var En=g(function t(e,n,i){f(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i});function Rn(t,e,n){for(var i=Re(t),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var a=n[r++],s=n[r++],c=n[r++];i?t.setAttribute(e,s,c,a):e.setAttributeNS(a,s,c)}else{var l=o,u=n[++r];In(l)?i&&t.setProperty(e,l,u):i?t.setAttribute(e,l,u):e.setAttribute(l,u),r++}}return r}function Fn(t){return 3===t||4===t||6===t}function In(t){return 64===t.charCodeAt(0)}function An(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,i=0;i<e.length;i++){var r=e[i];"number"==typeof r?n=r:0===n||Dn(t,n,r,null,-1===n||2===n?e[++i]:null)}return t}function Dn(t,e,n,i,r){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var c=t[o];if("number"==typeof c)break;if(c===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Ln(t){return-1!==t}function Bn(t){return 32767&t}function Nn(t,e){for(var n=t>>16,i=e;n>0;)i=i[15],n--;return i}var jn=!0;function Vn(t){var e=jn;return jn=t,e}var Hn=0;function zn(t,e){var n=qn(t,e);if(-1!==n)return n;var i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Un(i.data,t),Un(e,null),Un(i.blueprint,null));var r=Wn(t,e),o=t.injectorIndex;if(Ln(r))for(var a=Bn(r),s=Nn(r,e),c=s[1].data,l=0;l<8;l++)e[o+l]=s[a+l]|c[a+l];return e[o+8]=r,o}function Un(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Wn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,i=null,r=e;null!==r;){var o=r[1],a=o.type;if(null===(i=2===a?o.declTNode:1===a?r[6]:null))return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function $n(t,e,n){!function(t,e,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(te)&&(i=n[te]),null==i&&(i=n[te]=Hn++);var r=255&i,o=1<<r,a=64&r,s=32&r,c=e.data;128&r?a?s?c[t+7]|=o:c[t+6]|=o:s?c[t+5]|=o:c[t+4]|=o:a?s?c[t+3]|=o:c[t+2]|=o:s?c[t+1]|=o:c[t]|=o}(t,e,n)}function Gn(t,e,n){if(n&Dt.Optional)return t;we(e,"NodeInjector")}function Kn(t,e,n,i){if(n&Dt.Optional&&void 0===i&&(i=null),0==(n&(Dt.Self|Dt.Host))){var r=t[9],o=Lt(void 0);try{return r?r.get(e,i,n&Dt.Optional):Bt(e,i,n&Dt.Optional)}finally{Lt(o)}}return Gn(i,e,n)}function Qn(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dt.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(te)?t[te]:void 0;return"number"==typeof e?e>=0?255&e:Zn:e}(n);if("function"==typeof o){if(!fn(e,t,i))return i&Dt.Host?Gn(r,n,i):Kn(e,n,i,r);try{var a=o();if(null!=a||i&Dt.Optional)return a;we(n)}finally{yn()}}else if("number"==typeof o){var s=null,c=qn(t,e),l=-1,u=i&Dt.Host?e[16][6]:null;for((-1===c||i&Dt.SkipSelf)&&(-1!==(l=-1===c?Wn(t,e):e[c+8])&&ni(i,!1)?(s=e[1],c=Bn(l),e=Nn(l,e)):c=-1);-1!==c;){var h=e[1];if(ei(o,c,h.data)){var d=Jn(c,e,n,s,i,u);if(d!==Yn)return d}-1!==(l=e[c+8])&&ni(i,e[1].data[c+8]===u)&&ei(o,c,e)?(s=h,c=Bn(l),e=Nn(l,e)):c=-1}}}return Kn(e,n,i,r)}var Yn={};function Zn(){return new ii(Ye(),Ge())}function Jn(t,e,n,i,r,o){var a=e[1],s=a.data[t+8],c=Xn(s,a,n,null==i?ve(s)&&jn:i!=a&&0!=(3&s.type),r&Dt.Host&&o===s);return null!==c?ti(e,a,c,s):Yn}function Xn(t,e,n,i,r){for(var o=t.providerIndexes,a=e.data,s=1048575&o,c=t.directiveStart,l=o>>20,u=r?s+l:t.directiveEnd,h=i?s:s+l;h<u;h++){var d=a[h];if(h<c&&n===d||h>=c&&d.type===n)return h}if(r){var f=a[c];if(f&&ye(f)&&f.type===n)return c}return null}function ti(t,e,n,i){var r=t[n],o=e.data;if(r instanceof En){var a=r;a.resolving&&function(t,e){throw new _e("200","Circular dependency in DI detected for "+t)}(Ce(o[n]));var s=Vn(a.canSeeViewProviders);a.resolving=!0;var c=a.injectImpl?Lt(a.injectImpl):null;fn(t,i,Dt.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){var i=e.type.prototype,r=i.ngOnChanges,o=i.ngOnInit,a=i.ngDoCheck;if(r){var s=Oe(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==c&&Lt(c),Vn(s),a.resolving=!1,yn()}}return r}function ei(t,e,n){var i=64&t,r=32&t;return!!((128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e])&1<<t)}function ni(t,e){return!(t&Dt.Self||t&Dt.Host&&e)}var ii=function(){function t(e,n){f(this,t),this._tNode=e,this._lView=n}return g(t,[{key:"get",value:function(t,e){return Qn(this._tNode,this._lView,t,void 0,e)}}]),t}();function ri(t){var e=t;if(xt(t))return function(){var t=ri(wt(e));return t?t():null};var n=be(e);if(null===n){var i=Tt(e);n=i&&i.factory}return n||null}function oi(t){return Nt(function(){for(var e=t.prototype.constructor,n=e[Xt]||ri(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;r&&r!==i;){var o=r[Xt]||ri(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return function(t){return new t}})}function ai(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var i=n.length,r=0;r<i;){var o=n[r];if(Fn(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===e)return n[r+1];r+=2}}return null}(Ye(),t)}function si(t,e,n){return Nt(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof o)return r.apply(this,e),this;var a=i(o,e);return s.annotation=a,s;function s(t,e,n){for(var i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var ci=function(){function t(e,n){f(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Pt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return g(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),li=new ci("AnalyzeForEntryComponents"),ui=Function;function hi(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),hi(i,e)):e!==t&&e.push(i)}return e}function di(t,e){t.forEach(function(t){return Array.isArray(t)?di(t,e):e(t)})}function fi(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gi(t,e){for(var n=[],i=0;i<t;i++)n.push(e);return n}function vi(t,e,n){var i=yi(t,e);return i>=0?t[1|i]=n:function(t,e,n,i){var r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i=~i,e,n),i}function mi(t,e){var n=yi(t,e);if(n>=0)return t[1|n]}function yi(t,e){return function(t,e,n){for(var i=0,r=t.length>>1;r!==i;){var o=i+(r-i>>1),a=t[o<<1];if(e===a)return o<<1;a>e?r=o:i=o+1}return~(r<<1)}(t,e)}var bi=si("Inject",function(t){return{token:t}}),_i=si("Optional"),ki=si("Self"),Ci=si("SkipSelf"),wi={},xi=/\n/gm,Pi=mt({provide:String,useValue:mt}),Oi=void 0;function Si(t){var e=Oi;return Oi=t,e}function Mi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.Default;if(void 0===Oi)throw new Error("inject() must be called from an injection context");return null===Oi?Bt(t,void 0,e):Oi.get(t,e&Dt.Optional?null:void 0,e)}function Ti(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.Default;return(Et||Mi)(wt(t),e)}var Ei,Ri=Ti;function Fi(t){for(var e=[],n=0;n<t.length;n++){var i=wt(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=Dt.Default,a=0;a<i.length;a++){var s=i[a];s instanceof _i||"Optional"===s.ngMetadataName||s===_i?o|=Dt.Optional:s instanceof Ci||"SkipSelf"===s.ngMetadataName||s===Ci?o|=Dt.SkipSelf:s instanceof ki||"Self"===s.ngMetadataName||s===ki?o|=Dt.Self:r=s instanceof bi||s===bi?s.token:s}e.push(Ti(r,o))}else e.push(Ti(i))}return e}function Ii(t){var e;return(null===(e=function(){if(void 0===Ei&&(Ei=null,Wt.trustedTypes))try{Ei=Wt.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Ei}())||void 0===e?void 0:e.createHTML(t))||t}var Ai=function(){function t(e){f(this,t),this.changingThisBreaksApplicationSecurity=e}return g(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}]),t}(),Di=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ai),Li=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ai),Bi=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ai),Ni=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ai),ji=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ai);function Vi(t){return t instanceof Ai?t.changingThisBreaksApplicationSecurity:t}function Hi(t,e){var n=zi(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function zi(t){return t instanceof Ai&&t.getTypeName()||null}var Ui=function(){function t(){f(this,t)}return g(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Ii(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}}]),t}(),qi=function(){function t(e){if(f(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return g(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ii(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Ii(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}(),Wi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$i=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gi(t){return(t=String(t)).match(Wi)||t.match($i)?t:"unsafe:"+t}function Ki(t){var e,n={},i=k(t.split(","));try{for(i.s();!(e=i.n()).done;){n[e.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function Qi(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Yi,Zi=Ki("area,br,col,hr,img,wbr"),Ji=Ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xi=Ki("rp,rt"),tr=Qi(Xi,Ji),er=Qi(Zi,Qi(Ji,Ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qi(Xi,Ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr),nr=Ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Ki("srcset"),rr=Qi(nr,ir,Ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=Ki("script,style,template"),ar=function(){function t(){f(this,t),this.sanitizedSomething=!1,this.buf=[]}return g(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!er.hasOwnProperty(e))return this.sanitizedSomething=!0,!or.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,i=t.attributes,r=0;r<i.length;r++){var o=i.item(r),a=o.name,s=a.toLowerCase();if(rr.hasOwnProperty(s)){var c=o.value;nr[s]&&(c=Gi(c)),ir[s]&&(n=c,c=(n=String(n)).split(",").map(function(t){return Gi(t.trim())}).join(", ")),this.buf.push(" ",a,'="',lr(c),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();er.hasOwnProperty(e)&&!Zi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(lr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(cr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function dr(t){var e,n=(e=Ge())&&e[12];return n?n.sanitize(hr.URL,t)||"":Hi(t,"URL")?Vi(t):Gi(ke(t))}function fr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function gr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var vr=function(){function t(){f(this,t),this._console=console}return g(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||gr}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?fr(t)?fr(t):this._findContext(pr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=pr(t);e&&pr(e);)e=pr(e);return e}}]),t}();function mr(t,e){t.__ngContext__=e}var yr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt);function br(t){return{name:"document",target:t.ownerDocument}}function _r(t){return{name:"body",target:t.ownerDocument.body}}function kr(t){return t instanceof Function?t():t}var Cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function wr(t,e){return(void 0)(t,e)}function xr(t){var e=t[3];return pe(e)?e[3]:e}function Pr(t){return Sr(t[13])}function Or(t){return Sr(t[4])}function Sr(t){for(;null!==t&&!pe(t);)t=t[4];return t}function Mr(t,e,n,i,r){if(null!=i){var o,a=!1;pe(i)?o=i:fe(i)&&(a=!0,i=i[0]);var s=Ie(i);0===t&&null!==n?null==r?Lr(e,n,s):Dr(e,n,s,r||null,!0):1===t&&null!==n?Dr(e,n,s,r||null,!0):2===t?function(t,e,n){var i=Nr(t,e);i&&function(t,e,n,i){Re(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,i,r){var o=n[7];o!==Ie(n)&&Mr(e,t,i,o,r);for(var a=10;a<n.length;a++){var s=n[a];Wr(s[1],s,t,e,i,o)}}(e,t,o,n,r)}}function Tr(t,e,n){return Re(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Er(t,e){var n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,qe(r,-1)),n.splice(i,1)}function Rr(t,e){if(!(t.length<=10)){var n,i=10+e,r=t[i];if(r){var o=r[17];null!==o&&o!==t&&Er(o,r),e>0&&(t[i-1][4]=r[4]);var a=pi(t,10+e);Wr(r[1],n=r,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Fr(t,e){if(!(256&e[2])){var n=e[11];Re(n)&&n.destroyNode&&Wr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Ir(t[1],t);for(;e;){var n=null;if(fe(e))n=e[13];else{var i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)fe(e)&&Ir(e[1],e),e=e[3];null===e&&(e=t),fe(e)&&Ir(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ir(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var i=0;i<n.length;i+=2){var r=e[n[i]];if(!(r instanceof En)){var o=n[i+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(r[o[a]]);else o.call(r)}}}(t,e),function(t,e){var n=t.cleanup,i=e[7],r=-1;if(null!==n){for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Ie(e[a]),c=i[r=n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],c,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),o+=2}else{var u=i[r=n[o+1]];n[o].call(u)}if(null!==i)for(var h=r+1;h<i.length;h++)(0,i[h])();e[7]=null}}(t,e),1===e[1].type&&Re(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&pe(e[3])){n!==e[3]&&Er(n,e);var i=e[19];null!==i&&i.detachView(t)}}}function Ar(t,e,n){return function(t,e,n){for(var i=e;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){var r=t.data[i.directiveStart].encapsulation;if(r===Vt.None||r===Vt.Emulated)return null}return De(i,n)}(t,e.parent,n)}function Dr(t,e,n,i,r){Re(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Lr(t,e,n){Re(t)?t.appendChild(e,n):e.appendChild(n)}function Br(t,e,n,i,r){null!==i?Dr(t,e,n,i,r):Lr(t,e,n)}function Nr(t,e){return Re(t)?t.parentNode(e):e.parentNode}function jr(t,e,n){return Vr(t,e,n)}var Vr=function(t,e,n){return 40&t.type?De(t,n):null};function Hr(t,e,n,i){var r=Ar(t,i,e),o=e[11],a=jr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(var s=0;s<n.length;s++)Br(o,r,n[s],a,!1);else Br(o,r,n,a,!1)}function zr(t,e){if(null!==e){var n=e.type;if(3&n)return De(e,t);if(4&n)return Ur(-1,t[e.index]);if(8&n){var i=e.child;if(null!==i)return zr(t,i);var r=t[e.index];return pe(r)?Ur(-1,r):Ie(r)}if(32&n)return wr(e,t)()||Ie(t[e.index]);var o=t[16],a=o[6],s=xr(o),c=a.projection[e.projection];return null!=c?zr(s,c):zr(t,e.next)}return null}function Ur(t,e){var n=10+t+1;if(n<e.length){var i=e[n],r=i[1].firstChild;if(null!==r)return zr(i,r)}return e[7]}function qr(t,e,n,i,r,o,a){for(;null!=n;){var s=i[n.index],c=n.type;if(a&&0===e&&(s&&mr(Ie(s),i),n.flags|=4),64!=(64&n.flags))if(8&c)qr(t,e,n.child,i,r,o,!1),Mr(e,t,r,s,o);else if(32&c){for(var l=wr(n,i),u=void 0;u=l();)Mr(e,t,r,u,o);Mr(e,t,r,s,o)}else 16&c?$r(t,e,i,n,r,o):Mr(e,t,r,s,o);n=a?n.projectionNext:n.next}}function Wr(t,e,n,i,r,o){qr(n,i,t.firstChild,e,r,o,!1)}function $r(t,e,n,i,r,o){var a=n[16],s=a[6].projection[i.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)Mr(e,t,r,s[c],o);else qr(t,e,s,a[3],r,o,!0)}function Gr(t,e,n){Re(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Kr(t,e,n){Re(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Qr(t,e,n){for(var i=t.length;;){var r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){var o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function Yr(t,e,n){for(var i=0;i<t.length;){var r=t[i++];if(n&&"class"===r){if(-1!==Qr((r=t[i]).toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Zr(t){return 4===t.type&&"ng-template"!==t.value}function Jr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Xr(t,e,n){for(var i=4,r=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Fn(t[e]))return e;return t.length}(r),a=!1,s=0;s<e.length;s++){var c=e[s];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!Jr(t,c,n)||""===c&&1===e.length){if(to(i))return!1;a=!0}}else{var l=8&i?c:e[++s];if(8&i&&null!==t.attrs){if(!Yr(t.attrs,l,n)){if(to(i))return!1;a=!0}continue}var u=eo(8&i?"class":c,r,Zr(t),n);if(-1===u){if(to(i))return!1;a=!0;continue}if(""!==l){var h;h=u>o?"":r[u+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==Qr(d,l,0)||2&i&&l!==h){if(to(i))return!1;a=!0}}}}else{if(!a&&!to(i)&&!to(c))return!1;if(a&&to(c))continue;a=!1,i=c|1&i}}return to(i)||a}function to(t){return 0==(1&t)}function eo(t,e,n,i){if(null===e)return-1;var r=0;if(i||!n){for(var o=!1;r<e.length;){var a=e[r];if(a===t)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++r];"string"==typeof s;)s=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function no(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(Xr(t,e[i],n))return!0;return!1}function io(t,e){t:for(var n=0;n<e.length;n++){var i=e[n];if(t.length===i.length){for(var r=0;r<t.length;r++)if(t[r]!==i[r])continue t;return!0}}return!1}function ro(t,e){return t?":not("+e.trim()+")":e}function oo(t){for(var e=t[0],n=1,i=2,r="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&i){var s=t[++n];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""===r||to(a)||(e+=ro(o,r),r=""),i=a,o=o||!to(i);n++}return""!==r&&(e+=ro(o,r)),e}var ao={};function so(t){co(Ke(),Ge(),_n()+t,en())}function co(t,e,n,i){if(!i)if(3==(3&e[2])){var r=t.preOrderCheckHooks;null!==r&&Pn(e,r,n)}else{var o=t.preOrderHooks;null!==o&&On(e,o,0,n)}kn(n)}function lo(t,e){return t<<17|e<<2}function uo(t){return t>>17&32767}function ho(t){return 2|t}function fo(t){return(131068&t)>>2}function po(t,e){return-131069&t|e<<2}function go(t){return 1|t}function vo(t,e){var n=t.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var a=t.data[o];hn(r),a.contentQueries(2,e[o],o)}}}function mo(t,e,n,i,r,o,a,s,c,l){var u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Ue(u),u[3]=u[15]=t,u[8]=n,u[10]=a||t&&t[10],u[11]=s||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function yo(t,e,n,i,r){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,i,r){var o=Ze(),a=Xe(),s=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,i,r),We.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;var c=(o=We.lFrame,a=o.currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===c?-1:c.injectorIndex}return Je(s,!0),s}function bo(t,e,n,i){if(0===n)return-1;for(var r=e.length,o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function _o(t,e,n){pn(e);try{var i=t.viewQuery;null!==i&&Yo(1,i,n);var r=t.template;null!==r&&wo(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vo(t,e),t.staticViewQueries&&Yo(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Wo(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,bn()}}function ko(t,e,n,i){var r=e[2];if(256!=(256&r)){pn(e);var o=en();try{Ue(e),We.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&wo(t,e,n,2,i);var a=3==(3&r);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Pn(e,s,null)}else{var c=t.preOrderHooks;null!==c&&On(e,c,0,null),Sn(e,0)}if(function(t){for(var e=Pr(t);null!==e;e=Or(e))if(e[2])for(var n=e[9],i=0;i<n.length;i++){var r=n[i],o=r[3];0==(1024&r[2])&&qe(o,1),r[2]|=1024}}(e),function(t){for(var e=Pr(t);null!==e;e=Or(e))for(var n=10;n<e.length;n++){var i=e[n],r=i[1];He(i)&&ko(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&vo(t,e),!o)if(a){var l=t.contentCheckHooks;null!==l&&Pn(e,l)}else{var u=t.contentHooks;null!==u&&On(e,u,1),Sn(e,1)}!function(t,e){var n,i,r,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)kn(~s);else{var c=s,l=o[++a],u=o[++a];n=l,i=c,r=void 0,(r=We.lFrame).bindingIndex=r.bindingRootIndex=n,cn(i),u(2,e[c])}}}finally{kn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Uo(t,e[n])}(e,h);var d=t.viewQuery;if(null!==d&&Yo(2,d,i),!o)if(a){var f=t.viewCheckHooks;null!==f&&Pn(e,f)}else{var p=t.viewHooks;null!==p&&On(e,p,2),Sn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qe(e[3],-1))}finally{bn()}}}function Co(t,e,n,i){var r=e[10],o=!en(),a=Ve(e);try{o&&!a&&r.begin&&r.begin(),a&&_o(t,e,i),ko(t,e,n,i)}finally{o&&!a&&r.end&&r.end()}}function wo(t,e,n,i,r){var o=_n();try{kn(-1),2&i&&e.length>20&&co(t,e,20,en()),n(i,r)}finally{kn(o)}}function xo(t,e,n){if(ge(e))for(var i=e.directiveEnd,r=e.directiveStart;r<i;r++){var o=t.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function Po(t,e,n){$e()&&(function(t,e,n,i){var r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||zn(n,e),mr(i,e);for(var a=n.initialInputs,s=r;s<o;s++){var c=t.data[s],l=ye(c);l&&jo(e,n,c);var u=ti(e,t,s,n);mr(u,e),null!==a&&Vo(0,s-r,u,c,0,a),l&&(Ne(n.index,e)[8]=u)}}(t,e,n,De(n,e)),128==(128&n.flags)&&function(t,e,n){var i=n.directiveStart,r=n.directiveEnd,o=n.index,a=We.lFrame.currentDirectiveIndex;try{kn(o);for(var s=i;s<r;s++){var c=t.data[s],l=e[s];cn(s),null===c.hostBindings&&0===c.hostVars&&null===c.hostAttrs||Ao(c,l)}}finally{kn(-1),cn(a)}}(t,e,n))}function Oo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De,i=e.localNames;if(null!==i)for(var r=e.index+1,o=0;o<i.length;o+=2){var a=i[o+1],s=-1===a?n(e,t):t[a];t[r++]=s}}function So(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Mo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Mo(t,e,n,i,r,o,a,s,c,l){var u=20+i,h=u+r,d=function(t,e){for(var n=[],i=0;i<e;i++)n.push(i<t?null:ao);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function To(t,e,n,i){var r=Jo(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&Xo(t).push(i,r.length-1))}function Eo(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Ro(t,e,n,i,r,o,a,s){var c,l,u=De(e,n),h=e.inputs;!s&&null!=h&&(c=h[i])?(na(t,n,c,i,r),ve(e)&&function(t,e){var n=Ne(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(l=i)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,r=null!=a?a(r,e.value||"",i):r,Re(o)?o.setProperty(u,i,r):In(i)||(u.setProperty?u.setProperty(i,r):u[i]=r))}function Fo(t,e,n,i){var r=!1;if($e()){var o=function(t,e,n){var i=t.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var a=i[o];no(n,a.selectors,!1)&&(r||(r=[]),$n(zn(n,e),t,a.type),ye(a)?(Do(t,n),r.unshift(a)):r.push(a))}return r}(t,e,n),a=null===i?null:{"":-1};if(null!==o){r=!0,Bo(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var c=o[s];c.providersResolver&&c.providersResolver(c)}for(var l=!1,u=!1,h=bo(t,e,o.length,null),d=0;d<o.length;d++){var f=o[d];n.mergedAttrs=An(n.mergedAttrs,f.hostAttrs),No(t,n,e,h,f),Lo(h,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),l=!0),u||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),h++}!function(t,e){for(var n=e.directiveEnd,i=t.data,r=e.attrs,o=[],a=null,s=null,c=e.directiveStart;c<n;c++){var l=i[c],u=l.inputs,h=null===r||Zr(e)?null:Ho(u,r);o.push(h),a=Eo(u,c,a),s=Eo(l.outputs,c,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var i=t.localNames=[],r=0;r<e.length;r+=2){var o=n[e[r+1]];if(null==o)throw new _e("301","Export of name '".concat(e[r+1],"' not found!"));i.push(e[r],o)}}(n,i,a)}return n.mergedAttrs=An(n.mergedAttrs,n.attrs),r}function Io(t,e,n,i,r,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var c=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=c&&s.push(c),s.push(i,r,a)}}function Ao(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Do(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Lo(t,e,n){if(n){if(e.exportAs)for(var i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ye(e)&&(n[""]=t)}}function Bo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function No(t,e,n,i,r){t.data[i]=r;var o=r.factory||(r.factory=be(r.type)),a=new En(o,ye(r),null);t.blueprint[i]=a,n[i]=a,Io(t,e,0,i,bo(t,n,r.hostVars,ao),r)}function jo(t,e,n){var i=De(e,t),r=So(n),o=t[10],a=$o(t,mo(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=a}function Vo(t,e,n,i,r,o){var a=o[e];if(null!==a)for(var s=i.setInput,c=0;c<a.length;){var l=a[c++],u=a[c++],h=a[c++];null!==s?i.setInput(n,h,l,u):n[u]=h}}function Ho(t,e){for(var n=null,i=0;i<e.length;){var r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function zo(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Uo(t,e){var n=Ne(e,t);if(He(n)){var i=n[1];80&n[2]?ko(i,n,i.template,n[8]):n[5]>0&&qo(n)}}function qo(t){for(var e=Pr(t);null!==e;e=Or(e))for(var n=10;n<e.length;n++){var i=e[n];if(1024&i[2]){var r=i[1];ko(r,i,r.template,i[8])}else i[5]>0&&qo(i)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Ne(o[a],t);He(s)&&s[5]>0&&qo(s)}}function Wo(t,e){var n=Ne(e,t),i=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),_o(i,n,n[8])}function $o(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Go(t){for(;t;){t[2]|=64;var e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ko(t,e,n){var i=e[10];i.begin&&i.begin();try{ko(t,e,t.template,n)}catch(r){throw ea(e,r),r}finally{i.end&&i.end()}}function Qo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],i=je(n),r=i[1];Co(r,i,r.template,n)}}(t[8])}function Yo(t,e,n){hn(0),e(t,n)}var Zo=Promise.resolve(null);function Jo(t){return t[7]||(t[7]=[])}function Xo(t){return t.cleanup||(t.cleanup=[])}function ta(t,e,n){return(null===t||ye(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ea(t,e){var n=t[9],i=n?n.get(vr,null):null;i&&i.handleError(e)}function na(t,e,n,i,r){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],c=e[a],l=t.data[a];null!==l.setInput?l.setInput(c,r,i,s):c[s]=r}}function ia(t,e,n){var i=Ae(e,t);!function(t,e,n){Re(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function ra(t,e,n){var i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?r=_t(r,s):2==o&&(i=_t(i,s+": "+e[++a]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var oa=new ci("INJECTOR",-1),aa=function(){function t(){f(this,t)}return g(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wi;if(e===wi){var n=new Error("NullInjectorError: No provider for ".concat(bt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),sa=new ci("Set Injector scope."),ca={},la={},ua=[],ha=void 0;function da(){return void 0===ha&&(ha=new aa),ha}function fa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new pa(t,n,e||da(),i)}var pa=function(){function t(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&di(n,function(t){return r.processProvider(t,e,n)}),di([e],function(t){return r.processInjectorType(t,[],a)}),this.records.set(oa,ma(void 0,this));var s=this.records.get(sa);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:bt(e))}return g(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wi,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt.Default;this.assertNotDestroyed();var i,r=Si(this);try{if(!(n&Dt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(i=t)||"object"==typeof i&&i instanceof ci)&&St(t);o=a&&this.injectableDefInScope(a)?ma(ga(t),ca):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&Dt.Self?da():this.parent).get(t,e=n&Dt.Optional&&e===wi?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(bt(t)),r)throw s;return function(t,e,n,i){var r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=bt(e);if(Array.isArray(e))r=e.map(bt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):bt(s)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(xi,"\n  "))}("\n"+t.message,r,"R3InjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Si(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(bt(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var i=this;if(!(t=wt(t)))return!1;var r=Tt(t),o=null==r&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(r=Tt(o)),null==r)return!1;if(null!=r.imports&&!s){var c;n.push(a);try{di(r.imports,function(t){i.processInjectorType(t,e,n)&&(void 0===c&&(c=[]),c.push(t))})}finally{}if(void 0!==c)for(var l=function(){var t=c[u],e=t.ngModule,n=t.providers;di(n,function(t){return i.processProvider(t,e,n||ua)})},u=0;u<c.length;u++)l()}this.injectorDefTypes.add(a),this.records.set(a,ma(r.factory,ca));var h=r.providers;if(null!=h&&!s){var d=t;di(h,function(t){return i.processProvider(t,d,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var i=ba(t=wt(t))?t:wt(t&&t.provide),r=function(t,e,n){return ya(t)?ma(void 0,t.useValue):ma(va(t),ca)}(t);if(ba(t)||!0!==t.multi)this.records.get(i);else{var o=this.records.get(i);o||((o=ma(void 0,ca,!0)).factory=function(){return Fi(o.multi)},this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,r)}},{key:"hydrate",value:function(t,e){var n;return e.value===ca&&(e.value=la,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function ga(t){var e=St(t),n=null!==e?e.factory:be(t);if(null!==n)return n;var i=Tt(t);if(null!==i)return i.factory;if(t instanceof ci)throw new Error("Token ".concat(bt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=gi(e,"?");throw new Error("Can't resolve all parameters for ".concat(bt(t),": (").concat(n.join(", "),")."))}var i=function(t){var e=t&&(t[Rt]||t[It]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==i?function(){return i.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function va(t,e,n){var r,o=void 0;if(ba(t)){var a=wt(t);return be(a)||ga(a)}if(ya(t))o=function(){return wt(t.useValue)};else if((r=t)&&r.useFactory)o=function(){return t.useFactory.apply(t,C(Fi(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))o=function(){return Ti(wt(t.useExisting))};else{var s=wt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return be(s)||ga(s);o=function(){return i(s,C(Fi(t.deps)))}}return o}function ma(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function ya(t){return null!==t&&"object"==typeof t&&Pi in t}function ba(t){return"function"==typeof t}var _a=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=fa(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)},ka=function(){var t=function(){function t(){f(this,t)}return g(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?_a(t,e,""):_a(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=wi,t.NULL=new aa,t.\u0275prov=Pt({token:t,providedIn:"any",factory:function(){return Ti(oa)}}),t.__NG_ELEMENT_ID__=-1,t}();function Ca(t,e){xn(je(t)[1],Ye())}function wa(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,i=[t];e;){var r=void 0;if(ye(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);var o=t;o.inputs=xa(t.inputs),o.declaredInputs=xa(t.declaredInputs),o.outputs=xa(t.outputs);var a=r.hostBindings;a&&Sa(t,a);var s=r.viewQuery,c=r.contentQueries;if(s&&Pa(t,s),c&&Oa(t,c),yt(t.inputs,r.inputs),yt(t.declaredInputs,r.declaredInputs),yt(t.outputs,r.outputs),ye(r)&&r.data.animation){var l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}var u=r.features;if(u)for(var h=0;h<u.length;h++){var d=u[h];d&&d.ngInherit&&d(t),d===wa&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,i=t.length-1;i>=0;i--){var r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=An(r.hostAttrs,n=An(n,r.hostAttrs))}}(i)}function xa(t){return t===$t?{}:t===Gt?[]:t}function Pa(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,i){e(t,i),n(t,i)}:e}function Oa(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,i,r){e(t,i,r),n(t,i,r)}:e}function Sa(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,i){e(t,i),n(t,i)}:e}var Ma=null;function Ta(){if(!Ma){var t=Wt.Symbol;if(t&&t.iterator)Ma=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ma=i)}}return Ma}var Ea=function(){function t(e){f(this,t),this.wrapped=e}return g(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Ra(t){return!!Fa(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ta()in t)}function Fa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ia(t,e,n){return t[e]=n}function Aa(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Da(t,e,n,i){var r=Aa(t,e,n);return Aa(t,e+1,i)||r}function La(t,e,n,i){var r=Ge();return Aa(r,an(),e)&&(Ke(),function(t,e,n,i,r,o){var a=De(t,e);!function(t,e,n,i,r,o,a){if(null==o)Re(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{var s=null==a?ke(o):a(o,i||"",r);Re(t)?t.setAttribute(e,r,s,n):n?e.setAttributeNS(n,r,s):e.setAttribute(r,s)}}(e[11],a,o,t.value,n,i,r)}(Cn(),r,t,e,n,i)),La}function Ba(t,e,n,i){return Aa(t,an(),n)?e+ke(n)+i:ao}function Na(t,e,n,i,r,o,a,s){var c=Ge(),l=Ke(),u=t+20,h=l.firstCreatePass?function(t,e,n,i,r,o,a,s,c){var l=e.consts,u=yo(e,t,4,a||null,ze(l,s));Fo(e,n,u,ze(l,c)),xn(e,u);var h=u.tViews=Mo(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,i,r,o,a):l.data[u];Je(h,!1);var d=c[11].createComment("");Hr(l,c,d,h),mr(d,c),$o(c,c[u]=zo(d,c,d,h)),me(h)&&Po(l,c,h),null!=a&&Oo(c,h,s)}function ja(t){return Be(We.lFrame.contextLView,20+t)}function Va(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.Default,n=Ge();return null===n?Ti(t,e):Qn(Ye(),n,wt(t),e)}function Ha(t,e,n){var i=Ge();return Aa(i,an(),e)&&Ro(Ke(),Cn(),i,t,e,i[11],n,!1),Ha}function za(t,e,n,i,r){var o=r?"class":"style";na(t,n,e.inputs[o],o,i)}function Ua(t,e,n,i){var r=Ge(),o=Ke(),a=20+t,s=r[11],c=r[a]=Tr(s,e,We.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,i,r,o,a){var s=e.consts,c=yo(e,t,2,r,ze(s,o));return Fo(e,n,c,ze(s,a)),null!==c.attrs&&ra(c,c.attrs,!1),null!==c.mergedAttrs&&ra(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(a,o,r,0,e,n,i):o.data[a];Je(l,!0);var u=l.mergedAttrs;null!==u&&Rn(s,c,u);var h=l.classes;null!==h&&Kr(s,c,h);var d=l.styles;null!==d&&Gr(s,c,d),64!=(64&l.flags)&&Hr(o,r,c,l),0===We.lFrame.elementDepthCount&&mr(c,r),We.lFrame.elementDepthCount++,me(l)&&(Po(o,r,l),xo(o,l,r)),null!==i&&Oo(r,l)}function qa(){var t=Ye();Xe()?tn():Je(t=t.parent,!1);var e=t;We.lFrame.elementDepthCount--;var n=Ke();n.firstCreatePass&&(xn(n,t),ge(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&za(n,e,Ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&za(n,e,Ge(),e.stylesWithoutHost,!1)}function Wa(t,e,n,i){Ua(t,e,n,i),qa()}function $a(t,e,n){var i=Ge(),r=Ke(),o=t+20,a=r.firstCreatePass?function(t,e,n,i,r){var o=e.consts,a=ze(o,i),s=yo(e,t,8,"ng-container",a);return null!==a&&ra(s,a,!0),Fo(e,n,s,ze(o,r)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,r,i,e,n):r.data[o];Je(a,!0);var s=i[o]=i[11].createComment("");Hr(r,i,s,a),mr(s,i),me(a)&&(Po(r,i,a),xo(r,a,i)),null!=n&&Oo(i,a)}function Ga(){var t=Ye(),e=Ke();Xe()?tn():Je(t=t.parent,!1),e.firstCreatePass&&(xn(e,t),ge(t)&&e.queries.elementEnd(t))}function Ka(t,e,n){$a(t,e,n),Ga()}function Qa(){return Ge()}function Ya(t){return!!t&&"function"==typeof t.then}function Za(t){return!!t&&"function"==typeof t.subscribe}function Ja(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Ge(),o=Ke(),a=Ye();return ts(o,r,r[11],a,t,e,n,i),Ja}function Xa(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Ye(),o=Ge(),a=Ke();return ts(a,o,ta(ln(a.data),r,o),r,t,e,n,i),Xa}function ts(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=me(i),l=t.firstCreatePass&&Xo(t),u=Jo(e),h=!0;if(3&i.type){var d=De(i,e),f=s?s(d):$t,p=f.target||d,g=u.length,v=s?function(t){return s(Ie(t[i.index])).target}:i.index;if(Re(n)){var m=null;if(!s&&c&&(m=function(t,e,n,i){var r=t.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var a=r[o];if(a===n&&r[o+1]===i){var s=e[7],c=r[o+2];return s.length>c?s[c]:null}"string"==typeof a&&(o+=2)}return null}(t,e,r,i.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=ns(i,e,o,!1);var y=n.listen(f.name||p,r,o);u.push(o,y),l&&l.push(r,v,g,g+1)}}else o=ns(i,e,o,!0),p.addEventListener(r,o,a),u.push(o),l&&l.push(r,v,g,a)}else o=ns(i,e,o,!1);var b,_=i.outputs;if(h&&null!==_&&(b=_[r])){var k=b.length;if(k)for(var C=0;C<k;C+=2){var w=e[b[C]][b[C+1]].subscribe(o),x=u.length;u.push(o,w),l&&l.push(r,i.index,x,-(x+1))}}}function es(t,e,n){try{return!1!==e(n)}catch(i){return ea(t,i),!1}}function ns(t,e,n,i){return function r(o){if(o===Function)return n;var a=2&t.flags?Ne(t.index,e):e;0==(32&e[2])&&Go(a);for(var s=es(e,n,o),c=r.__ngNextListenerFn__;c;)s=es(e,c,o)&&s,c=c.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function is(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(We.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,We.lFrame.contextLView))[8]}(t)}function rs(t,e){for(var n=null,i=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),r=0;r<e.length;r++){var o=e[r];if("*"!==o){if(null===i?no(t,o,!0):io(i,o))return r}else n=r}return n}function os(t){var e=Ge()[16][6];if(!e.projection)for(var n=e.projection=gi(t?t.length:1,null),i=n.slice(),r=e.child;null!==r;){var o=t?rs(r,t):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}function as(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=Ge(),r=Ke(),o=yo(r,20+t,16,null,n||null);null===o.projection&&(o.projection=e),tn(),64!=(64&o.flags)&&function(t,e,n){$r(e[11],0,e,n,Ar(t,n,e),jr(n.parent||e[6],n,e))}(r,i,o)}var ss=[];function cs(t,e,n,i,r){for(var o=t[n+1],a=null===e,s=i?uo(o):fo(o),c=!1;0!==s&&(!1===c||a);){var l=t[s+1];ls(t[s],e)&&(c=!0,t[s+1]=i?go(l):ho(l)),s=i?uo(l):fo(l)}c&&(t[n+1]=i?ho(o):go(o))}function ls(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yi(t,e)>=0}var us={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hs(t){return t.substring(us.key,us.keyEnd)}function ds(t,e){var n=us.textEnd;return n===e?-1:(e=us.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,us.key=e,n),fs(t,e,n))}function fs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ps(t,e,n){return ms(t,e,n,!1),ps}function gs(t,e){return ms(t,e,null,!0),gs}function vs(t,e){for(var n=function(t){return function(t){us.key=0,us.keyEnd=0,us.value=0,us.valueEnd=0,us.textEnd=t.length}(t),ds(t,fs(t,0,us.textEnd))}(e);n>=0;n=ds(e,n))vi(t,hs(e),!0)}function ms(t,e,n,i){var r=Ge(),o=Ke(),a=sn(2);o.firstUpdatePass&&_s(o,t,a,i),e!==ao&&Aa(r,a,e)&&ws(o,o.data[_n()],r,r[11],t,r[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=bt(Vi(t)))),t}(e,n),i,a)}function ys(t,e,n,i){var r=Ke(),o=sn(2);r.firstUpdatePass&&_s(r,null,o,i);var a=Ge();if(n!==ao&&Aa(a,o,n)){var s=r.data[_n()];if(Os(s,i)&&!bs(r,o)){var c=i?s.classesWithoutHost:s.stylesWithoutHost;null!==c&&(n=_t(c,n||"")),za(r,s,a,n,i)}else!function(t,e,n,i,r,o,a,s){r===ao&&(r=ss);for(var c=0,l=0,u=0<r.length?r[0]:null,h=0<o.length?o[0]:null;null!==u||null!==h;){var d=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0,p=null,g=void 0;u===h?(c+=2,l+=2,d!==f&&(p=h,g=f)):null===h||null!==u&&u<h?(c+=2,p=u):(l+=2,p=h,g=f),null!==p&&ws(t,e,n,i,p,g,a,s),u=c<r.length?r[c]:null,h=l<o.length?o[l]:null}}(r,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return ss;var i=[],r=Vi(n);if(Array.isArray(r))for(var o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(var a in r)r.hasOwnProperty(a)&&t(i,a,r[a]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,o)}}function bs(t,e){return e>=t.expandoStartIndex}function _s(t,e,n,i){var r=t.data;if(null===r[n+1]){var o=r[_n()],a=bs(t,n);Os(o,i)&&null===e&&!a&&(e=!1),e=function(t,e,n,i){var r=ln(t),o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Cs(n=ks(null,t,e,n,i),e.attrs,i),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==r)if(n=ks(r,t,e,n,i),null===o){var s=function(t,e,n){var i=n?e.classBindings:e.styleBindings;if(0!==fo(i))return t[uo(i)]}(t,e,i);void 0!==s&&Array.isArray(s)&&function(t,e,n,i){t[uo(n?e.classBindings:e.styleBindings)]=i}(t,e,i,s=Cs(s=ks(null,t,e,s[1],i),e.attrs,i))}else o=function(t,e,n){for(var i=void 0,r=e.directiveEnd,o=1+e.directiveStylingLast;o<r;o++)i=Cs(i,t[o].hostAttrs,n);return Cs(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){var a=o?e.classBindings:e.styleBindings,s=uo(a),c=fo(a);t[i]=n;var l,u=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||yi(h,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){var d=uo(t[s+1]);t[i+1]=lo(d,s),0!==d&&(t[d+1]=po(t[d+1],i)),t[s+1]=131071&t[s+1]|i<<17}else t[i+1]=lo(s,0),0!==s&&(t[s+1]=po(t[s+1],i)),s=i;else t[i+1]=lo(c,0),0===s?s=i:t[c+1]=po(t[c+1],i),c=i;u&&(t[i+1]=ho(t[i+1])),cs(t,l,i,!0),cs(t,l,i,!1),function(t,e,n,i,r){var o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&yi(o,e)>=0&&(n[i+1]=go(n[i+1]))}(e,l,t,i,o),a=lo(s,c),o?e.classBindings=a:e.styleBindings=a}(r,o,e,n,a,i)}}function ks(t,e,n,i,r){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(i=Cs(i,(o=e[s]).hostAttrs,r),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),i}function Cs(t,e,n){var i=n?1:2,r=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?r=a:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vi(t,a,!!n||e[++o]))}return void 0===t?null:t}function ws(t,e,n,i,r,o,a,s){if(3&e.type){var c=t.data,l=c[s+1];Ps(1==(1&l)?xs(c,e,n,r,fo(l),a):void 0)||(Ps(o)||2==(2&l)&&(o=xs(c,null,n,r,s,a)),function(t,e,n,i,r){var o=Re(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{var a=-1===i.indexOf("-")?void 0:Cr.DashCase;if(null==r)o?t.removeStyle(n,i,a):n.style.removeProperty(i);else{var s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),a|=Cr.Important),o?t.setStyle(n,i,r,a):n.style.setProperty(i,r,s?"important":"")}}}(i,a,Ae(_n(),n),r,o))}}function xs(t,e,n,i,r,o){for(var a=null===e,s=void 0;r>0;){var c=t[r],l=Array.isArray(c),u=l?c[1]:c,h=null===u,d=n[r+1];d===ao&&(d=h?ss:void 0);var f=h?mi(d,i):u===i?d:void 0;if(l&&!Ps(f)&&(f=mi(c,i)),Ps(f)&&(s=f,a))return s;var p=t[r+1];r=a?uo(p):fo(p)}if(null!==e){var g=o?e.residualClasses:e.residualStyles;null!=g&&(s=mi(g,i))}return s}function Ps(t){return void 0!==t}function Os(t,e){return 0!=(t.flags&(e?16:32))}function Ss(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ge(),i=Ke(),r=t+20,o=i.firstCreatePass?yo(i,r,1,e,null):i.data[r],a=n[r]=function(t,e){return Re(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Hr(i,n,a,o),Je(o,!1)}function Ms(t){return Ts("",t,""),Ms}function Ts(t,e,n){var i=Ge(),r=Ba(i,t,e,n);return r!==ao&&ia(i,_n(),r),Ts}function Es(t,e,n,i,r){var o=Ge(),a=function(t,e,n,i,r,o){var a=Da(t,on(),n,r);return sn(2),a?e+ke(n)+i+ke(r)+o:ao}(o,t,e,n,i,r);return a!==ao&&ia(o,_n(),a),Es}function Rs(t,e,n,i,r,o,a){var s=Ge(),c=function(t,e,n,i,r,o,a,s){var c=function(t,e,n,i,r){var o=Da(t,e,n,i);return Aa(t,e+2,r)||o}(t,on(),n,r,a);return sn(3),c?e+ke(n)+i+ke(r)+o+ke(a)+s:ao}(s,t,e,n,i,r,o,a);return c!==ao&&ia(s,_n(),c),Rs}function Fs(t,e,n){var i=Ge();return Aa(i,an(),e)&&Ro(Ke(),Cn(),i,t,e,i[11],n,!0),Fs}function Is(t,e,n){var i=Ge();if(Aa(i,an(),e)){var r=Ke(),o=Cn();Ro(r,o,i,t,e,ta(ln(r.data),o,i),n,!0)}return Is}var As=void 0,Ds=["en",[["a","p"],["AM","PM"],As],[["AM","PM"],As,As],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],As,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],As,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",As,"{1} 'at' {0}",As],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Ls={};function Bs(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Ns(e);if(n)return n;var i=e.split("-")[0];if(n=Ns(i))return n;if("en"===i)return Ds;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Ns(t){return t in Ls||(Ls[t]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[t]),Ls[t]}var js=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Vs(t){var e;null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function Hs(t,e,n,i,r){if(t=wt(t),Array.isArray(t))for(var o=0;o<t.length;o++)Hs(t[o],e,n,i,r);else{var a=Ke(),s=Ge(),c=ba(t)?t:wt(t.provide),l=va(t),u=Ye(),h=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(ba(t)||!t.multi){var p=new En(l,r,Va),g=qs(c,e,r?h:h+f,d);-1===g?($n(zn(u,s),a,c),zs(a,t,e.length),e.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(p),s.push(p)):(n[g]=p,s[g]=p)}else{var v=qs(c,e,h+f,d),m=qs(c,e,h,h+f),y=v>=0&&n[v],b=m>=0&&n[m];if(r&&!b||!r&&!y){$n(zn(u,s),a,c);var _=function(t,e,n,i,r){var o=new En(t,n,Va);return o.multi=[],o.index=e,o.componentProviders=0,Us(o,r,i&&!n),o}(r?$s:Ws,n.length,r,i,l);!r&&b&&(n[m].providerFactory=_),zs(a,t,e.length,0),e.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(_),s.push(_)}else zs(a,t,v>-1?v:m,Us(n[r?m:v],l,!r&&i));!r&&i&&b&&n[m].componentProviders++}}}function zs(t,e,n,i){var r=ba(e);if(r||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[i,o]):a[s+1].push(i,o)}else a.push(n,o)}}}function Us(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qs(t,e,n,i){for(var r=n;r<i;r++)if(e[r]===t)return r;return-1}function Ws(t,e,n,i){return Gs(this.multi,[])}function $s(t,e,n,i){var r,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=ti(n,n[1],this.providerFactory.index,i);Gs(o,r=s.slice(0,a));for(var c=a;c<s.length;c++)r.push(s[c])}else Gs(o,r=[]);return r}function Gs(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ks(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(t,e,n){var i=Ke();if(i.firstCreatePass){var r=ye(t);Hs(n,i.data,i.blueprint,r,!0),Hs(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}}var Qs=g(function t(){f(this,t)}),Ys=function(){function t(){f(this,t)}return g(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(bt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Zs=function(){var t=g(function t(){f(this,t)});return t.NULL=new Ys,t}();function Js(){}function Xs(t,e){return new ec(De(t,e))}var tc=function(){return Xs(Ye(),Ge())},ec=function(){var t=g(function t(e){f(this,t),this.nativeElement=e});return t.__NG_ELEMENT_ID__=tc,t}(),nc=g(function t(){f(this,t)}),ic=function(){var t=g(function t(){f(this,t)});return t.__NG_ELEMENT_ID__=function(){return rc()},t}(),rc=function(){var t=Ge(),e=Ne(Ye().index,t);return function(t){return t[11]}(fe(e)?e:t)},oc=function(){var t=g(function t(){f(this,t)});return t.\u0275prov=Pt({token:t,providedIn:"root",factory:function(){return null}}),t}(),ac=g(function t(e){f(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}),sc=new ac("11.0.5"),cc=function(){function t(){f(this,t)}return g(t,[{key:"supports",value:function(t){return Ra(t)}},{key:"create",value:function(t){return new uc(t)}}]),t}(),lc=function(t,e){return e},uc=function(){function t(e){f(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lc}return g(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<pc(n,i,r)?e:n,a=pc(o,i,r),s=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var c=a-i,l=s-i;if(c!=l){for(var u=0;u<c;u++){var h=u<r.length?r[u]:r[u]=0,d=h+u;l<=d&&d<c&&(r[u]=h+1)}r[o.previousIndex]=l-c}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Ra(t))throw new Error("Error trying to diff '".concat(bt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=t[s],r=this._trackByFn(s,i),null!==o&&Object.is(o.trackById,r)?(a&&(o=this._verifyReinsertion(o,i,r,s)),Object.is(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[Ta()]();!(i=r.next()).done;)e(i.value)}(t,function(t){r=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,r)?(a&&(o=e._verifyReinsertion(o,t,r,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new hc(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fc),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),hc=g(function t(e,n){f(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),dc=function(){function t(){f(this,t),this._head=null,this._tail=null}return g(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),fc=function(){function t(){f(this,t),this.map=new Map}return g(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new dc,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function pc(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var gc=function(){function t(){f(this,t)}return g(t,[{key:"supports",value:function(t){return t instanceof Map||Fa(t)}},{key:"create",value:function(){return new vc}}]),t}(),vc=function(){function t(){f(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return g(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Fa(t)))throw new Error("Error trying to diff '".concat(bt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new mc(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),mc=g(function t(e){f(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}),yc=function(){var t=function(){function t(e){f(this,t),this.factories=e}return g(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Ci,new _i]]}}}]),t}();return t.\u0275prov=Pt({token:t,providedIn:"root",factory:function(){return new t([new cc])}}),t}(),bc=function(){var t=function(){function t(e){f(this,t),this.factories=e}return g(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Ci,new _i]]}}}]),t}();return t.\u0275prov=Pt({token:t,providedIn:"root",factory:function(){return new t([new gc])}}),t}();function _c(t,e,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=e[n.index];if(null!==o&&i.push(Ie(o)),pe(o))for(var a=10;a<o.length;a++){var s=o[a],c=s[1].firstChild;null!==c&&_c(s[1],s,c,i)}var l=n.type;if(8&l)_c(t,e,n.child,i);else if(32&l)for(var u=wr(n,e),h=void 0;h=u();)i.push(h);else if(16&l){var d=e[16],f=d[6].projection[n.projection];if(Array.isArray(f))i.push.apply(i,C(f));else{var p=xr(d);_c(p[1],p,f,i,!0)}}n=r?n.projectionNext:n.next}return i}var kc=function(){function t(e,n){f(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return g(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return _c(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Fr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){To(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Go(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ko(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){nn(!0);try{Ko(t,e,n)}finally{nn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Wr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Cc=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this,t))._view=t,i}return g(n,[{key:"detectChanges",value:function(){Qo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){nn(!0);try{Qo(t)}finally{nn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(kc),wc=Pc,xc=function(){var t=g(function t(){f(this,t)});return t.__NG_ELEMENT_ID__=wc,t.__ChangeDetectorRef__=!0,t}();function Pc(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&ve(t)){var i=Ne(t.index,e);return new kc(i,i)}return 47&t.type?new kc(e[16],e):null}(Ye(),Ge(),t)}var Oc=[new gc],Sc=new yc([new cc]),Mc=new bc(Oc),Tc=function(){return Fc(Ye(),Ge())},Ec=function(){var t=g(function t(){f(this,t)});return t.__NG_ELEMENT_ID__=Tc,t}(),Rc=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=i,o.elementRef=r,o}return g(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=mo(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),_o(e,n,t),new kc(n)}}]),n}(Ec);function Fc(t,e){return 4&t.type?new Rc(e,t,Xs(t,e)):null}var Ic=g(function t(){f(this,t)}),Ac=g(function t(){f(this,t)}),Dc=function(){return Vc(Ye(),Ge())},Lc=function(){var t=g(function t(){f(this,t)});return t.__NG_ELEMENT_ID__=Dc,t}(),Bc=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=i,o._hostLView=r,o}return g(n,[{key:"element",get:function(){return Xs(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ii(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Wn(this._hostTNode,this._hostLView);if(Ln(t)){var e=Nn(t,this._hostLView),n=Bn(t);return new ii(e[1].data[n+8],e)}return new ii(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=Nc(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){var a=o.get(Ic,null);a&&(r=a)}var s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var i=t._lView,r=i[1];if(pe(i[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=i[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var c=this._adjustIndex(e),l=this._lContainer;!function(t,e,n,i){var r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],fi(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,i,l,c);var u=Ur(c,l),h=i[11],d=Nr(h,l[7]);return null!==d&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,Wr(t,i,n,1,r,o)}(r,l[6],h,i,d,u),t.attachToViewContainerRef(this),fi(jc(l),c,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=Nc(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Rr(this._lContainer,e);n&&(pi(jc(this._lContainer),e),Fr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Rr(this._lContainer,e);return n&&null!=pi(jc(this._lContainer),e)?new kc(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(Lc);function Nc(t){return t[8]}function jc(t){return t[8]||(t[8]=[])}function Vc(t,e){var n,i=e[t.index];if(pe(i))n=i;else{var r;if(8&t.type)r=Ie(i);else{var o=e[11];r=o.createComment("");var a=De(t,e);Dr(o,Nr(o,a),r,function(t,e){return Re(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=zo(i,e,r,t),$o(e,n)}return new Bc(n,t,e)}var Hc={},zc=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this)).ngModule=t,i}return g(n,[{key:"resolveComponentFactory",value:function(t){var e=he(t);return new Wc(e,this.ngModule)}}]),n}(Zs);function Uc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var qc=new ci("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return yr}}),Wc=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this)).componentDef=t,r.ngModule=i,r.componentType=t.type,r.selector=t.selectors.map(oo).join(","),r.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],r.isBoundToModule=!!i,r}return g(n,[{key:"inputs",get:function(){return Uc(this.componentDef.inputs)}},{key:"outputs",get:function(){return Uc(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,i){var r,o,a=(i=i||this.ngModule)?function(t,e){return{get:function(n,i,r){var o=t.get(n,Hc,r);return o!==Hc||i===Hc?o:e.get(n,i,r)}}}(t,i.injector):t,s=a.get(nc,Fe),c=a.get(oc,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Re(t))return t.selectRootElement(e,n===Vt.ShadowDom);var i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(l,n,this.componentDef.encapsulation):Tr(s.createRenderer(null,this.componentDef),u,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,f={components:[],scheduler:yr,clean:Zo,playerHandler:null,flags:0},p=Mo(0,null,null,1,0,null,null,null,null,null),g=mo(null,p,f,d,null,null,s,l,c,a);pn(g);try{var v=function(t,e,n,i,r,o){var a=n[1];n[20]=t;var s=yo(a,20,2,"#host",null),c=s.mergedAttrs=e.hostAttrs;null!==c&&(ra(s,c,!0),null!==t&&(Rn(r,t,c),null!==s.classes&&Kr(r,t,s.classes),null!==s.styles&&Gr(r,t,s.styles)));var l=i.createRenderer(t,e),u=mo(n,So(e),null,e.onPush?64:16,n[20],s,i,l,null,null);return a.firstCreatePass&&($n(zn(s,n),a,e.type),Do(a,s),Bo(s,n.length,1)),$o(n,u),n[20]=u}(h,this.componentDef,g,s,l);if(h)if(n)Rn(l,h,["ng-version",sc.full]);else{var m=function(t){for(var e=[],n=[],i=1,r=2;i<t.length;){var o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!to(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),y=m.attrs,b=m.classes;y&&Rn(l,h,y),b&&b.length>0&&Kr(l,h,b.join(" "))}if(o=Le(p,20),void 0!==e)for(var _=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];_.push(null!=C?Array.from(C):null)}r=function(t,e,n,i,r){var o=n[1],a=function(t,e,n){var i=Ye();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),No(t,i,e,bo(t,e,1,null),n));var r=ti(e,t,i.directiveStart,i);mr(r,e);var o=De(i,e);return o&&mr(o,e),r}(o,n,e);if(i.components.push(a),t[8]=a,r&&r.forEach(function(t){return t(a,e)}),e.contentQueries){var s=Ye();e.contentQueries(1,a,s.directiveStart)}var c=Ye();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(kn(c.index),Io(n[1],c,0,c.directiveStart,c.directiveEnd,e),Ao(e,a)),a}(v,this.componentDef,g,f,[Ca]),_o(p,g,null)}finally{bn()}return new $c(this.componentType,r,Xs(o,g),g,o)}}]),n}(Qs),$c=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a){var s;return f(this,n),(s=e.call(this)).location=r,s._rootLView=o,s._tNode=a,s.instance=i,s.hostView=s.changeDetectorRef=new Cc(o),s.componentType=t,s}return g(n,[{key:"injector",get:function(){return new ii(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return g(function t(){f(this,t)})}()),Gc=new Map,Kc=function(t){a(n,t);var e=c(n);function n(t,i){var r;f(this,n),(r=e.call(this))._parent=i,r._bootstrapComponents=[],r.injector=u(r),r.destroyCbs=[],r.componentFactoryResolver=new zc(u(r));var o=de(t),a=t[Jt]||null;return a&&Vs(a),r._bootstrapComponents=kr(o.bootstrap),r._r3Injector=fa(t,i,[{provide:Ic,useValue:u(r)},{provide:Zs,useValue:r.componentFactoryResolver}],bt(t)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(t),r}return g(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt.Default;return t===ka||t===Ic||t===oa?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Ic),Qc=function(t){a(n,t);var e=c(n);function n(t){var i,r,o;return f(this,n),(i=e.call(this)).moduleType=t,null!==de(t)&&(r=t,o=new Set,function t(e){var n=de(e,!0),i=n.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(bt(e)," vs ").concat(bt(e.name)))}(i,Gc.get(i),e),Gc.set(i,e));var r,a=k(kr(n.imports));try{for(a.s();!(r=a.n()).done;){var s=r.value;o.has(s)||(o.add(s),t(s))}}catch(c){a.e(c)}finally{a.f()}}(r)),i}return g(n,[{key:"create",value:function(t){return new Kc(this.moduleType,t)}}]),n}(Ac);function Yc(t,e,n,i){return Jc(Ge(),rn(),t,e,n,i)}function Zc(t,e){var n=t[e];return n===ao?void 0:n}function Jc(t,e,n,i,r,o){var a=e+n;return Aa(t,a,r)?Ia(t,a+1,o?i.call(o,r):i(r)):Zc(t,a+1)}function Xc(t,e,n,i,r,o,a){var s=e+n;return Da(t,s,r,o)?Ia(t,s+2,a?i.call(a,r,o):i(r,o)):Zc(t,s+2)}function tl(t,e){var n,i=Ke(),r=t+20;i.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var i=e[n];if(t===i.name)return i}throw new _e("302","The pipe '".concat(t,"' could not be found!"))}(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=n.factory||(n.factory=be(n.type)),a=Lt(Va);try{var s=Vn(!1),c=o();return Vn(s),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(i,Ge(),r,c),c}finally{Lt(a)}}function el(t,e,n){var i=t+20,r=Ge(),o=Be(r,i);return rl(r,il(r,i)?Jc(r,rn(),e,o.transform,n,o):o.transform(n))}function nl(t,e,n,i){var r=t+20,o=Ge(),a=Be(o,r);return rl(o,il(o,r)?Xc(o,rn(),e,a.transform,n,i,a):a.transform(n,i))}function il(t,e){return t[1].data[e].pure}function rl(t,e){return Ea.isWrapped(e)&&(e=Ea.unwrap(e),t[on()]=ao),e}var ol=function(t){a(n,t);var e=c(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this,n),(t=e.call(this)).__isAsync=i,t}return g(n,[{key:"emit",value:function(t){r(d(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,i){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),i&&(s=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()}));var c=r(d(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof M&&t.add(c),c}}]),n}(z);function al(){return this._results[Ta()]()}var sl=function(){function t(){f(this,t),this.dirty=!0,this._results=[],this.changes=new ol,this.length=0;var e=Ta(),n=t.prototype;n[e]||(n[e]=al)}return g(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=hi(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),cl=function(){function t(e){f(this,t),this.queryList=e,this.matches=null}return g(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),ll=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return g(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var a=n.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new t(r)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Sl(t,e).matches&&this.queries[e].setDirty()}}]),t}(),ul=g(function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.predicate=e,this.descendants=n,this.isStatic=i,this.read=r}),hl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return g(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),dl=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;f(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return g(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(t,e,fl(e,r)),this.matchTNodeWithReadOption(t,e,Xn(e,t,r,!1,!1))}else n===Ec?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===ec||i===Lc||i===Ec&&4&e.type)this.addMatch(e.index,-2);else{var r=Xn(e,t,i,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function fl(t,e){var n=t.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function pl(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Xs(t,e):4&t.type?Fc(t,e):null}(e,t):-2===n?function(t,e,n){return n===ec?Xs(e,t):n===Ec?Fc(e,t):n===Lc?Vc(e,t):void 0}(t,e,i):ti(t,t[1],n,e)}function gl(t,e,n,i){var r=e[19].queries[i];if(null===r.matches){for(var o=t.data,a=n.matches,s=[],c=0;c<a.length;c+=2){var l=a[c];s.push(l<0?null:pl(e,o[l],a[c+1],n.metadata.read))}r.matches=s}return r.matches}function vl(t,e,n,i){var r=t.queries.getByIndex(n),o=r.matches;if(null!==o)for(var a=gl(t,e,r,n),s=0;s<o.length;s+=2){var c=o[s];if(c>0)i.push(a[s/2]);else{for(var l=o[s+1],u=e[-c],h=10;h<u.length;h++){var d=u[h];d[17]===d[3]&&vl(d[1],d,l,i)}if(null!==u[9])for(var f=u[9],p=0;p<f.length;p++){var g=f[p];vl(g[1],g,l,i)}}}return i}function ml(t){var e=Ge(),n=Ke(),i=un();hn(i+1);var r=Sl(n,i);if(t.dirty&&Ve(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{var o=r.crossesNgTemplate?vl(n,e,i,[]):gl(n,e,r,i);t.reset(o),t.notifyOnChanges()}return!0}return!1}function yl(t,e,n){_l(Ke(),Ge(),t,e,n,!0)}function bl(t,e,n){_l(Ke(),Ge(),t,e,n,!1)}function _l(t,e,n,i,r,o){t.firstCreatePass&&(Ol(t,new ul(n,i,o,r),-1),o&&(t.staticViewQueries=!0)),Pl(t,e)}function kl(t,e,n,i){wl(Ke(),Ge(),e,n,i,!1,Ye(),t)}function Cl(t,e,n,i){wl(Ke(),Ge(),e,n,i,!0,Ye(),t)}function wl(t,e,n,i,r,o,a,s){t.firstCreatePass&&(Ol(t,new ul(n,i,o,r),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),o&&(t.staticContentQueries=!0)),Pl(t,e)}function xl(){return t=Ge(),e=un(),t[19].queries[e].queryList;var t,e}function Pl(t,e){var n=new sl;To(t,e,n,n.destroy),null===e[19]&&(e[19]=new ll),e[19].queries.push(new cl(n))}function Ol(t,e,n){null===t.queries&&(t.queries=new hl),t.queries.track(new dl(e,n))}function Sl(t,e){return t.queries.getByIndex(e)}function Ml(t,e){return Fc(t,e)}var Tl=new ci("Application Initializer"),El=function(){var t=function(){function t(e){var n=this;f(this,t),this.appInits=e,this.resolve=Js,this.reject=Js,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return g(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Ya(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ti(Tl,8))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t}(),Rl=new ci("AppId"),Fl={provide:Rl,useFactory:function(){return"".concat(Il()).concat(Il()).concat(Il())},deps:[]};function Il(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Al=new ci("Platform Initializer"),Dl=new ci("Platform ID"),Ll=new ci("appBootstrapListener"),Bl=function(){var t=function(){function t(){f(this,t)}return g(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t}(),Nl=new ci("LocaleId"),jl=new ci("DefaultCurrencyCode"),Vl=g(function t(e,n){f(this,t),this.ngModuleFactory=e,this.componentFactories=n}),Hl=function(t){return new Qc(t)},zl=Hl,Ul=function(t){return Promise.resolve(Hl(t))},ql=function(t){var e=Hl(t),n=kr(de(t).declarations).reduce(function(t,e){var n=he(e);return n&&t.push(new Wc(n)),t},[]);return new Vl(e,n)},Wl=ql,$l=function(t){return Promise.resolve(ql(t))},Gl=function(){var t=function(){function t(){f(this,t),this.compileModuleSync=zl,this.compileModuleAsync=Ul,this.compileModuleAndAllComponentsSync=Wl,this.compileModuleAndAllComponentsAsync=$l}return g(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t}(),Kl=Promise.resolve(0);function Ql(t){"undefined"==typeof Zone?Kl.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Yl=function(){function t(e){var n,i,r=e.enableLongStackTrace,o=void 0!==r&&r,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(f(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ol(!1),this.onMicrotaskEmpty=new ol(!1),this.onStable=new ol(!1),this.onError=new ol(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Wt.requestAnimationFrame,e=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Xl(t),Jl(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Xl(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(t,e,r,o,a,s){try{return tu(n),t.invokeTask(r,o,a,s)}finally{i&&"eventTask"===o.type&&i(),eu(n)}},onInvoke:function(t,e,i,r,o,a,s){try{return tu(n),t.invoke(i,r,o,a,s)}finally{eu(n)}},onHasTask:function(t,e,i,r){t.hasTask(i,r),e===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Xl(n),Jl(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,i,r){return t.handleError(i,r),n.runOutsideAngular(function(){return n.onError.emit(r)}),!1}})}return g(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Zl,Js,Js);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Zl={};function Jl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Xl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function tu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eu(t){t._nesting--,Jl(t)}var nu,iu=function(){function t(){f(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ol,this.onMicrotaskEmpty=new ol,this.onStable=new ol,this.onError=new ol}return g(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,i){return t.apply(e,n)}}]),t}(),ru=function(){var t=function(){function t(e){var n=this;f(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return g(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Yl.assertNotInAngularZone(),Ql(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Ql(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(t){return t.timeoutId!==r}),t(i._didWork,i.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ti(Yl))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t}(),ou=function(){var t=function(){function t(){f(this,t),this._applications=new Map,au.addToWindow(this)}return g(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return au.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t}(),au=new(function(){function t(){f(this,t)}return g(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),su=!0,cu=!1;function lu(){return cu=!0,su}var uu=new ci("AllowMultipleToken"),hu=g(function t(e,n){f(this,t),this.name=e,this.token=n});function du(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: "+e,r=new ci(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=fu();if(!o||o.injector.get(uu,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var a=n.concat(e).concat({provide:r,useValue:!0},{provide:sa,useValue:"platform"});!function(t){if(nu&&!nu.destroyed&&!nu.injector.get(uu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nu=t.get(pu);var e=t.get(Al,null);e&&e.forEach(function(t){return t()})}(ka.create({providers:a,name:i}))}return function(t){var e=fu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function fu(){return nu&&!nu.destroyed?nu:null}var pu=function(){var t=function(){function t(e){f(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return g(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,i,r=this,o=(n=e?e.ngZone:void 0,i=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new iu:("zone.js"===n?void 0:n)||new Yl({enableLongStackTrace:lu(),shouldCoalesceEventChangeDetection:i})),a=[{provide:Yl,useValue:o}];return o.run(function(){var e=ka.create({providers:a,parent:r.injector,name:t.moduleType.name}),n=t.create(e),i=n.injector.get(vr,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){i.handleError(t)}});n.onDestroy(function(){yu(r._modules,n),t.unsubscribe()})}),function(t,e,i){try{var o=((a=n.injector.get(El)).runInitializers(),a.donePromise.then(function(){return Vs(n.injector.get(Nl,"en-US")||"en-US"),r._moduleDoBootstrap(n),n}));return Ya(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(i,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=gu({},n);return function(t,e,n){var i=new Qc(n);return Promise.resolve(i)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,i)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(mu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(bt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ti(ka))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t}();function gu(t,e){return Array.isArray(e)?e.reduce(gu,t):Object.assign(Object.assign({},t),e)}var vu,mu=((vu=function(){function t(e,n,i,r,o,a){var s=this;f(this,t),this._zone=e,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var c=new L(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),l=new L(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){Yl.assertNotInAngularZone(),Ql(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){Yl.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=lt(c,l.pipe(function(t){return ut()((e=vt,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,pt);return i.source=t,i.subjectFactory=n,i})(t));var e}))}return g(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Qs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(Ic),o=n.create(ka.NULL,[],e||n.selector,r),a=o.location.nativeElement,s=o.injector.get(ru,null),c=s&&o.injector.get(ou);return s&&c&&c.registerApplication(a,s),o.onDestroy(function(){i.detachView(o.hostView),yu(i.components,o),c&&c.unregisterApplication(a)}),this._loadComponent(o),lu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=k(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;yu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ll,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||vu)(Ti(Yl),Ti(Bl),Ti(ka),Ti(vr),Ti(Zs),Ti(El))},vu.\u0275prov=Pt({token:vu,factory:vu.\u0275fac}),vu);function yu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var bu=g(function t(){f(this,t)}),_u=g(function t(){f(this,t)}),ku={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Cu=function(){var t=function(){function t(e,n){f(this,t),this._compiler=e,this._config=n||ku}return g(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,n=y(t.split("#"),2),i=n[0],r=n[1];return void 0===r&&(r="default"),h("zn8P")(i).then(function(t){return t[r]}).then(function(t){return wu(t,i,r)}).then(function(t){return e._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var e=y(t.split("#"),2),n=e[0],i=e[1],r="NgFactory";return void 0===i&&(i="default",r=""),h("zn8P")(this._config.factoryPathPrefix+n+this._config.factoryPathSuffix).then(function(t){return t[i+r]}).then(function(t){return wu(t,n,i)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ti(Gl),Ti(_u,8))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),t}();function wu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var xu=du(null,"core",[{provide:Dl,useValue:"unknown"},{provide:pu,deps:[ka]},{provide:ou,deps:[]},{provide:Bl,deps:[]}]),Pu=[{provide:mu,useClass:mu,deps:[Yl,Bl,ka,vr,Zs,El]},{provide:qc,deps:[Yl],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:El,useClass:El,deps:[[new _i,Tl]]},{provide:Gl,useClass:Gl,deps:[]},Fl,{provide:yc,useFactory:function(){return Sc},deps:[]},{provide:bc,useFactory:function(){return Mc},deps:[]},{provide:Nl,useFactory:function(t){return Vs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new bi(Nl),new _i,new Ci]]},{provide:jl,useValue:"USD"}],Ou=function(){var t=g(function t(e){f(this,t)});return t.\u0275mod=se({type:t}),t.\u0275inj=Ot({factory:function(e){return new(e||t)(Ti(mu))},providers:Pu}),t}(),Su="https://u4nbyneqkk.execute-api.eu-central-1.amazonaws.com/prod",Mu=null;function Tu(){return Mu}var Eu,Ru=new ci("DocumentToken"),Fu=((Eu=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||Eu)},Eu.\u0275prov=Pt({factory:Iu,token:Eu,providedIn:"platform"}),Eu);function Iu(){return Ti(Lu)}var Au,Du=new ci("Location Initialized"),Lu=((Au=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this))._doc=t,i._init(),i}return g(n,[{key:"_init",value:function(){this.location=Tu().getLocation(),this._history=Tu().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Tu().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Tu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Tu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){Bu()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Bu()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(Fu)).\u0275fac=function(t){return new(t||Au)(Ti(Ru))},Au.\u0275prov=Pt({factory:Nu,token:Au,providedIn:"platform"}),Au);function Bu(){return!!window.history.pushState}function Nu(){return new Lu(Ti(Ru))}function ju(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Vu(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hu(t){return t&&"?"!==t[0]?"?"+t:t}var zu,Uu=((zu=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||zu)},zu.\u0275prov=Pt({factory:qu,token:zu,providedIn:"root"}),zu);function qu(t){var e=Ti(Ru).location;return new Qu(Ti(Fu),e&&e.origin||"")}var Wu,$u,Gu,Ku=new ci("appBaseHref"),Qu=((Gu=function(t){a(n,t);var e=c(n);function n(t,i){var r;if(f(this,n),(r=e.call(this))._platformLocation=t,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,l(r)}return g(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return ju(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+Hu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Hu(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Hu(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Uu)).\u0275fac=function(t){return new(t||Gu)(Ti(Fu),Ti(Ku,8))},Gu.\u0275prov=Pt({token:Gu,factory:Gu.\u0275fac}),Gu),Yu=(($u=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this))._platformLocation=t,r._baseHref="",null!=i&&(r._baseHref=i),r}return g(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=ju(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Hu(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Hu(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Uu)).\u0275fac=function(t){return new(t||$u)(Ti(Fu),Ti(Ku,8))},$u.\u0275prov=Pt({token:$u,factory:$u.\u0275fac}),$u),Zu=((Wu=function(){function t(e,n){var i=this;f(this,t),this._subject=new ol,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Vu(Xu(r)),this._platformStrategy.onPopState(function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})})}return g(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+Hu(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Xu(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hu(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hu(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||Wu)(Ti(Uu),Ti(Fu))},Wu.normalizeQueryParams=Hu,Wu.joinWithSlash=ju,Wu.stripTrailingSlash=Vu,Wu.\u0275prov=Pt({factory:Ju,token:Wu,providedIn:"root"}),Wu);function Ju(){return new Zu(Ti(Uu),Ti(Fu))}function Xu(t){return t.replace(/\/index.html$/,"")}var th=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),eh=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),nh=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),ih=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),rh=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),oh=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function ah(t,e){return dh(Bs(t)[js.DateFormat],e)}function sh(t,e){return dh(Bs(t)[js.TimeFormat],e)}function ch(t,e){return dh(Bs(t)[js.DateTimeFormat],e)}function lh(t,e){var n=Bs(t),i=n[js.NumberSymbols][e];if(void 0===i){if(e===oh.CurrencyDecimal)return n[js.NumberSymbols][oh.Decimal];if(e===oh.CurrencyGroup)return n[js.NumberSymbols][oh.Group]}return i}function uh(t,e){return Bs(t)[js.NumberFormats][e]}function hh(t){if(!t[js.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[js.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function dh(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function fh(t){var e=y(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var ph=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gh={},vh=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,mh=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),yh=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),bh=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function _h(t,e,n,i){var r=function(t){if(Fh(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var i=y(t.split("-").map(function(t){return+t}),3),r=i[0],o=i[1],a=i[2];return new Date(r,o-1,a)}if(e=t.match(ph))return function(t){var e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-i,c=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,c,l),e}(e)}var s=new Date(t);if(!Fh(s))throw new Error('Unable to convert "'.concat(t,'" into a date'));return s}(t);e=kh(n,e)||e;for(var o,a=[];e;){if(!(o=vh.exec(e))){a.push(e);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;e=s}var c=r.getTimezoneOffset();i&&(c=Rh(i,c),r=function(t,e,n){var i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Rh(e,i)-i))}(r,i));var l="";return a.forEach(function(t){var e=function(t){if(Eh[t])return Eh[t];var e;switch(t){case"G":case"GG":case"GGG":e=Ph(bh.Eras,ih.Abbreviated);break;case"GGGG":e=Ph(bh.Eras,ih.Wide);break;case"GGGGG":e=Ph(bh.Eras,ih.Narrow);break;case"y":e=xh(yh.FullYear,1,0,!1,!0);break;case"yy":e=xh(yh.FullYear,2,0,!0,!0);break;case"yyy":e=xh(yh.FullYear,3,0,!1,!0);break;case"yyyy":e=xh(yh.FullYear,4,0,!1,!0);break;case"Y":e=Th(1);break;case"YY":e=Th(2,!0);break;case"YYY":e=Th(3);break;case"YYYY":e=Th(4);break;case"M":case"L":e=xh(yh.Month,1,1);break;case"MM":case"LL":e=xh(yh.Month,2,1);break;case"MMM":e=Ph(bh.Months,ih.Abbreviated);break;case"MMMM":e=Ph(bh.Months,ih.Wide);break;case"MMMMM":e=Ph(bh.Months,ih.Narrow);break;case"LLL":e=Ph(bh.Months,ih.Abbreviated,nh.Standalone);break;case"LLLL":e=Ph(bh.Months,ih.Wide,nh.Standalone);break;case"LLLLL":e=Ph(bh.Months,ih.Narrow,nh.Standalone);break;case"w":e=Mh(1);break;case"ww":e=Mh(2);break;case"W":e=Mh(1,!0);break;case"d":e=xh(yh.Date,1);break;case"dd":e=xh(yh.Date,2);break;case"E":case"EE":case"EEE":e=Ph(bh.Days,ih.Abbreviated);break;case"EEEE":e=Ph(bh.Days,ih.Wide);break;case"EEEEE":e=Ph(bh.Days,ih.Narrow);break;case"EEEEEE":e=Ph(bh.Days,ih.Short);break;case"a":case"aa":case"aaa":e=Ph(bh.DayPeriods,ih.Abbreviated);break;case"aaaa":e=Ph(bh.DayPeriods,ih.Wide);break;case"aaaaa":e=Ph(bh.DayPeriods,ih.Narrow);break;case"b":case"bb":case"bbb":e=Ph(bh.DayPeriods,ih.Abbreviated,nh.Standalone,!0);break;case"bbbb":e=Ph(bh.DayPeriods,ih.Wide,nh.Standalone,!0);break;case"bbbbb":e=Ph(bh.DayPeriods,ih.Narrow,nh.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ph(bh.DayPeriods,ih.Abbreviated,nh.Format,!0);break;case"BBBB":e=Ph(bh.DayPeriods,ih.Wide,nh.Format,!0);break;case"BBBBB":e=Ph(bh.DayPeriods,ih.Narrow,nh.Format,!0);break;case"h":e=xh(yh.Hours,1,-12);break;case"hh":e=xh(yh.Hours,2,-12);break;case"H":e=xh(yh.Hours,1);break;case"HH":e=xh(yh.Hours,2);break;case"m":e=xh(yh.Minutes,1);break;case"mm":e=xh(yh.Minutes,2);break;case"s":e=xh(yh.Seconds,1);break;case"ss":e=xh(yh.Seconds,2);break;case"S":e=xh(yh.FractionalSeconds,1);break;case"SS":e=xh(yh.FractionalSeconds,2);break;case"SSS":e=xh(yh.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Oh(mh.Short);break;case"ZZZZZ":e=Oh(mh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Oh(mh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Oh(mh.Long);break;default:return null}return Eh[t]=e,e}(t);l+=e?e(r,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function kh(t,e){var n=function(t){return Bs(t)[js.LocaleId]}(t);if(gh[n]=gh[n]||{},gh[n][e])return gh[n][e];var i="";switch(e){case"shortDate":i=ah(t,rh.Short);break;case"mediumDate":i=ah(t,rh.Medium);break;case"longDate":i=ah(t,rh.Long);break;case"fullDate":i=ah(t,rh.Full);break;case"shortTime":i=sh(t,rh.Short);break;case"mediumTime":i=sh(t,rh.Medium);break;case"longTime":i=sh(t,rh.Long);break;case"fullTime":i=sh(t,rh.Full);break;case"short":var r=kh(t,"shortTime"),o=kh(t,"shortDate");i=Ch(ch(t,rh.Short),[r,o]);break;case"medium":var a=kh(t,"mediumTime"),s=kh(t,"mediumDate");i=Ch(ch(t,rh.Medium),[a,s]);break;case"long":var c=kh(t,"longTime"),l=kh(t,"longDate");i=Ch(ch(t,rh.Long),[c,l]);break;case"full":var u=kh(t,"fullTime"),h=kh(t,"fullDate");i=Ch(ch(t,rh.Full),[u,h])}return i&&(gh[n][e]=i),i}function Ch(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function wh(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return i&&(a=a.substr(a.length-e)),o+a}function xh(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,c=function(t,e){switch(t){case yh.FullYear:return e.getFullYear();case yh.Month:return e.getMonth();case yh.Date:return e.getDate();case yh.Hours:return e.getHours();case yh.Minutes:return e.getMinutes();case yh.Seconds:return e.getSeconds();case yh.FractionalSeconds:return e.getMilliseconds();case yh.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||c>-n)&&(c+=n),t===yh.Hours)0===c&&-12===n&&(c=12);else if(t===yh.FractionalSeconds)return s=e,wh(c,3).substr(0,s);var l=lh(a,oh.MinusSign);return wh(c,e,l,i,r)}}function Ph(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nh.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r,o){return function(t,e,n,i,r,o){switch(n){case bh.Months:return function(t,e,n){var i=Bs(t),r=dh([i[js.MonthsFormat],i[js.MonthsStandalone]],e);return dh(r,n)}(e,r,i)[t.getMonth()];case bh.Days:return function(t,e,n){var i=Bs(t),r=dh([i[js.DaysFormat],i[js.DaysStandalone]],e);return dh(r,n)}(e,r,i)[t.getDay()];case bh.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var c=function(t){var e=Bs(t);return hh(e),(e[js.ExtraData][2]||[]).map(function(t){return"string"==typeof t?fh(t):[fh(t[0]),fh(t[1])]})}(e),l=function(t,e,n){var i=Bs(t);hh(i);var r=dh([i[js.ExtraData][0],i[js.ExtraData][1]],e)||[];return dh(r,n)||[]}(e,r,i),u=c.findIndex(function(t){if(Array.isArray(t)){var e=y(t,2),n=e[0],i=e[1],r=a>=n.hours&&s>=n.minutes,o=a<i.hours||a===i.hours&&s<i.minutes;if(n.hours<i.hours){if(r&&o)return!0}else if(r||o)return!0}else if(t.hours===a&&t.minutes===s)return!0;return!1});if(-1!==u)return l[u]}return function(t,e,n){var i=Bs(t),r=dh([i[js.DayPeriodsFormat],i[js.DayPeriodsStandalone]],e);return dh(r,n)}(e,r,i)[a<12?0:1];case bh.Eras:return function(t,e){return dh(Bs(t)[js.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,o,t,e,n,i)}}function Oh(t){return function(e,n,i){var r=-1*i,o=lh(n,oh.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case mh.Short:return(r>=0?"+":"")+wh(a,2,o)+wh(Math.abs(r%60),2,o);case mh.ShortGMT:return"GMT"+(r>=0?"+":"")+wh(a,1,o);case mh.Long:return"GMT"+(r>=0?"+":"")+wh(a,2,o)+":"+wh(Math.abs(r%60),2,o);case mh.Extended:return 0===i?"Z":(r>=0?"+":"")+wh(a,2,o)+":"+wh(Math.abs(r%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function Sh(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Mh(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var r,o,a;if(e){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();r=1+Math.floor((c+s)/7)}else{var l=Sh(n),u=(o=l.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=l.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return wh(r,t,lh(i,oh.MinusSign))}}function Th(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){return wh(Sh(n).getFullYear(),t,lh(i,oh.MinusSign),e)}}var Eh={};function Rh(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Fh(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ih=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ah(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",c=!1;if(isFinite(t)){var l=function(t){var e,n,i,r,o,a=Math.abs(t)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(i=a.search(/e/i))>0?(n<0&&(n=i),n+=+a.slice(i+1),a=a.substring(0,i)):n<0&&(n=a.length),i=0;"0"===a.charAt(i);i++);if(i===(o=a.length))e=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=Number(a.charAt(i))}return n>22&&(e=e.splice(0,21),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}(t);a&&(l=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));var u=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){var f=o.match(Ih);if(null===f)throw new Error(o+" is not a valid digit info");var p=f[1],g=f[3],v=f[5];null!=p&&(u=Lh(p)),null!=g&&(h=Lh(g)),null!=v?d=Lh(v):null!=g&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction (".concat(e,") is higher than the maximum (").concat(n,")."));var i=t.digits,r=i.length-t.integerLen,o=Math.min(Math.max(e,r),n),a=o+t.integerLen,s=i[a];if(a>0){i.splice(Math.max(t.integerLen,a));for(var c=a;c<i.length;c++)i[c]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(var l=1;l<a;l++)i[l]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);var h=0!==o,d=e+t.integerLen,f=i.reduceRight(function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,h&&(0===i[n]&&n>=d?i.pop():h=!1),e>=10?1:0},0);f&&(i.unshift(f),t.integerLen++)}(l,h,d);var m=l.digits,y=l.integerLen,b=l.exponent,_=[];for(c=m.every(function(t){return!t});y<u;y++)m.unshift(0);for(;y<0;y++)m.unshift(0);y>0?_=m.splice(y,m.length):(_=m,m=[0]);var k=[];for(m.length>=e.lgSize&&k.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)k.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&k.unshift(m.join("")),s=k.join(lh(n,i)),_.length&&(s+=lh(n,r)+_.join("")),b&&(s+=lh(n,oh.Exponential)+"+"+b)}else s=lh(n,oh.Infinity);return s=t<0&&!c?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}function Dh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],s=a[0],c=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var l=0;l<c.length;l++){var u=c.charAt(l);"0"===u?n.minFrac=n.maxFrac=l+1:"#"===u?n.maxFrac=l+1:n.posSuf+=u}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var d=r.length-n.posPre.length-n.posSuf.length,f=o.indexOf("#");n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Lh(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Bh,Nh=g(function t(){f(this,t)}),jh=((Bh=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this)).locale=t,i}return g(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return Bs(t)[js.PluralCase]}(e||this.locale)(t)){case eh.Zero:return"zero";case eh.One:return"one";case eh.Two:return"two";case eh.Few:return"few";case eh.Many:return"many";default:return"other"}}}]),n}(Nh)).\u0275fac=function(t){return new(t||Bh)(Ti(Nl))},Bh.\u0275prov=Pt({token:Bh,factory:Bh.\u0275fac}),Bh);function Vh(t,e){e=encodeURIComponent(e);var n,i=k(t.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.indexOf("="),a=y(-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],2),s=a[0],c=a[1];if(s.trim()===e)return decodeURIComponent(c)}}catch(l){i.e(l)}finally{i.f()}return null}var Hh,zh,Uh,qh=((Hh=function(){function t(e,n,i,r){f(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return g(t,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ra(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+bt(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}}]),t}()).\u0275fac=function(t){return new(t||Hh)(Va(yc),Va(bc),Va(ec),Va(ic))},Hh.\u0275dir=le({type:Hh,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Hh),Wh=function(){function t(e,n,i,r){f(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return g(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),$h=((zh=function(){function t(e,n,i){f(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return g(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Wh(null,e._ngForOf,-1,-1),null===r?void 0:r),a=new Gh(t,o);n.push(a)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,r);var c=new Gh(t,s);n.push(c)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||zh)(Va(Lc),Va(Ec),Va(yc))},zh.\u0275dir=le({type:zh,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),zh),Gh=g(function t(e,n){f(this,t),this.record=e,this.view=n}),Kh=((Uh=function(){function t(e,n){f(this,t),this._viewContainer=e,this._context=new Qh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return g(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Yh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Yh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Uh)(Va(Lc),Va(Ec))},Uh.\u0275dir=le({type:Uh,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Uh),Qh=g(function t(){f(this,t),this.$implicit=null,this.ngIf=null});function Yh(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(bt(e),"'."))}var Zh,Jh,Xh,td,ed=function(){function t(e,n){f(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return g(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),nd=((td=function(){function t(){f(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return g(t,[{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}]),t}()).\u0275fac=function(t){return new(t||td)},td.\u0275dir=le({type:td,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),td),id=((Xh=function(){function t(e,n,i){f(this,t),this.ngSwitch=i,i._addCase(),this._view=new ed(e,n)}return g(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||Xh)(Va(Lc),Va(Ec),Va(nd,1))},Xh.\u0275dir=le({type:Xh,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Xh),rd=((Jh=g(function t(e,n,i){f(this,t),i._addDefault(new ed(e,n))})).\u0275fac=function(t){return new(t||Jh)(Va(Lc),Va(Ec),Va(nd,1))},Jh.\u0275dir=le({type:Jh,selectors:[["","ngSwitchDefault",""]]}),Jh),od=((Zh=function(){function t(e,n,i){f(this,t),this._ngEl=e,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return g(t,[{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,e){var n=y(t.split("."),2),i=n[0],r=n[1];null!=(e=null!=e&&r?"".concat(e).concat(r):e)?this._renderer.setStyle(this._ngEl.nativeElement,i,e):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})}}]),t}()).\u0275fac=function(t){return new(t||Zh)(Va(ec),Va(bc),Va(ic))},Zh.\u0275dir=le({type:Zh,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Zh);function ad(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(bt(t),"'"))}var sd,cd,ld,ud,hd,dd=function(){function t(){f(this,t)}return g(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),fd=new(function(){function t(){f(this,t)}return g(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),pd=new dd,gd=((hd=function(){function t(e){f(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return g(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if(Ya(e))return fd;if(Za(e))return pd;throw ad(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||hd)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt.Default,e=Pc(!0);if(null!=e||t&Dt.Optional)return e;we("ChangeDetectorRef")}())},hd.\u0275pipe=ue({name:"async",type:hd,pure:!1}),hd),vd=((ud=function(){function t(){f(this,t)}return g(t,[{key:"transform",value:function(e){if(null==e)return null;if("string"!=typeof e)throw ad(t,e);return e.toUpperCase()}}]),t}()).\u0275fac=function(t){return new(t||ud)},ud.\u0275pipe=ue({name:"uppercase",type:ud,pure:!0}),ud),md=((ld=function(){function t(e){f(this,t),this.locale=e}return g(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return _h(e,n,r||this.locale,i)}catch(o){throw ad(t,o.message)}}}]),t}()).\u0275fac=function(t){return new(t||ld)(Va(Nl))},ld.\u0275pipe=ue({name:"date",type:ld,pure:!0}),ld),yd=((cd=function(){function t(e){f(this,t),this._locale=e}return g(t,[{key:"transform",value:function(e,n,i){if(!_d(e))return null;i=i||this._locale;try{return function(t,e,n){return Ah(t,Dh(uh(e,th.Decimal),lh(e,oh.MinusSign)),e,oh.Group,oh.Decimal,n)}(kd(e),i,n)}catch(r){throw ad(t,r.message)}}}]),t}()).\u0275fac=function(t){return new(t||cd)(Va(Nl))},cd.\u0275pipe=ue({name:"number",type:cd,pure:!0}),cd),bd=((sd=function(){function t(e){f(this,t),this._locale=e}return g(t,[{key:"transform",value:function(e,n,i){if(!_d(e))return null;i=i||this._locale;try{return function(t,e,n){return Ah(t,Dh(uh(e,th.Percent),lh(e,oh.MinusSign)),e,oh.Group,oh.Decimal,n,!0).replace(new RegExp("%","g"),lh(e,oh.PercentSign))}(kd(e),i,n)}catch(r){throw ad(t,r.message)}}}]),t}()).\u0275fac=function(t){return new(t||sd)(Va(Nl))},sd.\u0275pipe=ue({name:"percent",type:sd,pure:!0}),sd);function _d(t){return!(null==t||""===t||t!=t)}function kd(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}var Cd,wd,xd=((wd=g(function t(){f(this,t)})).\u0275mod=se({type:wd}),wd.\u0275inj=Ot({factory:function(t){return new(t||wd)},providers:[{provide:Nh,useClass:jh}]}),wd),Pd=((Cd=g(function t(){f(this,t)})).\u0275prov=Pt({token:Cd,providedIn:"root",factory:function(){return new Od(Ti(Ru),window,Ti(vr))}}),Cd),Od=function(){function t(e,n,i){f(this,t),this.document=e,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return g(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=Sd(this.window.history)||Sd(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function Sd(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var Md,Td,Ed,Rd,Fd=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Id||(Id=document.querySelector("base"))?Id.getAttribute("href"):null;return null==n?null:(e=n,Md||(Md=document.createElement("a")),Md.setAttribute("href",e),"/"===Md.pathname.charAt(0)?Md.pathname:"/"+Md.pathname)}},{key:"resetBaseElement",value:function(){Id=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Vh(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,Mu||(Mu=t)}}]),n}(function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.call(this)}return g(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return g(function t(){f(this,t)})}())),Id=null,Ad=new ci("TRANSITION_ID"),Dd=[{provide:Tl,useFactory:function(t,e,n){return function(){n.get(El).donePromise.then(function(){var n=Tu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Ad,Ru,ka],multi:!0}],Ld=function(){function t(){f(this,t)}return g(t,[{key:"addToWindow",value:function(t){Wt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Wt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Wt.getAllAngularRootElements=function(){return t.getAllRootElements()},Wt.frameworkStabilizers||(Wt.frameworkStabilizers=[]),Wt.frameworkStabilizers.push(function(t){var e=Wt.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?Tu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,au=e}}]),t}(),Bd=new ci("EventManagerPlugins"),Nd=((Td=function(){function t(e,n){var i=this;f(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=i}),this._plugins=e.slice().reverse()}return g(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||Td)(Ti(Bd),Ti(Yl))},Td.\u0275prov=Pt({token:Td,factory:Td.\u0275fac}),Td),jd=function(){function t(e){f(this,t),this._doc=e}return g(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=Tu().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),Vd=((Rd=function(){function t(){f(this,t),this._stylesSet=new Set}return g(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Rd)},Rd.\u0275prov=Pt({token:Rd,factory:Rd.\u0275fac}),Rd),Hd=((Ed=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this))._doc=t,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(t.head),i}return g(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return Tu().remove(t)})}}]),n}(Vd)).\u0275fac=function(t){return new(t||Ed)(Ti(Ru))},Ed.\u0275prov=Pt({token:Ed,factory:Ed.\u0275fac}),Ed),zd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ud=/%COMP%/g;function qd(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?qd(t,r,n):(r=r.replace(Ud,t),n.push(r))}return n}function Wd(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var $d,Gd,Kd,Qd,Yd,Zd,Jd=(($d=function(){function t(e,n,i){f(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Xd(e)}return g(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Vt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new tf(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case Vt.ShadowDom:return new ef(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=qd(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||$d)(Ti(Nd),Ti(Hd),Ti(Rl))},$d.\u0275prov=Pt({token:$d,factory:$d.\u0275fac}),$d),Xd=function(){function t(e){f(this,t),this.eventManager=e,this.data=Object.create(null)}return g(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(zd[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=zd[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=zd[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&(Cr.DashCase|Cr.Important)?t.style.setProperty(e,n,i&Cr.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Cr.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Wd(n)):this.eventManager.addEventListener(t,e,Wd(n))}}]),t}(),tf=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;f(this,n),(a=e.call(this,t)).component=r;var s=qd(o+"-"+r.id,r.styles,[]);return i.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(Ud,o+"-"+r.id),a.hostAttr="_nghost-%COMP%".replace(Ud,o+"-"+r.id),a}return g(n,[{key:"applyToHost",value:function(t){r(d(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var i=r(d(n.prototype),"createElement",this).call(this,t,e);return r(d(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(Xd),ef=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;f(this,n),(a=e.call(this,t)).sharedStylesHost=i,a.hostEl=r,a.shadowRoot=r.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=qd(o.id,o.styles,[]),c=0;c<s.length;c++){var l=document.createElement("style");l.textContent=s[c],a.shadowRoot.appendChild(l)}return a}return g(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return r(d(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,i){return r(d(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,i)}},{key:"removeChild",value:function(t,e){return r(d(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(r(d(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Xd),nf=((Gd=function(t){a(n,t);var e=c(n);function n(t){return f(this,n),e.call(this,t)}return g(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this;return t.addEventListener(e,n,!1),function(){return i.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(jd)).\u0275fac=function(t){return new(t||Gd)(Ti(Ru))},Gd.\u0275prov=Pt({token:Gd,factory:Gd.\u0275fac}),Gd),rf=["alt","control","meta","shift"],of={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},af={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sf={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},cf=((Yd=function(t){a(n,t);var e=c(n);function n(t){return f(this,n),e.call(this,t)}return g(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,i){var r=n.parseEventName(e),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Tu().onAndCancel(t,r.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(e.pop()),o="";if(rf.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=r,0!=e.length||0===r.length)return null;var a={};return a.domEventName=i,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&af.hasOwnProperty(e)&&(e=af[e]))}return of[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),rf.forEach(function(i){i!=n&&(0,sf[i])(t)&&(e+=i+".")}),e+=n}},{key:"eventCallback",value:function(t,e,i){return function(r){n.getEventFullKey(r)===t&&i.runGuarded(function(){return e(r)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(jd)).\u0275fac=function(t){return new(t||Yd)(Ti(Ru))},Yd.\u0275prov=Pt({token:Yd,factory:Yd.\u0275fac}),Yd),lf=((Qd=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||Qd)},Qd.\u0275prov=Pt({factory:function(){return Ti(uf)},token:Qd,providedIn:"root"}),Qd),uf=((Kd=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this))._doc=t,i}return g(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case hr.NONE:return e;case hr.HTML:return Hi(e,"HTML")?Vi(e):function(t,e){var n=null;try{Yi=Yi||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Ii(""),"text/html")}catch(t){return!1}}()?new Ui:new qi(t)}(t);var i=e?String(e):"";n=Yi.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Yi.getInertBodyElement(i)}while(i!==o);return(new ar).sanitizeChildren(ur(n)||n)}finally{if(n)for(var a=ur(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}(this._doc,String(e));case hr.STYLE:return Hi(e,"Style")?Vi(e):e;case hr.SCRIPT:if(Hi(e,"Script"))return Vi(e);throw new Error("unsafe value used in a script context");case hr.URL:return zi(e),Hi(e,"URL")?Vi(e):Gi(String(e));case hr.RESOURCE_URL:if(Hi(e,"ResourceURL"))return Vi(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return new Di(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new Li(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new Bi(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new Ni(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new ji(t)}}]),n}(lf)).\u0275fac=function(t){return new(t||Kd)(Ti(Ru))},Kd.\u0275prov=Pt({factory:function(){return t=Ti(oa),new uf(t.get(Ru));var t},token:Kd,providedIn:"root"}),Kd),hf=du(xu,"browser",[{provide:Dl,useValue:"browser"},{provide:Al,useValue:function(){Fd.makeCurrent(),Ld.init()},multi:!0},{provide:Ru,useFactory:function(){return function(t){Ee=t}(document),document},deps:[]}]),df=[[],{provide:sa,useValue:"root"},{provide:vr,useFactory:function(){return new vr},deps:[]},{provide:Bd,useClass:nf,multi:!0,deps:[Ru,Yl,Dl]},{provide:Bd,useClass:cf,multi:!0,deps:[Ru]},[],{provide:Jd,useClass:Jd,deps:[Nd,Hd,Rl]},{provide:nc,useExisting:Jd},{provide:Vd,useExisting:Hd},{provide:Hd,useClass:Hd,deps:[Ru]},{provide:ru,useClass:ru,deps:[Yl]},{provide:Nd,useClass:Nd,deps:[Bd,Yl]},[]],ff=((Zd=function(){function t(e){if(f(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return g(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Rl,useValue:e.appId},{provide:Ad,useExisting:Rl},Dd]}}}]),t}()).\u0275mod=se({type:Zd}),Zd.\u0275inj=Ot({factory:function(t){return new(t||Zd)(Ti(Zd,12))},providers:df,imports:[xd,Ou]}),Zd);function pf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return q(i)?(e.pop(),X(e,i)):ct(e)}function gf(t,e){return rt(t,e,1)}function vf(t,e){return function(n){return n.lift(new mf(t,e))}}"undefined"!=typeof window&&window;var mf=function(){function t(e,n){f(this,t),this.predicate=e,this.thisArg=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new yf(t,this.predicate,this.thisArg))}}]),t}(),yf=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t)).predicate=i,o.thisArg=r,o.count=0,o}return g(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(R),bf=g(function t(){f(this,t)}),_f=g(function t(){f(this,t)}),kf=function(){function t(e){var n=this;f(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))})}:this.headers=new Map}return g(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,C(n)),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===r.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),Cf=function(){function t(){f(this,t)}return g(t,[{key:"encodeKey",value:function(t){return wf(t)}},{key:"encodeValue",value:function(t){return wf(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function wf(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var xf=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Cf,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach(function(t){var i=t.indexOf("="),r=y(-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],2),o=r[0],a=r[1],s=n.get(o)||[];s.push(a),n.set(o,s)}),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(t){var i=n.fromObject[t];e.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}return g(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function Pf(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Of(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Sf(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Mf=function(){function t(e,n,i,r){var o;if(f(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new kf),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new xf,this.urlWithParams=n}return g(t,[{key:"serializeBody",value:function(){return null===this.body?null:Pf(this.body)||Of(this.body)||Sf(this.body)||"string"==typeof this.body?this.body:this.body instanceof xf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Sf(this.body)?null:Of(this.body)?this.body.type||null:Pf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},c)),e.setParams&&(l=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},l)),new t(n,i,o,{params:l,headers:c,reportProgress:s,responseType:r,withCredentials:a})}}]),t}(),Tf=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Ef=g(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";f(this,t),this.headers=e.headers||new kf,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}),Rf=function(t){a(n,t);var e=c(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,i)).type=Tf.ResponseHeader,t}return g(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Ef),Ff=function(t){a(n,t);var e=c(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,i)).type=Tf.Response,t.body=void 0!==i.body?i.body:null,t}return g(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Ef),If=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return g(n)}(Ef);function Af(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Df,Lf,Bf,Nf,jf,Vf,Hf,zf,Uf,qf=((Df=function(){function t(e){f(this,t),this.handler=e}return g(t,[{key:"request",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Mf)n=t;else{var o=void 0;o=r.headers instanceof kf?r.headers:new kf(r.headers);var a=void 0;r.params&&(a=r.params instanceof xf?r.params:new xf({fromObject:r.params})),n=new Mf(t,e,void 0!==r.body?r.body:null,{headers:o,params:a,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var s=pf(n).pipe(gf(function(t){return i.handler.handle(t)}));if(t instanceof Mf||"events"===r.observe)return s;var c=s.pipe(vf(function(t){return t instanceof Ff}));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return c.pipe(W(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return c.pipe(W(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return c.pipe(W(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return c.pipe(W(function(t){return t.body}))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new xf).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Af(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Af(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Af(n,e))}}]),t}()).\u0275fac=function(t){return new(t||Df)(Ti(bf))},Df.\u0275prov=Pt({token:Df,factory:Df.\u0275fac}),Df),Wf=function(){function t(e,n){f(this,t),this.next=e,this.interceptor=n}return g(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),$f=new ci("HTTP_INTERCEPTORS"),Gf=((Lf=function(){function t(){f(this,t)}return g(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Lf)},Lf.\u0275prov=Pt({token:Lf,factory:Lf.\u0275fac}),Lf),Kf=/^\)\]\}',?\n/,Qf=g(function t(){f(this,t)}),Yf=((Nf=function(){function t(){f(this,t)}return g(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Nf)},Nf.\u0275prov=Pt({token:Nf,factory:Nf.\u0275fac}),Nf),Zf=((Bf=function(){function t(e){f(this,t),this.xhrFactory=e}return g(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new L(function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(function(t,e){return i.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,c=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new kf(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new Rf({headers:r,status:e,statusText:n,url:o})},l=function(){var e=c(),r=e.headers,o=e.status,a=e.statusText,s=e.url,l=null;204!==o&&(l=void 0===i.response?i.responseText:i.response),0===o&&(o=l?200:0);var u=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof l){var h=l;l=l.replace(Kf,"");try{l=""!==l?JSON.parse(l):null}catch(d){l=h,u&&(u=!1,l={error:d,text:l})}}u?(n.next(new Ff({body:l,headers:r,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new If({error:l,headers:r,status:o,statusText:a,url:s||void 0}))},u=function(t){var e=c().url,r=new If({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,d=function(e){h||(n.next(c()),h=!0);var r={type:Tf.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(t){var e={type:Tf.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",l),i.addEventListener("error",u),t.reportProgress&&(i.addEventListener("progress",d),null!==a&&i.upload&&i.upload.addEventListener("progress",f)),i.send(a),n.next({type:Tf.Sent}),function(){i.removeEventListener("error",u),i.removeEventListener("load",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==a&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||Bf)(Ti(Qf))},Bf.\u0275prov=Pt({token:Bf,factory:Bf.\u0275fac}),Bf),Jf=new ci("XSRF_COOKIE_NAME"),Xf=new ci("XSRF_HEADER_NAME"),tp=g(function t(){f(this,t)}),ep=((Uf=function(){function t(e,n,i){f(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return g(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vh(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Uf)(Ti(Ru),Ti(Dl),Ti(Jf))},Uf.\u0275prov=Pt({token:Uf,factory:Uf.\u0275fac}),Uf),np=((zf=function(){function t(e,n){f(this,t),this.tokenService=e,this.headerName=n}return g(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||zf)(Ti(tp),Ti(Xf))},zf.\u0275prov=Pt({token:zf,factory:zf.\u0275fac}),zf),ip=((Hf=function(){function t(e,n){f(this,t),this.backend=e,this.injector=n,this.chain=null}return g(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get($f,[]);this.chain=e.reduceRight(function(t,e){return new Wf(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Hf)(Ti(_f),Ti(ka))},Hf.\u0275prov=Pt({token:Hf,factory:Hf.\u0275fac}),Hf),rp=((Vf=function(){function t(){f(this,t)}return g(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:np,useClass:Gf}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Jf,useValue:e.cookieName}:[],e.headerName?{provide:Xf,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=se({type:Vf}),Vf.\u0275inj=Ot({factory:function(t){return new(t||Vf)},providers:[np,{provide:$f,useExisting:np,multi:!0},{provide:tp,useClass:ep},{provide:Jf,useValue:"XSRF-TOKEN"},{provide:Xf,useValue:"X-XSRF-TOKEN"}]}),Vf),op=((jf=g(function t(){f(this,t)})).\u0275mod=se({type:jf}),jf.\u0275inj=Ot({factory:function(t){return new(t||jf)},providers:[qf,{provide:bf,useClass:ip},Zf,{provide:_f,useExisting:Zf},Yf,{provide:Qf,useExisting:Yf}],imports:[[rp.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),jf),ap=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this))._value=t,i}return g(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=r(d(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new j;return this._value}},{key:"next",value:function(t){r(d(n.prototype),"next",this).call(this,this._value=t)}}]),n}(z),sp=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(R),cp=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this)).parent=t,o.outerValue=i,o.outerIndex=r,o.index=0,o}return g(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(R);function lp(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new cp(t,n,i);if(!r.closed)return e instanceof L?e.subscribe(r):J(e)(r)}var up={};function hp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=void 0,r=void 0;return q(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&x(e[0])&&(e=e[0]),ct(e,r).lift(new dp(i))}var dp=function(){function t(e){f(this,t),this.resultSelector=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new fp(t,this.resultSelector))}}]),t}(),fp=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return g(n,[{key:"_next",value:function(t){this.values.push(up),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(lp(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var i=this.values,r=this.toRespond?i[n]===up?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(sp),pp=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),gp=new L(function(t){return t.complete()});function vp(t){return t?function(t){return new L(function(e){return t.schedule(function(){return e.complete()})})}(t):gp}function mp(t){return new L(function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?tt(n):vp()).subscribe(e)})}function yp(){return st(1)}var bp=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function _p(t){return function(e){return 0===t?vp():e.lift(new kp(t))}}var kp=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new bp}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Cp(t,this.total))}}]),t}(),Cp=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).total=i,r.ring=new Array,r.count=0,r}return g(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()}}]),n}(R);function wp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Op;return function(e){return e.lift(new xp(t))}}var xp=function(){function t(e){f(this,t),this.errorFactory=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Pp(t,this.errorFactory))}}]),t}(),Pp=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).errorFactory=i,r.hasValue=!1,r}return g(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(R);function Op(){return new pp}function Sp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Mp(t))}}var Mp=function(){function t(e){f(this,t),this.defaultValue=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Tp(t,this.defaultValue))}}]),t}(),Tp=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).defaultValue=i,r.isEmpty=!0,r}return g(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(R);function Ep(t,e){return"function"==typeof e?function(n){return n.pipe(Ep(function(n,i){return tt(t(n,i)).pipe(W(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new Rp(t))}}var Rp=function(){function t(e){f(this,t),this.project=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Fp(t,this.project))}}]),t}(),Fp=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).project=i,r.index=0,r}return g(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new et(this),i=this.destination;i.add(n),this.innerSubscription=it(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||r(d(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&r(d(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(nt);function Ip(t){return function(e){return 0===t?vp():e.lift(new Ap(t))}}var Ap=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new bp}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Dp(t,this.total))}}]),t}(),Dp=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return g(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(R);function Lp(){return yp()(pf.apply(void 0,arguments))}function Bp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return q(i)?(e.pop(),function(t){return Lp(e,t,i)}):function(t){return Lp(e,t)}}function Np(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new jp(t,e,n))}}var jp=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Vp(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Vp=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,t)).accumulator=i,a._seed=r,a.hasSeed=o,a.index=0,a}return g(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}}]),n}(R);function Hp(t){return function(e){var n=new zp(t),i=e.lift(n);return n.caught=i}}var zp=function(){function t(e){f(this,t),this.selector=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Up(t,this.selector,this.caught))}}]),t}(),Up=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t)).selector=i,o.caught=r,o}return g(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(a){return void r(d(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var i=new et(this);this.add(i);var o=it(e,i);o!==i&&this.add(o)}}}]),n}(nt);function qp(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?vf(function(e,n){return t(e,n,i)}):A,Ip(1),n?Sp(e):wp(function(){return new pp}))}}function Wp(){}function $p(t,e,n){return function(i){return i.lift(new Gp(t,e,n))}}var Gp=function(){function t(e,n,i){f(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Kp(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Kp=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,t))._tapNext=Wp,a._tapError=Wp,a._tapComplete=Wp,a._tapError=r||Wp,a._tapComplete=o||Wp,p(i)?(a._context=u(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||Wp,a._tapError=i.error||Wp,a._tapComplete=i.complete||Wp),a}return g(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(R),Qp=function(){function t(e){f(this,t),this.callback=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Yp(t,this.callback))}}]),t}(),Yp=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).add(new M(i)),r}return g(n)}(R),Zp=g(function t(e,n){f(this,t),this.id=e,this.url=n}),Jp=function(t){a(n,t);var e=c(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(r=e.call(this,t,i)).navigationTrigger=o,r.restoredState=a,r}return g(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zp),Xp=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o}return g(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Zp),tg=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t,i)).reason=r,o}return g(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zp),eg=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t,i)).error=r,o}return g(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Zp),ng=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return g(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zp),ig=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return g(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zp),rg=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a){var s;return f(this,n),(s=e.call(this,t,i)).urlAfterRedirects=r,s.state=o,s.shouldActivate=a,s}return g(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Zp),og=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return g(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zp),ag=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return g(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zp),sg=function(){function t(e){f(this,t),this.route=e}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),cg=function(){function t(e){f(this,t),this.route=e}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),lg=function(){function t(e){f(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ug=function(){function t(e){f(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),hg=function(){function t(e){f(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),dg=function(){function t(e){f(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),fg=function(){function t(e,n,i){f(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return g(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),pg=function(){function t(e){f(this,t),this.params=e||{}}return g(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function gg(t){return new pg(t)}function vg(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function mg(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var a=i[o],s=t[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function yg(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(!bg(t[n=i[o]],e[n]))return!1;return!0}function bg(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=C(t).sort(),i=C(e).sort();return n.every(function(t,e){return i[e]===t})}return t===e}function _g(t){return Array.prototype.concat.apply([],t)}function kg(t){return t.length>0?t[t.length-1]:null}function Cg(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function wg(t){return Za(t)?t:Ya(t)?tt(Promise.resolve(t)):pf(t)}function xg(t,e,n){return n?function(t,e){return yg(t,e)}(t.queryParams,e.queryParams)&&Pg(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return bg(t[n],e[n])})}(t.queryParams,e.queryParams)&&Og(t.root,e.root)}function Pg(t,e){if(!Rg(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!Pg(t.children[n],e.children[n]))return!1}return!0}function Og(t,e){return Sg(t,e,e.segments)}function Sg(t,e,n){if(t.segments.length>n.length)return!!Rg(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Rg(t.segments,n))return!1;for(var i in e.children){if(!t.children[i])return!1;if(!Og(t.children[i],e.children[i]))return!1}return!0}var r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Rg(t.segments,r)&&!!t.children.primary&&Sg(t.children.primary,e,o)}var Mg=function(){function t(e,n,i){f(this,t),this.root=e,this.queryParams=n,this.fragment=i}return g(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=gg(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Dg.serialize(this)}}]),t}(),Tg=function(){function t(e,n){var i=this;f(this,t),this.segments=e,this.children=n,this.parent=null,Cg(n,function(t,e){return t.parent=i})}return g(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Lg(this)}}]),t}(),Eg=function(){function t(e,n){f(this,t),this.path=e,this.parameters=n}return g(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=gg(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Ug(this)}}]),t}();function Rg(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Fg(t,e){var n=[];return Cg(t.children,function(t,i){"primary"===i&&(n=n.concat(e(t,i)))}),Cg(t.children,function(t,i){"primary"!==i&&(n=n.concat(e(t,i)))}),n}var Ig=g(function t(){f(this,t)}),Ag=function(){function t(){f(this,t)}return g(t,[{key:"parse",value:function(t){var e=new Kg(t);return new Mg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+Bg(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(jg(t),"=").concat(jg(e))}).join("&"):"".concat(jg(t),"=").concat(jg(n))}),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Dg=new Ag;function Lg(t){return t.segments.map(function(t){return Ug(t)}).join("/")}function Bg(t,e){if(!t.hasChildren())return Lg(t);if(e){var n=t.children.primary?Bg(t.children.primary,!1):"",i=[];return Cg(t.children,function(t,e){"primary"!==e&&i.push("".concat(e,":").concat(Bg(t,!1)))}),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var r=Fg(t,function(e,n){return"primary"===n?[Bg(t.children.primary,!1)]:["".concat(n,":").concat(Bg(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Lg(t),"/").concat(r[0]):"".concat(Lg(t),"/(").concat(r.join("//"),")")}function Ng(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jg(t){return Ng(t).replace(/%3B/gi,";")}function Vg(t){return Ng(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hg(t){return decodeURIComponent(t)}function zg(t){return Hg(t.replace(/\+/g,"%20"))}function Ug(t){return"".concat(Vg(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Vg(t),"=").concat(Vg(e[t]))}).join("")));var e}var qg=/^[^\/()?;=#]+/;function Wg(t){var e=t.match(qg);return e?e[0]:""}var $g=/^[^=?&#]+/,Gg=/^[^?&#]+/,Kg=function(){function t(e){f(this,t),this.url=e,this.remaining=e}return g(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tg([],{}):new Tg([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Tg(t,e)),n}},{key:"parseSegment",value:function(){var t=Wg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Eg(Hg(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Wg(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Wg(this.remaining);i&&(n=i,this.capture(n))}t[Hg(e)]=Hg(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match($g);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Gg);return e?e[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=zg(e),o=zg(n);if(t.hasOwnProperty(r)){var a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Wg(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");var o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new Tg([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Qg=function(){function t(e){f(this,t),this._root=e}return g(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Yg(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Yg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Zg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return Zg(t,this._root).map(function(t){return t.value})}}]),t}();function Yg(t,e){if(t===e.value)return e;var n,i=k(e.children);try{for(i.s();!(n=i.n()).done;){var r=Yg(t,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function Zg(t,e){if(t===e.value)return[e];var n,i=k(e.children);try{for(i.s();!(n=i.n()).done;){var r=Zg(t,n.value);if(r.length)return r.unshift(e),r}}catch(o){i.e(o)}finally{i.f()}return[]}var Jg=function(){function t(e,n){f(this,t),this.value=e,this.children=n}return g(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Xg(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var tv=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).snapshot=i,av(u(r),t),r}return g(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Qg);function ev(t,e){var n=function(t,e){var n=new rv([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ov("",new Jg(n,[]))}(t,e),i=new ap([new Eg("",{})]),r=new ap({}),o=new ap({}),a=new ap({}),s=new ap(""),c=new nv(i,r,a,s,o,"primary",e,n.root);return c.snapshot=n.root,new tv(new Jg(c,[]),n)}var nv=function(){function t(e,n,i,r,o,a,s,c){f(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=c}return g(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(W(function(t){return gg(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(W(function(t){return gg(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function iv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var rv=function(){function t(e,n,i,r,o,a,s,c,l,u,h){f(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=h}return g(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=gg(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=gg(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),ov=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,i)).url=t,av(u(r),i),r}return g(n,[{key:"toString",value:function(){return sv(this._root)}}]),n}(Qg);function av(t,e){e.value._routerState=t,e.children.forEach(function(e){return av(t,e)})}function sv(t){var e=t.children.length>0?" { ".concat(t.children.map(sv).join(", ")," } "):"";return"".concat(t.value).concat(e)}function cv(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yg(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yg(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!yg(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yg(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function lv(t,e){var n,i;return yg(t.params,e.params)&&Rg(n=t.url,i=e.url)&&n.every(function(t,e){return yg(t.parameters,i[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||lv(t.parent,e.parent))}function uv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=e.value;var r=function(t,e,n){return e.children.map(function(e){var i,r=k(n.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return uv(t,e,o)}}catch(a){r.e(a)}finally{r.f()}return uv(t,e)})}(t,e,n);return new Jg(i,r)}var o=t.retrieve(e.value);if(o){var a=o.route;return hv(e,a),a}var s,c=new nv(new ap((s=e.value).url),new ap(s.params),new ap(s.queryParams),new ap(s.fragment),new ap(s.data),s.outlet,s.component,s),l=e.children.map(function(e){return uv(t,e)});return new Jg(c,l)}function hv(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)hv(t.children[n],e.children[n])}function dv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fv(t){return"object"==typeof t&&null!=t&&t.outlets}function pv(t,e,n,i,r){var o={};return i&&Cg(i,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Mg(n.root===t?e:gv(n.root,t,e),o,r)}function gv(t,e,n){var i={};return Cg(t.children,function(t,r){i[r]=t===e?n:gv(t,e,n)}),new Tg(t.segments,i)}var vv=function(){function t(e,n,i){if(f(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&dv(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find(fv);if(r&&r!==kg(i))throw new Error("{outlets:{}} has to be the last command")}return g(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),mv=g(function t(e,n,i){f(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i});function yv(t,e,n){if(t||(t=new Tg([],{})),0===t.segments.length&&t.hasChildren())return bv(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var a=t.segments[r],s=n[i];if(fv(s))break;var c=""+s,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!wv(c,l,a))return o;i+=2}else{if(!wv(c,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new Tg(t.segments.slice(0,i.pathIndex),{});return o.children.primary=new Tg(t.segments.slice(i.pathIndex),t.children),bv(o,0,r)}return i.match&&0===r.length?new Tg(t.segments,{}):i.match&&!t.hasChildren()?_v(t,e,n):i.match?bv(t,0,r):_v(t,e,n)}function bv(t,e,n){if(0===n.length)return new Tg(t.segments,{});var i=function(t){return fv(t[0])?t[0].outlets:{primary:t}}(n),r={};return Cg(i,function(n,i){"string"==typeof n&&(n=[n]),null!==n&&(r[i]=yv(t.children[i],e,n))}),Cg(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new Tg(t.segments,r)}function _v(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){var o=n[r];if(fv(o)){var a=kv(o.outlets);return new Tg(i,a)}if(0===r&&dv(n[0]))i.push(new Eg(t.segments[e].path,n[0])),r++;else{var s=fv(o)?o.outlets.primary:""+o,c=r<n.length-1?n[r+1]:null;s&&c&&dv(c)?(i.push(new Eg(s,Cv(c))),r+=2):(i.push(new Eg(s,{})),r++)}}return new Tg(i,{})}function kv(t){var e={};return Cg(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=_v(new Tg([],{}),0,t))}),e}function Cv(t){var e={};return Cg(t,function(t,n){return e[n]=""+t}),e}function wv(t,e,n){return t==n.path&&yg(e,n.parameters)}var xv=function(){function t(e,n,i,r){f(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}return g(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),cv(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,r=Xg(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]}),Cg(r,function(t,e){i.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=Xg(t),o=t.value.component?i.children:e;Cg(r,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,r=Xg(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new dg(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ug(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(cv(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Pv(s.route)}else{var c=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=l,a.outlet&&a.outlet.activateWith(i,l),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Pv(t){cv(t.value),t.children.forEach(Pv)}var Ov=g(function t(e,n){f(this,t),this.routes=e,this.module=n});function Sv(t){return"function"==typeof t}function Mv(t){return t instanceof Mg}var Tv=Symbol("INITIAL_VALUE");function Ev(){return Ep(function(t){return hp.apply(void 0,C(t.map(function(t){return t.pipe(Ip(1),Bp(Tv))}))).pipe(Np(function(t,e){var n=!1;return e.reduce(function(t,i,r){if(t!==Tv)return t;if(i===Tv&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Mv(i))return i}return t},t)},Tv),vf(function(t){return t!==Tv}),W(function(t){return Mv(t)?t:!0===t}),Ip(1))})}var Rv,Fv=((Rv=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||Rv)},Rv.\u0275cmp=ne({type:Rv,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Wa(0,"router-outlet")},directives:function(){return[Om]},encapsulation:2}),Rv);function Iv(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n];Av(i,Dv(e,i))}}function Av(t,e){t.children&&Iv(t.children,e)}function Dv(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Lv(t){var e=t.children&&t.children.map(Lv),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Fv),n}function Bv(t){return t.outlet||"primary"}var Nv=g(function t(e){f(this,t),this.segmentGroup=e||null}),jv=g(function t(e){f(this,t),this.urlTree=e});function Vv(t){return new L(function(e){return e.error(new Nv(t))})}function Hv(t){return new L(function(e){return e.error(new jv(t))})}function zv(t){return new L(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Uv=function(){function t(e,n,i,r,o){f(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Ic)}return g(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(W(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Hp(function(e){if(e instanceof jv)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Nv)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(W(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(Hp(function(t){if(t instanceof Nv)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new Tg([],{primary:t}):t;return new Mg(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(W(function(t){return new Tg([],t)})):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return pf({});var o=[],a=[],s={};return Cg(n,function(n,r){var c,l,u=(c=r,l=n,i.expandSegmentGroup(t,e,l,c)).pipe(W(function(t){return s[r]=t}));"primary"===r?o.push(u):a.push(u)}),pf.apply(null,o.concat(a)).pipe(yp(),function(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?vf(function(e,n){return t(e,n,i)}):A,_p(1),n?Sp(e):wp(function(){return new pp}))}}(),W(function(){return s}))}(n.children)}},{key:"expandSegment",value:function(t,e,n,i,r,o){var a=this,s=function(t){return t.reduce(function(t,e){var n=Bv(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(r)||s.set(r,[]);return tt(Array.from(s.entries()).map(function(n){var s=y(n,2),c=s[0],l=function(n){return tt(n).pipe(gf(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Hp(function(t){if(t instanceof Nv)return pf(null);throw t}))}),qp(function(t){return null!==t}),Hp(function(t){if(t instanceof pp||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,i,r))return pf(new Tg([],{}));throw new Nv(e)}throw t}))}(s[1]);return c===r?l:l.pipe(W(function(){return null}),Hp(function(){return pf(null)}))})).pipe(function(t){return t.lift(new dp(void 0))},qp(),W(function(t){return t.find(function(t){return null!==t})}))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,r,o,a){return Bv(i)!==o&&""!==i.path?Vv(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Vv(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Hv(o):this.lineralizeSegments(n,o).pipe(rt(function(n){var o=new Tg(n,{});return r.expandSegment(t,o,e,n,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){var a=this,s=qv(e,i,r),c=s.matched,l=s.consumedSegments,u=s.lastChild,h=s.positionalParamSegments;if(!c)return Vv(e);var d=this.applyRedirectCommands(l,i.redirectTo,h);return i.redirectTo.startsWith("/")?Hv(d):this.lineralizeSegments(i,d).pipe(rt(function(i){return a.expandSegment(t,e,n,i.concat(r.slice(u)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(W(function(t){return n._loadedConfig=t,new Tg(i,{})})):pf(new Tg(i,{}));var o=qv(e,n,i),a=o.matched,s=o.consumedSegments,c=o.lastChild;if(!a)return Vv(e);var l=i.slice(c);return this.getChildConfig(t,n,i).pipe(rt(function(t){var n=t.module,i=t.routes,o=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(function(n){return $v(t,e,n)&&"primary"!==Bv(n)})}(t,n,i)?{segmentGroup:Wv(new Tg(e,function(t,e){var n={};n.primary=e;var i,r=k(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;""===o.path&&"primary"!==Bv(o)&&(n[Bv(o)]=new Tg([],{}))}}catch(a){r.e(a)}finally{r.f()}return n}(i,new Tg(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(function(n){return $v(t,e,n)})}(t,n,i)?{segmentGroup:Wv(new Tg(t.segments,function(t,e,n,i){var r,o={},a=k(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;$v(t,e,s)&&!i[Bv(s)]&&(o[Bv(s)]=new Tg([],{}))}}catch(c){a.e(c)}finally{a.f()}return Object.assign(Object.assign({},i),o)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,i),a=o.segmentGroup,c=o.slicedSegments;return 0===c.length&&a.hasChildren()?r.expandChildren(n,i,a).pipe(W(function(t){return new Tg(s,t)})):0===i.length&&0===c.length?pf(new Tg(s,{})):r.expandSegment(n,a,i,c,"primary",!0).pipe(W(function(t){return new Tg(s.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?pf(new Ov(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?pf(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(rt(function(n){return n?i.configLoader.load(t.injector,e).pipe(W(function(t){return e._loadedConfig=t,t})):function(t){return new L(function(e){return e.error(vg("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):pf(new Ov([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var i=this,r=e.canLoad;return r&&0!==r.length?pf(r.map(function(i){var r,o=t.get(i);if(function(t){return t&&Sv(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!Sv(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return wg(r)})).pipe(Ev(),$p(function(t){if(Mv(t)){var e=vg('Redirecting to "'.concat(i.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),W(function(t){return!0===t})):pf(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return pf(n);if(i.numberOfChildren>1||!i.children.primary)return zv(t.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new Mg(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Cg(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),a={};return Cg(e.children,function(e,o){a[o]=r.createSegmentGroup(t,e,n,i)}),new Tg(o,a)}},{key:"createSegments",value:function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n,i=0,r=k(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(i),o;i++}}catch(a){r.e(a)}finally{r.f()}return t}}]),t}();function qv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||mg)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Wv(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Tg(t.segments.concat(e.segments),e.children)}return t}function $v(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}var Gv=g(function t(e){f(this,t),this.path=e,this.route=this.path[this.path.length-1]}),Kv=g(function t(e,n){f(this,t),this.component=e,this.route=n});function Qv(t,e,n){var i=t._root;return Zv(i,e?e._root:null,n,[i.value])}function Yv(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Zv(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Xg(e);return t.children.forEach(function(t){!function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Rg(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Rg(t.url,e.url)||!yg(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lv(t,e)||!yg(t.queryParams,e.queryParams);case"paramsChange":default:return!lv(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Gv(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Zv(t,e,o.component?s?s.children:null:n,i,r),c&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new Kv(s.outlet.component,a))}else a&&Jv(e,s,r),r.canActivateChecks.push(new Gv(i)),Zv(t,null,o.component?s?s.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),Cg(o,function(t,e){return Jv(t,n.getContext(e),r)}),r}function Jv(t,e,n){var i=Xg(t),r=t.value;Cg(i,function(t,i){Jv(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Kv(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Xv(t,e){return null!==t&&e&&e(new hg(t)),pf(!0)}function tm(t,e){return null!==t&&e&&e(new lg(t)),pf(!0)}function em(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?pf(i.map(function(i){return mp(function(){var r,o=Yv(i,e,n);if(function(t){return t&&Sv(t.canActivate)}(o))r=wg(o.canActivate(e,t));else{if(!Sv(o))throw new Error("Invalid CanActivate guard");r=wg(o(e,t))}return r.pipe(qp())})})).pipe(Ev()):pf(!0)}function nm(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return mp(function(){return pf(e.guards.map(function(r){var o,a=Yv(r,e.node,n);if(function(t){return t&&Sv(t.canActivateChild)}(a))o=wg(a.canActivateChild(i,t));else{if(!Sv(a))throw new Error("Invalid CanActivateChild guard");o=wg(a(i,t))}return o.pipe(qp())})).pipe(Ev())})});return pf(r).pipe(Ev())}var im=g(function t(){f(this,t)}),rm=function(){function t(e,n,i,r,o,a){f(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return g(t,[{key:"recognize",value:function(){try{var t=sm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new rv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Jg(n,e),r=new ov(this.url,i);return this.inheritParamsAndData(r._root),pf(r)}catch(o){return new L(function(t){return t.error(o)})}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=iv(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,i=this,r=Fg(e,function(e,n){return i.processSegmentGroup(t,e,n)});return n={},r.forEach(function(t){var e=n[t.value.outlet];if(e){var i=e.url.map(function(t){return t.toString()}).join("/"),r=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(r,"'."))}n[t.value.outlet]=t.value}),r.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),r}},{key:"processSegment",value:function(t,e,n,i){var r,o=k(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;try{return this.processSegmentAgainstRoute(a,e,n,i)}catch(s){if(!(s instanceof im))throw s}}}catch(c){o.e(c)}finally{o.f()}if(this.noLeftoversInUrl(e,n,i))return[];throw new im}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo)throw new im;if((t.outlet||"primary")!==i)throw new im;var r,o=[],a=[];if("**"===t.path){var s=n.length>0?kg(n).parameters:{};r=new rv(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lm(t),i,t.component,t,om(e),am(e)+n.length,um(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new im;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||mg)(n,t,e);if(!i)throw new im;var r={};Cg(i.posParams,function(t,e){r[e]=t.path});var o=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=c.consumedSegments,a=n.slice(c.lastChild),r=new rv(o,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lm(t),i,t.component,t,om(e),am(e)+o.length,um(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),u=sm(e,o,a,l,this.relativeLinkResolution),h=u.segmentGroup,d=u.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(l,h);return[new Jg(r,f)]}if(0===l.length&&0===d.length)return[new Jg(r,[])];var p=this.processSegment(l,h,d,"primary");return[new Jg(r,p)]}}]),t}();function om(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function am(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function sm(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(function(n){return cm(t,e,n)&&"primary"!==Bv(n)})}(t,n,i)){var o=new Tg(e,function(t,e,n,i){var r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var o,a=k(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Bv(s)){var c=new Tg([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,r[Bv(s)]=c}}}catch(l){a.e(l)}finally{a.f()}return r}(t,e,i,new Tg(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return cm(t,e,n)})}(t,n,i)){var a=new Tg(t.segments,function(t,e,n,i,r,o){var a,s={},c=k(i);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(cm(t,n,l)&&!r[Bv(l)]){var u=new Tg([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Bv(l)]=u}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Tg(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function cm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function lm(t){return t.data||{}}function um(t){return t.resolve||{}}function hm(t){return function(e){return e.pipe(Ep(function(e){var n=t(e);return n?tt(n).pipe(W(function(){return e})):tt([e])}))}}var dm=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(function(){function t(){f(this,t)}return g(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),fm=new ci("ROUTES"),pm=function(){function t(e,n,i,r){f(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return g(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(W(function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new Ov(_g(r.injector.get(fm)).map(Lv),r)}))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?tt(this.loader.load(t)):wg(t()).pipe(rt(function(t){return t instanceof Ac?pf(t):tt(e.compiler.compileModuleAsync(t))}))}}]),t}(),gm=g(function t(){f(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new vm,this.attachRef=null}),vm=function(){function t(){f(this,t),this.contexts=new Map}return g(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new gm,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),mm=function(){function t(){f(this,t)}return g(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function ym(t){throw t}function bm(t,e,n){return e.parse("/")}function _m(t,e){return pf(null)}var km,Cm,wm,xm,Pm=((Cm=function(){function t(e,n,i,r,o,a,s,c){var l=this;f(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new z,this.errorHandler=ym,this.malformedUriErrorHandler=bm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_m,afterPreactivation:_m},this.urlHandlingStrategy=new mm,this.routeReuseStrategy=new dm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(Ic),this.console=o.get(Bl);var u=o.get(Yl);this.isNgZoneEnabled=u instanceof Yl,this.resetConfig(c),this.currentUrlTree=new Mg(new Tg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pm(a,s,function(t){return l.triggerEvent(new sg(t))},function(t){return l.triggerEvent(new cg(t))}),this.routerState=ev(this.currentUrlTree,this.rootComponentType),this.transitions=new ap({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return g(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(vf(function(t){return 0!==t.id}),W(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Ep(function(t){var i,r,o,a,s=!1,c=!1;return pf(t).pipe($p(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ep(function(t){var i,r,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return pf(t).pipe(Ep(function(t){var i=e.transitions.getValue();return n.next(new Jp(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?gp:[t]}),Ep(function(t){return Promise.resolve(t)}),(i=e.ngModule.injector,r=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Ep(function(t){return function(t,e,n,i,r){return new Uv(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,a).pipe(W(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))}))}),$p(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,i,r,o){return function(i){return i.pipe(rt(function(i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new rm(t,e,n,i,r,o).recognize()}(t,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,e.serializeUrl(a)),r,o).pipe(W(function(t){return Object.assign(Object.assign({},i),{targetSnapshot:t})}));var a}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),$p(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),$p(function(t){var i=new ng(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.id,l=t.extractedUrl,u=t.source,h=t.restoredState,d=t.extras,f=new Jp(c,e.serializeUrl(l),u,h);n.next(f);var p=ev(l,e.rootComponentType).snapshot;return pf(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),gp}),hm(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,c=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})}),$p(function(t){var n=new ig(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),W(function(t){return Object.assign(Object.assign({},t),{guards:Qv(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return function(n){return n.pipe(rt(function(n){var i=n.targetSnapshot,r=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?pf(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return tt(t).pipe(rt(function(t){return function(t,e,n,i,r){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?pf(o.map(function(o){var a,s=Yv(o,e,r);if(function(t){return t&&Sv(t.canDeactivate)}(s))a=wg(s.canDeactivate(t,e,n,i));else{if(!Sv(s))throw new Error("Invalid CanDeactivate guard");a=wg(s(t,e,n,i))}return a.pipe(qp())})).pipe(Ev()):pf(!0)}(t.component,t.route,n,e,i)}),qp(function(t){return!0!==t},!0))}(s,i,r,t).pipe(rt(function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return tt(e).pipe(gf(function(e){return tt([tm(e.route.parent,i),Xv(e.route,i),nm(t,e.path,n),em(t,e.route,n)]).pipe(yp(),qp(function(t){return!0!==t},!0))}),qp(function(t){return!0!==t},!0))}(i,a,t,e):pf(n)}),W(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),$p(function(t){if(Mv(t.guardsResult)){var n=vg('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}}),$p(function(t){var n=new rg(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),vf(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new tg(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0}),hm(function(t){if(t.guards.canActivateChecks.length)return pf(t).pipe($p(function(t){var n=new og(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Ep(function(t){var i,r,o=!1;return pf(t).pipe((i=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(rt(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return pf(t);var o=0;return tt(n).pipe(gf(function(t){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return pf({});var o={};return tt(r).pipe(rt(function(r){return function(t,e,n,i){var r=Yv(t,e,i);return wg(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe($p(function(t){o[r]=t}))}),_p(1),rt(function(){return Object.keys(o).length===r.length?pf(o):gp}))}(t._resolve,t,e,i).pipe(W(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),iv(t,n).resolve),null}))}(t.route,e,i,r)}),$p(function(){return o++}),_p(1),rt(function(e){return o===n.length?pf(t):gp}))}))}),$p({next:function(){return o=!0},complete:function(){if(!o){var i=new tg(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(i),t.resolve(!1)}}}))}),$p(function(t){var n=new ag(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),hm(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,c=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})}),W(function(t){var n=function(t,e,n){var i=uv(t,e._root,n?n._root:void 0);return new tv(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),$p(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(r=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},W(function(t){return new xv(o,t.targetRouterState,t.currentRouterState,a).activate(r),t})),$p({next:function(){s=!0},complete:function(){s=!0}}),(i=function(){if(!s&&!c){e.resetUrlToCurrentUrlTree();var i=new tg(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(i),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Qp(i))}),Hp(function(i){if(c=!0,(s=i)&&s.ngNavigationCancelingError){var r=Mv(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new tg(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(o),r?setTimeout(function(){var n=e.urlHandlingStrategy.merge(i.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new eg(t.id,e.serializeUrl(t.extractedUrl),i);n.next(a);try{t.resolve(e.errorHandler(i))}catch(l){t.reject(l)}}var s;return gp}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,i=n.state,r=n.urlTree,o={replaceUrl:!0};if(i){var a=Object.assign({},i);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(r,e,i,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Iv(t),this.config=t.map(Lv),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,r=e.fragment,o=e.queryParamsHandling,a=e.preserveFragment,s=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r,l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,i,r){if(0===n.length)return pv(e.root,e.root,e,i,r);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vv(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return Cg(i.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),[].concat(C(t),[{outlets:o}])}if(i.segmentPath)return[].concat(C(t),[i.segmentPath])}return"string"!=typeof i?[].concat(C(t),[i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[].concat(C(t),[i])},[]);return new vv(n,e,i)}(n);if(o.toRoot())return pv(e.root,new Tg([],{}),e,i,r);var a=function(t,e,n){if(t.isAbsolute)return new mv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new mv(i,i===e.root,0)}var r=dv(t.commands[0])?0:1;return function(t,e,n){for(var i=t,r=e,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new mv(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?bv(a.segmentGroup,a.index,o.commands):yv(a.segmentGroup,a.index,o.commands);return pv(a.segmentGroup,s,e,i,r)}(s,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Mv(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Mv(t))return xg(this.currentUrlTree,t,e);var n=this.parseUrl(t);return xg(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!=i&&(e[n]=i),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Xp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,i,r){var o,a,s,c=this.getTransition(),l="imperative"!==e&&"imperative"===(null==c?void 0:c.source),u=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(l&&u)return Promise.resolve(!0);r?(o=r.resolve,a=r.reject,s=r.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,i){var r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||Cm)(Ti(ui),Ti(Ig),Ti(vm),Ti(Zu),Ti(ka),Ti(bu),Ti(Gl),Ti(void 0))},Cm.\u0275prov=Pt({token:Cm,factory:Cm.\u0275fac}),Cm),Om=((km=function(){function t(e,n,i,r,o){f(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new ol,this.deactivateEvents=new ol,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}return g(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Sm(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||km)(Va(vm),Va(Lc),Va(Zs),ai("name"),Va(xc))},km.\u0275dir=le({type:km,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),km),Sm=function(){function t(e,n,i){f(this,t),this.route=e,this.childContexts=n,this.parent=i}return g(t,[{key:"get",value:function(t,e){return t===nv?this.route:t===vm?this.childContexts:this.parent.get(t,e)}}]),t}(),Mm=g(function t(){f(this,t)}),Tm=function(){function t(){f(this,t)}return g(t,[{key:"preload",value:function(t,e){return pf(null)}}]),t}(),Em=((xm=function(){function t(e,n,i,r,o){f(this,t),this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new pm(n,i,function(t){return e.triggerEvent(new sg(t))},function(t){return e.triggerEvent(new cg(t))})}return g(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(vf(function(t){return t instanceof Xp}),gf(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(Ic);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,i=[],r=k(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children))}}catch(s){r.e(s)}finally{r.f()}return tt(i).pipe(st(),W(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(rt(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||xm)(Ti(Pm),Ti(bu),Ti(Gl),Ti(ka),Ti(Mm))},xm.\u0275prov=Pt({token:xm,factory:xm.\u0275fac}),xm),Rm=((wm=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return g(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Jp?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xp&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof fg&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new fg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||wm)(Ti(Pm),Ti(Pd),Ti(void 0))},wm.\u0275prov=Pt({token:wm,factory:wm.\u0275fac}),wm),Fm=new ci("ROUTER_CONFIGURATION"),Im=new ci("ROUTER_FORROOT_GUARD"),Am=[Zu,{provide:Ig,useClass:Ag},{provide:Pm,useFactory:function(t,e,n,i,r,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,u=new Pm(null,t,e,n,i,r,o,_g(a));if(c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,u),s.enableTracing){var h=Tu();u.events.subscribe(function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return u},deps:[Ig,vm,Zu,ka,bu,Gl,fm,Fm,[function(){return g(function t(){f(this,t)})}(),new _i],[function(){return g(function t(){f(this,t)})}(),new _i]]},vm,{provide:nv,useFactory:function(t){return t.routerState.root},deps:[Pm]},{provide:bu,useClass:Cu},Em,Tm,function(){function t(){f(this,t)}return g(t,[{key:"preload",value:function(t,e){return e().pipe(Hp(function(){return pf(null)}))}}]),t}(),{provide:Fm,useValue:{enableTracing:!1}}];function Dm(){return new hu("Router",Pm)}var Lm,Bm=((Lm=function(){function t(e,n){f(this,t)}return g(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Am,Hm(e),{provide:Im,useFactory:Vm,deps:[[Pm,new _i,new Ci]]},{provide:Fm,useValue:n||{}},{provide:Uu,useFactory:jm,deps:[Fu,[new bi(Ku),new _i],Fm]},{provide:Rm,useFactory:Nm,deps:[Pm,Pd,Fm]},{provide:Mm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Tm},{provide:hu,multi:!0,useFactory:Dm},[Um,{provide:Tl,multi:!0,useFactory:qm,deps:[Um]},{provide:$m,useFactory:Wm,deps:[Um]},{provide:Ll,multi:!0,useExisting:$m}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Hm(e)]}}}]),t}()).\u0275mod=se({type:Lm}),Lm.\u0275inj=Ot({factory:function(t){return new(t||Lm)(Ti(Im,8),Ti(Pm,8))}}),Lm);function Nm(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Rm(t,e,n)}function jm(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Yu(t,e):new Qu(t,e)}function Vm(t){return"guarded"}function Hm(t){return[{provide:li,multi:!0,useValue:t},{provide:fm,multi:!0,useValue:t}]}var zm,Um=((zm=function(){function t(e){f(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new z}return g(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Du,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(Pm),r=t.injector.get(Fm);return"disabled"===r.initialNavigation?(i.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(i.hooks.afterPreactivation=function(){return t.initNavigation?pf(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Fm),n=this.injector.get(Em),i=this.injector.get(Rm),r=this.injector.get(Pm),o=this.injector.get(mu);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||zm)(Ti(ka))},zm.\u0275prov=Pt({token:zm,factory:zm.\u0275fac}),zm);function qm(t){return t.appInitializer.bind(t)}function Wm(t){return t.bootstrapListener.bind(t)}var $m=new ci("Router Initializer");function Gm(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(e){o(e)}}function s(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})}var Km,Qm=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.pending=!1,r}return g(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){a(n,t);var e=c(n);function n(t,i){return f(this,n),e.call(this)}return g(n,[{key:"schedule",value:function(t){return this}}]),n}(M)),Ym=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return g(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?r(d(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?r(d(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?r(d(n.prototype),"requestAsyncId",this).call(this,t,e,i):t.flush(this)}}]),n}(Qm),Zm=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;f(this,t),this.SchedulerAction=e,this.now=n}return g(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),Jm=function(t){a(n,t);var e=c(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zm.now;return f(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==u(i)?n.delegate.now():r()})).actions=[],i.active=!1,i.scheduled=void 0,i}return g(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):r(d(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(Zm),Xm=new(function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(Jm))(Ym),ty=Xm,ey=((Km=function(){function t(e,n,i){f(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return g(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return pf(this.value);case"E":return t=this.error,new L(function(e){return e.error(t)});case"C":return vp()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new Km("C"),Km.undefinedValueNotification=new Km("N",void 0),Km),ny=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.scheduler=e,this.delay=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new iy(t,this.scheduler,this.delay))}}]),t}(),iy=function(t){a(n,t);var e=c(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,n),(r=e.call(this,t)).scheduler=i,r.delay=o,r}return g(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new ry(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(ey.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(ey.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(ey.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(R),ry=g(function t(e,n){f(this,t),this.notification=e,this.destination=n});function oy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new ay(e,n))}}var ay=function(){function t(e,n){f(this,t),this.observables=e,this.project=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new sy(t,this.observables,this.project))}}]),t}(),sy=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;f(this,n),(o=e.call(this,t)).observables=i,o.project=r,o.toRespond=[];var a=i.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var c=0;c<a;c++)o.add(lp(u(o),i[c],void 0,c));return o}return g(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var i=this.toRespond;if(i.length>0){var r=i.indexOf(n);-1!==r&&i.splice(r,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(C(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(sp);function cy(t,e){return function(n){return n.lift(new ly(t,e))}}var ly=function(){function t(e,n){f(this,t),this.compare=e,this.keySelector=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new uy(t,this.compare,this.keySelector))}}]),t}(),uy=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return g(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),n}(R),hy={};function dy(t,e){if(hy[t]=(hy[t]||0)+1,"function"==typeof e)return fy(t,function(){return Object.assign(Object.assign({},e.apply(void 0,arguments)),{type:t})});switch(e?e._as:"empty"){case"empty":return fy(t,function(){return{type:t}});case"props":return fy(t,function(e){return Object.assign(Object.assign({},e),{type:t})});default:throw new Error("Unexpected config.")}}function fy(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var py,gy="@ngrx/store/init",vy=((py=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.call(this,{type:gy})}return g(n,[{key:"next",value:function(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");r(d(n.prototype),"next",this).call(this,t)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){r(d(n.prototype),"complete",this).call(this)}}]),n}(ap)).\u0275fac=function(t){return new(t||py)},py.\u0275prov=Pt({token:py,factory:py.\u0275fac}),py),my=[vy],yy=new ci("@ngrx/store Internal Root Guard"),by=new ci("@ngrx/store Internal Initial State"),_y=new ci("@ngrx/store Initial State"),ky=new ci("@ngrx/store Reducer Factory"),Cy=new ci("@ngrx/store Internal Reducer Factory Provider"),wy=new ci("@ngrx/store Initial Reducers"),xy=new ci("@ngrx/store Internal Initial Reducers"),Py=new ci("@ngrx/store Store Features"),Oy=new ci("@ngrx/store Internal Store Reducers"),Sy=new ci("@ngrx/store Internal Feature Reducers"),My=new ci("@ngrx/store Internal Feature Configs"),Ty=new ci("@ngrx/store Internal Store Features"),Ey=new ci("@ngrx/store Internal Feature Reducers Token"),Ry=new ci("@ngrx/store Feature Reducers"),Fy=new ci("@ngrx/store User Provided Meta Reducers"),Iy=new ci("@ngrx/store Meta Reducers"),Ay=new ci("@ngrx/store Internal Resolved Meta Reducers"),Dy=new ci("@ngrx/store User Runtime Checks Config"),Ly=new ci("@ngrx/store Internal User Runtime Checks Config"),By=new ci("@ngrx/store Internal Runtime Checks"),Ny=new ci("@ngrx/store Check if Action types are unique");function jy(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t),i={},r=0;r<n.length;r++){var o=n[r];"function"==typeof t[o]&&(i[o]=t[o])}var a=Object.keys(i);return function(t,n){t=void 0===t?e:t;for(var r=!1,o={},s=0;s<a.length;s++){var c=a[s],l=t[c],u=(0,i[c])(l,n);o[c]=u,r=r||u!==l}return r?o:t}}function Vy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){if(0===e.length)return t;var n=e[e.length-1];return e.slice(0,-1).reduceRight(function(t,e){return e(t)},n(t))}}function Hy(t,e){return Array.isArray(e)&&e.length>0&&(t=Vy.apply(null,[].concat(C(e),[t]))),function(e,n){var i=t(e);return function(t,e){return i(t=void 0===t?n:t,e)}}}var zy,Uy,qy,Wy=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(L),$y=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(vy),Gy=((zy=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,o(r,i))).dispatcher=t,a.initialState=i,a.reducers=r,a.reducerFactory=o,a}return g(n,[{key:"addFeature",value:function(t){this.addFeatures([t])}},{key:"addFeatures",value:function(t){var e=t.reduce(function(t,e){var n=e.reducers,i=e.reducerFactory,r=e.metaReducers,o=e.initialState,a=e.key,s="function"==typeof n?function(t){var e=Array.isArray(t)&&t.length>0?Vy.apply(void 0,C(t)):function(t){return t};return function(t,n){return t=e(t),function(e,i){return t(e=void 0===e?n:e,i)}}}(r)(n,o):Hy(i,r)(n,o);return t[a]=s,t},{});this.addReducers(e)}},{key:"removeFeature",value:function(t){this.removeFeatures([t])}},{key:"removeFeatures",value:function(t){this.removeReducers(t.map(function(t){return t.key}))}},{key:"addReducer",value:function(t,e){this.addReducers(v({},t,e))}},{key:"addReducers",value:function(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}},{key:"removeReducer",value:function(t){this.removeReducers([t])}},{key:"removeReducers",value:function(t){var e=this;t.forEach(function(t){var n,i;e.reducers=(n=e.reducers,i=t,Object.keys(n).filter(function(t){return t!==i}).reduce(function(t,e){return Object.assign(t,v({},e,n[e]))},{}))}),this.updateReducers(t)}},{key:"updateReducers",value:function(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(ap)).\u0275fac=function(t){return new(t||zy)(Ti($y),Ti(_y),Ti(wy),Ti(ky))},zy.\u0275prov=Pt({token:zy,factory:zy.\u0275fac}),zy),Ky=[Gy,{provide:Wy,useExisting:Gy},{provide:$y,useExisting:vy}],Qy=((Uy=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(z)).\u0275fac=function(t){return Yy(t||Uy)},Uy.\u0275prov=Pt({token:Uy,factory:Uy.\u0275fac}),Uy),Yy=oi(Qy),Zy=[Qy],Jy=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(L),Xy=((qy=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;f(this,n),a=e.call(this,o);var s=t.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new ny(t,e))}}(Xm)).pipe(oy(i)).pipe(Np(tb,{state:o}));return a.stateSubscription=s.subscribe(function(t){var e=t.state,n=t.action;a.next(e),r.next(n)}),a}return g(n,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}]),n}(ap)).\u0275fac=function(t){return new(t||qy)(Ti(vy),Ti(Wy),Ti(Qy),Ti(_y))},qy.\u0275prov=Pt({token:qy,factory:qy.\u0275fac}),qy.INIT=gy,qy);function tb(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},e=arguments.length>1?arguments[1]:void 0,n=y(e,2),i=n[0],r=n[1],o=t.state;return{state:r(o,i),action:i}}var eb,nb=[Xy,{provide:Jy,useExisting:Xy}],ib=((eb=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this)).actionsObserver=i,o.reducerManager=r,o.source=t,o}return g(n,[{key:"select",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return ob.call.apply(ob,[null,t].concat(n))(this)}},{key:"lift",value:function(t){var e=new n(this,this.actionsObserver,this.reducerManager);return e.operator=t,e}},{key:"dispatch",value:function(t){this.actionsObserver.next(t)}},{key:"next",value:function(t){this.actionsObserver.next(t)}},{key:"error",value:function(t){this.actionsObserver.error(t)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(t,e){this.reducerManager.addReducer(t,e)}},{key:"removeReducer",value:function(t){this.reducerManager.removeReducer(t)}}]),n}(L)).\u0275fac=function(t){return new(t||eb)(Ti(Jy),Ti(vy),Ti(Gy))},eb.\u0275prov=Pt({token:eb,factory:eb.\u0275fac}),eb),rb=[ib];function ob(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return function(n){var r;if("string"==typeof t){var o=[e].concat(i).filter(Boolean);r=n.pipe((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.length;if(0===i)throw new Error("list of properties cannot be empty.");return function(t){return W(function(t,e){return function(n){for(var i=n,r=0;r<e;r++){var o=null!=i?i[t[r]]:void 0;if(void 0===o)return;i=o}return i}}(e,i))(t)}}).apply(void 0,[t].concat(C(o))))}else{if("function"!=typeof t)throw new TypeError("Unexpected type '".concat(typeof t,"' in select operator, expected 'string' or 'function'"));r=n.pipe(W(function(n){return t(n,e)}))}return r.pipe(cy())}}function ab(t,e){return t===e}function sb(t,e,n){for(var i=0;i<t.length;i++)if(!n(t[i],e[i]))return!0;return!1}function cb(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ab,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ab,r=null,o=null;return{memoized:function(){if(void 0!==e)return e.result;if(!r)return o=t.apply(null,arguments),r=arguments,o;if(!sb(arguments,r,n))return o;var a=t.apply(null,arguments);return r=arguments,i(o,a)?o:(o=a,a)},reset:function(){r=null,o=null},setResult:function(t){e={result:t}},clearResult:function(){e=void 0}}}function lb(){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:ub};return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=r;if(Array.isArray(a[0])){var s=a,c=e(s),l=c[0],u=c.slice(1);a=[].concat(C(l),C(u))}var h=a.slice(0,a.length-1),d=a[a.length-1],f=h.filter(function(t){return t.release&&"function"==typeof t.release}),p=t(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d.apply(null,e)}),g=cb(function(t,e){return n.stateFn.apply(null,[t,h,e,p])});return Object.assign(g.memoized,{release:function(){g.reset(),p.reset(),f.forEach(function(t){return t.release()})},projector:p.memoized,setResult:g.setResult,clearResult:g.clearResult})}}(cb).apply(void 0,arguments)}function ub(t,e,n,i){if(void 0===n){var r=e.map(function(e){return e(t)});return i.memoized.apply(null,r)}var o=e.map(function(e){return e(t,n)});return i.memoized.apply(null,[].concat(C(o),[n]))}function hb(t){return lb(function(e){var n=e[t];return!lu()||t in e||console.warn('@ngrx/store: The feature name "'.concat(t,"\" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('").concat(t,"', ...) or StoreModule.forFeature('").concat(t,"', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.")),n},function(t){return t})}var db="https://ngrx.io/guide/store/configuration/runtime-checks";function fb(t){return void 0===t}function pb(t){return null===t}function gb(t){return Array.isArray(t)}function vb(t){return"object"==typeof t&&null!==t}function mb(t){return"function"==typeof t}function yb(t){Object.freeze(t);var e=mb(t);return Object.getOwnPropertyNames(t).forEach(function(n){if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){var i=t[n];!vb(i)&&!mb(i)||Object.isFrozen(i)||yb(i)}}),t}function bb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(fb(t)||pb(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce(function(n,i){if(n)return n;var r=t[i];return function(t){return mb(t)&&t.hasOwnProperty("\u0275cmp")}(r)?n:!(fb(r)||pb(r)||function(t){return"number"==typeof t}(r)||function(t){return"boolean"==typeof t}(r)||function(t){return"string"==typeof t}(r)||gb(r))&&(function(t){if(!function(t){return vb(t)&&!gb(t)}(t))return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(r)?bb(r,[].concat(C(e),[i])):{path:[].concat(C(e),[i]),value:r})},!1)}function _b(t,e){if(!1!==t){var n=t.path.join("."),i=new Error("Detected unserializable ".concat(e,' at "').concat(n,'". ').concat(db,"#strict").concat(e,"serializability"));throw i.value=t.value,i.unserializablePath=n,i}}function kb(t){return lu()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Cb(t){var e=t.strictActionSerializability,n=t.strictStateSerializability;return function(t){return e||n?function(t,e){return function(n,i){e.action(i)&&_b(bb(i),"action");var r=t(n,i);return e.state()&&_b(bb(r),"state"),r}}(t,{action:function(t){return e&&!xb(t)},state:function(){return n}}):t}}function wb(t){var e=t.strictActionImmutability,n=t.strictStateImmutability;return function(t){return e||n?function(t,e){return function(n,i){var r=e.action(i)?yb(i):i,o=t(n,r);return e.state()?yb(o):o}}(t,{action:function(t){return e&&!xb(t)},state:function(){return n}}):t}}function xb(t){return t.type.startsWith("@ngrx")}function Pb(t){var e=t.strictActionWithinNgZone;return function(t){return e?function(t,e){return function(n,i){if(e.action(i)&&!Yl.isInAngularZone())throw new Error("Action '".concat(i.type,"' running outside NgZone. ").concat(db,"#strictactionwithinngzone"));return t(n,i)}}(t,{action:function(t){return e&&!xb(t)}}):t}}function Ob(){return[{provide:Ny,multi:!0,deps:[By],useFactory:Mb}]}function Sb(t){return t}function Mb(t){if(t.strictActionTypeUniqueness){var e=Object.entries(hy).filter(function(t){return y(t,2)[1]>1}).map(function(t){return y(t,1)[0]});if(e.length)throw new Error("Action types are registered more than once, ".concat(e.map(function(t){return'"'.concat(t,'"')}).join(", "),". ").concat(db,"#strictactiontypeuniqueness"))}}var Tb,Eb,Rb,Fb=((Rb=g(function t(e,n,i,r,o,a){f(this,t)})).\u0275mod=se({type:Rb}),Rb.\u0275inj=Ot({factory:function(t){return new(t||Rb)(Ti(vy),Ti(Wy),Ti(Qy),Ti(ib),Ti(yy,8),Ti(Ny,8))}}),Rb),Ib=((Eb=function(){function t(e,n,i,r,o){f(this,t),this.features=e,this.featureReducers=n,this.reducerManager=i;var a=e.map(function(t,e){var i=n.shift()[e];return Object.assign(Object.assign({},t),{reducers:i,initialState:Nb(t.initialState)})});i.addFeatures(a)}return g(t,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),t}()).\u0275mod=se({type:Eb}),Eb.\u0275inj=Ot({factory:function(t){return new(t||Eb)(Ti(Ty),Ti(Ry),Ti(Gy),Ti(Fb),Ti(Ny,8))}}),Eb),Ab=((Tb=function(){function t(){f(this,t)}return g(t,null,[{key:"forRoot",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:Fb,providers:[{provide:yy,useFactory:Vb,deps:[[ib,new _i,new Ci]]},{provide:by,useValue:n.initialState},{provide:_y,useFactory:Nb,deps:[by]},{provide:xy,useValue:t},{provide:Oy,useExisting:t instanceof ci?t:xy},{provide:wy,deps:[ka,xy,[new bi(Oy)]],useFactory:Db},{provide:Fy,useValue:n.metaReducers?n.metaReducers:[]},{provide:Ay,deps:[Iy,Fy],useFactory:jb},{provide:Cy,useValue:n.reducerFactory?n.reducerFactory:jy},{provide:ky,deps:[Cy,Ay],useFactory:Hy},my,Ky,Zy,nb,rb,(e=n.runtimeChecks,[{provide:Ly,useValue:e},{provide:Dy,useFactory:Sb,deps:[Ly]},{provide:By,deps:[Dy],useFactory:kb},{provide:Iy,multi:!0,deps:[By],useFactory:wb},{provide:Iy,multi:!0,deps:[By],useFactory:Cb},{provide:Iy,multi:!0,deps:[By],useFactory:Pb}]),Ob()]}}},{key:"forFeature",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{ngModule:Ib,providers:[{provide:My,multi:!0,useValue:t instanceof Object?{}:n},{provide:Py,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:n instanceof ci||!n.reducerFactory?jy:n.reducerFactory,metaReducers:n instanceof ci||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof ci||!n.initialState?void 0:n.initialState}},{provide:Ty,deps:[ka,My,Py],useFactory:Lb},{provide:Sy,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:Ey,multi:!0,useExisting:e instanceof ci?e:Sy},{provide:Ry,multi:!0,deps:[ka,Sy,[new bi(Ey)]],useFactory:Bb},Ob()]}}}]),t}()).\u0275mod=se({type:Tb}),Tb.\u0275inj=Ot({factory:function(t){return new(t||Tb)}}),Tb);function Db(t,e){return e instanceof ci?t.get(e):e}function Lb(t,e,n){return n.map(function(n,i){if(e[i]instanceof ci){var r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:jy,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Bb(t,e){return e.map(function(e){return e instanceof ci?t.get(e):e})}function Nb(t){return"function"==typeof t?t():t}function jb(t,e){return t.concat(e)}function Vb(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Hb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{reducer:e.pop(),types:e.map(function(t){return t.type})}}function zb(t){for(var e=new Map,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=function(){var t,n=s[a],i=k(n.types);try{var r=function(){var i=t.value,r=e.get(i);e.set(i,r?function(t,e){return n.reducer(r(t,e),e)}:n.reducer)};for(i.s();!(t=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}},a=0,s=i;a<s.length;a++)o();return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1?arguments[1]:void 0,r=e.get(i.type);return r?r(n,i):n}}var Ub=dy("[Tree] Load preflop trees"),qb=dy("[Status] Load preflop trees success",{_as:"props",_p:void 0}),Wb=dy("[Status] Load preflop trees error",{_as:"props",_p:void 0}),$b=dy("[Tree] Load postflop trees"),Gb=dy("[Status] Load postflop trees success",{_as:"props",_p:void 0}),Kb=dy("[Status] Load postflop trees error",{_as:"props",_p:void 0}),Qb=dy("[Tree] Load preflop tree",{_as:"props",_p:void 0}),Yb=dy("[Status] Load preflop tree success",{_as:"props",_p:void 0}),Zb=dy("[Status] Load preflop tree error",{_as:"props",_p:void 0}),Jb=dy("[Tree] Load postflop tree",{_as:"props",_p:void 0}),Xb=dy("[Status] Load postflop tree success",{_as:"props",_p:void 0}),t_=dy("[Status] Load postflop tree error",{_as:"props",_p:void 0}),e_=dy("[Tree] Clear current tree"),n_=function(t){return t.EP="EP",t.EP1="EP1",t.EP2="EP2",t.MP="MP",t.CO="CO",t.BTN="BTN",t.SB="SB",t.BB="BB",t}({}),i_=function(t){return t?"STR":"STRADDLE"};function r_(t,e){if(e)switch(t){case n_.SB:return 10;case n_.BB:return 20;case n_.EP:return 30;case n_.EP1:return 40;case n_.EP2:return 50;case n_.MP:return 60;case n_.CO:return 70;case n_.BTN:return 80}else switch(t){case n_.EP:return 10;case n_.EP1:return 20;case n_.EP2:return 30;case n_.MP:return 40;case n_.CO:return 50;case n_.BTN:return 60;case n_.SB:return 70;case n_.BB:return 80}}function o_(t,e){return C(t).sort(function(t,n){return r_(t,e)-r_(n,e)})}function a_(t){return C(t).sort(function(t,e){return-1*(r_(t,!0)-r_(e,!0))})}var s_=function(t){return t.FOLD="FOLD",t.CALL="CALL",t.CHECK="CHECK",t.MIN="MIN",t.MR="MR",t.RAISE="RAISE",t.RAISECHIP="RAISECHIP",t.ALLIN="ALLIN",t.flop="flop",t.turn="turn",t.river="river",t.root="root",t}({}),c_=function(t){return[s_.root,s_.flop,s_.turn,s_.river].includes(t.type)},l_=function(t){return!c_(t)},u_=function(t,e){return t.type===s_.RAISE&&e&&e[t.amount]?Object.assign(Object.assign({},t),{amount:e[t.amount],rfiLabel:null}):t},h_=function(t){return t.preflop="preflop",t.postflop="postflop",t}({}),d_={"PLO-HU":0,"PLO5C-HU":0,COIN:5,PLO:10,PLO5C:10,"PLO5C-SH":11,GG:11,GG7:11.01,PLOHSA:11.05,"PLO-Apps":11.5,"PLO-Archive":12,MTT:11.1,MTTA:21,"6M-MTT-ICM":22,"PLO-MULTI":20,"PLO5C-MULTI":20,F24:19,"PLO-8M":30};function f_(t){switch(t){case"PLO-HU":return"Heads Up Pokerstars";case"PLO":return"6-Max Pokerstars";case"GG":return"6-Max GG Poker";case"GG7":return"7-Max GG Poker";case"PLOHSA":return"6-Max High Stakes Ante";case"MTT":return"6-Max Rake Free";case"MTTA":return"6-Max MTT";case"PLO-Archive":return"6-Max Archive";case"PLO-8M":return"8-max Live PLO";case"PLO-Apps":return"6-Max Apps";case"8M-MTTA":return"8-Max MTT";case"6M-MTT-ICM":return"6-Max MTT ICM";case"COIN":return"4-Max CoinPoker";case"PLO5C-HU":return"Heads Up";case"PLO5C-SH":return"Shorthanded";case"PLO5C":return"6-Max";case"PLO5-COIN":return"4-Max CoinPoker"}}function p_(t){switch(t){case"PLO-HU":return"Heads Up";case"PLO":return"6-Max One-on-one";case"PLO-MULTI":return"6-Max Multiway";case"MTTA":return"6-Max MTT";case"F24":return"6-Max Framework";case"COIN":return"4-Max CoinPoker";case"PLO5C-HU":return"Heads Up";case"PLO5C-SH":return"Shorthanded";case"PLO5C":return"6-Max One-on-one";case"PLO5C-MULTI":return"6-Max Multiway";case"PLO5-COIN":return"4-Max CoinPoker"}}function g_(t){if(t.startsWith("6M"))return"";if(t.startsWith("PLO5KPA"))return"";if(t.startsWith("GG7"))return"";switch(t){case"F24_500":return"Framework";case"GG50_200":return"PLO50-200";case"GG":case"GG500_2000":case"GG7_500_2000":return"PLO500-2000";case"GG500_2000x25":case"GG500_2000S":case"GG500_2000Sx3":case"GG50_200-10CDL":case"GG50_200-20CDL":return"";case"PLO50v2":return"PLO50";case"PLO500v2":return"PLO500";case"PLO5000x25":return"";case"8M-25-25-50":return"25-25-50";case"8M-25-25":return"25-25";case"8M-1-1-CO-2R":return"5-5 w/ 10 CO Rock";case"8M-1-1-BTN-2R":return"5-5 w/ 10 BTN Rock";case"MTT":case"MTTx25":case"MTTA":case"MTTAx25":case"MTTAL":case"8M-MTTA":case"PLO100C":case"PLO100CL":case"PLO1000C":case"PLO1000CL":case"PLO5000C":case"PLO5000CL":return"";default:return t}}var v_=function(t){return"PLO-MULTI"===t||"PLO-MULTI4"===t||"PLO5C-MULTI"===t},m_=function(t,e,n,i){var r;if(e&&(null==t?void 0:t.amount)){var o=!n&&i,a=t.amount===e.replaceAmountWithRfiValue||(null===(r=e.replaceAmountsWithRfiValue)||void 0===r?void 0:r.includes(t.amount));return o&&!!e.rfiValue&&(t.type===s_.RAISE||t.type===s_.RAISECHIP)&&a}return!1};function y_(t,e,n){if(t){var i=t.filter(function(t){return e===t.flop&&(null!=n?n:"").startsWith(t.nodePrefix)}).sort(function(t,e){return e.nodePrefix.length-t.nodePrefix.length})[0];if(i)return i.factor}}var b_={LMP:0,LIMP:0,SRP:1,"3BP":2,"4BP":3},__=function(t,e){if(t.icmStacks)return[n_.EP,n_.EP1,n_.EP2,n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB].map(function(e){return t.icmStacks[e]}).filter(function(t){return!!t}).join(" - ");if(t.type===h_.preflop){if(t.label){var n=""+(e?"":g_(t.profile));return"".concat(n?n+" - ":"").concat(t.label)}return"".concat(e?"":g_(t.profile)+" - ").concat(t.stack,"bb")}var i=t,r=""+(e?"":g_(t.profile)),o=r?r+" - ":"";if(v_(t.category))return"".concat(e?"":o).concat(t.stack,"bb - ").concat(i.multiwayLabel);var a=a_(i.activePlayers).join(" vs. ");return"".concat(e?"":o).concat(t.stack,"bb - ").concat(a," - ").concat(i.preflop.type.toUpperCase())};function k_(t){var e;return(e=[]).concat.apply(e,C(t))}var C_=function(t){return t.NodeTraining="NodeTraining",t.RandomBoardTraining="RandomBoardTraining",t.MultiStreetTraining="MultiStreetTraining",t.RangeExport="RangeExport",t.ThemeToggle="ThemeToggle",t.Skills="Skills",t.Favorites="Favorites",t.CustomSims="CustomSims",t}({});function w_(t){var e;return t.pipe(Ip(1)).subscribe(function(t){return e=t}),e}function x_(t){return t?t.next?t.next.map(function(t){return t.rangeId}).sort().join("-"):t.code:""}var P_=zb({preflop:[],postflop:[],currentTree:null,isLoadingTree:!1},Hb(qb,function(t,e){var n=e.preflopTrees;return Object.assign(Object.assign({},t),{preflop:n.categories})}),Hb(Gb,function(t,e){var n=e.postflopTrees;return Object.assign(Object.assign({},t),{postflop:n.categories})}),Hb(Qb,function(t){return Object.assign(Object.assign({},t),{currentTree:null,isLoadingTree:!0})}),Hb(Yb,function(t,e){var n=e.tree;return Object.assign(Object.assign({},t),{isLoadingTree:!1,currentTree:n})}),Hb(Jb,function(t){return Object.assign(Object.assign({},t),{currentTree:null,isLoadingTree:!0})}),Hb(Xb,function(t,e){var n=e.tree;return Object.assign(Object.assign({},t),{isLoadingTree:!1,currentTree:n})}),Hb(e_,function(t){return Object.assign(Object.assign({},t),{isLoadingTree:!1,currentTree:null})}));function O_(t,e){return P_(t,e)}var S_=hb("tree"),M_=lb(S_,function(t){return t.preflop}),T_=lb(S_,function(t){return t.postflop}),E_=lb(S_,function(t){return t.isLoadingTree}),R_=lb(S_,function(t){return t.currentTree}),F_=(lb(S_,function(t){var e,n=k(t.preflop);try{for(n.s();!(e=n.n()).done;){var i,r=k(e.value.profiles);try{for(r.s();!(i=r.n()).done;){var o=i.value.trees.find(function(t){return t.isDefault});if(o)return o}}catch(a){r.e(a)}finally{r.f()}}}catch(a){n.e(a)}finally{n.f()}}),function(t){return lb(S_,function(e){var n,i=k(e.preflop);try{for(i.s();!(n=i.n()).done;){var r,o=k(n.value.profiles);try{for(o.s();!(r=o.n()).done;){var a=r.value.trees.find(function(e){return e.key===t});if(a)return a}}catch(s){o.e(s)}finally{o.f()}}}catch(s){i.e(s)}finally{i.f()}return null})}),I_=function(t){return lb(S_,function(e){var n,i=k(e.postflop);try{for(i.s();!(n=i.n()).done;){var r=n.value.trees.find(function(e){return e.key===t});if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null})},A_=dy("[Range] Set filter",{_as:"props",_p:void 0}),D_=dy("[Range] Reset filter"),L_=dy("[Range] Set current range",{_as:"props",_p:void 0}),B_=dy("[Range] Clear current range"),N_=dy("[Range] Set current range frequencies",{_as:"props",_p:void 0}),j_=dy("[Range] Clear current range frequencies"),V_=zb({currentFilter:null,currentRangeKey:null,currentRangeFrequencies:null},Hb(A_,function(t,e){return Object.assign(Object.assign({},t),{currentFilter:e.filter})}),Hb(D_,function(t){return Object.assign(Object.assign({},t),{currentFilter:void 0})}),Hb(B_,function(t){return Object.assign(Object.assign({},t),{currentRangeKey:null,currentRangeFrequencies:null})}),Hb(L_,function(t,e){return Object.assign(Object.assign({},t),{currentRangeKey:e.rangeKey})}),Hb(j_,function(t){return Object.assign(Object.assign({},t),{currentRangeFrequencies:null})}),Hb(N_,function(t,e){return Object.assign(Object.assign({},t),{currentRangeFrequencies:Object.assign({},e)})}));function H_(t,e){return V_(t,e)}var z_=hb("range"),U_=lb(z_,function(t){return t.currentFilter}),q_=lb(z_,function(t){var e;return(null===(e=t.currentFilter)||void 0===e?void 0:e.length)>0}),W_=lb(z_,function(t){return t.currentRangeKey}),$_=lb(z_,function(t){return t.currentRangeFrequencies}),G_=dy("[Auth] Login via google",{_as:"props",_p:void 0}),K_=dy("[Auth] Login",{_as:"props",_p:void 0}),Q_=dy("[Auth] Login success",{_as:"props",_p:void 0}),Y_=dy("[Auth] Login error",{_as:"props",_p:void 0}),Z_=dy("[Auth] Refresh user"),J_=dy("[Auth] logout",{_as:"props",_p:void 0}),X_=dy("[Auth] Clear error"),tk=dy("[Auth] Do nothing"),ek=zb({isLoggingIn:!1,isLoggedIn:!1},Hb(K_,function(t){return Object.assign(Object.assign({},t),{error:null,isLoggingIn:!0,isLoggedIn:!1})}),Hb(G_,function(t){return Object.assign(Object.assign({},t),{error:null,isLoggingIn:!0,isLoggedIn:!1})}),Hb(Q_,function(t,e){return Object.assign(Object.assign({},t),{error:null,user:e.user,isLoggingIn:!1,isLoggedIn:!0})}),Hb(Y_,function(t,e){return Object.assign(Object.assign({},t),{error:{message:e.message,code:e.code},isLoggingIn:!1,isLoggedIn:!1})}),Hb(J_,function(t){return Object.assign(Object.assign({},t),{user:null,error:null,isLoggingIn:!1,isLoggedIn:!1})}),Hb(X_,function(t){return Object.assign(Object.assign({},t),{isLoggingIn:!1,error:null})}),Hb(tk,function(t){return Object.assign(Object.assign({},t),{isLoggingIn:!1})}));function nk(t,e){return ek(t,e)}var ik=hb("auth"),rk=lb(ik,function(t){return!!(null==t?void 0:t.user)&&(null==t?void 0:t.isLoggedIn)}),ok=lb(ik,function(t){return null==t?void 0:t.isLoggingIn}),ak=lb(ik,function(t){return null==t?void 0:t.user}),sk=lb(ik,function(t){return null==t?void 0:t.error}),ck=dy("[Favorites] Load preflop buckets"),lk=dy("[Favorites] Create user favorite",{_as:"props",_p:void 0}),uk=dy("[Favorites] Delete user favorite",{_as:"props",_p:void 0}),hk=dy("[Favorites] Set user favorites",{_as:"props",_p:void 0}),dk=zb({favorites:[]},Hb(hk,function(t,e){return Object.assign(Object.assign({},t),{favorites:e.favorites})}));function fk(t,e){return dk(t,e)}var pk=hb("favorites"),gk=lb(pk,function(t){return t.favorites}),vk=function(t,e){return lb(pk,function(n){var i,r;return null===(r=null===(i=n.favorites)||void 0===i?void 0:i.find(function(n){return n.path===t&&yk(n.queryParams,e)}))||void 0===r?void 0:r.key})},mk=function(t,e){return lb(pk,function(n){var i;return!!(null===(i=n.favorites)||void 0===i?void 0:i.find(function(n){return n.path===t&&yk(n.queryParams,e)}))})},yk=function(t,e){var n=Object.keys(t).length===Object.keys(e).length,i=Object.keys(t).every(function(n){var i,r;return(null===(i=t[n])||void 0===i?void 0:i.toString())===(null===(r=e[n])||void 0===r?void 0:r.toString())});return n&&i};function bk(t,e){var n=Math.min.apply(Math,C(t.buckets.map(function(t){return t.id})));return"".concat(t.key,".").concat(e.id-n+1)}function _k(t){var e=[];return t.buckets?e.push.apply(e,C(t.buckets)):t.children&&t.children.forEach(function(t){return e.push.apply(e,C(_k(t)))}),e}var kk=dy("[Buckets] Load preflop buckets"),Ck=dy("[Buckets] Load preflop buckets success",{_as:"props",_p:void 0}),wk=dy("[Buckets] Load preflop buckets error",{_as:"props",_p:void 0}),xk=dy("[Buckets] Load postflop buckets"),Pk=dy("[Buckets] Load postflop buckets success",{_as:"props",_p:void 0}),Ok=dy("[Buckets] Load postflop buckets error",{_as:"props",_p:void 0}),Sk=dy("[Buckets] Update bucket selection",{_as:"props",_p:void 0}),Mk=dy("[Buckets] Update bucket group selection",{_as:"props",_p:void 0}),Tk=dy("[Buckets] Clear selection"),Ek=dy("[Buckets] Clear preflop bucket lookup"),Rk=dy("[Buckets] Clear postflop bucket lookup"),Fk=zb({preflopGroups:null,postflopGroups:null,selection:{groups:[],buckets:[]}},Hb(Ck,function(t,e){return Object.assign(Object.assign({},t),{preflopGroups:e.groups})}),Hb(Pk,function(t,e){return Object.assign(Object.assign({},t),{postflopGroups:e.groups})}),Hb(Sk,function(t,e){return Object.assign(Object.assign({},t),{selection:Object.assign(Object.assign({},t.selection),{buckets:e.buckets})})}),Hb(Mk,function(t,e){return Object.assign(Object.assign({},t),{selection:Object.assign(Object.assign({},t.selection),{groups:e.groups})})}),Hb(Tk,function(t){return Object.assign(Object.assign({},t),{selection:{groups:[],buckets:[]}})}));function Ik(t,e){return Fk(t,e)}var Ak=hb("bucket"),Dk=lb(Ak,function(t){return t.preflopGroups}),Lk=lb(Ak,function(t){return t.postflopGroups}),Bk=lb(Dk,function(t){var e=[];if(t){var n,i=k(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.push.apply(e,C(zk(r)))}}catch(o){i.e(o)}finally{i.f()}}return e}),Nk=lb(Lk,function(t){var e=[];if(t){var n,i=k(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.push.apply(e,C(zk(r)))}}catch(o){i.e(o)}finally{i.f()}}return e}),jk=lb(Ak,function(t){return t.selection}),Vk=lb(Ak,function(t){return t.selection.buckets.length>0||t.selection.groups.length>0}),Hk=function(t){return lb(jk,Dk,Lk,function(e,n,i){var r=e.groups,o=e.buckets,a=t?i:n,s=r.filter(function(t){return!r.find(function(e){return e.key!==t.key&&t.key.startsWith(e.key)})}),c=o.filter(function(t){return!s.find(function(e){return e.buckets?e.buckets.find(function(e){return e.id===t.id}):e.children.some(function(e){return e.buckets.find(function(e){return e.id===t.id})})})});if(t){var l=function(t){return"(".concat(t.syntax,")")},u=[].concat(C(s),C(c));if(u.length>=1)return"("+(1===u.length?u[0].syntax:[].concat(C(s.map(l)),C(c.map(l))).join(","))+")"}else{var h=[].concat(C(s.map(function(t){return"$C"+t.key})),C(c.map(function(t){return"$C"+bk(function(t,e){var n,i=k(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.buckets){if(r.buckets.find(function(e){return e.id===t.id}))return r}else{var o,a=k(r.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.buckets&&s.buckets.find(function(e){return e.id===t.id}))return s}}catch(c){a.e(c)}finally{a.f()}}}}catch(c){i.e(c)}finally{i.f()}}(t,a),t)})));if(h.length>=1)return"("+(1===h.length?h[0]:[h].join(","))+")"}return""})};function zk(t){var e=[],n=_k(t).map(function(t){return t.id});if(e.push({token:"$C"+t.key,bucketIds:n}),t.buckets){var i,r=k(t.buckets);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.push({token:"$C"+bk(t,o),bucketIds:[o.id]})}}catch(a){r.e(a)}finally{r.f()}}else t.children&&t.children.forEach(function(t){return e.push.apply(e,C(zk(t)))});return e}var Uk=function(t){return t[t.Free=1]="Free",t[t.Full=2]="Full",t}({}),qk=dy("[Status] Reset status"),Wk=dy("[Status] Set status",{_as:"props",_p:void 0}),$k=zb({status:"",rangeLimitExceededForDate:null},Hb(qk,function(t){return Object.assign(Object.assign({},t),{status:"",isLoading:!1})}),Hb(Wk,function(t,e){var n=e.status,i=e.rangeLimitExceededForDate;return Object.assign(Object.assign({},t),{status:n,rangeLimitExceededForDate:i})}));function Gk(t,e){return $k(t,e)}var Kk=hb("status"),Qk=lb(Kk,function(t){return t.status}),Yk=(lb(Kk,function(t){return t.rangeLimitExceededForDate&&Yk(t.rangeLimitExceededForDate)}),function(t){var e=new Date;return t.getDate()==e.getDate()&&t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()}),Zk=dy("[App] Load app info"),Jk=dy("[App] Load app info success",{_as:"props",_p:void 0}),Xk=dy("[App] Load app info error",{_as:"props",_p:void 0}),tC=zb({info:{releaseNotes:[],features:[]}},Hb(Jk,function(t,e){var n=e.info;return Object.assign(Object.assign({},t),{info:n})}));function eC(t,e){return tC(t,e)}var nC={min:null,max:null},iC=dy("[Settings] Load settings"),rC=dy("[Settings] Load settings success",{_as:"props",_p:void 0}),oC=dy("[Settings] Load settings error",{_as:"props",_p:void 0}),aC=dy("[Settings] Update settings for training",{_as:"props",_p:void 0}),sC=dy("[Settings] Update settings for release notes",{_as:"props",_p:void 0}),cC=zb({settings:{training:{minFrequency:85,minWeight:.5,evSpread:nC,selectBalanced:!0}}},Hb(rC,function(t,e){var n,i=e.settings;return(null===(n=i.training)||void 0===n?void 0:n.minFrequency)?Object.assign(Object.assign({},t),{settings:i}):Object.assign(Object.assign({},t),{settings:Object.assign(Object.assign({},i),{training:Object.assign(Object.assign({},i.training),{minFrequency:85})})})}));function lC(t,e){return cC(t,e)}var uC=hb("settings"),hC=lb(uC,function(t){var e;return null===(e=t.settings)||void 0===e?void 0:e.training}),dC=function(t){return lb(uC,function(e){var n,i;return t?null===(n=e.settings)||void 0===n?void 0:n.fivecardReleaseNotesLastSeen:null===(i=e.settings)||void 0===i?void 0:i.releaseNotesLastSeen})},fC=hb("appInfo"),pC=lb(fC,function(t){var e;return null===(e=t.info)||void 0===e?void 0:e.releaseNotes}),gC=lb(fC,function(t){var e;return null===(e=t.info)||void 0===e?void 0:e.features}),vC=lb(pC,dC(!1),function(t,e){return mC(t,e)});function mC(t,e){if((null==t?void 0:t.length)>0){var n=C(t).sort(function(t,e){return new Date(e.dateReleased).getTime()-new Date(t.dateReleased).getTime()});return e?n.filter(function(t){return!e||new Date(t.dateReleased).getTime()>new Date(e).getTime()})[0]:n[0]}return null}function yC(t,e){return new L(function(n){var i=t.length;if(0!==i)for(var r=new Array(i),o=0,a=0,s=function(s){var c=tt(t[s]),l=!1;n.add(c.subscribe({next:function(t){l||(l=!0,a++),r[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==i&&l||(a===i&&n.next(e?e.reduce(function(t,e,n){return t[e]=r[n],t},{}):r),n.complete())}}))},c=0;c<i;c++)s(c);else n.complete()})}var bC,_C,kC=new ci("NgValueAccessor"),CC={provide:kC,useExisting:Ct(function(){return wC}),multi:!0},wC=((bC=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||bC)(Va(ic),Va(ec))},bC.\u0275dir=le({type:bC,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Ja("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[Ks([CC])]}),bC),xC={provide:kC,useExisting:Ct(function(){return OC}),multi:!0},PC=new ci("CompositionEventMode"),OC=((_C=function(){function t(e,n,i){var r;f(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Tu()?Tu().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||_C)(Va(ic),Va(ec),Va(PC,8))},_C.\u0275dir=le({type:_C,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Ja("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Ks([xC])]}),_C);function SC(t){return null==t||0===t.length}function MC(t){return null!=t&&"number"==typeof t.length}var TC=new ci("NgValidators"),EC=new ci("NgAsyncValidators"),RC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,FC=function(){function t(){f(this,t)}return g(t,null,[{key:"min",value:function(t){return function(e){if(SC(e.value)||SC(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(SC(e.value)||SC(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return SC(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return SC(t.value)||RC.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return SC(e.value)||!MC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return MC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(SC(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(IC);return 0==e.length?null:function(t){return DC(LC(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(IC);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(x(i))return yC(i,null);if(P(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return yC(r.map(function(t){return i[t]}),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return yC(e=1===e.length&&x(e[0])?e[0]:e,null).pipe(W(function(t){return o.apply(void 0,C(t))}))}return yC(e,null)}(LC(t,e).map(AC)).pipe(W(DC))}}}]),t}();function IC(t){return null!=t}function AC(t){var e=Ya(t)?tt(t):t;return Za(e),e}function DC(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function LC(t,e){return e.map(function(e){return e(t)})}function BC(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function NC(t){return null!=t?FC.compose(BC(t)):null}function jC(t){return null!=t?FC.composeAsync(BC(t)):null}function VC(t,e){return null===t?[e]:Array.isArray(t)?[].concat(C(t),[e]):[t,e]}function HC(t){return t._rawValidators}function zC(t){return t._rawAsyncValidators}var UC,qC,WC,$C,GC,KC,QC,YC,ZC,JC,XC=((qC=function(){function t(){f(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return g(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=NC(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=jC(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||qC)},qC.\u0275dir=le({type:qC}),qC),tw=((UC=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(XC)).\u0275fac=function(t){return ew(t||UC)},UC.\u0275dir=le({type:UC,features:[wa]}),UC),ew=oi(tw),nw=function(t){a(n,t);var e=c(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return g(n)}(XC),iw=function(){function t(e){f(this,t),this._cd=e}return g(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),rw=(($C=function(t){a(n,t);var e=c(n);function n(t){return f(this,n),e.call(this,t)}return g(n)}(iw)).\u0275fac=function(t){return new(t||$C)(Va(nw,2))},$C.\u0275dir=le({type:$C,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&gs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[wa]}),$C),ow=((WC=function(t){a(n,t);var e=c(n);function n(t){return f(this,n),e.call(this,t)}return g(n)}(iw)).\u0275fac=function(t){return new(t||WC)(Va(tw,2))},WC.\u0275dir=le({type:WC,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&gs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[wa]}),WC),aw={provide:kC,useExisting:Ct(function(){return sw}),multi:!0},sw=((GC=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||GC)(Va(ic),Va(ec))},GC.\u0275dir=le({type:GC,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Ja("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Ks([aw])]}),GC),cw={provide:kC,useExisting:Ct(function(){return uw}),multi:!0},lw=((QC=function(){function t(){f(this,t),this._accessors=[]}return g(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||QC)},QC.\u0275prov=Pt({token:QC,factory:QC.\u0275fac}),QC),uw=((KC=function(){function t(e,n,i,r){f(this,t),this._renderer=e,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return g(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(nw),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||KC)(Va(ic),Va(ec),Va(lw),Va(ka))},KC.\u0275dir=le({type:KC,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Ja("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ks([cw])]}),KC),hw={provide:kC,useExisting:Ct(function(){return dw}),multi:!0},dw=((YC=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||YC)(Va(ic),Va(ec))},YC.\u0275dir=le({type:YC,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Ja("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Ks([hw])]}),YC),fw={provide:kC,useExisting:Ct(function(){return pw}),multi:!0},pw=((ZC=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return g(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),t}()).\u0275fac=function(t){return new(t||ZC)(Va(ic),Va(ec))},ZC.\u0275dir=le({type:ZC,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Ja("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ks([fw])]}),ZC),gw={provide:kC,useExisting:Ct(function(){return vw}),multi:!0},vw=((JC=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return g(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var i=[];if(void 0!==n.selectedOptions)for(var r=n.selectedOptions,o=0;o<r.length;o++){var a=r.item(o),s=e._getOptionValue(a.value);i.push(s)}else for(var c=n.options,l=0;l<c.length;l++){var u=c.item(l);if(u.selected){var h=e._getOptionValue(u.value);i.push(h)}}e.value=i,t(i)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),t}()).\u0275fac=function(t){return new(t||JC)(Va(ic),Va(ec))},JC.\u0275dir=le({type:JC,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Ja("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ks([gw])]}),JC);function mw(t,e){return[].concat(C(e.path),[t])}function yw(t,e){_w(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Cw(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Cw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function bw(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _w(t,e,n){var i=HC(t);null!==e.validator?t.setValidators(VC(i,e.validator)):"function"==typeof i&&t.setValidators([i]);var r=zC(t);if(null!==e.asyncValidator?t.setAsyncValidators(VC(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){var o=function(){return t.updateValueAndValidity()};bw(e._rawValidators,o),bw(e._rawAsyncValidators,o)}}function kw(t,e,n){if(null!==t){if(null!==e.validator){var i=HC(t);Array.isArray(i)&&i.length>0&&t.setValidators(i.filter(function(t){return t!==e.validator}))}if(null!==e.asyncValidator){var r=zC(t);Array.isArray(r)&&r.length>0&&t.setAsyncValidators(r.filter(function(t){return t!==e.asyncValidator}))}}if(n){var o=function(){};bw(e._rawValidators,o),bw(e._rawAsyncValidators,o)}}function Cw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ww(t,e){_w(t,e,!1)}function xw(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}var Pw=[wC,dw,sw,pw,vw,uw];function Ow(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Sw(t,e){if(!e)return null;Array.isArray(e);var n=void 0,i=void 0,r=void 0;return e.forEach(function(t){var e;t.constructor===OC?n=t:(e=t,Pw.some(function(t){return e.constructor===t})?i=t:r=t)}),r||i||n||null}function Mw(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Tw(t){return(Iw(t)?t.validators:t)||null}function Ew(t){return Array.isArray(t)?NC(t):t||null}function Rw(t,e){return(Iw(e)?e.asyncValidators:t)||null}function Fw(t){return Array.isArray(t)?jC(t):t||null}function Iw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Aw,Dw,Lw,Bw,Nw,jw,Vw,Hw,zw,Uw,qw,Ww,$w=function(){function t(e,n){f(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Ew(this._rawValidators),this._composedAsyncValidatorFn=Fw(this._rawAsyncValidators)}return g(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=Ew(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Fw(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=AC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var i=t;return e.forEach(function(t){i=i instanceof Kw?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Qw&&i.at(t)||null}),i}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new ol,this.statusChanges=new ol}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Iw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Gw=function(t){a(n,t);var e=c(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this,Tw(r),Rw(o,r)))._onChange=[],t._applyFormState(i),t._setUpdateStrategy(r),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return g(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){Mw(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){Mw(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}($w),Kw=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,Tw(i),Rw(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return g(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach(function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Gw?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var i=n[e],r=this.controls[i];if(this.contains(i)&&t(r))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}($w),Qw=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,Tw(i),Rw(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return g(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach(function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof Gw?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=k(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}($w),Yw={provide:tw,useExisting:Ct(function(){return Jw})},Zw=Promise.resolve(null),Jw=((Aw=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new ol,r.form=new Kw({},NC(t),jC(i)),r}return g(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;Zw.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),yw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Zw.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Mw(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;Zw.then(function(){var n=e._findContainer(t.path),i=new Kw({});ww(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;Zw.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Zw.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Ow(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(tw)).\u0275fac=function(t){return new(t||Aw)(Va(TC,10),Va(EC,10))},Aw.\u0275dir=le({type:Aw,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ja("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ks([Yw]),wa]}),Aw),Xw={provide:nw,useExisting:Ct(function(){return ex})},tx=Promise.resolve(null),ex=((Lw=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this)).control=new Gw,a._registered=!1,a.update=new ol,a._parent=t,a._setValidators(i),a._setAsyncValidators(r),a.valueAccessor=Sw(0,o),a}return g(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),xw(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?mw(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){yw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;tx.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;tx.then(function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()})}}]),n}(nw)).\u0275fac=function(t){return new(t||Lw)(Va(tw,9),Va(TC,10),Va(EC,10),Va(kC,10))},Lw.\u0275dir=le({type:Lw,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ks([Xw]),wa,Pe]}),Lw),nx=((Dw=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||Dw)},Dw.\u0275dir=le({type:Dw,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Dw),ix=new ci("NgModelWithFormControlWarning"),rx={provide:nw,useExisting:Ct(function(){return ox})},ox=((Bw=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this))._ngModelWarningConfig=o,a.update=new ol,a._ngModelWarningSent=!1,a._setValidators(t),a._setAsyncValidators(i),a.valueAccessor=Sw(0,r),a}return g(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._isControlChanged(t)&&(yw(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),xw(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}},{key:"path",get:function(){return[]}},{key:"control",get:function(){return this.form}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_isControlChanged",value:function(t){return t.hasOwnProperty("form")}}]),n}(nw)).\u0275fac=function(t){return new(t||Bw)(Va(TC,10),Va(EC,10),Va(kC,10),Va(ix,8))},Bw.\u0275dir=le({type:Bw,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ks([rx]),wa,Pe]}),Bw._ngModelWarningSentOnce=!1,Bw),ax={provide:tw,useExisting:Ct(function(){return sx})},sx=((Nw=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this)).validators=t,r.asyncValidators=i,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new ol,r._setValidators(t),r._setAsyncValidators(i),r}return g(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return yw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Mw(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);ww(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);ww(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Ow(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){var n=function(){};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),kw(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}(e.control||null,e),n&&yw(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){_w(this.form,this,!1),this._oldForm&&kw(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(tw)).\u0275fac=function(t){return new(t||Nw)(Va(TC,10),Va(EC,10))},Nw.\u0275dir=le({type:Nw,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Ja("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ks([ax]),wa,Pe]}),Nw),cx={provide:nw,useExisting:Ct(function(){return lx})},lx=((Uw=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a){var s;return f(this,n),(s=e.call(this))._ngModelWarningConfig=a,s._added=!1,s.update=new ol,s._ngModelWarningSent=!1,s._parent=t,s._setValidators(i),s._setAsyncValidators(r),s.valueAccessor=Sw(0,o),s}return g(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),xw(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return mw(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(nw)).\u0275fac=function(t){return new(t||Uw)(Va(tw,13),Va(TC,10),Va(EC,10),Va(kC,10),Va(ix,8))},Uw.\u0275dir=le({type:Uw,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ks([cx]),wa,Pe]}),Uw._ngModelWarningSentOnce=!1,Uw),ux=((zw=g(function t(){f(this,t)})).\u0275mod=se({type:zw}),zw.\u0275inj=Ot({factory:function(t){return new(t||zw)}}),zw),hx=((Hw=function(){function t(){f(this,t)}return g(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new Kw(n,{asyncValidators:r,updateOn:o,validators:i})}},{key:"control",value:function(t,e,n){return new Gw(t,e,n)}},{key:"array",value:function(t,e,n){var i=this,r=t.map(function(t){return i._createControl(t)});return new Qw(r,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(i){n[i]=e._createControl(t[i])}),n}},{key:"_createControl",value:function(t){return t instanceof Gw||t instanceof Kw||t instanceof Qw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Hw)},Hw.\u0275prov=Pt({token:Hw,factory:Hw.\u0275fac}),Hw),dx=((Vw=g(function t(){f(this,t)})).\u0275mod=se({type:Vw}),Vw.\u0275inj=Ot({factory:function(t){return new(t||Vw)},providers:[lw],imports:[ux]}),Vw),fx=((jw=function(){function t(){f(this,t)}return g(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:ix,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=se({type:jw}),jw.\u0275inj=Ot({factory:function(t){return new(t||jw)},providers:[hx,lw],imports:[ux]}),jw),px=function(t){a(n,t);var e=c(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return g(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}r(d(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new gx(this._getNow(),t)),this._trimBufferThenGetEvents()),r(d(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new j;if(this.isStopped||this.hasError?e=M.EMPTY:(this.observers.push(t),e=new V(this,t)),r&&t.add(t=new iy(t,r)),n)for(var a=0;a<o&&!t.closed;a++)t.next(i[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||ty).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}]),n}(z),gx=g(function t(e,n){f(this,t),this.time=e,this.value=n}),vx=function(t){a(n,t);var e=c(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments)).value=null,t.hasNext=!1,t.hasCompleted=!1,t}return g(n,[{key:"_subscribe",value:function(t){return this.hasError?(t.error(this.thrownError),M.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),M.EMPTY):r(d(n.prototype),"_subscribe",this).call(this,t)}},{key:"next",value:function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}},{key:"error",value:function(t){this.hasCompleted||r(d(n.prototype),"error",this).call(this,t)}},{key:"complete",value:function(){this.hasCompleted=!0,this.hasNext&&r(d(n.prototype),"next",this).call(this,this.value),r(d(n.prototype),"complete",this).call(this)}}]),n}(z),mx=g(function t(){f(this,t)}),yx=function(){var t=function(t){a(n,t);var e=c(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scope:"email"};return f(this,n),(i=e.call(this)).clientId=t,i.initOptions=r,i}return g(n,[{key:"initialize",value:function(){var t=this;return new Promise(function(e,i){try{t.loadScript(n.PROVIDER_ID,"https://apis.google.com/js/platform.js",function(){gapi.load("auth2",function(){t.auth2=gapi.auth2.init(Object.assign(Object.assign({},t.initOptions),{client_id:t.clientId})),t.auth2.then(function(){e()}).catch(function(t){i(t)})})})}catch(r){i(r)}})}},{key:"getLoginStatus",value:function(t){var e=this;return new Promise(function(i,r){if(e.auth2.isSignedIn.get()){var o=new mx,a=e.auth2.currentUser.get().getBasicProfile();if(o.id=a.getId(),o.name=a.getName(),o.email=a.getEmail(),o.photoUrl=a.getImageUrl(),o.firstName=a.getGivenName(),o.lastName=a.getFamilyName(),o.response=a,t&&t.refreshToken)e.auth2.currentUser.get().reloadAuthResponse().then(function(t){o.authToken=t.access_token,o.idToken=t.id_token,i(o)});else{var s=e.auth2.currentUser.get().getAuthResponse(!0);o.authToken=s.access_token,o.idToken=s.id_token,i(o)}}else r("No user is currently logged in with "+n.PROVIDER_ID)})}},{key:"signIn",value:function(t){var e=this,n=Object.assign(Object.assign({},this.initOptions),t);return new Promise(function(i,r){(n&&n.offline_access?e.auth2.grantOfflineAccess(t):e.auth2.signIn(t)).then(function(t){var n=new mx;if(t&&t.code)n.authorizationCode=t.code;else{var r=e.auth2.currentUser.get().getBasicProfile(),o=e.auth2.currentUser.get().getAuthResponse(!0).access_token,a=e.auth2.currentUser.get().getAuthResponse(!0).id_token;n.id=r.getId(),n.name=r.getName(),n.email=r.getEmail(),n.photoUrl=r.getImageUrl(),n.firstName=r.getGivenName(),n.lastName=r.getFamilyName(),n.authToken=o,n.idToken=a,n.response=r}i(n)},function(t){r(t)}).catch(function(t){r(t)})})}},{key:"signOut",value:function(t){var e=this;return new Promise(function(n,i){(t?e.auth2.disconnect():e.auth2.signOut()).then(function(t){t?i(t):n()}).catch(function(t){i(t)})})}}]),n}(function(){function t(){f(this,t)}return g(t,[{key:"loadScript",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("undefined"!=typeof document&&!document.getElementById(t)){var r=document.createElement("script");r.async=!0,r.src=e,r.onload=n,i||(i=document.head),i.appendChild(r)}}}]),t}());return t.PROVIDER_ID="GOOGLE",t}(),bx=((Ww=function(){function t(e){var n=this;f(this,t),this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new px(1),this.initialized=!1,this._initState=new vx,e instanceof Promise?e.then(function(t){n.initialize(t)}):this.initialize(e)}return g(t,[{key:"authState",get:function(){return this._authState.asObservable()}},{key:"initState",get:function(){return this._initState.asObservable()}},{key:"initialize",value:function(t){var e=this;this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;var n=t.onError,i=void 0===n?console.error:n;t.providers.forEach(function(t){e.providers.set(t.id,t.provider)}),Promise.all(Array.from(this.providers.values()).map(function(t){return t.initialize()})).then(function(){if(e.autoLogin){var t=[],n=!1;e.providers.forEach(function(i,r){var o=i.getLoginStatus();t.push(o),o.then(function(t){t.provider=r,e._user=t,e._authState.next(t),n=!0}).catch(console.debug)}),Promise.all(t).catch(function(){n||(e._user=null,e._authState.next(null))})}}).catch(function(t){i(t)}).finally(function(){e.initialized=!0,e._initState.next(e.initialized),e._initState.complete()})}},{key:"refreshAuthToken",value:function(e){var n=this;return new Promise(function(i,r){if(n.initialized)if(e!==yx.PROVIDER_ID)r(t.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{var o=n.providers.get(e);o?o.getLoginStatus({refreshToken:!0}).then(function(t){t.provider=e,n._user=t,n._authState.next(t),i()}).catch(function(t){r(t)}):r(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(t.ERR_NOT_INITIALIZED)})}},{key:"signIn",value:function(e,n){var i=this;return new Promise(function(r,o){if(i.initialized){var a=i.providers.get(e);a?a.signIn(n).then(function(t){t.provider=e,r(t),i._user=t,i._authState.next(t)}).catch(function(t){o(t)}):o(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(t.ERR_NOT_INITIALIZED)})}},{key:"signOut",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(i,r){if(e.initialized)if(e._user){var o=e.providers.get(e._user.provider);o?o.signOut(n).then(function(){i(),e._user=null,e._authState.next(null)}).catch(function(t){r(t)}):r(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(t.ERR_NOT_LOGGED_IN);else r(t.ERR_NOT_INITIALIZED)})}}]),t}()).\u0275fac=function(t){return new(t||Ww)(Ti("SocialAuthServiceConfig"))},Ww.\u0275prov=Pt({token:Ww,factory:Ww.\u0275fac}),Ww.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",Ww.ERR_NOT_LOGGED_IN="Not logged in",Ww.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",Ww.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",Ww),_x=((qw=function(){function t(e){if(f(this,t),e)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}return g(t,null,[{key:"initialize",value:function(e){return{ngModule:t,providers:[bx,{provide:"SocialAuthServiceConfig",useValue:e}]}}}]),t}()).\u0275mod=se({type:qw}),qw.\u0275inj=Ot({factory:function(t){return new(t||qw)(Ti(qw,12))},providers:[bx],imports:[[xd]]}),qw);function kx(t){return new Promise(function(e){return setTimeout(e,t)})}function Cx(t){return null!=t&&""+t!="false"}function wx(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function xx(t){return Array.isArray(t)?t:[t]}function Px(t){return null==t?"":"string"==typeof t?t:t+"px"}function Ox(t){return t instanceof ec?t.nativeElement:t}function Sx(t,e,n,i){return p(n)&&(i=n,n=void 0),i?Sx(t,e,n).pipe(W(function(t){return x(t)?i.apply(void 0,C(t)):i(t)})):new L(function(i){Mx(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function Mx(t,e,n,i,r){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,r),o=function(){return a.removeEventListener(e,n,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var c=t;t.addListener(e,n),o=function(){return c.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,u=t.length;l<u;l++)Mx(t[l],e,n,i,r)}i.add(o)}var Tx=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return g(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?r(d(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return r(d(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(Qm),Ex=new(function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(Jm))(Tx),Rx=1,Fx=Promise.resolve(),Ix={};function Ax(t){return t in Ix&&(delete Ix[t],!0)}var Dx=function(t){var e=Rx++;return Ix[e]=!0,Fx.then(function(){return Ax(e)&&t()}),e},Lx=function(t){Ax(t)},Bx=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return g(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?r(d(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=Dx(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return r(d(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(Lx(e),t.scheduled=void 0)}}]),n}(Qm),Nx=new(function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(Jm))(Bx);function jx(t){return!!t&&(t instanceof L||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var Vx=new Jm(Qm),Hx=function(){function t(e){f(this,t),this.durationSelector=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new zx(t,this.durationSelector))}}]),t}(),zx=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).durationSelector=i,r.hasValue=!1,r}return g(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=it(e,new et(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(nt);function Ux(t){return!x(t)&&t-parseFloat(t)+1>=0}function qx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Ux(e)?i=Number(e)<1?1:Number(e):q(e)&&(n=e),q(n)||(n=Vx),new L(function(e){var r=Ux(t)?t:+t-n.now();return n.schedule(Wx,r,{index:0,period:i,subscriber:e})})}function Wx(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function $x(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vx;return e=function(){return qx(t,n)},function(t){return t.lift(new Hx(e))}}function Gx(t){return function(e){return e.lift(new Qx(t))}}var Kx,Qx=function(){function t(e){f(this,t),this.notifier=e}return g(t,[{key:"call",value:function(t,e){var n=new Yx(t),i=it(this.notifier,new et(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),Yx=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this,t)).seenValue=!1,i}return g(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(nt),Zx=function(){function t(){f(this,t)}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Jx(t))}}]),t}(),Jx=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this,t)).hasPrev=!1,i}return g(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(R);try{Kx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(GJ){Kx=!1}var Xx,tP,eP,nP,iP,rP,oP,aP=((eP=g(function t(e){f(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Kx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT})).\u0275fac=function(t){return new(t||eP)(Ti(Dl))},eP.\u0275prov=Pt({factory:function(){return new eP(Ti(Dl))},token:eP,providedIn:"root"}),eP),sP=((tP=g(function t(){f(this,t)})).\u0275mod=se({type:tP}),tP.\u0275inj=Ot({factory:function(t){return new(t||tP)}}),tP),cP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function lP(){if(Xx)return Xx;if("object"!=typeof document||!document)return Xx=new Set(cP);var t=document.createElement("input");return Xx=new Set(cP.filter(function(e){return t.setAttribute("type",e),t.type===e}))}function uP(t){return function(){if(null==nP&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return nP=!0}}))}finally{nP=nP||!1}return nP}()?t:!!t.capture}function hP(){if("object"!=typeof document||!document)return 0;if(null==iP){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),iP=0,0===t.scrollLeft&&(t.scrollLeft=1,iP=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return iP}function dP(t){if(function(){if(null==oP){var t="undefined"!=typeof document?document.head:null;oP=!(!t||!t.createShadowRoot&&!t.attachShadow)}return oP}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}var fP,pP,gP=new ci("cdk-dir-doc",{providedIn:"root",factory:function(){return Ri(Ru)}}),vP=((pP=function(){function t(e){if(f(this,t),this.value="ltr",this.change=new ol,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return g(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||pP)(Ti(gP,8))},pP.\u0275prov=Pt({factory:function(){return new pP(Ti(gP,8))},token:pP,providedIn:"root"}),pP),mP=((fP=g(function t(){f(this,t)})).\u0275mod=se({type:fP}),fP.\u0275inj=Ot({factory:function(t){return new(t||fP)}}),fP);function yP(t){return t&&"function"==typeof t.connect}var bP,_P=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this))._data=t,i}return g(n,[{key:"connect",value:function(){return jx(this._data)?this._data:pf(this._data)}},{key:"disconnect",value:function(){}}]),n}(function(){return g(function t(){f(this,t)})}()),kP=function(){function t(){f(this,t)}return g(t,[{key:"applyChanges",value:function(t,e,n,i,r){t.forEachOperation(function(t,i,o){var a,s;if(null==t.previousIndex){var c=n(t,i,o);a=e.createEmbeddedView(c.templateRef,c.context,c.index),s=1}else null==o?(e.remove(i),s=3):(a=e.get(i),e.move(a,o),s=2);r&&r({context:null==a?void 0:a.context,operation:s,record:t})})}},{key:"detach",value:function(){}}]),t}(),CP=function(){function t(){f(this,t),this.viewCacheSize=20,this._viewCache=[]}return g(t,[{key:"applyChanges",value:function(t,e,n,i,r){var o=this;t.forEachOperation(function(t,a,s){var c,l;null==t.previousIndex?l=(c=o._insertView(function(){return n(t,a,s)},s,e,i(t)))?1:0:null==s?(o._detachAndCacheView(a,e),l=3):(c=o._moveView(a,s,e,i(t)),l=2),r&&r({context:null==c?void 0:c.context,operation:l,record:t})})}},{key:"detach",value:function(){var t,e=k(this._viewCache);try{for(e.s();!(t=e.n()).done;){t.value.destroy()}}catch(n){e.e(n)}finally{e.f()}}},{key:"_insertView",value:function(t,e,n,i){var r=this._insertViewFromCache(e,n);if(!r){var o=t();return n.createEmbeddedView(o.templateRef,o.context,o.index)}r.context.$implicit=i}},{key:"_detachAndCacheView",value:function(t,e){var n=this._detachView(t,e);this._maybeCacheView(n,e)}},{key:"_moveView",value:function(t,e,n,i){var r=n.get(t);return n.move(r,e),r.context.$implicit=i,r}},{key:"_maybeCacheView",value:function(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{var n=e.indexOf(t);-1===n?t.destroy():e.remove(n)}}},{key:"_insertViewFromCache",value:function(t,e){var n=this._viewCache.pop();return n&&e.insert(n,t),n||null}},{key:"_detachView",value:function(t,e){return e.detach(t)}}]),t}(),wP=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];f(this,t),this._multiple=n,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new z,i&&i.length&&(n?i.forEach(function(t){return e._markSelected(t)}):this._markSelected(i[0]),this._selectedToEmit.length=0)}return g(t,[{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}},{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach(function(e){return t._markSelected(e)}),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach(function(e){return t._unmarkSelected(e)}),this._emitChangeEvent()}},{key:"toggle",value:function(t){this.isSelected(t)?this.deselect(t):this.select(t)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(t){return this._selection.has(t)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(t){this._multiple&&this.selected&&this._selected.sort(t)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}},{key:"_unmarkSelected",value:function(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}},{key:"_unmarkAll",value:function(){var t=this;this.isEmpty()||this._selection.forEach(function(e){return t._unmarkSelected(e)})}},{key:"_verifyValueAssignment",value:function(t){}}]),t}(),xP=((bP=function(){function t(){f(this,t),this._listeners=[]}return g(t,[{key:"notify",value:function(t,e){var n,i=k(this._listeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(t,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"listen",value:function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter(function(e){return t!==e})}}},{key:"ngOnDestroy",value:function(){this._listeners=[]}}]),t}()).\u0275fac=function(t){return new(t||bP)},bP.\u0275prov=Pt({factory:function(){return new bP},token:bP,providedIn:"root"}),bP),PP=new ci("_ViewRepeater"),OP=["contentWrapper"],SP=["*"],MP=new ci("VIRTUAL_SCROLL_STRATEGY"),TP=function(){function t(e,n,i){f(this,t),this._scrolledIndexChange=new z,this.scrolledIndexChange=this._scrolledIndexChange.pipe(cy()),this._viewport=null,this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i}return g(t,[{key:"attach",value:function(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(t,e,n){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}},{key:"_updateTotalContentSize",value:function(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},n=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),r=this._viewport.measureScrollOffset(),o=r/this._itemSize;if(e.end>i){var a=Math.ceil(n/this._itemSize),s=Math.max(0,Math.min(o,i-a));o!=s&&(o=s,r=s*this._itemSize,e.start=Math.floor(o)),e.end=Math.max(0,Math.min(i,e.start+a))}var c=r-e.start*this._itemSize;if(c<this._minBufferPx&&0!=e.start){var l=Math.ceil((this._maxBufferPx-c)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(i,Math.ceil(o+(n+this._minBufferPx)/this._itemSize))}else{var u=e.end*this._itemSize-(r+n);if(u<this._minBufferPx&&e.end!=i){var h=Math.ceil((this._maxBufferPx-u)/this._itemSize);h>0&&(e.end=Math.min(i,e.end+h),e.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(o))}}}]),t}();function EP(t){return t._scrollStrategy}var RP,FP,IP,AP,DP,LP=((AP=function(){function t(){f(this,t),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new TP(this.itemSize,this.minBufferPx,this.maxBufferPx)}return g(t,[{key:"itemSize",get:function(){return this._itemSize},set:function(t){this._itemSize=wx(t)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(t){this._minBufferPx=wx(t)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(t){this._maxBufferPx=wx(t)}},{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}]),t}()).\u0275fac=function(t){return new(t||AP)},AP.\u0275dir=le({type:AP,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Ks([{provide:MP,useFactory:EP,deps:[Ct(function(){return AP})]}]),Pe]}),AP),BP=((IP=function(){function t(e,n,i){f(this,t),this._ngZone=e,this._platform=n,this._scrolled=new z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return g(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return e._scrolled.next(t)}))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new L(function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe($x(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):pf()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,n){return t.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(vf(function(t){return!t||n.indexOf(t)>-1}))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach(function(i,r){e._scrollableContainsElement(r,t)&&n.push(r)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Sx(t._getWindow().document,"scroll").subscribe(function(){return t._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||IP)(Ti(Yl),Ti(aP),Ti(Ru,8))},IP.\u0275prov=Pt({factory:function(){return new IP(Ti(Yl),Ti(aP),Ti(Ru,8))},token:IP,providedIn:"root"}),IP),NP=((FP=function(){function t(e,n,i,r){var o=this;f(this,t),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=r,this._destroyed=new z,this._elementScrolled=new L(function(t){return o.ngZone.runOutsideAngular(function(){return Sx(o.elementRef.nativeElement,"scroll").pipe(Gx(o._destroyed)).subscribe(t)})})}return g(t,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=hP()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==hP()?t.left=t.right:1==hP()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}},{key:"_applyScrollToOptions",value:function(t){var e=this.elementRef.nativeElement;!function(){if(null==rP)if("object"==typeof document&&document||(rP=!1),"scrollBehavior"in document.documentElement.style)rP=!0;else{var t=Element.prototype.scrollTo;rP=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}return rP}()?(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left)):e.scrollTo(t)}},{key:"measureScrollOffset",value:function(t){var e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==hP()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==hP()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}]),t}()).\u0275fac=function(t){return new(t||FP)(Va(ec),Va(BP),Va(Yl),Va(vP,8))},FP.\u0275dir=le({type:FP,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),FP),jP=((RP=function(){function t(e,n,i){var r=this;f(this,t),this._platform=e,this._change=new z,this._changeListener=function(t){r._change.next(t)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var t=r._getWindow();t.addEventListener("resize",r._changeListener),t.addEventListener("orientationchange",r._changeListener)}r.change().subscribe(function(){return r._updateViewportSize()})})}return g(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe($x(t)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||RP)(Ti(aP),Ti(Yl),Ti(Ru,8))},RP.\u0275prov=Pt({factory:function(){return new RP(Ti(aP),Ti(Yl),Ti(Ru,8))},token:RP,providedIn:"root"}),RP),VP="undefined"!=typeof requestAnimationFrame?Ex:Nx,HP=((DP=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s,c){var l;return f(this,n),(l=e.call(this,t,s,r,a)).elementRef=t,l._changeDetectorRef=i,l._scrollStrategy=o,l._detachedSubject=new z,l._renderedRangeSubject=new z,l._orientation="vertical",l.scrolledIndexChange=new L(function(t){return l._scrollStrategy.scrolledIndexChange.subscribe(function(e){return Promise.resolve().then(function(){return l.ngZone.run(function(){return t.next(e)})})})}),l.renderedRangeStream=l._renderedRangeSubject,l._totalContentSize=0,l._totalContentWidth="",l._totalContentHeight="",l._renderedRange={start:0,end:0},l._dataLength=0,l._viewportSize=0,l._renderedContentOffset=0,l._renderedContentOffsetNeedsRewrite=!1,l._isChangeDetectionPending=!1,l._runAfterChangeDetection=[],l._viewportChanges=M.EMPTY,l._viewportChanges=c.change().subscribe(function(){l.checkViewportSize()}),l}return g(n,[{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}},{key:"ngOnInit",value:function(){var t=this;r(d(n.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){t._measureViewportSize(),t._scrollStrategy.attach(t),t.elementScrolled().pipe(Bp(null),$x(0,VP)).subscribe(function(){return t._scrollStrategy.onContentScrolled()}),t._markChangeDetectionNeeded()})})}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),r(d(n.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(t){var e=this;this.ngZone.runOutsideAngular(function(){e._forOf=t,e._forOf.dataStream.pipe(Gx(e._detachedSubject)).subscribe(function(t){var n=t.length;n!==e._dataLength&&(e._dataLength=n,e._scrollStrategy.onDataLengthChanged()),e._doChangeDetection()})})}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(t){var e,n,i=this;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(function(){return i._scrollStrategy.onContentRendered()}))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",i="horizontal"==this.orientation,r=i?"X":"Y",o="translate".concat(r,"(").concat(Number((i&&this.dir&&"rtl"==this.dir.value?-1:1)*t),"px)");this._renderedContentOffset=t,"to-end"===n&&(o+=" translate".concat(r,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=o&&(this._renderedContentTransform=o,this._markChangeDetectionNeeded(function(){e._renderedContentOffsetNeedsRewrite?(e._renderedContentOffset-=e.measureRenderedContentSize(),e._renderedContentOffsetNeedsRewrite=!1,e.setRenderedContentOffset(e._renderedContentOffset)):e._scrollStrategy.onRenderedOffsetChanged()}))}},{key:"scrollToOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}},{key:"scrollToIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(t,e)}},{key:"measureScrollOffset",value:function(t){return r(d(n.prototype),"measureScrollOffset",this).call(this,t||("horizontal"===this.orientation?"start":"top"))}},{key:"measureRenderedContentSize",value:function(){var t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}},{key:"measureRangeSize",value:function(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(t){var e=this;t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){e._doChangeDetection()})}))}},{key:"_doChangeDetection",value:function(){var t=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(function(){return t._changeDetectorRef.markForCheck()});var e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var n,i=k(e);try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(r){i.e(r)}finally{i.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""}}]),n}(NP)).\u0275fac=function(t){return new(t||DP)(Va(ec),Va(xc),Va(Yl),Va(MP,8),Va(vP,8),Va(BP),Va(jP))},DP.\u0275cmp=ne({type:DP,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){var n;1&t&&yl(OP,!0),2&t&&ml(n=xl())&&(e._contentWrapper=n.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&gs("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Ks([{provide:NP,useExisting:DP}]),wa],ngContentSelectors:SP,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(os(),Ua(0,"div",0,1),as(2),qa(),Wa(3,"div",2)),2&t&&(so(3),ps("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),DP);function zP(t,e,n){if(!n.getBoundingClientRect)return 0;var i=n.getBoundingClientRect();return"horizontal"===t?"start"===e?i.left:i.right:"start"===e?i.top:i.bottom}var UP,qP,WP,$P,GP,KP,QP=((WP=function(){function t(e,n,i,r,o,a){var s,c=this;f(this,t),this._viewContainerRef=e,this._template=n,this._differs=i,this._viewRepeater=r,this._viewport=o,this.viewChange=new z,this._dataSourceChanges=new z,this.dataStream=this._dataSourceChanges.pipe(Bp(null),function(t){return t.lift(new Zx)},Ep(function(t){var e=y(t,2),n=e[0],i=e[1];return c._changeDataSource(n,i)}),(s={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,c=t.scheduler,l=0,u=!1,h=!1;return function(t){var i;l++,!e||u?(u=!1,e=new px(r,a,c),i=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){u=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}})):i=e.subscribe(this),this.add(function(){l--,i.unsubscribe(),n&&!h&&s&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)})}}(s))})),this._differ=null,this._needsUpdate=!1,this._destroyed=new z,this.dataStream.subscribe(function(t){c._data=t,c._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Gx(this._destroyed)).subscribe(function(t){c._renderedRange=t,a.run(function(){return c.viewChange.next(c._renderedRange)}),c._onRenderedDataChange()}),this._viewport.attach(this)}return g(t,[{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(t){this._cdkVirtualForOf=t,yP(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new _P(jx(t)?t:Array.from(t||[])))}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(t){var e=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?function(n,i){return t(n+(e._renderedRange?e._renderedRange.start:0),i)}:void 0}},{key:"cdkVirtualForTemplate",set:function(t){t&&(this._needsUpdate=!0,this._template=t)}},{key:"cdkVirtualForTemplateCacheSize",get:function(){return this._viewRepeater.viewCacheSize},set:function(t){this._viewRepeater.viewCacheSize=wx(t)}},{key:"measureRangeSize",value:function(t,e){if(t.start>=t.end)return 0;for(var n,i,r=t.start-this._renderedRange.start,o=t.end-t.start,a=0;a<o;a++){var s=this._viewContainerRef.get(a+r);if(s&&s.rootNodes.length){n=i=s.rootNodes[0];break}}for(var c=o-1;c>-1;c--){var l=this._viewContainerRef.get(c+r);if(l&&l.rootNodes.length){i=l.rootNodes[l.rootNodes.length-1];break}}return n&&i?zP(e,"end",i)-zP(e,"start",n):0}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}},{key:"_onRenderedDataChange",value:function(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):pf()}},{key:"_updateContext",value:function(){for(var t=this._data.length,e=this._viewContainerRef.length;e--;){var n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}},{key:"_applyChanges",value:function(t){var e=this;this._viewRepeater.applyChanges(t,this._viewContainerRef,function(t,n,i){return e._getEmbeddedViewArgs(t,i)},function(t){return t.item}),t.forEachIdentityChange(function(t){e._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=n,this._updateComputedContextProperties(r.context)}}},{key:"_updateComputedContextProperties",value:function(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}},{key:"_getEmbeddedViewArgs",value:function(t,e){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:e}}}]),t}()).\u0275fac=function(t){return new(t||WP)(Va(Lc),Va(Ec),Va(yc),Va(PP),Va(HP,4),Va(Yl))},WP.\u0275dir=le({type:WP,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[Ks([{provide:PP,useClass:CP}])]}),WP),YP=((qP=g(function t(){f(this,t)})).\u0275mod=se({type:qP}),qP.\u0275inj=Ot({factory:function(t){return new(t||qP)}}),qP),ZP=((UP=g(function t(){f(this,t)})).\u0275mod=se({type:UP}),UP.\u0275inj=Ot({factory:function(t){return new(t||UP)},imports:[[mP,sP,YP],mP,YP]}),UP),JP=function(){function t(){f(this,t)}return g(t,[{key:"attach",value:function(t){return this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}}]),t}(),XP=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this)).component=t,a.viewContainerRef=i,a.injector=r,a.componentFactoryResolver=o,a}return g(n)}(JP),tO=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=i,o.context=r,o}return g(n,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,r(d(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,r(d(n.prototype),"detach",this).call(this)}}]),n}(JP),eO=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this)).element=t instanceof ec?t.nativeElement:t,i}return g(n)}(JP),nO=function(){function t(){f(this,t),this._isDisposed=!1,this.attachDomPortal=null}return g(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t instanceof XP?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof tO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof eO?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),iO=function(t){a(n,t);var e=c(n);function n(t,i,o,a,s){var c,l;return f(this,n),(l=e.call(this)).outletElement=t,l._componentFactoryResolver=i,l._appRef=o,l._defaultInjector=a,l.attachDomPortal=function(t){var e=t.element,i=l._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),l.outletElement.appendChild(e),r((c=u(l),d(n.prototype)),"setDisposeFn",c).call(c,function(){i.parentNode&&i.parentNode.replaceChild(e,i)})},l._document=s,l}return g(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(function(){return e.destroy()})):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(function(){n._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(function(t){return e.outletElement.appendChild(t)}),i.detectChanges(),this.setDisposeFn(function(){var t=n.indexOf(i);-1!==t&&n.remove(t)}),i}},{key:"dispose",value:function(){r(d(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(nO),rO=((GP=function(t){a(n,t);var e=c(n);function n(t,i,o){var a,s;return f(this,n),(s=e.call(this))._componentFactoryResolver=t,s._viewContainerRef=i,s._isInitialized=!1,s.attached=new ol,s.attachDomPortal=function(t){var e=t.element,i=s._document.createComment("dom-portal");t.setAttachedHost(u(s)),e.parentNode.insertBefore(i,e),s._getRootNode().appendChild(e),r((a=u(s),d(n.prototype)),"setDisposeFn",a).call(a,function(){i.parentNode&&i.parentNode.replaceChild(e,i)})},s._document=o,s}return g(n,[{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&r(d(n.prototype),"detach",this).call(this),t&&r(d(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){r(d(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=e.createComponent(i,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),r(d(n.prototype),"setDisposeFn",this).call(this,function(){return o.destroy()}),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return r(d(n.prototype),"setDisposeFn",this).call(this,function(){return e._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}]),n}(nO)).\u0275fac=function(t){return new(t||GP)(Va(Zs),Va(Lc),Va(Ru))},GP.\u0275dir=le({type:GP,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[wa]}),GP),oO=(($P=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(rO)).\u0275fac=function(t){return aO(t||$P)},$P.\u0275dir=le({type:$P,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[Ks([{provide:rO,useExisting:$P}]),wa]}),$P),aO=oi(oO),sO=((KP=g(function t(){f(this,t)})).\u0275mod=se({type:KP}),KP.\u0275inj=Ot({factory:function(t){return new(t||KP)}}),KP),cO=function(){function t(e,n){f(this,t),this.predicate=e,this.inclusive=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new lO(t,this.predicate,this.inclusive))}}]),t}(),lO=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t)).predicate=i,o.inclusive=r,o.index=0,o}return g(n,[{key:"_next",value:function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(t,e)}},{key:"nextOrComplete",value:function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}]),n}(R);function uO(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?n.some(function(e){return t[e]}):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var hO=function(){function t(e,n){f(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return g(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Px(-this._previousScrollPosition.left),t.style.top=Px(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}(),dO=function(){function t(e,n,i,r){var o=this;f(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run(function(){return o._overlayRef.detach()})}}return g(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),fO=function(){function t(){f(this,t)}return g(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function pO(t,e){return e.some(function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right})}function gO(t,e){return e.some(function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right})}var vO,mO,yO,bO,_O,kO=function(){function t(e,n,i,r){f(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return g(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,r=n.height;pO(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run(function(){return t._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),CO=((vO=g(function t(e,n,i,r){var o=this;f(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new fO},this.close=function(t){return new dO(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new hO(o._viewportRuler,o._document)},this.reposition=function(t){return new kO(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=r})).\u0275fac=function(t){return new(t||vO)(Ti(BP),Ti(jP),Ti(Yl),Ti(Ru))},vO.\u0275prov=Pt({factory:function(){return new vO(Ti(BP),Ti(jP),Ti(Yl),Ti(Ru))},token:vO,providedIn:"root"}),vO),wO=g(function t(e){if(f(this,t),this.scrollStrategy=new fO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(this[r]=e[r])}}),xO=g(function t(e,n,i,r,o){f(this,t),this.offsetX=i,this.offsetY=r,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}),PO=g(function t(e,n){f(this,t),this.connectionPair=e,this.scrollableViewProperties=n}),OO=((bO=function(){function t(e){f(this,t),this._attachedOverlays=[],this._document=e}return g(t,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(t){this.remove(t),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}]),t}()).\u0275fac=function(t){return new(t||bO)(Ti(Ru))},bO.\u0275prov=Pt({factory:function(){return new bO(Ti(Ru))},token:bO,providedIn:"root"}),bO),SO=((yO=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this,t))._keydownListener=function(t){for(var e=i._attachedOverlays,n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},i}return g(n,[{key:"add",value:function(t){r(d(n.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}(OO)).\u0275fac=function(t){return new(t||yO)(Ti(Ru))},yO.\u0275prov=Pt({factory:function(){return new yO(Ti(Ru))},token:yO,providedIn:"root"}),yO),MO=((mO=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t))._platform=i,r._cursorStyleIsSet=!1,r._clickListener=function(t){for(var e=t.composedPath?t.composedPath()[0]:t.target,n=r._attachedOverlays.slice(),i=n.length-1;i>-1;i--){var o=n[i];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(e))break;o._outsidePointerEvents.next(t)}}},r}return g(n,[{key:"add",value:function(t){r(d(n.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}]),n}(OO)).\u0275fac=function(t){return new(t||mO)(Ti(Ru),Ti(aP))},mO.\u0275prov=Pt({factory:function(){return new mO(Ti(Ru),Ti(aP))},token:mO,providedIn:"root"}),mO),TO=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),EO=((_O=function(){function t(e,n){f(this,t),this._platform=n,this._document=e}return g(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){if(this._platform.isBrowser||TO)for(var t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),TO?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}]),t}()).\u0275fac=function(t){return new(t||_O)(Ti(Ru),Ti(aP))},_O.\u0275prov=Pt({factory:function(){return new _O(Ti(Ru),Ti(aP))},token:_O,providedIn:"root"}),_O),RO=function(){function t(e,n,i,r,o,a,s,c,l){var u=this;f(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new z,this._attachments=new z,this._detachments=new z,this._locationChanges=M.EMPTY,this._backdropClickHandler=function(t){return u._backdropClick.next(t)},this._keydownEvents=new z,this._outsidePointerEvents=new z,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return g(t,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ip(1)).subscribe(function(){e.hasAttached()&&e.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return e.dispose()})),this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=Px(this._config.width),t.height=Px(this._config.height),t.minWidth=Px(this._config.minWidth),t.minHeight=Px(this._config.minHeight),t.maxWidth=Px(this._config.maxWidth),t.maxHeight=Px(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){n.addEventListener("transitionend",i)}),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(function(){return setTimeout(i,500)})}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;xx(e).forEach(function(t){t&&(n?i.add(t):i.remove(t))})}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){var e=t._ngZone.onStable.pipe(Gx(lt(t._attachments,t._detachments))).subscribe(function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}]),t}(),FO=/([A-Za-z%]+)$/,IO=function(){function t(e,n,i,r,o){f(this,t),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new z,this._resizeSubscription=M.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}return g(t,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){var e=this;this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){e._isInitialRender=!0,e.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,i=this._overlayRect,r=this._viewportRect,o=[],a=k(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var s=e.value,c=this._getOriginPoint(n,s),l=this._getOverlayPoint(c,i,s),u=this._getOverlayFit(l,i,r,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,c);this._canFitWithFlexibleDimensions(u,l,r)?o.push({position:s,origin:c,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(c,s)}):(!t||t.overlayFit.visibleArea<u.visibleArea)&&(t={overlayFit:u,overlayPoint:l,originPoint:c,position:s,overlayRect:i})}}catch(m){a.e(m)}finally{a.f()}if(o.length){var h,d=null,f=-1,p=k(o);try{for(p.s();!(h=p.n()).done;){var g=h.value,v=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);v>f&&(f=v,d=g)}}catch(m){p.e(m)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&AO(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}},{key:"_getOverlayFit",value:function(t,e,n,i){var r=t.x,o=t.y,a=this._getOffset(i,"x"),s=this._getOffset(i,"y");a&&(r+=a),s&&(o+=s);var c=0-o,l=o+e.height-n.height,u=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,c,l),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:u==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,r=n.right-e.x,o=DO(this._overlayRef.getConfig().minHeight),a=DO(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i,r,o=this._viewportRect,a=Math.max(t.x+e.width-o.width,0),s=Math.max(t.y+e.height-o.height,0),c=Math.max(o.top-n.top-t.y,0),l=Math.max(o.left-n.left-t.x,0);return i=e.width<=o.width?l||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,r=e.height<=o.height?c||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:i,y:r},{x:t.x+i,y:t.y+r}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new PO(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,r,o,a,s,c=this._viewportRect,l=this._isRtl();if("top"===e.overlayY)i=t.y,n=c.height-i+this._viewportMargin;else if("bottom"===e.overlayY)r=c.height-t.y+2*this._viewportMargin,n=c.height-r+this._viewportMargin;else{var u=Math.min(c.bottom-t.y+c.top,t.y),h=this._lastBoundingBoxSize.height;n=2*u,i=t.y-u,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-h/2)}if("end"===e.overlayX&&!l||"start"===e.overlayX&&l)s=c.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!l||"end"===e.overlayX&&l)a=t.x,o=c.right-t.x;else{var d=Math.min(c.right-t.x+c.left,t.x),f=this._lastBoundingBoxSize.width;o=2*d,a=t.x-d,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-f/2)}return{top:i,left:a,bottom:r,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Px(n.height),i.top=Px(n.top),i.bottom=Px(n.bottom),i.width=Px(n.width),i.left=Px(n.left),i.right=Px(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=Px(r)),o&&(i.maxWidth=Px(o))}this._lastBoundingBoxSize=n,AO(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){AO(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){AO(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){var a=this._viewportRuler.getViewportScrollPosition();AO(n,this._getExactOverlayY(e,t,a)),AO(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(s+="translateX(".concat(c,"px) ")),l&&(s+="translateY(".concat(l,"px)")),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=Px(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=Px(o.maxWidth):r&&(n.maxWidth="")),AO(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=Px(r.y),i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":i.left=Px(r.x),i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(t){return t.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:gO(t,n),isOriginOutsideView:pO(t,n),isOverlayClipped:gO(e,n),isOverlayOutsideView:pO(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce(function(t,e){return t-Math.max(e,0)},t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&xx(t).forEach(function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))})}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach(function(e){t._pane.classList.remove(e)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof ec)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}]),t}();function AO(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function DO(t){if("number"!=typeof t&&null!=t){var e=y(t.split(FO),2),n=e[0],i=e[1];return i&&"px"!==i?null:parseFloat(n)}return t||null}var LO,BO,NO,jO,VO,HO=function(){function t(e,n,i,r,o,a,s){f(this,t),this._preferredPositions=[],this._positionStrategy=new IO(i,r,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n),this.onPositionChange=this._positionStrategy.positionChanges}return g(t,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var r=new xO(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}}]),t}(),zO=function(){function t(){f(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return g(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,r=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),UO=((BO=function(){function t(e,n,i,r){f(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r}return g(t,[{key:"global",value:function(){return new zO}},{key:"connectedTo",value:function(t,e,n){return new HO(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new IO(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||BO)(Ti(jP),Ti(Ru),Ti(aP),Ti(EO))},BO.\u0275prov=Pt({factory:function(){return new BO(Ti(jP),Ti(Ru),Ti(aP),Ti(EO))},token:BO,providedIn:"root"}),BO),qO=0,WO=((LO=function(){function t(e,n,i,r,o,a,s,c,l,u,h){f(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=c,this._directionality=l,this._location=u,this._outsideClickDispatcher=h}return g(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new wO(t);return r.direction=r.direction||this._directionality.value,new RO(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+qO++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(mu)),new iO(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||LO)(Ti(CO),Ti(EO),Ti(Zs),Ti(UO),Ti(SO),Ti(ka),Ti(Yl),Ti(Ru),Ti(vP),Ti(Zu),Ti(MO))},LO.\u0275prov=Pt({token:LO,factory:LO.\u0275fac}),LO),$O=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],GO=new ci("cdk-connected-overlay-scroll-strategy"),KO=((jO=g(function t(e){f(this,t),this.elementRef=e})).\u0275fac=function(t){return new(t||jO)(Va(ec))},jO.\u0275dir=le({type:jO,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),jO),QO=((NO=function(){function t(e,n,i,r,o){f(this,t),this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=M.EMPTY,this._attachSubscription=M.EMPTY,this._detachSubscription=M.EMPTY,this._positionSubscription=M.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new ol,this.positionChange=new ol,this.attach=new ol,this.detach=new ol,this.overlayKeydown=new ol,this.overlayOutsideClick=new ol,this._templatePortal=new tO(n,i),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}return g(t,[{key:"offsetX",get:function(){return this._offsetX},set:function(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Cx(t)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(t){this._lockPosition=Cx(t)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(t){this._flexibleDimensions=Cx(t)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(t){this._growAfterOpen=Cx(t)}},{key:"push",get:function(){return this._push},set:function(t){this._push=Cx(t)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}},{key:"ngOnDestroy",value:function(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}},{key:"ngOnChanges",value:function(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var t=this;this.positions&&this.positions.length||(this.positions=$O);var e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(function(){return t.attach.emit()}),this._detachSubscription=e.detachments().subscribe(function(){return t.detach.emit()}),e.keydownEvents().subscribe(function(e){t.overlayKeydown.next(e),27!==e.keyCode||t.disableClose||uO(e)||(e.preventDefault(),t._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(function(e){t.overlayOutsideClick.next(e)})}},{key:"_buildConfig",value:function(){var t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new wO({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}},{key:"_updatePositionStrategy",value:function(t){var e=this,n=this.positions.map(function(t){return{originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY,panelClass:t.panelClass||void 0}});return t.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}},{key:"_attachOverlay",value:function(){var t=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(e){t.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new cO(t,e))}}(function(){return t.positionChange.observers.length>0})).subscribe(function(e){t.positionChange.emit(e),0===t.positionChange.observers.length&&t._positionSubscription.unsubscribe()}))}},{key:"_detachOverlay",value:function(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||NO)(Va(WO),Va(Ec),Va(Lc),Va(GO),Va(vP,8))},NO.\u0275dir=le({type:NO,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Pe]}),NO),YO={provide:GO,deps:[WO],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},ZO=((VO=g(function t(){f(this,t)})).\u0275mod=se({type:VO}),VO.\u0275inj=Ot({factory:function(t){return new(t||VO)},providers:[WO,YO],imports:[[mP,sO,ZP],ZP]}),VO);function JO(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vx;return function(n){return n.lift(new XO(t,e))}}var XO=function(){function t(e,n){f(this,t),this.dueTime=e,this.scheduler=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new tS(t,this.dueTime,this.scheduler))}}]),t}(),tS=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return g(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(eS,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(R);function eS(t){t.debouncedNext()}var nS,iS,rS,oS,aS=((oS=function(){function t(){f(this,t)}return g(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).\u0275fac=function(t){return new(t||oS)},oS.\u0275prov=Pt({factory:function(){return new oS},token:oS,providedIn:"root"}),oS),sS=((rS=function(){function t(e){f(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return g(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach(function(e,n){return t._cleanupObserver(n)})}},{key:"observe",value:function(t){var e=this,n=Ox(t);return new L(function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}})}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new z,n=this._mutationObserverFactory.create(function(t){return e.next(t)});n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}()).\u0275fac=function(t){return new(t||rS)(Ti(aS))},rS.\u0275prov=Pt({factory:function(){return new rS(Ti(aS))},token:rS,providedIn:"root"}),rS),cS=((iS=function(){function t(e,n,i){f(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new ol,this._disabled=!1,this._currentSubscription=null}return g(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Cx(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=wx(t),this._subscribe()}},{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){t._currentSubscription=(t.debounce?e.pipe(JO(t.debounce)):e).subscribe(t.event)})}},{key:"_unsubscribe",value:function(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||iS)(Va(sS),Va(ec),Va(Yl))},iS.\u0275dir=le({type:iS,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),iS),lS=((nS=g(function t(){f(this,t)})).\u0275mod=se({type:nS}),nS.\u0275inj=Ot({factory:function(t){return new(t||nS)},providers:[aS]}),nS);function uS(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}var hS,dS,fS=0,pS=new Map,gS=null,vS=((hS=function(){function t(e,n){f(this,t),this._platform=n,this._document=e}return g(t,[{key:"describe",value:function(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),pS.set(e,{messageElement:e,referenceCount:0})):pS.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}},{key:"removeDescription",value:function(t,e){if(e&&this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){var n=pS.get(e);n&&0===n.referenceCount&&this._deleteMessageElement(e)}gS&&0===gS.childNodes.length&&this._deleteMessagesContainer()}}},{key:"ngOnDestroy",value:function(){for(var t=this._document.querySelectorAll("[cdk-describedby-host]"),e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");gS&&this._deleteMessagesContainer(),pS.clear()}},{key:"_createMessageElement",value:function(t){var e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),gS.appendChild(e),pS.set(t,{messageElement:e,referenceCount:0})}},{key:"_setMessageId",value:function(t){t.id||(t.id="cdk-describedby-message-"+fS++)}},{key:"_deleteMessageElement",value:function(t){var e=pS.get(t),n=e&&e.messageElement;gS&&n&&gS.removeChild(n),pS.delete(t)}},{key:"_createMessagesContainer",value:function(){if(!gS){var t=!this._platform||!this._platform.EDGE&&!this._platform.TRIDENT,e=this._document.getElementById("cdk-describedby-message-container");e&&e.parentNode&&e.parentNode.removeChild(e),(gS=this._document.createElement("div")).id="cdk-describedby-message-container",gS.classList.add("cdk-visually-hidden"),gS.setAttribute("aria-hidden",t+""),this._document.body.appendChild(gS)}}},{key:"_deleteMessagesContainer",value:function(){gS&&gS.parentNode&&(gS.parentNode.removeChild(gS),gS=null)}},{key:"_removeCdkDescribedByReferenceIds",value:function(t){var e=uS(t,"aria-describedby").filter(function(t){return 0!=t.indexOf("cdk-describedby-message")});t.setAttribute("aria-describedby",e.join(" "))}},{key:"_addMessageReference",value:function(t,e){var n,i,r,o,a=pS.get(e);n=t,i="aria-describedby",r=a.messageElement.id,(o=uS(n,i)).some(function(t){return t.trim()==r.trim()})||(o.push(r.trim()),n.setAttribute(i,o.join(" "))),t.setAttribute("cdk-describedby-host",""),a.referenceCount++}},{key:"_removeMessageReference",value:function(t,e){var n,i,r,o,a=pS.get(e);a.referenceCount--,n=t,i="aria-describedby",r=a.messageElement.id,(o=uS(n,i).filter(function(t){return t!=r.trim()})).length?n.setAttribute(i,o.join(" ")):n.removeAttribute(i),t.removeAttribute("cdk-describedby-host")}},{key:"_isElementDescribedByMessage",value:function(t,e){var n=uS(t,"aria-describedby"),i=pS.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}},{key:"_canBeDescribed",value:function(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;var n=null==e?"":(""+e).trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}},{key:"_isElementNode",value:function(t){return t.nodeType===this._document.ELEMENT_NODE}}]),t}()).\u0275fac=function(t){return new(t||hS)(Ti(Ru),Ti(aP))},hS.\u0275prov=Pt({factory:function(){return new hS(Ti(Ru),Ti(aP))},token:hS,providedIn:"root"}),hS),mS=function(){function t(e){var n=this;f(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new z,this._typeaheadSubscription=M.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new z,this.change=new z,e instanceof sl&&e.changes.subscribe(function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}})}return g(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe($p(function(e){return t._pressedLetters.push(e)}),JO(e),vf(function(){return t._pressedLetters.length>0}),W(function(){return t._pressedLetters.join("")})).subscribe(function(e){for(var n=t._getItemsArray(),i=1;i<n.length+1;i++){var r=(t._activeItemIndex+i)%n.length,o=n[r];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(r);break}}t._pressedLetters=[]}),this}},{key:"withHomeAndEnd",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._homeAndEnd=t,this}},{key:"setActiveItem",value:function(t){var e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1});switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||uO(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof sl?this._items.toArray():this._items}}]),t}(),yS=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"setActiveItem",value:function(t){this.activeItem&&this.activeItem.setInactiveStyles(),r(d(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(mS),bS=function(t){a(n,t);var e=c(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._origin="program",t}return g(n,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){r(d(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(mS),_S=((dS=function(){function t(e){f(this,t),this._platform=e}return g(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(GJ){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){if(-1===CS(n))return!1;if(!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),r=CS(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}},{key:"isFocusable",value:function(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||kS(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}]),t}()).\u0275fac=function(t){return new(t||dS)(Ti(aP))},dS.\u0275prov=Pt({factory:function(){return new dS(Ti(aP))},token:dS,providedIn:"root"}),dS);function kS(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function CS(t){if(!kS(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var wS,xS=function(){function t(e,n,i,r){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f(this,t),this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return g(t,[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusInitialElement())})})}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusFirstTabbableElement())})})}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusLastTabbableElement())})})}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){var e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ip(1)).subscribe(t)}}]),t}(),PS=((wS=function(){function t(e,n,i){f(this,t),this._checker=e,this._ngZone=n,this._document=i}return g(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new xS(t,this._checker,this._ngZone,this._document,e)}}]),t}()).\u0275fac=function(t){return new(t||wS)(Ti(_S),Ti(Yl),Ti(Ru))},wS.\u0275prov=Pt({factory:function(){return new wS(Ti(_S),Ti(Yl),Ti(Ru))},token:wS,providedIn:"root"}),wS);"undefined"!=typeof Element&&Element;var OS,SS=new ci("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),MS=new ci("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),TS=((OS=function(){function t(e,n,i,r){f(this,t),this._ngZone=n,this._defaultOptions=r,this._document=i,this._liveElement=e||this._createLiveElement()}return g(t,[{key:"announce",value:function(t){for(var e,n,i,r=this,o=this._defaultOptions,a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];return 1===s.length&&"number"==typeof s[0]?i=s[0]:(n=(e=y(s,2))[0],i=e[1]),this.clear(),clearTimeout(this._previousTimeout),n||(n=o&&o.politeness?o.politeness:"polite"),null==i&&o&&(i=o.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular(function(){return new Promise(function(e){clearTimeout(r._previousTimeout),r._previousTimeout=setTimeout(function(){r._liveElement.textContent=t,e(),"number"==typeof i&&(r._previousTimeout=setTimeout(function(){return r.clear()},i))},100)})})}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}]),t}()).\u0275fac=function(t){return new(t||OS)(Ti(SS,8),Ti(Yl),Ti(Ru),Ti(MS,8))},OS.\u0275prov=Pt({factory:function(){return new OS(Ti(SS,8),Ti(Yl),Ti(Ru),Ti(MS,8))},token:OS,providedIn:"root"}),OS);function ES(t){return 0===t.buttons}var RS,FS=new ci("cdk-focus-monitor-default-options"),IS=uP({passive:!0,capture:!0}),AS=((RS=function(){function t(e,n,i,r){var o=this;f(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!o._lastTouchTarget){var e=ES(t)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=DS(t),o._touchTimeoutId=setTimeout(function(){return o._lastTouchTarget=null},650)},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout(function(){return o._windowFocused=!1})},this._rootNodeFocusAndBlurListener=function(t){for(var e=DS(t),n="focus"===t.type?o._onFocus:o._onBlur,i=e;i;i=i.parentElement)n.call(o,t,i)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}return g(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ox(t);if(!this._platform.isBrowser||1!==n.nodeType)return pf(null);var i=dP(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;var o={checkChildren:e,subject:new z,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}},{key:"stopMonitoring",value:function(t){var e=Ox(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var i=Ox(t);i===this._getDocument().activeElement&&this._elementInfo.has(i)?this._originChanged(i,e,this._elementInfo.get(i)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach(function(e,n){return t.stopMonitoring(n)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout(function(){return e._origin=null},1))})}},{key:"_wasCausedByTouch",value:function(t){var e=DS(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);n&&(n.checkChildren||e===DS(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run(function(){return t.next(e)})}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,IS),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,IS)}),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,IS),t.addEventListener("mousedown",e._documentMousedownListener,IS),t.addEventListener("touchstart",e._documentTouchstartListener,IS),n.addEventListener("focus",e._windowFocusListener)})}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,IS),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,IS),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var i=this._getDocument(),r=this._getWindow();i.removeEventListener("keydown",this._documentKeydownListener,IS),i.removeEventListener("mousedown",this._documentMousedownListener,IS),i.removeEventListener("touchstart",this._documentTouchstartListener,IS),r.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}},{key:"_originChanged",value:function(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}}]),t}()).\u0275fac=function(t){return new(t||RS)(Ti(Yl),Ti(aP),Ti(Ru,8),Ti(FS,8))},RS.\u0275prov=Pt({factory:function(){return new RS(Ti(Yl),Ti(aP),Ti(Ru,8),Ti(FS,8))},token:RS,providedIn:"root"}),RS);function DS(t){return t.composedPath?t.composedPath()[0]:t.target}var LS,BS,NS,jS=((NS=function(){function t(e,n){f(this,t),this._elementRef=e,this._focusMonitor=n,this.cdkFocusChange=new ol}return g(t,[{key:"ngAfterViewInit",value:function(){var t=this,e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(function(e){return t.cdkFocusChange.emit(e)})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||NS)(Va(ec),Va(AS))},NS.\u0275dir=le({type:NS,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),NS),VS=((BS=function(){function t(e,n){f(this,t),this._platform=e,this._document=n}return g(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||BS)(Ti(aP),Ti(Ru))},BS.\u0275prov=Pt({factory:function(){return new BS(Ti(aP),Ti(Ru))},token:BS,providedIn:"root"}),BS),HS=((LS=g(function t(e){f(this,t),e._applyBodyHighContrastModeCssClasses()})).\u0275mod=se({type:LS}),LS.\u0275inj=Ot({factory:function(t){return new(t||LS)(Ti(VS))},imports:[[sP,lS]]}),LS),zS=new ac("11.0.3"),US=g(function t(){f(this,t)});function qS(t,e){return{type:7,name:t,definitions:e,options:{}}}function WS(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function $S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function GS(t){return{type:6,styles:t,offset:null}}function KS(t,e,n){return{type:0,name:t,styles:e,options:n}}function QS(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function YS(t){Promise.resolve(null).then(t)}var ZS=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;YS(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),JS=function(){function t(e){var n=this;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,r=0,o=0,a=this.players.length;0==a?YS(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++i==a&&n._onFinish()}),t.onDestroy(function(){++r==a&&n._onDestroy()}),t.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function XS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function tM(t){switch(t.length){case 0:return new ZS;case 1:return t[0];default:return new JS(t)}}function eM(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],c=-1,l=null;if(i.forEach(function(t){var n=t.offset,i=n==c,u=i&&l||{};Object.keys(t).forEach(function(n){var i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),s){case"!":s=r[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,i,s,a)}u[i]=s}),i||s.push(u),l=u,c=n}),a.length){var u="\n - ";throw new Error("Unable to animate due to the following errors:".concat(u).concat(a.join(u)))}return s}function nM(t,e,n,i){switch(e){case"start":t.onStart(function(){return i(n&&iM(n,"start",t))});break;case"done":t.onDone(function(){return i(n&&iM(n,"done",t))});break;case"destroy":t.onDestroy(function(){return i(n&&iM(n,"destroy",t))})}}function iM(t,e,n){var i=n.totalTime,r=rM(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function rM(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function oM(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function aM(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var sM=function(t,e){return!1},cM=function(t,e){return!1},lM=function(t,e,n){return[]},uM=XS();(uM||"undefined"!=typeof Element)&&(sM=function(t,e){return t.contains(e)},cM=function(){if(uM||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:cM}(),lM=function(t,e,n){var i=[];if(n)for(var r=t.querySelectorAll(e),o=0;o<r.length;o++)i.push(r[o]);else{var a=t.querySelector(e);a&&i.push(a)}return i});var hM=null,dM=!1;function fM(t){hM||(hM=("undefined"!=typeof document?document.body:null)||{},dM=!!hM.style&&"WebkitAppearance"in hM.style);var e=!0;return hM.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in hM.style)&&dM)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in hM.style),e}var pM=cM,gM=sM,vM=lM;function mM(t){var e={};return Object.keys(t).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}var yM,bM=((yM=function(){function t(){f(this,t)}return g(t,[{key:"validateStyleProperty",value:function(t){return fM(t)}},{key:"matchesElement",value:function(t,e){return pM(t,e)}},{key:"containsElement",value:function(t,e){return gM(t,e)}},{key:"query",value:function(t,e,n){return vM(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){return new ZS(n,i)}}]),t}()).\u0275fac=function(t){return new(t||yM)},yM.\u0275prov=Pt({token:yM,factory:yM.\u0275fac}),yM),_M=function(){var t=g(function t(){f(this,t)});return t.NOOP=new bM,t}();function kM(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:CM(parseFloat(e[1]),e[2])}function CM(t,e){switch(e){case"s":return 1e3*t;default:return t}}function wM(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=CM(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(r=CM(parseFloat(s),a[4]));var c=a[5];c&&(o=c)}else i=t;if(!n){var l=!1,u=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(u,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(t,e,n)}function xM(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function PM(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else xM(t,n);return n}function OM(t,e,n){return n?e+":"+n+";":""}function SM(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=OM(0,i,t.style.getPropertyValue(i))}for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=OM(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function MM(t,e,n){t.style&&(Object.keys(e).forEach(function(i){var r=LM(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),XS()&&SM(t))}function TM(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=LM(e);t.style[n]=""}),XS()&&SM(t))}function EM(t){return Array.isArray(t)?1==t.length?t[0]:$S(t):t}var RM=new RegExp("{{\\s*(.+?)\\s*}}","g");function FM(t){var e=[];if("string"==typeof t){for(var n;n=RM.exec(t);)e.push(n[1]);RM.lastIndex=0}return e}function IM(t,e,n){var i=t.toString(),r=i.replace(RM,function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function AM(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var DM=/-+([a-z0-9])/g;function LM(t){return t.replace(DM,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function BM(t,e){return 0===t||0===e}function NM(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],o=[];if(i.forEach(function(t){r.hasOwnProperty(t)||o.push(t),r[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=VM(t,e)})},s=1;s<e.length;s++)a()}return e}function jM(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function VM(t,e){return window.getComputedStyle(t)[e]}var HM=new Set(["true","1"]),zM=new Set(["false","0"]);function UM(t,e){var n=HM.has(t)||zM.has(t),i=HM.has(e)||zM.has(e);return function(r,o){var a="*"==t||t==r,s="*"==e||e==o;return!a&&n&&"boolean"==typeof r&&(a=r?HM.has(t):zM.has(t)),!s&&i&&"boolean"==typeof o&&(s=o?HM.has(e):zM.has(e)),a&&s}}var qM=new RegExp("s*:selfs*,?","g");function WM(t,e,n){return new $M(t).build(e,n)}var $M=function(){function t(e){f(this,t),this._driver=e}return g(t,[{key:"build",value:function(t,e){var n=new GM(e);return this._resetContextStyleTimingState(n),jM(this,EM(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,c=s.name;c.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=c}else if(1==t.type){var l=n.visitTransition(t,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach(function(t){if(KM(t)){var e=t;Object.keys(e).forEach(function(t){FM(e[t]).forEach(function(t){o.hasOwnProperty(t)||r.add(t)})})}}),r.size){var a=AM(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,i,r,o=jM(this,EM(t.animation),e);return{type:1,matchers:(n=t.expr,i=e.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=r[1],a=r[2],s=r[3];e.push(UM(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(UM(s,o))}(t,r,i)}):r.push(n),r),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:QM(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return jM(n,t,e)}),options:QM(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,o=t.steps.map(function(t){e.currentTime=i;var o=jM(n,t,e);return r=Math.max(r,e.currentTime),o});return e.currentTime=r,{type:3,steps:o,options:QM(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return YM(wM(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var r=YM(0,0,"");return r.dynamic=!0,r.strValue=i,r}return YM((n=n||wM(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var r=t.styles?t.styles:GS({});if(5==r.type)n=this.visitKeyframes(r,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};i.easing&&(s.easing=i.easing),o=GS(s)}e.currentTime+=i.duration+i.delay;var c=this.visitStyle(o,e);c.isEmptyStep=a,n=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var i=!1,r=null;return n.forEach(function(t){if(KM(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var o in e)if(e[o].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(i){if(n._driver.validateStyleProperty(i)){var a,s,c,l,u,h=e.collectedStyles[e.currentQuerySelector],d=h[i],f=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),f=!1),o=d.startTime),f&&(h[i]={startTime:o,endTime:r}),e.options&&(a=t[i],s=e.options,c=e.errors,l=s.params||{},(u=FM(a)).length&&u.forEach(function(t){l.hasOwnProperty(t)||c.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))}))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],a=!1,s=!1,c=0,l=t.steps.map(function(t){var i=n._makeStyleAst(t,e),l=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(KM(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(KM(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),u=0;return null!=l&&(r++,u=i.offset=l),s=s||u<0||u>1,a=a||u<c,c=u,o.push(u),i});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var u=t.steps.length,h=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(u-1));var d=u-1,f=e.currentTime,p=e.currentAnimateTimings,g=p.duration;return l.forEach(function(t,r){var a=h>0?r==d?1:h*r:o[r],s=a*g;e.currentTime=f+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,i.styles.push(t)}),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:jM(this,EM(t.animation),e),options:QM(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:QM(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:QM(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;var r=y(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(qM,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=r[0],a=r[1];e.currentQuerySelector=n.length?n+" "+o:o,oM(e.collectedStyles,e.currentQuerySelector,{});var s=jM(this,EM(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:QM(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:wM(t.timings,e.errors,!0);return{type:12,animation:jM(this,EM(t.animation),e),timings:n,options:null}}}]),t}(),GM=g(function t(e){f(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null});function KM(t){return!Array.isArray(t)&&"object"==typeof t}function QM(t){var e;return t?(t=xM(t)).params&&(t.params=(e=t.params)?xM(e):null):t={},t}function YM(t,e,n){return{duration:t,delay:e,easing:n}}function ZM(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var JM=function(){function t(){f(this,t),this._map=new Map}return g(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,C(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),XM=new RegExp(":enter","g"),tT=new RegExp(":leave","g");function eT(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new nT).buildKeyframes(t,e,n,i,r,o,a,s,c,l)}var nT=function(){function t(){f(this,t)}return g(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,o,a,s,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new JM;var u=new rT(t,e,c,i,r,l,[]);u.options=s,u.currentTimeline.setStyles([o],null,u.errors,s),jM(this,n,u);var h=u.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([a],null,u.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[ZM(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?kM(n.duration):null,o=null!=n.delay?kM(n.delay):null;return 0!==r&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),jM(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&((r=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=iT);var a=kM(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return jM(n,t,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?kM(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),jM(n,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return wM(e.params?IM(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?kM(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=iT);var a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;var c=null;s.forEach(function(i,r){e.currentQueryIndex=r;var s=e.createSubContext(t.options,i);o&&s.delayNextStep(o),i===e.element&&(c=s.currentTimeline),jM(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var c=e.currentTimeline;s&&c.delayNextStep(s);var l=c.currentTime;jM(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}]),t}(),iT={},rT=function(){function t(e,n,i,r,o,a,s,c){f(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new oT(this._driver,n,0),s.push(this.currentTimeline)}return g(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=kM(i.duration)),null!=i.delay&&(r.delay=kM(i.delay));var o=i.params;if(o){var a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=IM(o[t],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=iT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new aT(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,r,o){var a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(XM,"."+this._enterClassName)).replace(tT,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,C(s))}return r||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}}]),t}(),oT=function(){function t(e,n,i,r){f(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return g(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var o=i&&i.params||{},a=function(t,e){var n,i={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){i[t]="*"}):PM(t,!1,i)}),i}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=IM(a[t],o,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:"*"),r._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach(function(o,a){var s=PM(o,!0);Object.keys(s).forEach(function(t){var i=s[t];"!"==i?e.add(t):"*"==i&&n.add(t)}),i||(s.offset=a/t.duration),r.push(s)});var o=e.size?AM(e.values()):[],a=n.size?AM(n.values()):[];if(i){var s=r[0],c=xM(s);s.offset=0,c.offset=1,r=[s,c]}return ZM(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}]),t}(),aT=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s){var c,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return f(this,n),(c=e.call(this,t,i,s.delay)).element=i,c.keyframes=r,c.preStyleProps=o,c.postStyleProps=a,c._stretchStartingKeyframe=l,c.timings={duration:s.duration,delay:s.delay,easing:s.easing},c}return g(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=i+n,s=n/a,c=PM(t[0],!1);c.offset=0,o.push(c);var l=PM(t[0],!1);l.offset=sT(s),o.push(l);for(var u=t.length-1,h=1;h<=u;h++){var d=PM(t[h],!1);d.offset=sT((n+d.offset*i)/a),o.push(d)}i=a,n=0,r="",t=o}return ZM(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(oT);function sT(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var cT=g(function t(){f(this,t)}),lT=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"normalizePropertyName",value:function(t,e){return LM(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",o=n.toString().trim();if(uT[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+r}}]),n}(cT),uT=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function hT(t,e,n,i,r,o,a,s,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}var dT={},fT=function(){function t(e,n,i){f(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return g(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some(function(t){return t(e,n,i,r)})}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,i,r,o,a,s,c,l){var u=[],h=this.ast.options&&this.ast.options.params||dT,d=this.buildStyles(n,a&&a.params||dT,u),f=s&&s.params||dT,p=this.buildStyles(i,f,u),g=new Set,v=new Map,m=new Map,y="void"===i,b={params:Object.assign(Object.assign({},h),f)},_=l?[]:eT(t,e,this.ast.animation,r,o,d,p,b,c,u),k=0;if(_.forEach(function(t){k=Math.max(t.duration+t.delay,k)}),u.length)return hT(e,this._triggerName,n,i,y,d,p,[],[],v,m,k,u);_.forEach(function(t){var n=t.element,i=oM(v,n,{});t.preStyleProps.forEach(function(t){return i[t]=!0});var r=oM(m,n,{});t.postStyleProps.forEach(function(t){return r[t]=!0}),n!==e&&g.add(n)});var C=AM(g.values());return hT(e,this._triggerName,n,i,y,d,p,_,C,v,m,k)}}]),t}(),pT=function(){function t(e,n){f(this,t),this.styles=e,this.defaultParams=n}return g(t,[{key:"buildStyles",value:function(t,e){var n={},i=xM(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach(function(t){var o=r[t];o.length>1&&(o=IM(o,i,e)),n[t]=o})}}),n}}]),t}(),gT=function(){function t(e,n){var i=this;f(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){i.states[t.name]=new pT(t.style,t.options&&t.options.params||{})}),vT(this.states,"true","1"),vT(this.states,"false","0"),n.transitions.forEach(function(t){i.transitionFactories.push(new fT(e,t,i.states))}),this.fallbackTransition=new fT(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return g(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find(function(r){return r.match(t,e,n,i)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function vT(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var mT=new JM,yT=function(){function t(e,n,i){f(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return g(t,[{key:"register",value:function(t,e){var n=[],i=WM(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=eM(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=eT(this._driver,e,a,"ng-enter","ng-leave",{},{},r,mT,o)).forEach(function(t){var e=oM(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=i._driver.computeStyle(e,n,"*")})});var c=tM(n.map(function(t){var e=s.get(t.element);return i._buildPlayer(t,{},e)}));return this._playersById[t]=c,c.onDestroy(function(){return i.destroy(t)}),this.players.push(c),c}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,i){var r=rM(e,"","","");return nM(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),bT=[],_T={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},CT=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";f(this,t),this.namespaceId=n;var i,r=e&&e.hasOwnProperty("value");if(this.value=null!=(i=r?e.value:e)?i:null,r){var o=xM(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return g(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),wT=new CT("void"),xT=function(){function t(e,n,i){f(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,RT(n,this._hostClassName)}return g(t,[{key:"listen",value:function(t,e,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=oM(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};a.push(s);var c=oM(this._engine.statesByElement,t,{});return c.hasOwnProperty(e)||(RT(t,"ng-trigger"),RT(t,"ng-trigger-"+e),c[e]=wT),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete c[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new OT(this.id,e,t),s=this._engine.statesByElement.get(t);s||(RT(t,"ng-trigger"),RT(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var c=s[e],l=new CT(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),s[e]=l,c||(c=wT),"void"===l.value||c.value!==l.value){var u=oM(this._engine.playersByElement,t,[]);u.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(c.value,l.value,t,l.params),d=!1;if(!h){if(!r)return;h=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:c,toState:l,player:a,isFallbackTransition:d}),d||(RT(t,"ng-animate-queued"),a.onStart(function(){FT(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),u.push(a),a}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(c.params,l.params)){var f=[],p=o.matchStyles(c.value,c.params,f),g=o.matchStyles(l.value,l.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(function(){TM(t,p),MM(t,g)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,i){e._elementListeners.set(i,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,i=this._engine.driver.query(t,".ng-trigger",!0);i.forEach(function(t){if(!t.__ng_removed){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(r._triggers[e]){var n=r.trigger(t,e,"void",i);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&tM(a).onDone(function(){return r._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var i=new Set;n.forEach(function(n){var r=n.name;if(!i.has(r)){i.add(r);var o=e._triggers[r].fallbackTransition,a=e._engine.statesByElement.get(t)[r]||wT,s=new CT("void"),c=new OT(e.id,r,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:r,transition:o,fromState:a,toState:s,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else for(var a=t;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==_T||(i.afterFlush(function(){return n.clearElementCache(t)}),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){RT(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var o=i.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==i.triggerName){var n=rM(o,i.triggerName,i.fromState.value,i.toState.value);n._data=t,nM(i.player,e.phase,n,e.callback)}}),r.markedForDestroy?e._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),PT=function(){function t(e,n,i){f(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return g(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new xT(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,i){if(ST(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(ST(e)){var r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),RT(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),FT(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,i){if(ST(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return ST(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return tM(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=_T,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)RT(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,e)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?tM(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new JM,r=[],o=new Map,a=[],s=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(function(t){u.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)u.add(e[i])});var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=ET(d,this.collectedEnterElements),p=new Map,g=0;f.forEach(function(t,e){var n="ng-enter"+g++;p.set(e,n),t.forEach(function(t){return RT(t,n)})});for(var v=[],m=new Set,y=new Set,b=0;b<this.collectedLeaveElements.length;b++){var _=this.collectedLeaveElements[b],k=_.__ng_removed;k&&k.setForRemoval&&(v.push(_),m.add(_),k.hasAnimation?this.driver.query(_,".ng-star-inserted",!0).forEach(function(t){return m.add(t)}):y.add(_))}var w=new Map,x=ET(d,Array.from(m));x.forEach(function(t,e){var n="ng-leave"+g++;w.set(e,n),t.forEach(function(t){return RT(t,n)})}),t.push(function(){f.forEach(function(t,e){var n=p.get(e);t.forEach(function(t){return FT(t,n)})}),x.forEach(function(t,e){var n=w.get(e);t.forEach(function(t){return FT(t,n)})}),v.forEach(function(t){n.processLeaveNode(t)})});for(var P=[],O=[],S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(P.push(e),n.collectedEnterElements.length){var u=o.__ng_removed;if(u&&u.setForMove)return void e.destroy()}var d=!h||!n.driver.containsElement(h,o),f=w.get(o),g=p.get(o),v=n._buildInstruction(t,i,g,f,d);if(v.errors&&v.errors.length)O.push(v);else{if(d)return e.onStart(function(){return TM(o,v.fromStyles)}),e.onDestroy(function(){return MM(o,v.toStyles)}),void r.push(e);if(t.isFallbackTransition)return e.onStart(function(){return TM(o,v.fromStyles)}),e.onDestroy(function(){return MM(o,v.toStyles)}),void r.push(e);v.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),i.append(o,v.timelines),a.push({instruction:v,player:e,element:o}),v.queriedElements.forEach(function(t){return oM(s,t,[]).push(e)}),v.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var i=c.get(e);i||c.set(e,i=new Set),n.forEach(function(t){return i.add(t)})}}),v.postStyleProps.forEach(function(t,e){var n=Object.keys(t),i=l.get(e);i||l.set(e,i=new Set),n.forEach(function(t){return i.add(t)})})}});if(O.length){var M=[];O.forEach(function(t){M.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return M.push("- ".concat(t,"\n"))})}),P.forEach(function(t){return t.destroy()}),this.reportError(M)}var T=new Map,E=new Map;a.forEach(function(t){var e=t.element;i.has(e)&&(E.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,T))}),r.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){oM(T,e,[]).push(t),t.destroy()})});var R=v.filter(function(t){return DT(t,c,l)}),F=new Map;TT(F,this.driver,y,l,"*").forEach(function(t){DT(t,c,l)&&R.push(t)});var I=new Map;f.forEach(function(t,e){TT(I,n.driver,new Set(t),c,"!")}),R.forEach(function(t){var e=F.get(t),n=I.get(t);F.set(t,Object.assign(Object.assign({},e),n))});var A=[],D=[],L={};a.forEach(function(t){var e=t.element,a=t.player,s=t.instruction;if(i.has(e)){if(u.has(e))return a.onDestroy(function(){return MM(e,s.toStyles)}),a.disabled=!0,a.overrideTotalTime(s.totalTime),void r.push(a);var c=L;if(E.size>1){for(var l=e,h=[];l=l.parentNode;){var d=E.get(l);if(d){c=d;break}h.push(l)}h.forEach(function(t){return E.set(t,c)})}var f=n._buildAnimation(a.namespaceId,s,T,o,I,F);if(a.setRealPlayer(f),c===L)A.push(a);else{var p=n.playersByElement.get(c);p&&p.length&&(a.parentPlayer=tM(p)),r.push(a)}}else TM(e,s.fromStyles),a.onDestroy(function(){return MM(e,s.toStyles)}),D.push(a),u.has(e)&&r.push(a)}),D.forEach(function(t){var e=o.get(t.element);if(e&&e.length){var n=tM(e);t.setRealPlayer(n)}}),r.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var B=0;B<v.length;B++){var N=v[B],j=N.__ng_removed;if(FT(N,"ng-leave"),!j||!j.hasAnimation){var V=[];if(s.size){var H=s.get(N);H&&H.length&&V.push.apply(V,C(H));for(var z=this.driver.query(N,".ng-animating",!0),U=0;U<z.length;U++){var q=s.get(z[U]);q&&q.length&&V.push.apply(V,C(q))}}var W=V.filter(function(t){return!t.destroyed});W.length?IT(this,N,W):this.processLeaveNode(N)}}return v.length=0,A.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),A}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var c=!r||"void"==r;s.forEach(function(t){t.queued||(c||t.triggerName==i)&&o.push(t)})}}return(n||i)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i,r=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,c=k(e.timelines);try{var l=function(){var t=i.value.element,c=t!==o,l=oM(n,t,[]);r._getPreviousPlayers(t,c,a,s,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})};for(c.s();!(i=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}TM(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,o){var a=this,s=e.triggerName,c=e.element,l=[],u=new Set,h=new Set,d=e.timelines.map(function(e){var d=e.element;u.add(d);var f=d.__ng_removed;if(f&&f.removedBeforeQueried)return new ZS(e.duration,e.delay);var p,g,v=d!==c,m=(p=(n.get(d)||bT).map(function(t){return t.getRealPlayer()}),g=[],AT(p,g),g).filter(function(t){return!!t.element&&t.element===d}),y=r.get(d),b=o.get(d),_=eM(0,a._normalizer,0,e.keyframes,y,b),k=a._buildPlayer(e,_,m);if(e.subTimeline&&i&&h.add(d),v){var C=new OT(t,s,d);C.setRealPlayer(k),l.push(C)}return k});l.forEach(function(t){oM(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete t[e]}return i}(a.playersByQueriedElement,t.element,t)})}),u.forEach(function(t){return RT(t,"ng-animating")});var f=tM(d);return f.onDestroy(function(){u.forEach(function(t){return FT(t,"ng-animating")}),MM(c,e.toStyles)}),h.forEach(function(t){oM(i,t,[]).push(f)}),f}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ZS(t.duration,t.delay)}}]),t}(),OT=function(){function t(e,n,i){f(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new ZS,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return g(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return nM(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){oM(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function ST(t){return t&&1===t.nodeType}function MT(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function TT(t,e,n,i,r){var o=[];n.forEach(function(t){return o.push(MT(t))});var a=[];i.forEach(function(n,i){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=kT,a.push(i))}),t.set(i,o)});var s=0;return n.forEach(function(t){return MT(t,o[s++])}),a}function ET(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var i=new Set(e),r=new Map;function o(t){if(!t)return 1;var e=r.get(t);if(e)return e;var a=t.parentNode;return e=n.has(a)?a:i.has(a)?1:o(a),r.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function RT(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function FT(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function IT(t,e,n){tM(n).onDone(function(){return t.processLeaveNode(e)})}function AT(t,e){for(var n=0;n<t.length;n++){var i=t[n];i instanceof JS?AT(i.players,e):e.push(i)}}function DT(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach(function(t){return r.add(t)}):e.set(t,i),n.delete(t),!0}var LT=function(){function t(e,n,i){var r=this;f(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new PT(e,n,i),this._timelineEngine=new yT(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return g(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var o=t+"-"+i,a=this._triggerCache[o];if(!a){var s=[],c=WM(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new gT(t,e)}(i,c),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,i){if("@"==n.charAt(0)){var r=y(aM(n),2),o=r[0],a=r[1];this._timelineEngine.command(o,e,a,i)}else this._transitionEngine.trigger(t,e,n,i)}},{key:"listen",value:function(t,e,n,i,r){if("@"==n.charAt(0)){var o=y(aM(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,r)}return this._transitionEngine.listen(t,e,n,i,r)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function BT(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=jT(e[0]),e.length>1&&(i=jT(e[e.length-1]))):e&&(n=jT(e)),n||i?new NT(t,n,i):null}var NT=function(){var t=function(){function t(e,n,i){f(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return g(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&MM(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(MM(this._element,this._initialStyles),this._endStyles&&(MM(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(TM(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(TM(this._element,this._endStyles),this._endStyles=null),MM(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function jT(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];VT(r)&&((e=e||{})[r]=t[r])}return e}function VT(t){return"display"===t||"position"===t}var HT=function(){function t(e,n,i,r,o,a,s){var c=this;f(this,t),this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return c._handleCallback(t)}}return g(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=GT(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),$T(t,"",e),WT(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){zT(this._element,this._name,"paused")}},{key:"resume",value:function(){zT(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=UT(this._element,this._name);this._position=t*this._duration,$T(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),WT(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=GT(t,"").split(","),(i=qT(n,e))>=0&&(n.splice(i,1),$T(t,"",n.join(","))))}}]),t}();function zT(t,e,n){$T(t,"PlayState",n,UT(t,e))}function UT(t,e){var n=GT(t,"");return n.indexOf(",")>0?qT(n.split(","),e):qT([n],e)}function qT(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function WT(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function $T(t,e,n,i){var r="animation"+e;if(null!=i){var o=t.style[r];if(o.length){var a=o.split(",");a[i]=n,n=a.join(",")}}t.style[r]=n}function GT(t,e){return t.style["animation"+e]||""}var KT=function(){function t(e,n,i,r,o,a,s,c){f(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=s,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+o,this._buildStyler()}return g(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new HT(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:VM(t.element,i))})}this.currentSnapshot=e}}]),t}(),QT=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this)).element=t,r._startingStyles={},r.__initialized=!1,r._styles=mM(i),r}return g(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),r(d(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),r(d(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,r(d(n.prototype),"destroy",this).call(this))}}]),n}(ZS),YT=function(){function t(){f(this,t),this._count=0,this._head=document.querySelector("head")}return g(t,[{key:"validateStyleProperty",value:function(t){return fM(t)}},{key:"matchesElement",value:function(t,e){return pM(t,e)}},{key:"containsElement",value:function(t,e){return gM(t,e)}},{key:"query",value:function(t,e,n){return vM(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return mM(t)});var i="@keyframes ".concat(e," {\n"),r="";n.forEach(function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}}),i+=r+"}\n"}),i+="}\n";var o=document.createElement("style");return o.textContent=i,o}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(t){return t instanceof KT}),s={};BM(n,i)&&a.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=NM(t,e,s));if(0==n)return new QT(t,c);var l="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(u);var h=BT(t,e),d=new KT(t,e,l,n,i,r,c,h);return d.onDestroy(function(){var t;(t=u).parentNode.removeChild(t)}),d}}]),t}(),ZT=function(){function t(e,n,i,r){f(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:VM(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),JT=function(){function t(){f(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(XT().toString()),this._cssKeyframesDriver=new YT}return g(t,[{key:"validateStyleProperty",value:function(t){return fM(t)}},{key:"matchesElement",value:function(t,e){return pM(t,e)}},{key:"containsElement",value:function(t,e){return gM(t,e)}},{key:"query",value:function(t,e,n){return vM(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var c={},l=o.filter(function(t){return t instanceof ZT});BM(n,i)&&l.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return c[t]=e[t]})});var u=BT(t,e=NM(t,e=e.map(function(t){return PM(t,!1)}),c));return new ZT(t,e,s,u)}}]),t}();function XT(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var tE,eE=((tE=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this))._nextAnimationId=0,r._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Vt.None,styles:[],data:{animation:[]}}),r}return g(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?$S(t):t;return rE(this._renderer,null,e,"register",[n]),new nE(e,this._renderer)}}]),n}(US)).\u0275fac=function(t){return new(t||tE)(Ti(nc),Ti(Ru))},tE.\u0275prov=Pt({token:tE,factory:tE.\u0275fac}),tE),nE=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this))._id=t,r._renderer=i,r}return g(n,[{key:"create",value:function(t,e){return new iE(this._id,t,e||{},this._renderer)}}]),n}(function(){return g(function t(){f(this,t)})}()),iE=function(){function t(e,n,i,r){f(this,t),this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return g(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return rE(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function rE(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var oE,aE,sE,cE=((oE=function(){function t(e,n,i){f(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return g(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new lE("",i,this.engine),this._rendererCache.set(i,r)),r}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function e(i){Array.isArray(i)?i.forEach(e):n.engine.registerTrigger(o,a,t,i.name,i)}),new uE(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,e,n){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var e=y(t,2);(0,e[0])(e[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||oE)(Ti(nc),Ti(LT),Ti(Yl))},oE.\u0275prov=Pt({token:oE,factory:oE.\u0275fac}),oE),lE=function(){function t(e,n,i){f(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return g(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),uE=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,i,r,o)).factory=t,a.namespaceId=i,a}return g(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var i,r,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=e.substr(1),l="";return"@"!=c.charAt(0)&&(r=(i=c).indexOf("."),c=(a=y([i.substring(0,r),i.substr(r+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,s,c,l,function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}]),n}(lE),hE=((aE=function(t){a(n,t);var e=c(n);function n(t,i,r){return f(this,n),e.call(this,t.body,i,r)}return g(n)}(LT)).\u0275fac=function(t){return new(t||aE)(Ti(Ru),Ti(_M),Ti(cT))},aE.\u0275prov=Pt({token:aE,factory:aE.\u0275fac}),aE),dE=new ci("AnimationModuleType"),fE=[{provide:_M,useFactory:function(){return"function"==typeof XT()?new JT:new YT}},{provide:dE,useValue:"BrowserAnimations"},{provide:US,useClass:eE},{provide:cT,useFactory:function(){return new lT}},{provide:LT,useClass:hE},{provide:nc,useFactory:function(t,e,n){return new cE(t,e,n)},deps:[Jd,LT,Yl]}],pE=((sE=g(function t(){f(this,t)})).\u0275mod=se({type:sE}),sE.\u0275inj=Ot({factory:function(t){return new(t||sE)},providers:fE,imports:[ff]}),sE);function gE(t,e){if(1&t&&Wa(0,"mat-pseudo-checkbox",3),2&t){var n=is();Ha("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}var vE,mE=["*"],yE=new ac("11.0.3"),bE=new ci("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),_E=((vE=function(){function t(e,n,i){f(this,t),this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return g(t,[{key:"_getWindow",value:function(){var t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return lu()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&yE.full!==zS.full&&console.warn("The Angular Material version ("+yE.full+") does not match the Angular CDK version ("+zS.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=se({type:vE}),vE.\u0275inj=Ot({factory:function(t){return new(t||vE)(Ti(VS),Ti(bE,8),Ti(Ru))},imports:[[mP],mP]}),vE);function kE(t){return function(t){a(n,t);var e=c(n);function n(){var t;f(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disabled=!1,t}return g(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Cx(t)}}]),n}(t)}function CE(t,e){return function(t){a(i,t);var n=c(i);function i(){var t;f(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).defaultColor=e,t.color=e,t}return g(i,[{key:"color",get:function(){return this._color},set:function(t){var e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}]),i}(t)}function wE(t){return function(t){a(n,t);var e=c(n);function n(){var t;f(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disableRipple=!1,t}return g(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Cx(t)}}]),n}(t)}function xE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){a(i,t);var n=c(i);function i(){var t;f(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o)))._tabIndex=e,t.defaultTabIndex=e,t}return g(i,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?wx(t):this.defaultTabIndex}}]),i}(t)}function PE(t){return function(t){a(n,t);var e=c(n);function n(){var t;f(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).errorState=!1,t.stateChanges=new z,t}return g(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}(t)}try{"undefined"!=typeof Intl}catch(GJ){!1}var OE,SE,ME,TE,EE,RE,FE,IE,AE=((OE=function(){function t(){f(this,t)}return g(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).\u0275fac=function(t){return new(t||OE)},OE.\u0275prov=Pt({factory:function(){return new OE},token:OE,providedIn:"root"}),OE),DE=function(){function t(e,n,i){f(this,t),this._renderer=e,this.element=n,this.config=i,this.state=3}return g(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),LE={enterDuration:450,exitDuration:400},BE=uP({passive:!0}),NE=["mousedown","touchstart"],jE=["mouseup","mouseleave","touchend","touchcancel"],VE=function(){function t(e,n,i,r){f(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ox(i))}return g(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},LE),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);var a=i.radius||function(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),s=t-r.left,c=e-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-a+"px",u.style.top=c-a+"px",u.style.height=2*a+"px",u.style.width=2*a+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=l+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";var h=new DE(this,u,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(function(){var t=h===n._mostRecentTransientRipple;h.state=1,i.persistent||t&&n._isPointerDown||h.fadeOut()},l),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign(Object.assign({},LE),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(function(){t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(t){return t.fadeOut()})}},{key:"setupTriggerEvents",value:function(t){var e=Ox(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(NE))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(jE),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=ES(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){t.forEach(function(t){e._triggerElement.addEventListener(t,e,BE)})})}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(NE.forEach(function(e){t._triggerElement.removeEventListener(e,t,BE)}),this._pointerUpEventsRegistered&&jE.forEach(function(e){t._triggerElement.removeEventListener(e,t,BE)}))}}]),t}(),HE=new ci("mat-ripple-global-options"),zE=((EE=function(){function t(e,n,i,r,o){f(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new VE(this,n,e,i)}return g(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}]),t}()).\u0275fac=function(t){return new(t||EE)(Va(ec),Va(Yl),Va(aP),Va(HE,8),Va(dE,8))},EE.\u0275dir=le({type:EE,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&gs("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),EE),UE=((TE=g(function t(){f(this,t)})).\u0275mod=se({type:TE}),TE.\u0275inj=Ot({factory:function(t){return new(t||TE)},imports:[[_E,sP],_E]}),TE),qE=((ME=g(function t(e){f(this,t),this._animationMode=e,this.state="unchecked",this.disabled=!1})).\u0275fac=function(t){return new(t||ME)(Va(dE,8))},ME.\u0275cmp=ne({type:ME,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&gs("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),ME),WE=((SE=g(function t(){f(this,t)})).\u0275mod=se({type:SE}),SE.\u0275inj=Ot({factory:function(t){return new(t||SE)},imports:[[_E]]}),SE),$E=kE(g(function t(){f(this,t)})),GE=0,KE=((RE=function(t){a(n,t);var e=c(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._labelId="mat-optgroup-label-"+GE++,t}return g(n)}($E)).\u0275fac=function(t){return QE(t||RE)},RE.\u0275dir=le({type:RE,inputs:{label:"label"},features:[wa]}),RE),QE=oi(KE),YE=new ci("MatOptgroup"),ZE=0,JE=g(function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(this,t),this.source=e,this.isUserInput=n}),XE=new ci("MAT_OPTION_PARENT_COMPONENT"),tR=((IE=function(){function t(e,n,i,r){f(this,t),this._element=e,this._changeDetectorRef=n,this._parent=i,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ZE++,this.onSelectionChange=new ol,this._stateChanges=new z}return g(t,[{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=Cx(t)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(t,e){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(t){13!==t.keyCode&&32!==t.keyCode||uO(t)||(this._selectViaInteraction(),t.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new JE(this,t))}}]),t}()).\u0275fac=function(t){return new(t||IE)(Va(ec),Va(xc),Va(void 0),Va(KE))},IE.\u0275dir=le({type:IE,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),IE),eR=((FE=function(t){a(n,t);var e=c(n);function n(t,i,r,o){return f(this,n),e.call(this,t,i,r,o)}return g(n)}(tR)).\u0275fac=function(t){return new(t||FE)(Va(ec),Va(xc),Va(XE,8),Va(YE,8))},FE.\u0275cmp=ne({type:FE,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&Ja("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(Fs("id",e.id),La("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),gs("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[wa],ngContentSelectors:mE,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(os(),Na(0,gE,1,2,"mat-pseudo-checkbox",0),Ua(1,"span",1),as(2),qa(),Wa(3,"div",2)),2&t&&(Ha("ngIf",e.multiple),so(3),Ha("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[Kh,zE,qE],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),FE);function nR(t,e,n){if(n.length){for(var i=e.toArray(),r=n.toArray(),o=0,a=0;a<t+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}var iR,rR=((iR=g(function t(){f(this,t)})).\u0275mod=se({type:iR}),iR.\u0275inj=Ot({factory:function(t){return new(t||iR)},imports:[[UE,xd,_E,WE]]}),iR);function oR(t,e){}var aR,sR,cR=g(function t(){f(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}),lR={dialogContainer:qS("dialogContainer",[KS("void, exit",GS({opacity:0,transform:"scale(0.7)"})),KS("enter",GS({transform:"none"})),QS("* => enter",WS("150ms cubic-bezier(0, 0, 0.2, 1)",GS({transform:"none",opacity:1}))),QS("* => void, * => exit",WS("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",GS({opacity:0})))])},uR=((sR=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s){var c;return f(this,n),(c=e.call(this))._elementRef=t,c._focusTrapFactory=i,c._changeDetectorRef=r,c._config=a,c._focusMonitor=s,c._animationStateChanged=new ol,c._elementFocusedBeforeDialogWasOpened=null,c._closeInteractionType=null,c.attachDomPortal=function(t){return c._portalOutlet.hasAttached(),c._portalOutlet.attachDomPortal(t)},c._ariaLabelledBy=a.ariaLabelledBy||null,c._document=o,c}return g(n,[{key:"_initializeWithAttachedContent",value:function(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}},{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}},{key:"_capturePreviouslyFocusedElement",value:function(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}},{key:"_focusDialogContainer",value:function(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}]),n}(nO)).\u0275fac=function(t){return new(t||sR)(Va(ec),Va(PS),Va(xc),Va(Ru,8),Va(cR),Va(AS))},sR.\u0275dir=le({type:sR,viewQuery:function(t,e){var n;1&t&&yl(rO,!0),2&t&&ml(n=xl())&&(e._portalOutlet=n.first)},features:[wa]}),sR),hR=((aR=function(t){a(n,t);var e=c(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._state="enter",t}return g(n,[{key:"_onAnimationDone",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}},{key:"_onAnimationStart",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:n})}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(uR)).\u0275fac=function(t){return dR(t||aR)},aR.\u0275cmp=ne({type:aR,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Xa("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(Fs("id",e._id),La("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),Is("@dialogContainer",e._state))},features:[wa],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Na(0,oR,0,0,"ng-template",0)},directives:[rO],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[lR.dialogContainer]}}),aR),dR=oi(hR),fR=0,pR=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+fR++;f(this,t),this._overlayRef=e,this._containerInstance=n,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new z,this._afterClosed=new z,this._beforeClosed=new z,this._state=0,n._id=r,n._animationStateChanged.pipe(vf(function(t){return"opened"===t.state}),Ip(1)).subscribe(function(){i._afterOpened.next(),i._afterOpened.complete()}),n._animationStateChanged.pipe(vf(function(t){return"closed"===t.state}),Ip(1)).subscribe(function(){clearTimeout(i._closeFallbackTimeout),i._finishDialogClose()}),e.detachments().subscribe(function(){i._beforeClosed.next(i._result),i._beforeClosed.complete(),i._afterClosed.next(i._result),i._afterClosed.complete(),i.componentInstance=null,i._overlayRef.dispose()}),e.keydownEvents().pipe(vf(function(t){return 27===t.keyCode&&!i.disableClose&&!uO(t)})).subscribe(function(t){t.preventDefault(),gR(i,"keyboard")}),e.backdropClick().subscribe(function(){i.disableClose?i._containerInstance._recaptureFocus():gR(i,"mouse")})}return g(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(vf(function(t){return"closing"===t.state}),Ip(1)).subscribe(function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout(function(){return e._finishDialogClose()},n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"afterClosed",value:function(){return this._afterClosed}},{key:"beforeClosed",value:function(){return this._beforeClosed}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}();function gR(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}var vR,mR,yR,bR,_R,kR,CR=new ci("MatDialogData"),wR=new ci("mat-dialog-default-options"),xR=new ci("mat-dialog-scroll-strategy"),PR={provide:xR,deps:[WO],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},OR=((kR=function(){function t(e,n,i,r,o,a,s,c,l){var u=this;f(this,t),this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=r,this._overlayContainer=o,this._dialogRefConstructor=s,this._dialogContainerType=c,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z,this._afterOpenedAtThisLevel=new z,this._ariaHiddenElements=new Map,this.afterAllClosed=mp(function(){return u.openDialogs.length?u._getAfterAllClosed():u._getAfterAllClosed().pipe(Bp(void 0))}),this._scrollStrategy=a}return g(t,[{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_getAfterAllClosed",value:function(){var t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}},{key:"open",value:function(t,e){var n=this;(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new cR)).id&&this.getDialogById(e.id);var i=this._createOverlay(e),r=this._attachDialogContainer(i,e),o=this._attachDialogContent(t,r,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(function(){return n._removeOpenDialog(o)}),this.afterOpened.next(o),r._initializeWithAttachedContent(),o}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find(function(e){return e.id===t})}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new wO({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=ka.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:cR,useValue:e}]}),i=new XP(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}},{key:"_attachDialogContent",value:function(t,e,n,i){var r=new this._dialogRefConstructor(n,e,i.id);if(t instanceof Ec)e.attachTemplatePortal(new tO(t,null,{$implicit:i.data,dialogRef:r}));else{var o=this._createInjector(i,r,e),a=e.attachComponentPortal(new XP(t,i.viewContainerRef,o));r.componentInstance=a.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}},{key:"_createInjector",value:function(t,e,n){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(vP,null)||r.push({provide:vP,useValue:{value:t.direction,change:pf()}}),ka.create({parent:i||this._injector,providers:r})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}}]),t}()).\u0275fac=function(t){return new(t||kR)(Va(WO),Va(ka),Va(void 0),Va(void 0),Va(EO),Va(void 0),Va(ui),Va(ui),Va(ci))},kR.\u0275dir=le({type:kR}),kR),SR=((_R=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s,c){return f(this,n),e.call(this,t,i,o,s,c,a,pR,hR,CR)}return g(n)}(OR)).\u0275fac=function(t){return new(t||_R)(Ti(WO),Ti(ka),Ti(Zu,8),Ti(wR,8),Ti(xR),Ti(_R,12),Ti(EO))},_R.\u0275prov=Pt({token:_R,factory:_R.\u0275fac}),_R),MR=0,TR=((bR=function(){function t(e,n,i){f(this,t),this.dialogRef=e,this._elementRef=n,this._dialog=i,this.type="button"}return g(t,[{key:"ngOnInit",value:function(){this.dialogRef||(this.dialogRef=IR(this._elementRef,this._dialog.openDialogs))}},{key:"ngOnChanges",value:function(t){var e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}},{key:"_onButtonClick",value:function(t){gR(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}]),t}()).\u0275fac=function(t){return new(t||bR)(Va(pR,8),Va(ec),Va(SR))},bR.\u0275dir=le({type:bR,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ja("click",function(t){return e._onButtonClick(t)}),2&t&&La("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Pe]}),bR),ER=((yR=function(){function t(e,n,i){f(this,t),this._dialogRef=e,this._elementRef=n,this._dialog=i,this.id="mat-dialog-title-"+MR++}return g(t,[{key:"ngOnInit",value:function(){var t=this;this._dialogRef||(this._dialogRef=IR(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(function(){var e=t._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=t.id)})}}]),t}()).\u0275fac=function(t){return new(t||yR)(Va(pR,8),Va(ec),Va(SR))},yR.\u0275dir=le({type:yR,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&Fs("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),yR),RR=((mR=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||mR)},mR.\u0275dir=le({type:mR,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),mR),FR=((vR=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||vR)},vR.\u0275dir=le({type:vR,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),vR);function IR(t,e){for(var n=t.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(function(t){return t.id===n.id}):null}var AR,DR=((AR=g(function t(){f(this,t)})).\u0275mod=se({type:AR}),AR.\u0275inj=Ot({factory:function(t){return new(t||AR)},providers:[SR,PR],imports:[[ZO,sO,_E],_E]}),AR);function LR(t,e){if(1&t&&(wn(),Wa(0,"circle",3)),2&t){var n=is();ps("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),La("r",n._getCircleRadius())}}function BR(t,e){if(1&t&&(wn(),Wa(0,"circle",3)),2&t){var n=is();ps("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),La("r",n._getCircleRadius())}}function NR(t,e){if(1&t&&(wn(),Wa(0,"circle",3)),2&t){var n=is();ps("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),La("r",n._getCircleRadius())}}function jR(t,e){if(1&t&&(wn(),Wa(0,"circle",3)),2&t){var n=is();ps("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),La("r",n._getCircleRadius())}}var VR,HR,zR,UR,qR,WR,$R,GR,KR,QR=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",YR=CE(g(function t(e){f(this,t),this._elementRef=e}),"primary"),ZR=new ci("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}}),JR=((WR=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a){var s;f(this,n),(s=e.call(this,t))._elementRef=t,s._document=r,s._diameter=100,s._value=0,s._fallbackAnimation=!1,s.mode="determinate";var c=n._diameters;return s._spinnerAnimationLabel=s._getSpinnerAnimationLabel(),c.has(r.head)||c.set(r.head,new Set([100])),s._fallbackAnimation=i.EDGE||i.TRIDENT,s._noopAnimations="NoopAnimations"===o&&!!a&&!a._forceAnimations,a&&(a.diameter&&(s.diameter=a.diameter),a.strokeWidth&&(s.strokeWidth=a.strokeWidth)),s}return g(n,[{key:"diameter",get:function(){return this._diameter},set:function(t){this._diameter=wx(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}},{key:"strokeWidth",get:function(){return this._strokeWidth||this.diameter/10},set:function(t){this._strokeWidth=wx(t)}},{key:"value",get:function(){return"determinate"===this.mode?this._value:0},set:function(t){this._value=Math.max(0,Math.min(100,wx(t)))}},{key:"ngOnInit",value:function(){var t=this._elementRef.nativeElement;this._styleRoot=dP(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate".concat(this._fallbackAnimation?"-fallback":"","-animation"))}},{key:"_getCircleRadius",value:function(){return(this.diameter-10)/2}},{key:"_getViewBox",value:function(){var t=2*this._getCircleRadius()+this.strokeWidth;return"0 0 ".concat(t," ").concat(t)}},{key:"_getStrokeCircumference",value:function(){return 2*Math.PI*this._getCircleRadius()}},{key:"_getStrokeDashOffset",value:function(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}},{key:"_getCircleStrokeWidth",value:function(){return this.strokeWidth/this.diameter*100}},{key:"_attachStyleNode",value:function(){var t=this._styleRoot,e=this._diameter,i=n._diameters,r=i.get(t);if(!r||!r.has(e)){var o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}},{key:"_getAnimationText",value:function(){var t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,""+this._spinnerAnimationLabel)}},{key:"_getSpinnerAnimationLabel",value:function(){return this.diameter.toString().replace(".","_")}}]),n}(YR)).\u0275fac=function(t){return new(t||WR)(Va(ec),Va(aP),Va(Ru,8),Va(dE,8),Va(ZR))},WR.\u0275cmp=ne({type:WR,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(La("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),ps("width",e.diameter,"px")("height",e.diameter,"px"),gs("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[wa],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(wn(),Ua(0,"svg",0),Na(1,LR,1,9,"circle",1),Na(2,BR,1,7,"circle",2),qa()),2&t&&(ps("width",e.diameter,"px")("height",e.diameter,"px"),Ha("ngSwitch","indeterminate"===e.mode),La("viewBox",e._getViewBox()),so(1),Ha("ngSwitchCase",!0),so(1),Ha("ngSwitchCase",!1))},directives:[nd,id],styles:[QR],encapsulation:2,changeDetection:0}),WR._diameters=new WeakMap,WR),XR=((qR=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a){var s;return f(this,n),(s=e.call(this,t,i,r,o,a)).mode="indeterminate",s}return g(n)}(JR)).\u0275fac=function(t){return new(t||qR)(Va(ec),Va(aP),Va(Ru,8),Va(dE,8),Va(ZR))},qR.\u0275cmp=ne({type:qR,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(ps("width",e.diameter,"px")("height",e.diameter,"px"),gs("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[wa],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(wn(),Ua(0,"svg",0),Na(1,NR,1,9,"circle",1),Na(2,jR,1,7,"circle",2),qa()),2&t&&(ps("width",e.diameter,"px")("height",e.diameter,"px"),Ha("ngSwitch","indeterminate"===e.mode),La("viewBox",e._getViewBox()),so(1),Ha("ngSwitchCase",!0),so(1),Ha("ngSwitchCase",!1))},directives:[nd,id],styles:[QR],encapsulation:2,changeDetection:0}),qR),tF=((UR=g(function t(){f(this,t)})).\u0275mod=se({type:UR}),UR.\u0275inj=Ot({factory:function(t){return new(t||UR)},imports:[[_E,xd],_E]}),UR),eF=((zR=g(function t(e,n){f(this,t),this.dialogRef=e,this.data=n})).\u0275fac=function(t){return new(t||zR)(Va(pR),Va(CR))},zR.\u0275cmp=ne({type:zR,selectors:[["app-please-wait-dialog"]],decls:8,vars:2,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"text"],[1,"spinner"],["color","accent"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1),qa(),Ua(2,"mat-dialog-content",1),Ua(3,"div",2),Ua(4,"p"),Ss(5),qa(),qa(),Ua(6,"div",3),Wa(7,"mat-spinner",4),qa(),qa()),2&t&&(so(1),Ts(" ",e.data.title,""),so(4),Ms(e.data.message))},directives:[ER,RR,XR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.text[_ngcontent-%COMP%]{width:10rem;text-align:justify}.spinner[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;zoom:.5}"]}),zR),nF=((HR=function(){function t(e){f(this,t),this.dialogRef=e}return g(t,[{key:"close",value:function(){this.dialogRef.close(!1)}},{key:"openBlackFridayPromo",value:function(){window.open("https://plomastermind.com/blackfriday","_blank")}}]),t}()).\u0275fac=function(t){return new(t||HR)(Va(pR))},HR.\u0275cmp=ne({type:HR,selectors:[["app-black-friday-dialog"]],decls:11,vars:0,consts:[["mat-dialog-title",""],[1,"fas","fa-bullhorn"],[1,"content","mat-typography"],[1,"regular-link",3,"click"],["align","center"],[1,"confirm-link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Wa(1,"i",1),Ss(2," Black Friday is Live!\n"),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"p"),Ss(5," Unlock lifetime access to the Legacy Vault + bonuses, included on any yearly membership: "),qa(),Ua(6,"a",3),Ja("click",function(){return e.openBlackFridayPromo()}),Ss(7,"https://plomastermind.com/blackfriday"),qa(),qa(),Ua(8,"mat-dialog-actions",4),Ua(9,"a",5),Ja("click",function(){return e.close()}),Ss(10,"Close"),qa(),qa())},directives:[ER,RR,FR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.fa-bullhorn[_ngcontent-%COMP%]{margin-right:1rem}.content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.regular-link[_ngcontent-%COMP%]{cursor:pointer;color:var(--text-color);text-decoration:none;-webkit-user-select:text;-moz-user-select:text;user-select:text;border:none}.regular-link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover);text-decoration:underline}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.confirm-link[_ngcontent-%COMP%]:hover, .dismiss-link[_ngcontent-%COMP%]:hover{padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),HR),iF=((VR=function(){function t(){f(this,t)}return g(t,[{key:"get",value:function(t){return localStorage?localStorage.getItem(t):null}},{key:"set",value:function(t,e){localStorage&&localStorage.setItem(t,e)}},{key:"remove",value:function(t){localStorage&&localStorage.removeItem(t)}}]),t}()).\u0275fac=function(t){return new(t||VR)},VR.\u0275prov=Pt({token:VR,factory:VR.\u0275fac,providedIn:"root"}),VR),rF=function(t){return t[t.Success=0]="Success",t[t.WrongUser=1]="WrongUser",t[t.WrongPassword=2]="WrongPassword",t[t.NoAccess=3]="NoAccess",t[t.Error=4]="Error",t}({}),oF=((GR=function(){function e(t,n,i,r,o,a,s){f(this,e),this.http=t,this.socialAuthService=n,this.store=i,this.storage=r,this.route=o,this.router=a,this.dialog=s}return g(e,[{key:"baseUrl",get:function(){return""+Su}},{key:"tryAutoLogin",value:function(){var t=this.route.snapshot.queryParamMap.get("loginToken");if(t){var e=this.getLoginResponseFromUrlToken(t);if(this.removeTokenFromUrl(),e.user&&e.accessToken){if(!this.isExpired(e.accessToken))return this.storage.set("plo-auth-4c",JSON.stringify(e)),this.store.dispatch(Q_({user:e.user,noRedirect:!0})),this.refreshUserIfNecessary(e.user,!1),!0;console.warn("URL login token expired!")}}var n=this.getLoginResponseFromLocalStorage();if(n.user&&n.accessToken){if(!this.isExpired(n.accessToken))return this.store.dispatch(Q_({user:n.user,noRedirect:!0})),this.refreshUserIfNecessary(n.user,!1),!0;console.warn("Access token expired!")}return!1}},{key:"refreshUserIfNecessary",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n&&(r=this.dialog.open(eF,{disableClose:!0,data:{title:"Please wait",message:"Refreshing account status. You might be logged out and need to log back in if there are pending changes for your account!"}})),e||(o=this.getLoginResponseFromLocalStorage(),e=o.user),t.next=3,this.checkRefresh();case 3:a=t.sent,r&&n&&r.close(),a.needsRefresh&&(s=Object.assign(Object.assign({},e),a.user),this.storage.set("plo-auth-4c",JSON.stringify({user:s,accessToken:a.accessToken})),this.store.dispatch(Q_({user:s,noRedirect:!0})));case 5:case"end":return t.stop()}},i,this)}))}},{key:"removeTokenFromUrl",value:function(){var t=this;kx(250).then(function(){return t.router.navigate([],{relativeTo:t.route,queryParams:{loginToken:null},queryParamsHandling:"merge",replaceUrl:!0})})}},{key:"getLoginResponseFromUrlToken",value:function(t){if(t){var e=JSON.parse(atob(t));if(e.user&&e.accessToken)return{user:e.user,accessToken:e.accessToken}}return{user:null,accessToken:null}}},{key:"getAccessTokenFromLocalStorage",value:function(){return this.getLoginResponseFromLocalStorage().accessToken}},{key:"getLoginResponseFromLocalStorage",value:function(){var t=this.storage.get("plo-auth-4c");if((null==t?void 0:t.length)>0)try{return JSON.parse(t)}catch(e){console.warn("No stored accessToken in local storage")}return{user:null,accessToken:null}}},{key:"isExpired",value:function(t){var e=JSON.parse(atob(t.split(".")[1]));return new Date(1e3*e.exp).getTime()<=(new Date).getTime()}},{key:"checkRefresh",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get(this.baseUrl+"/refresh").toPromise();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},e,this)}))}},{key:"login",value:function(t,e){var n=this;return this.http.post(this.baseUrl+"/login",{userName:t,password:e},{withCredentials:!0}).pipe(W(function(t){return n.handleLoginResponse(t)}))}},{key:"loginViaGoogle",value:function(){var t=this;return tt(this.socialAuthService.initState).pipe(vf(function(t){return!!t}),rt(function(){return t.socialAuthService.signIn(yx.PROVIDER_ID)}),rt(function(e){return t.socialLogin(e.idToken)}),W(function(e){return t.handleLoginResponse(e)}))}},{key:"socialLogin",value:function(t){return this.http.post(this.baseUrl+"/login/social",{idToken:t},{withCredentials:!0}).pipe(W(function(t){return t}))}},{key:"handleLoginResponse",value:function(t){return t.status===rF.Success?t.user&&t.accessToken?(this.storage.set("plo-auth-4c",JSON.stringify(t)),{status:rF.Success,user:t.user}):(this.removeLastLoginResponseFromStorage(),{status:rF.Error}):(this.removeLastLoginResponseFromStorage(),{status:t.status})}},{key:"logout",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.removeLastLoginResponseFromStorage(),t.t0=w_(this.socialAuthService.authState.pipe(W(function(t){return!!t}))),!t.t0){t.next=5;break}return t.next=5,this.socialAuthService.signOut();case 5:case"end":return t.stop()}},e,this)}))}},{key:"getEncodedLoginToken",value:function(){var t=this.getLoginResponseFromLocalStorage();return btoa(JSON.stringify(t))}},{key:"showAnnouncements",value:function(){this.storage.get("announcement-black-friday-2024")||0!==this.dialog.openDialogs.length||(this.storage.set("announcement-black-friday-2024","true"),this.dialog.open(nF))}},{key:"removeLastLoginResponseFromStorage",value:function(){this.storage.remove("plo-auth-4c")}}]),e}()).\u0275fac=function(t){return new(t||GR)(Ti(qf),Ti(bx),Ti(ib),Ti(iF),Ti(nv),Ti(Pm),Ti(SR))},GR.\u0275prov=Pt({token:GR,factory:GR.\u0275fac,providedIn:"root"}),GR),aF=(($R=function(){function t(e){var n=this;f(this,t),this.store=e,this.features=[],this.lockedFeatures=[],hp([this.store.pipe(ob(ak)),this.store.pipe(ob(gC))]).pipe(vf(function(t){var e=y(t,2),n=e[0],i=e[1];return!!(null==n?void 0:n.accessLevel)||(null==i?void 0:i.length)>0}),W(function(t){var e=y(t,2),n=e[0],i=e[1];return(null==n?void 0:n.accessLevel)?i.find(function(t){return t.accessLevel===n.accessLevel})||n:i.find((null==n?void 0:n.isActive)?function(t){return t.accessLevel===Uk.Full}:function(t){return t.accessLevel===Uk.Free})})).subscribe(function(t){var e=t.defaultTreeKey,i=t.features,r=t.lockedFeatures;n.defaultTree=e,n.features=i||[],n.lockedFeatures=r||[]})}return g(t,[{key:"isAvailable",value:function(t){var e,n;return(null===(e=this.features)||void 0===e?void 0:e.includes(t))||(null===(n=this.lockedFeatures)||void 0===n?void 0:n.includes(t))}},{key:"isAvailableAndNotLocked",value:function(t){var e,n;return(null===(e=this.features)||void 0===e?void 0:e.includes(t))&&!(null===(n=this.lockedFeatures)||void 0===n?void 0:n.includes(t))}},{key:"isLocked",value:function(t){var e;return null===(e=this.lockedFeatures)||void 0===e?void 0:e.includes(t)}},{key:"isDisabled",value:function(t){return!this.isAvailable(t)}},{key:"defaultTreeKey",get:function(){return this.defaultTree}}]),t}()).\u0275fac=function(t){return new(t||$R)(Ti(ib))},$R.\u0275prov=Pt({token:$R,factory:$R.\u0275fac,providedIn:"root"}),$R),sF=function(t){return t[t.DARK=0]="DARK",t[t.LIGHT=1]="LIGHT",t[t.FIVECARD=2]="FIVECARD",t}({}),cF=function(t){return t[t.MODERN=0]="MODERN",t[t.COLORBLIND=1]="COLORBLIND",t}({}),lF=((KR=function(){function t(e,n,i){f(this,t),this.document=e,this.storage=n,this.feature=i,this.$theme=new ap(this.isFiveCard?sF.FIVECARD:sF.DARK),this.$modernColors=new ap(cF.MODERN),this.THEME_KEY="THEME",this.DARK_THEME_VALUE="DARK",this.LIGHT_THEME_VALUE="LIGHT",this.LIGHT_THEME_CLASS_NAME="theme-light",this.DARK_THEME_CLASS_NAME="theme-dark",this.FIVECARD_THEME_CLASS_NAME="theme-fivecard",this.THEME_KEY_COLORS="THEME_COLORS",this.COLORS_MODERN="modern",this.COLORS_COLORBLIND="colorblind",this.lightThemeSelected=!1,this.modernColors=!0}return g(t,[{key:"isFiveCard",get:function(){return!1}},{key:"setThemeOnStart",value:function(){this.isFiveCard?this.setFiveCardTheme():this.feature.isDisabled(C_.ThemeToggle)?this.setDarkTheme():this.isLightThemeSelected()?this.setLightTheme():this.setDarkTheme(),this.feature.isDisabled(C_.ThemeToggle)||this.areModernColorsSelected()?this.setModernColors():this.setColorblindColors()}},{key:"toggle",value:function(){this.isFiveCard||(this.lightThemeSelected?this.setDarkTheme():this.setLightTheme())}},{key:"toggleColors",value:function(){this.modernColors?this.setColorblindColors():this.setModernColors()}},{key:"theme$",get:function(){return this.$theme.asObservable()}},{key:"modernColors$",get:function(){return this.$modernColors.asObservable()}},{key:"isDark",get:function(){return w_(this.theme$.pipe(W(function(t){return t===sF.DARK})))}},{key:"isModern",get:function(){return w_(this.modernColors$.pipe(W(function(t){return t===cF.MODERN})))}},{key:"isLightThemeSelected",value:function(){return this.lightThemeSelected=this.storage.get(this.THEME_KEY)===this.LIGHT_THEME_VALUE,this.lightThemeSelected}},{key:"areModernColorsSelected",value:function(){return this.modernColors=!0,this.storage.get(this.THEME_KEY_COLORS)===this.COLORS_COLORBLIND&&(this.modernColors=!1),this.modernColors}},{key:"setLightTheme",value:function(){this.storage.set(this.THEME_KEY,this.LIGHT_THEME_VALUE),this.document.body.classList.remove(this.DARK_THEME_CLASS_NAME),this.document.body.classList.add(this.DARK_THEME_CLASS_NAME),this.lightThemeSelected=!0,this.$theme.next(sF.LIGHT)}},{key:"setDarkTheme",value:function(){this.storage.set(this.THEME_KEY,this.DARK_THEME_VALUE),this.document.body.classList.remove(this.LIGHT_THEME_CLASS_NAME),this.document.body.classList.add(this.DARK_THEME_CLASS_NAME),this.lightThemeSelected=!1,this.$theme.next(sF.DARK)}},{key:"setModernColors",value:function(){this.storage.set(this.THEME_KEY_COLORS,this.COLORS_MODERN),this.document.body.classList.remove(this.COLORS_COLORBLIND),this.document.body.classList.add(this.COLORS_MODERN),this.modernColors=!0,this.$modernColors.next(cF.MODERN)}},{key:"setColorblindColors",value:function(){this.storage.set(this.THEME_KEY_COLORS,this.COLORS_COLORBLIND),this.document.body.classList.remove(this.COLORS_MODERN),this.document.body.classList.add(this.COLORS_COLORBLIND),this.modernColors=!1,this.$modernColors.next(cF.COLORBLIND)}},{key:"setFiveCardTheme",value:function(){this.document.body.classList.add(this.FIVECARD_THEME_CLASS_NAME),this.lightThemeSelected=!1,this.$theme.next(sF.FIVECARD)}}]),t}()).\u0275fac=function(t){return new(t||KR)(Ti(Ru),Ti(iF),Ti(aF))},KR.\u0275prov=Pt({token:KR,factory:KR.\u0275fac,providedIn:"root"}),KR),uF=["underline"],hF=["connectionContainer"],dF=["inputContainer"],fF=["label"];function pF(t,e){1&t&&($a(0),Ua(1,"div",14),Wa(2,"div",15),Wa(3,"div",16),Wa(4,"div",17),qa(),Ua(5,"div",18),Wa(6,"div",15),Wa(7,"div",16),Wa(8,"div",17),qa(),Ga())}function gF(t,e){1&t&&(Ua(0,"div",19),as(1,1),qa())}function vF(t,e){if(1&t&&($a(0),as(1,2),Ua(2,"span"),Ss(3),qa(),Ga()),2&t){var n=is(2);so(3),Ms(n._control.placeholder)}}function mF(t,e){1&t&&as(0,3,["*ngSwitchCase","true"])}function yF(t,e){1&t&&(Ua(0,"span",23),Ss(1," *"),qa())}function bF(t,e){if(1&t){var n=Qa();Ua(0,"label",20,21),Ja("cdkObserveContent",function(){return Qe(n),is().updateOutlineGap()}),Na(2,vF,4,1,"ng-container",12),Na(3,mF,1,0,"ng-content",12),Na(4,yF,2,0,"span",22),qa()}if(2&t){var i=is();gs("mat-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),Ha("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),La("for",i._control.id)("aria-owns",i._control.id),so(2),Ha("ngSwitchCase",!1),so(1),Ha("ngSwitchCase",!0),so(1),Ha("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function _F(t,e){1&t&&(Ua(0,"div",24),as(1,4),qa())}function kF(t,e){if(1&t&&(Ua(0,"div",25,26),Wa(2,"span",27),qa()),2&t){var n=is();so(2),gs("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function CF(t,e){1&t&&(Ua(0,"div"),as(1,5),qa()),2&t&&Ha("@transitionMessages",is()._subscriptAnimationState)}function wF(t,e){if(1&t&&(Ua(0,"div",31),Ss(1),qa()),2&t){var n=is(2);Ha("id",n._hintLabelId),so(1),Ms(n.hintLabel)}}function xF(t,e){if(1&t&&(Ua(0,"div",28),Na(1,wF,2,2,"div",29),as(2,6),Wa(3,"div",30),as(4,7),qa()),2&t){var n=is();Ha("@transitionMessages",n._subscriptAnimationState),so(1),Ha("ngIf",n.hintLabel)}}var PF,OF,SF,MF,TF,EF,RF,FF,IF,AF,DF,LF,BF,NF=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jF=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],VF=new ci("MatError"),HF={transitionMessages:qS("transitionMessages",[KS("enter",GS({opacity:1,transform:"translateY(0%)"})),QS("void => enter",[GS({opacity:0,transform:"translateY(-100%)"}),WS("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},zF=((PF=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||PF)},PF.\u0275dir=le({type:PF}),PF),UF=new ci("MatHint"),qF=((SF=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||SF)},SF.\u0275dir=le({type:SF,selectors:[["mat-label"]]}),SF),WF=((OF=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||OF)},OF.\u0275dir=le({type:OF,selectors:[["mat-placeholder"]]}),OF),$F=new ci("MatPrefix"),GF=new ci("MatSuffix"),KF=((MF=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||MF)},MF.\u0275dir=le({type:MF,selectors:[["","matSuffix",""]],features:[Ks([{provide:GF,useExisting:MF}])]}),MF),QF=0,YF=CE(g(function t(e){f(this,t),this._elementRef=e}),"primary"),ZF=new ci("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JF=new ci("MatFormField"),XF=((EF=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s,c,l){var u;return f(this,n),(u=e.call(this,t))._elementRef=t,u._changeDetectorRef=i,u._dir=o,u._defaults=a,u._platform=s,u._ngZone=c,u._outlineGapCalculationNeededImmediately=!1,u._outlineGapCalculationNeededOnStable=!1,u._destroyed=new z,u._showAlwaysAnimate=!1,u._subscriptAnimationState="",u._hintLabel="",u._hintLabelId="mat-hint-"+QF++,u._labelId="mat-form-field-label-"+QF++,u.floatLabel=u._getDefaultFloatLabelState(),u._animationsEnabled="NoopAnimations"!==l,u.appearance=a&&a.appearance?a.appearance:"legacy",u._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,u}return g(n,[{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=Cx(t)}},{key:"_shouldAlwaysFloat",value:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",value:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"getLabelId",value:function(){return this._hasFloatingLabel()?this._labelId:null}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Bp(null)).subscribe(function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Gx(this._destroyed)).subscribe(function(){return t._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.pipe(Gx(t._destroyed)).subscribe(function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()})}),lt(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Bp(null)).subscribe(function(){t._processHints(),t._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Bp(null)).subscribe(function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Gx(this._destroyed)).subscribe(function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return t.updateOutlineGap()})}):t.updateOutlineGap()})}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Sx(this._label.nativeElement,"transitionend").pipe(Ip(1)).subscribe(function(){t._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push.apply(t,C(this._control.userAriaDescribedBy.split(" "))),"hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find(function(t){return"start"===t.align}):null,n=this._hintChildren?this._hintChildren.find(function(t){return"end"===t.align}):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push.apply(t,C(this._errorChildren.map(function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=i.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var s=this._getStartEnd(a),c=t.children,l=this._getStartEnd(c[0].getBoundingClientRect()),u=0,h=0;h<c.length;h++)u+=c[h].offsetWidth;e=Math.abs(l-s)-5,n=u>0?.75*u+10:0}for(var d=0;d<r.length;d++)r[d].style.width=e+"px";for(var f=0;f<o.length;f++)o[f].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}]),n}(YF)).\u0275fac=function(t){return new(t||EF)(Va(ec),Va(xc),Va(ec),Va(vP,8),Va(ZF,8),Va(aP),Va(Yl),Va(dE,8))},EF.\u0275cmp=ne({type:EF,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(kl(n,zF,!0),Cl(n,zF,!0),kl(n,qF,!0),Cl(n,qF,!0),kl(n,WF,!0),kl(n,VF,!0),kl(n,UF,!0),kl(n,$F,!0),kl(n,GF,!0)),2&t&&(ml(i=xl())&&(e._controlNonStatic=i.first),ml(i=xl())&&(e._controlStatic=i.first),ml(i=xl())&&(e._labelChildNonStatic=i.first),ml(i=xl())&&(e._labelChildStatic=i.first),ml(i=xl())&&(e._placeholderChild=i.first),ml(i=xl())&&(e._errorChildren=i),ml(i=xl())&&(e._hintChildren=i),ml(i=xl())&&(e._prefixChildren=i),ml(i=xl())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(bl(uF,!0),yl(hF,!0),bl(dF,!0),bl(fF,!0)),2&t&&(ml(n=xl())&&(e.underlineRef=n.first),ml(n=xl())&&(e._connectionContainerRef=n.first),ml(n=xl())&&(e._inputContainerRef=n.first),ml(n=xl())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&gs("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ks([{provide:JF,useExisting:EF}]),wa],ngContentSelectors:jF,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(os(NF),Ua(0,"div",0),Ua(1,"div",1,2),Ja("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),Na(3,pF,9,0,"ng-container",3),Na(4,gF,2,0,"div",4),Ua(5,"div",5,6),as(7),Ua(8,"span",7),Na(9,bF,5,16,"label",8),qa(),qa(),Na(10,_F,2,0,"div",9),qa(),Na(11,kF,3,4,"div",10),Ua(12,"div",11),Na(13,CF,2,1,"div",12),Na(14,xF,5,2,"div",13),qa(),qa()),2&t&&(so(3),Ha("ngIf","outline"==e.appearance),so(1),Ha("ngIf",e._prefixChildren.length),so(5),Ha("ngIf",e._hasFloatingLabel()),so(1),Ha("ngIf",e._suffixChildren.length),so(1),Ha("ngIf","outline"!=e.appearance),so(1),Ha("ngSwitch",e._getDisplayedMessages()),so(1),Ha("ngSwitchCase","error"),so(1),Ha("ngSwitchCase","hint"))},directives:[Kh,nd,id,cS],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[HF.transitionMessages]},changeDetection:0}),EF),tI=((TF=g(function t(){f(this,t)})).\u0275mod=se({type:TF}),TF.\u0275inj=Ot({factory:function(t){return new(t||TF)},imports:[[xd,_E,lS],_E]}),TF),eI=uP({passive:!0}),nI=((FF=function(){function t(e,n){f(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return g(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return gp;var n=Ox(t),i=this._monitoredElements.get(n);if(i)return i.subject;var r=new z,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run(function(){return r.next({target:t.target,isAutofilled:!1})})):(n.classList.add(o),e._ngZone.run(function(){return r.next({target:t.target,isAutofilled:!0})}))};return this._ngZone.runOutsideAngular(function(){n.addEventListener("animationstart",a,eI),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:r,unlisten:function(){n.removeEventListener("animationstart",a,eI)}}),r}},{key:"stopMonitoring",value:function(t){var e=Ox(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach(function(e,n){return t.stopMonitoring(n)})}}]),t}()).\u0275fac=function(t){return new(t||FF)(Ti(aP),Ti(Yl))},FF.\u0275prov=Pt({factory:function(){return new FF(Ti(aP),Ti(Yl))},token:FF,providedIn:"root"}),FF),iI=((RF=g(function t(){f(this,t)})).\u0275mod=se({type:RF}),RF.\u0275inj=Ot({factory:function(t){return new(t||RF)},imports:[[sP]]}),RF),rI=new ci("MAT_INPUT_VALUE_ACCESSOR"),oI=["button","checkbox","file","hidden","image","radio","range","reset","submit"],aI=0,sI=PE(g(function t(e,n,i,r){f(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r})),cI=((AF=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s,c,l,u,h){var d;f(this,n),(d=e.call(this,s,o,a,r))._elementRef=t,d._platform=i,d.ngControl=r,d._autofillMonitor=l,d._formField=h,d._uid="mat-input-"+aI++,d.focused=!1,d.stateChanges=new z,d.controlType="mat-input",d.autofilled=!1,d._disabled=!1,d._required=!1,d._type="text",d._readonly=!1,d._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(t){return lP().has(t)});var p=d._elementRef.nativeElement,g=p.nodeName.toLowerCase();return d._inputValueAccessor=c||p,d._previousNativeValue=d.value,d.id=d.id,i.IOS&&u.runOutsideAngular(function(){t.nativeElement.addEventListener("keyup",function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),d._isServer=!d._platform.isBrowser,d._isNativeSelect="select"===g,d._isTextarea="textarea"===g,d._isNativeSelect&&(d.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select"),d}return g(n,[{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Cx(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Cx(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&lP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=Cx(t)}},{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()})}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckPlaceholder",value:function(){var t,e,n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){var i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){oI.indexOf(this._type)}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}},{key:"setDescribedByIds",value:function(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}}]),n}(sI)).\u0275fac=function(t){return new(t||AF)(Va(ec),Va(aP),Va(nw,10),Va(Jw,8),Va(sx,8),Va(AE),Va(rI,10),Va(nI),Va(Yl),Va(JF,8))},AF.\u0275dir=le({type:AF,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&Ja("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(Fs("disabled",e.disabled)("required",e.required),La("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),gs("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Ks([{provide:zF,useExisting:AF}]),wa,Pe]}),AF),lI=((IF=g(function t(){f(this,t)})).\u0275mod=se({type:IF}),IF.\u0275inj=Ot({factory:function(t){return new(t||IF)},providers:[AE],imports:[[iI,tI,_E],iI,tI]}),IF),uI=["mat-button",""],hI=["*"],dI=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],fI=CE(kE(wE(g(function t(e){f(this,t),this._elementRef=e})))),pI=((BF=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;f(this,n),(o=e.call(this,t))._focusMonitor=i,o._animationMode=r,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var a,s=k(dI);try{for(s.s();!(a=s.n()).done;){var c=a.value;o._hasHostAttributes(c)&&o._getHostElement().classList.add(c)}}catch(l){s.e(l)}finally{s.f()}return t.nativeElement.classList.add("mat-button-base"),o.isRoundButton&&(o.color="accent"),o}return g(n,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.some(function(e){return t._getHostElement().hasAttribute(e)})}}]),n}(fI)).\u0275fac=function(t){return new(t||BF)(Va(ec),Va(AS),Va(dE,8))},BF.\u0275cmp=ne({type:BF,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&bl(zE,!0),2&t&&ml(n=xl())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(La("disabled",e.disabled||null),gs("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[wa],attrs:uI,ngContentSelectors:hI,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(os(),Ua(0,"span",0),as(1),qa(),Wa(2,"span",1),Wa(3,"span",2)),2&t&&(so(2),gs("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ha("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[zE],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),BF),gI=((LF=g(function t(){f(this,t)})).\u0275mod=se({type:LF}),LF.\u0275inj=Ot({factory:function(t){return new(t||LF)},imports:[[UE,_E],_E]}),LF),vI=((DF=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||DF)},DF.\u0275cmp=ne({type:DF,selectors:[["app-mobile-warning"]],decls:5,vars:0,consts:[[1,"mobile-warning"],[1,"logo"],["src","assets/svg/M5C3.svg"],[1,"header"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"div",1),Wa(2,"img",2),qa(),Ua(3,"div",3),Ss(4," 5-Card PLO Trainer mobile is being optimized and coming soon. Please join Discord to get updates. "),qa(),qa())},styles:["[_nghost-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.mobile-warning[_ngcontent-%COMP%]{width:20rem;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);padding:1.5625rem}.mobile-warning[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:0 1.25rem 1.25rem}.mobile-warning[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin-bottom:.625rem}"]}),DF);function mI(t,e){1&t&&($a(0),Wa(1,"img",20),Ga())}function yI(t,e){1&t&&Wa(0,"img",22)}function bI(t,e){if(1&t&&($a(0),Na(1,yI,1,0,"img",21),Ga()),2&t){var n=is();so(1),Ha("ngIf",n.isDarkTheme)}}function _I(t,e){1&t&&(Ua(0,"a",23),Ss(1,"See Pricing"),qa()),2&t&&Ha("href",is().subscribeLink,dr)}function kI(t,e){1&t&&(Ua(0,"a",24),Ss(1,"Create account"),qa())}function CI(t,e){1&t&&(Ua(0,"a",25),Ss(1,"Forgot password?"),qa())}var wI,xI="https://plomastermind.com/pricing/",PI=((wI=function(){function e(t,n,i,r,o,a){f(this,e),this.authService=t,this.store=n,this.router=i,this.route=r,this.feature=o,this.theme=a,this.loginForm=new Kw({username:new Gw("",[FC.required]),password:new Gw("",[FC.required])}),this.LoginStatus=rF}return g(e,[{key:"ngOnInit",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){var n,i,r,o;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.authService.tryAutoLogin();case 2:this.error$=this.store.pipe(ob(sk)),this.isLoggingIn$=this.store.pipe(ob(ok)),n=w_(this.store.pipe(ob(rk))),i=this.route.snapshot.queryParams,n&&(r=Object.assign(Object.assign({},i),{redirectTo:void 0,forced:void 0}),o=i.redirectTo,this.router.navigate(null!=o?o:[""],{queryParams:r}));case 6:case"end":return t.stop()}},e,this)}))}},{key:"isFiveCard",get:function(){return!1}},{key:"isDarkTheme",get:function(){return this.theme.isDark}},{key:"subscribeLink",get:function(){return xI}},{key:"clearError",value:function(){this.store.dispatch(X_())}},{key:"login",value:function(){this.loginForm.valid&&(this.clearError(),this.store.dispatch(K_({user:this.loginForm.value.username,password:this.loginForm.value.password,redirect:{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{logout:void 0})}})))}},{key:"loginViaGoogle",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.store.dispatch(G_({redirect:{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{logout:void 0})}}));case 1:case"end":return t.stop()}},e,this)}))}}]),e}()).\u0275fac=function(t){return new(t||wI)(Va(oF),Va(ib),Va(Pm),Va(nv),Va(aF),Va(lF))},wI.\u0275cmp=ne({type:wI,selectors:[["app-login"]],decls:33,vars:29,consts:[[1,"login-container"],[1,"link-button","subscribe"],[1,"link",3,"href"],[1,"login"],[1,"logo"],[4,"ngIf"],[1,"login-form",3,"formGroup","ngSubmit"],["color","accent"],["type","text","matInput","","placeholder","Username","formControlName","username",3,"focus"],["type","password","matInput","","placeholder","Password","formControlName","password",3,"focus"],[1,"error"],[1,"learn-more",3,"ngSwitch"],[3,"href",4,"ngSwitchCase"],["href","https://plomastermind.com/register/",4,"ngSwitchCase"],["href","https://plomastermind.com/login/?action=lostpassword",4,"ngSwitchCase"],[1,"login-button"],["type","submit","mat-flat-button","","aria-label","Login",3,"disabled"],["color","accent",3,"diameter"],[1,"social-login"],[3,"click"],["src","assets/svg/M5C3.svg"],["src","assets/svg/M4C3.svg",4,"ngIf"],["src","assets/svg/M4C3.svg"],[3,"href"],["href","https://plomastermind.com/register/"],["href","https://plomastermind.com/login/?action=lostpassword"]],template:function(t,e){var n,i,r;(1&t&&(Ua(0,"div",0),Ua(1,"div",1),Ua(2,"a",2),Ss(3,"Subscribe for Full Access"),qa(),qa(),Ua(4,"div",3),Ua(5,"div",4),Na(6,mI,2,0,"ng-container",5),Na(7,bI,2,1,"ng-container",5),qa(),Ua(8,"form",6),Ja("ngSubmit",function(){return e.login()}),Ua(9,"mat-form-field",7),Ua(10,"input",8),Ja("focus",function(){return e.clearError()}),qa(),qa(),Ua(11,"mat-form-field",7),Ua(12,"input",9),Ja("focus",function(){return e.clearError()}),qa(),qa(),Ua(13,"p",10),tl(14,"async"),Ss(15),tl(16,"async"),qa(),Ua(17,"div",11),tl(18,"async"),tl(19,"async"),Na(20,_I,2,1,"a",12),Na(21,kI,2,0,"a",13),Na(22,CI,2,0,"a",14),qa(),Ua(23,"div",15),Ua(24,"button",16),tl(25,"async"),Ss(26,"Login"),qa(),Ua(27,"mat-spinner",17),tl(28,"async"),qa(),qa(),qa(),Ua(29,"div",18),Ua(30,"span",19),Ja("click",function(){return e.loginViaGoogle()}),Ss(31,"Login via Google"),qa(),qa(),qa(),qa(),Wa(32,"app-mobile-warning")),2&t)&&(so(2),Ha("href",e.subscribeLink,dr),so(4),Ha("ngIf",e.isFiveCard),so(1),Ha("ngIf",!e.isFiveCard),so(1),Ha("formGroup",e.loginForm),so(5),gs("show",!(null==(n=el(14,17,e.error$))||!n.message)),so(2),Ts(" ",null==(i=el(16,19,e.error$))?null:i.message," "),so(2),gs("show",!!el(18,21,e.error$)),Ha("ngSwitch",null==(r=el(19,23,e.error$))?null:r.code),so(3),Ha("ngSwitchCase",e.LoginStatus.NoAccess),so(1),Ha("ngSwitchCase",e.LoginStatus.WrongUser),so(1),Ha("ngSwitchCase",e.LoginStatus.WrongPassword),so(2),Ha("disabled",!e.loginForm.valid||el(25,25,e.isLoggingIn$)),so(3),gs("show",el(28,27,e.isLoggingIn$)),Ha("diameter",20))},directives:[Kh,nx,ow,sx,XF,cI,OC,rw,lx,nd,id,pI,XR,vI],pipes:[gd],styles:["[_nghost-%COMP%]     .mat-form-field-label{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-form-field-ripple, [_nghost-%COMP%]     .mat-form-field-underline{background-color:var(--text-color)!important}[_nghost-%COMP%]     .mat-button-disabled{color:var(--login-button-text-color-disabled)!important}.login-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.link-button[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.link-button[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:1rem}.link-button.register[_ngcontent-%COMP%]{margin-bottom:3.125rem}.link-button[_ngcontent-%COMP%]   .up[_ngcontent-%COMP%]{vertical-align:top}.link-button[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;width:100%;cursor:pointer;color:var(--link-color);border:var(--border-style);border-radius:var(--link-border-radius);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link-button[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:var(--app-color)}.link-button[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.75rem}app-login[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{width:20rem!important}.login[_ngcontent-%COMP%]{width:20rem;padding:2rem;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);display:flex;flex-direction:column;justify-content:center;align-items:center}.login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:3rem}.login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{visibility:hidden;height:1.25rem;color:red;margin-bottom:0}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .error.show[_ngcontent-%COMP%]{visibility:visible}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .learn-more[_ngcontent-%COMP%]{visibility:hidden;height:1.25rem;margin-bottom:.625rem}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .learn-more.show[_ngcontent-%COMP%]{visibility:visible}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:.625rem;margin-right:calc(-20px - .625rem)}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{visibility:hidden;margin-left:.625rem}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]   mat-spinner.show[_ngcontent-%COMP%]{visibility:visible}.login[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]{margin-top:.625rem}.login[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3125rem 1.25rem;color:var(--link-color);cursor:pointer}.login[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{padding:.25rem 1.1875rem;border:1px solid #fff;color:var(--link-color-hover);border-radius:var(--link-border-radius)}a[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer;text-decoration:none}button[_ngcontent-%COMP%]{border-radius:var(--link-border-radius);border:var(--border-style);color:var(--link-button-color);background-color:var(--link-button-background-color)}button[_ngcontent-%COMP%]:hover:enabled{color:var(--app-color)}"]}),wI);function OI(t,e){if(1&t&&(Ua(0,"div",17),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n,"")}}function SI(t,e){if(1&t&&($a(0),Na(1,OI,2,1,"div",16),Ga()),2&t){var n=is().$implicit;so(1),Ha("ngForOf",n.labels)}}function MI(t,e){if(1&t&&(Ua(0,"li",18),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n," ")}}function TI(t,e){if(1&t&&(Ua(0,"div",13),Na(1,SI,2,1,"ng-container",14),Ua(2,"ul"),Na(3,MI,2,1,"li",15),qa(),qa()),2&t){var n=e.$implicit;so(1),Ha("ngIf",n.labels),so(2),Ha("ngForOf",n.items)}}function EI(t,e){if(1&t&&(Ua(0,"div",10),Ua(1,"div",11),Ss(2),qa(),Na(3,TI,4,2,"div",12),qa()),2&t){var n=e.$implicit;so(2),Ts("",n.header," "),so(1),Ha("ngForOf",n.sections)}}function RI(t,e){if(1&t&&(Ua(0,"div",6),Ua(1,"div",7),Ua(2,"div",8),Ss(3),tl(4,"date"),qa(),qa(),Na(5,EI,4,2,"div",9),qa()),2&t){var n=e.$implicit;so(3),Ms(nl(4,2,n.dateReleased,"YYYY-MM-dd")),so(2),Ha("ngForOf",n.description)}}var FI,II=((FI=function(){function t(e,n,i){f(this,t),this.dialogRef=e,this.data=n,this.store=i,this.releaseNotes=[]}return g(t,[{key:"ngOnInit",value:function(){var t=this;this.sub=this.store.pipe(ob(pC)).subscribe(function(e){t.releaseNotes=C(e).sort(function(t,e){return new Date(e.dateReleased).getTime()-new Date(t.dateReleased).getTime()})})}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"dismiss",value:function(){this.dialogRef.close(!1)}}]),t}()).\u0275fac=function(t){return new(t||FI)(Va(pR),Va(CR),Va(ib))},FI.\u0275cmp=ne({type:FI,selectors:[["app-info-dialog"]],decls:9,vars:2,consts:[["mat-dialog-title",""],[1,"app-info-dialog-content","mat-typography"],[1,"note"],["class","release",4,"ngFor","ngForOf"],["align","center"],[1,"dismiss-link",3,"click"],[1,"release"],[1,"info"],[1,"version"],["class","description",4,"ngFor","ngForOf"],[1,"description"],[1,"header"],["class","section",4,"ngFor","ngForOf"],[1,"section"],[4,"ngIf"],["class","item",4,"ngFor","ngForOf"],["class","label",4,"ngFor","ngForOf"],[1,"label"],[1,"item"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1),qa(),Ua(2,"mat-dialog-content",1),Ua(3,"div",2),Ss(4,"You might need to refresh your browser for the updates to be available."),qa(),Na(5,RI,6,5,"div",3),qa(),Ua(6,"mat-dialog-actions",4),Ua(7,"a",5),Ja("click",function(){return e.dismiss()}),Ss(8,"Close"),qa(),qa()),2&t&&(so(1),Ms(e.data.hasNewUpdates?"New updates!":"Update history"),so(4),Ha("ngForOf",e.releaseNotes))},directives:[ER,RR,$h,FR,Kh],pipes:[md],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-dialog-content{margin:0;overflow-x:hidden}.note[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}.note[_ngcontent-%COMP%]{width:100%;font-size:.75rem}.release[_ngcontent-%COMP%]{width:calc(100% - .5rem);border-bottom:1px solid #e6e6e6;margin:1.25rem 0}.release[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.release[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:.625rem}.release[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:.625rem}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]:last-child{margin-bottom:0}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.3125rem;font-size:1rem}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:.3125rem}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{user-select:text;-ms-user-select:text;-moz-user-select:text;-ms-touch-select:text;-webkit-user-select:text;overflow-wrap:break-word}.dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.dismiss-link[_ngcontent-%COMP%]:hover{padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),FI);function AI(t,e){if(1&t&&(Ua(0,"div"),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n," ")}}function DI(t,e){if(1&t){var n=Qa();Ua(0,"a",7),Ja("click",function(){return Qe(n),is().dismiss()}),Ss(1),qa()}if(2&t){var i=is();so(1),Ms(i.dismissLabel)}}var LI,BI,NI=((LI=function(){function t(e,n){f(this,t),this.dialogRef=e,this.data=n}return g(t,[{key:"confirmLabel",get:function(){var t;return null!==(t=this.data.confirmLabel)&&void 0!==t?t:"Yes"}},{key:"dismissLabel",get:function(){var t;return null!==(t=this.data.dismissLabel)&&void 0!==t?t:"No"}},{key:"dismiss",value:function(){this.dialogRef.close(!1)}},{key:"confirm",value:function(){this.dialogRef.close(!0)}}]),t}()).\u0275fac=function(t){return new(t||LI)(Va(pR),Va(CR))},LI.\u0275cmp=ne({type:LI,selectors:[["app-confirmation-dialog"]],decls:9,vars:4,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"text"],[4,"ngFor","ngForOf"],["align","center"],[1,"confirm-link",3,"click"],["class","dismiss-link",3,"click",4,"ngIf"],[1,"dismiss-link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1),qa(),Ua(2,"mat-dialog-content",1),Ua(3,"div",2),Na(4,AI,2,1,"div",3),qa(),qa(),Ua(5,"mat-dialog-actions",4),Ua(6,"a",5),Ja("click",function(){return e.confirm()}),Ss(7),qa(),Na(8,DI,2,1,"a",6),qa()),2&t&&(so(1),Ts(" ",e.data.title,""),so(3),Ha("ngForOf",e.data.content),so(3),Ts(" ",e.confirmLabel,""),so(1),Ha("ngIf",!e.data.confirmOnly))},directives:[ER,RR,$h,FR,Kh],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.text[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:.5rem;text-align:justify}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.confirm-link[_ngcontent-%COMP%]:hover, .dismiss-link[_ngcontent-%COMP%]:hover{padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),LI),jI={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},VI=new Uint8Array(16);function HI(){if(!BI&&!(BI="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return BI(VI)}for(var zI=[],UI=0;UI<256;++UI)zI.push((UI+256).toString(16).slice(1));var qI,WI,$I,GI,KI,QI,YI=function(t,e,n){if(jI.randomUUID&&!e&&!t)return jI.randomUUID();var i=(t=t||{}).random||(t.rng||HI)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(zI[t[e+0]]+zI[t[e+1]]+zI[t[e+2]]+zI[t[e+3]]+"-"+zI[t[e+4]]+zI[t[e+5]]+"-"+zI[t[e+6]]+zI[t[e+7]]+"-"+zI[t[e+8]]+zI[t[e+9]]+"-"+zI[t[e+10]]+zI[t[e+11]]+zI[t[e+12]]+zI[t[e+13]]+zI[t[e+14]]+zI[t[e+15]]).toLowerCase()}(i)},ZI=h("NpuA"),JI=((qI=function(){function t(){f(this,t),this._papa=ZI}return g(t,[{key:"parse",value:function(t,e){return this._papa.parse(t,e)}},{key:"unparse",value:function(t,e){return this._papa.unparse(t,e)}},{key:"setLocalChunkSize",value:function(t){this._papa.LocalChunkSize=t}},{key:"setRemoteChunkSize",value:function(t){this._papa.RemoteChunkSize=t}},{key:"setDefaultDelimiter",value:function(t){this._papa.DefaultDelimiter=t}},{key:"badDelimiters",get:function(){return this._papa.BAD_DELIMITERS}},{key:"recordSeparator",get:function(){return this._papa.RECORD_SEP}},{key:"unitSeparator",get:function(){return this._papa.UNIT_SEP}},{key:"workersSupported",get:function(){return this._papa.WORKERS_SUPPORTED}}]),t}()).\u0275fac=function(t){return new(t||qI)},qI.\u0275prov=Pt({factory:function(){return new qI},token:qI,providedIn:"root"}),qI),XI=h("Iab2"),tA=((GI=function(){function t(){f(this,t)}return g(t,[{key:"isFileSaverSupported",get:function(){try{return!!new Blob}catch(t){return!1}}},{key:"genType",value:function(t){if(!t||-1===t.lastIndexOf("."))return"text/plain";var e=t.substr(t.lastIndexOf(".")+1);switch(e){case"txt":return"text/plain";case"xml":case"html":return"text/"+e;case"json":return"octet/stream";default:return"application/"+e}}},{key:"save",value:function(t,e,n,i){if(!t)throw new Error("Data argument should be a blob instance");var r=new Blob([t],{type:n||t.type||this.genType(e)});Object(XI.saveAs)(r,decodeURI(e||"download"),i)}},{key:"saveText",value:function(t,e,n){var i=new Blob([t]);this.save(i,e,null,n)}}]),t}()).\u0275fac=function(t){return new(t||GI)},GI.\u0275prov=Pt({factory:function(){return new GI},token:GI,providedIn:"root"}),GI),eA=(($I=g(function t(){f(this,t)})).\u0275mod=se({type:$I}),$I.\u0275inj=Ot({factory:function(t){return new(t||$I)}}),$I),nA=((WI=function(){function t(e,n,i,r,o){var a=this;f(this,t),this.dialog=e,this.store=n,this.csvParser=i,this.fileSaver=r,this.storage=o,this.userFavorites=[],this.store.pipe(ob(gk)).subscribe(function(t){a.userFavorites=t})}return g(t,[{key:"loadUserFavorites",value:function(){var t=this.storage.get("USER-FAVORITES");if(t){var e=JSON.parse(t);this.updateUserFavorites(e,!1)}else this.updateUserFavorites([],!1)}},{key:"exportUserFavorites",value:function(){var t=this.userFavorites.map(function(t){var e=t.path,n=t.queryParams,i=Object.entries(n).map(function(t){var e=y(t,2),n=e[0],i=e[1];return"".concat(n,"=").concat(i)}).join("&"),r="".concat(window.location.origin,"/").concat(e,"?").concat(i);return[t.name,r,t.dateCreatedISO].map(function(t){return'"'.concat(t,'"')}).join(",")}).join("\n");this.fileSaver.save(new Blob([t],{type:"text/csv"}),"favorites.csv")}},{key:"importUserFavorites",value:function(t){var e=this;if(t)try{var n=new FileReader;n.onloadend=function(){var i,r=e.csvParser.parse(n.result,{});if((null===(i=r.data)||void 0===i?void 0:i.length)>0){var o=r.data.map(function(t){var e,n=y(t,3),i=n[0],r=n[1],o=n[2],a=r.split("?")[0],s=r.split("?")[1].split("&"),c=a.substring(a.lastIndexOf("/")),l={},u=k(s);try{for(u.s();!(e=u.n()).done;){var h=y(e.value.split("="),2),d=h[0],f=h[1];l[d]=f}}catch(p){u.e(p)}finally{u.f()}return{key:YI(),name:i,path:c,queryParams:l,dateCreatedISO:o}});e.confirmImport(t.name,o)}},n.readAsText(t)}catch(i){console.error(i)}}},{key:"confirmImport",value:function(t,e){var n=this;this.dialog.open(NI,{data:{title:"Import Favorites",content:["Are you sure you want to replace your current favorites with ".concat(e.length,' favorites from "').concat(t,'"?'),"If not make sure to export your current favorites before importing a new set of favorites."],confirmLabel:"Confirm",dismissLabel:"Cancel"}}).afterClosed().subscribe(function(t){t&&n.updateUserFavorites(e)})}},{key:"createUserFavorites",value:function(t){var e=[].concat(C(this.userFavorites),[t]);this.updateUserFavorites(e)}},{key:"deleteUserFavorites",value:function(t){var e=this.userFavorites.filter(function(e){return e.key!==t});this.updateUserFavorites(e)}},{key:"updateUserFavorites",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.store.dispatch(hk({favorites:t})),e&&this.storage.set("USER-FAVORITES",JSON.stringify(t))}}]),t}()).\u0275fac=function(t){return new(t||WI)(Ti(SR),Ti(ib),Ti(JI),Ti(tA),Ti(iF))},WI.\u0275prov=Pt({token:WI,factory:WI.\u0275fac,providedIn:"root"}),WI),iA=function(){function t(e){f(this,t),this.total=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new rA(t,this.total))}}]),t}(),rA=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return g(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(R),oA=new Set,aA=((QI=function(){function t(e){f(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):sA}return g(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!oA.has(t))try{KI||((KI=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(KI)),KI.sheet&&(KI.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),oA.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}()).\u0275fac=function(t){return new(t||QI)(Ti(aP))},QI.\u0275prov=Pt({factory:function(){return new QI(Ti(aP))},token:QI,providedIn:"root"}),QI);function sA(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var cA,lA=((cA=function(){function t(e,n){f(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new z}return g(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return uA(xx(t)).some(function(t){return e._registerQuery(t).mql.matches})}},{key:"observe",value:function(t){var e=this,n=hp(uA(xx(t)).map(function(t){return e._registerQuery(t).observable}));return(n=Lp(n.pipe(Ip(1)),n.pipe(function(t){return t.lift(new iA(1))},JO(0)))).pipe(W(function(t){var e={matches:!1,breakpoints:{}};return t.forEach(function(t){var n=t.matches,i=t.query;e.matches=e.matches||n,e.breakpoints[i]=n}),e}))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),i={observable:new L(function(t){var i=function(n){return e._zone.run(function(){return t.next(n)})};return n.addListener(i),function(){n.removeListener(i)}}).pipe(Bp(n),W(function(e){var n=e.matches;return{query:t,matches:n}}),Gx(this._destroySubject)),mql:n};return this._queries.set(t,i),i}}]),t}()).\u0275fac=function(t){return new(t||cA)(Ti(aA),Ti(Yl))},cA.\u0275prov=Pt({factory:function(){return new cA(Ti(aA),Ti(Yl))},token:cA,providedIn:"root"}),cA);function uA(t){return t.map(function(t){return t.split(",")}).reduce(function(t,e){return t.concat(e)}).map(function(t){return t.trim()})}var hA,dA,fA,pA,gA={tooltipState:qS("state",[KS("initial, void, hidden",GS({opacity:0,transform:"scale(0)"})),KS("visible",GS({transform:"scale(1)"})),QS("* => visible",WS("200ms cubic-bezier(0, 0, 0.2, 1)",(hA=[GS({opacity:0,transform:"scale(0)",offset:0}),GS({opacity:.5,transform:"scale(0.99)",offset:.5}),GS({opacity:1,transform:"scale(1)",offset:1})],{type:5,steps:hA}))),QS("* => hidden",WS("100ms cubic-bezier(0, 0, 0.2, 1)",GS({opacity:0})))])},vA=uP({passive:!0}),mA=new ci("mat-tooltip-scroll-strategy"),yA={provide:mA,deps:[WO],useFactory:function(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}},bA=new ci("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),_A=((pA=function(){function t(e,n,i,r,o,a,s,c,l,u,h){var d=this;f(this,t),this._overlay=e,this._elementRef=n,this._scrollDispatcher=i,this._viewContainerRef=r,this._ngZone=o,this._platform=a,this._ariaDescriber=s,this._focusMonitor=c,this._dir=u,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new z,this._handleKeydown=function(t){d._isTooltipVisible()&&27===t.keyCode&&!uO(t)&&(t.preventDefault(),t.stopPropagation(),d._ngZone.run(function(){return d.hide(0)}))},this._scrollStrategy=l,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),o.runOutsideAngular(function(){n.nativeElement.addEventListener("keydown",d._handleKeydown)})}return g(t,[{key:"position",get:function(){return this._position},set:function(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Cx(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}},{key:"message",get:function(){return this._message},set:function(t){var e=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(function(){Promise.resolve().then(function(){e._ariaDescriber.describe(e._elementRef.nativeElement,e.message)})}))}},{key:"tooltipClass",get:function(){return this._tooltipClass},set:function(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}},{key:"ngAfterViewInit",value:function(){var t=this;this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Gx(this._destroyed)).subscribe(function(e){e?"keyboard"===e&&t._ngZone.run(function(){return t.show()}):t._ngZone.run(function(){return t.hide(0)})})}},{key:"ngOnDestroy",value:function(){var t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(function(e){var n=y(e,2),i=n[0],r=n[1];t.removeEventListener(i,r,vA)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}},{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.showDelay;if(!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new XP(kA,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Gx(this._destroyed)).subscribe(function(){return t._detach()}),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideDelay;this._tooltipInstance&&this._tooltipInstance.hide(t)}},{key:"toggle",value:function(){this._isTooltipVisible()?this.hide():this.show()}},{key:"_isTooltipVisible",value:function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}},{key:"_createOverlay",value:function(){var t=this;if(this._overlayRef)return this._overlayRef;var e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return n.positionChanges.pipe(Gx(this._destroyed)).subscribe(function(e){t._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&t._tooltipInstance.isVisible()&&t._ngZone.run(function(){return t.hide(0)})}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Gx(this._destroyed)).subscribe(function(){return t._detach()}),this._overlayRef}},{key:"_detach",value:function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}},{key:"_updatePosition",value:function(){var t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}},{key:"_getOrigin",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;"above"==n||"below"==n?t={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?t={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(t={originX:"end",originY:"center"});var i=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:i.x,originY:i.y}}}},{key:"_getOverlayPosition",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;"above"==n?t={overlayX:"center",overlayY:"bottom"}:"below"==n?t={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?t={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(t={overlayX:"start",overlayY:"center"});var i=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:i.x,overlayY:i.y}}}},{key:"_updateTooltipMessage",value:function(){var t=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ip(1),Gx(this._destroyed)).subscribe(function(){t._tooltipInstance&&t._overlayRef.updatePosition()}))}},{key:"_setTooltipClass",value:function(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}},{key:"_invertPosition",value:function(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}},{key:"_setupPointerEnterEventsIfNeeded",value:function(){var t=this;!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",function(){t._setupPointerExitEventsIfNeeded(),t.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",function(){t._setupPointerExitEventsIfNeeded(),clearTimeout(t._touchstartTimeout),t._touchstartTimeout=setTimeout(function(){return t.show()},500)}])),this._addListeners(this._passiveListeners))}},{key:"_setupPointerExitEventsIfNeeded",value:function(){var t,e=this;if(!this._pointerExitEventsInitialized){this._pointerExitEventsInitialized=!0;var n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",function(){return e.hide()}]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();var i=function(){clearTimeout(e._touchstartTimeout),e.hide(e._defaultOptions.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),(t=this._passiveListeners).push.apply(t,n)}}},{key:"_addListeners",value:function(t){var e=this;t.forEach(function(t){var n=y(t,2),i=n[0],r=n[1];e._elementRef.nativeElement.addEventListener(i,r,vA)})}},{key:"_platformSupportsMouseEvents",value:function(){return!this._platform.IOS&&!this._platform.ANDROID}},{key:"_disableNativeGesturesIfNecessary",value:function(){var t=this.touchGestures;if("off"!==t){var e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}]),t}()).\u0275fac=function(t){return new(t||pA)(Va(WO),Va(ec),Va(BP),Va(Lc),Va(Yl),Va(aP),Va(vS),Va(AS),Va(mA),Va(vP,8),Va(bA,8))},pA.\u0275dir=le({type:pA,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),pA),kA=((fA=function(){function t(e,n){f(this,t),this._changeDetectorRef=e,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new z,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}return g(t,[{key:"show",value:function(t){var e=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(function(){e._visibility="visible",e._showTimeoutId=null,e._markForCheck()},t)}},{key:"hide",value:function(t){var e=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(function(){e._visibility="hidden",e._hideTimeoutId=null,e._markForCheck()},t)}},{key:"afterHidden",value:function(){return this._onHide}},{key:"isVisible",value:function(){return"visible"===this._visibility}},{key:"ngOnDestroy",value:function(){this._onHide.complete()}},{key:"_animationStart",value:function(){this._closeOnInteraction=!1}},{key:"_animationDone",value:function(t){var e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}},{key:"_handleBodyInteraction",value:function(){this._closeOnInteraction&&this.hide(0)}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||fA)(Va(xc),Va(lA))},fA.\u0275cmp=ne({type:fA,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&Ja("click",function(){return e._handleBodyInteraction()},!1,_r),2&t&&ps("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;(1&t&&(Ua(0,"div",0),Ja("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),tl(1,"async"),Ss(2),qa()),2&t)&&(gs("mat-tooltip-handset",null==(n=el(1,5,e._isHandset))?null:n.matches),Ha("ngClass",e.tooltipClass)("@state",e._visibility),so(2),Ms(e.message))},directives:[qh],pipes:[gd],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[gA.tooltipState]},changeDetection:0}),fA),CA=((dA=g(function t(){f(this,t)})).\u0275mod=se({type:dA}),dA.\u0275inj=Ot({factory:function(t){return new(t||dA)},providers:[yA],imports:[[HS,xd,ZO,_E],_E,YP]}),dA);function wA(t,e){1&t&&(Ua(0,"div"),Ss(1," You don't have any favorites yet. "),qa())}function xA(t,e){1&t&&Wa(0,"i",18)}function PA(t,e){1&t&&Wa(0,"i",19)}function OA(t,e){if(1&t){var n=Qa();Ua(0,"div",11),Ua(1,"div",12),Ja("click",function(){Qe(n);var t=e.$implicit;return is(2).select(t)}),Na(2,xA,1,0,"i",13),Na(3,PA,1,0,"i",14),Ua(4,"div",15),Ss(5),qa(),qa(),Ua(6,"div",16),Ja("click",function(){Qe(n);var t=e.$implicit;return is(2).delete(t)}),Wa(7,"i",17),qa(),qa()}if(2&t){var i=e.$implicit,r=is(2);so(2),Ha("ngIf",r.isRange(i)),so(1),Ha("ngIf",r.isTraining(i)),so(1),Ha("matTooltip",i.name),so(1),Ts(" ",i.name," ")}}function SA(t,e){if(1&t&&($a(0),Ua(1,"div",8),Ss(2,"Preflop"),qa(),Ua(3,"div",9),Na(4,OA,8,4,"div",10),tl(5,"async"),qa(),Ga()),2&t){var n=is();so(4),Ha("ngForOf",el(5,1,n.preflopFavorites$))}}function MA(t,e){1&t&&Wa(0,"i",18)}function TA(t,e){1&t&&Wa(0,"i",19)}function EA(t,e){if(1&t){var n=Qa();Ua(0,"div",11),Ua(1,"div",12),Ja("click",function(){Qe(n);var t=e.$implicit;return is(2).select(t)}),Na(2,MA,1,0,"i",13),Na(3,TA,1,0,"i",14),Ua(4,"div",15),Ss(5),qa(),qa(),Ua(6,"div",16),Ja("click",function(){Qe(n);var t=e.$implicit;return is(2).delete(t)}),Wa(7,"i",17),qa(),qa()}if(2&t){var i=e.$implicit,r=is(2);so(2),Ha("ngIf",r.isRange(i)),so(1),Ha("ngIf",r.isTraining(i)),so(1),Ha("matTooltip",i.name),so(1),Ts(" ",i.name," ")}}function RA(t,e){if(1&t&&($a(0),Ua(1,"div",20),Ss(2,"Postflop"),qa(),Ua(3,"div",9),Na(4,EA,8,4,"div",10),tl(5,"async"),qa(),Ga()),2&t){var n=is();so(4),Ha("ngForOf",el(5,1,n.postflopFavorites$))}}var FA,IA,AA=((IA=function(){function t(e,n,i){f(this,t),this.dialogRef=e,this.store=n,this.favoritesService=i;var r=function(t,e){var n=t.queryParams,i=n.tree,r=n.node,o=e.queryParams,a=o.tree,s=o.node;if(i!==a)return i.localeCompare(a);if(r!==s){var c=(null==r?void 0:r.split("-").length)||0,l=(null==s?void 0:s.split("-").length)||0;return c!==l?c-l:r.localeCompare(s)}return new Date(t.dateCreatedISO).getTime()-new Date(e.dateCreatedISO).getTime()};this.favorites$=this.store.pipe(ob(gk)),this.preflopFavorites$=this.favorites$.pipe(W(function(t){return t.filter(function(t){return"preflop"===t.queryParams.type})}),W(function(t){return t.sort(r)})),this.postflopFavorites$=this.favorites$.pipe(W(function(t){return t.filter(function(t){return"postflop"===t.queryParams.type})}),W(function(t){return t.sort(r)}))}return g(t,[{key:"cancel",value:function(){this.dialogRef.close(null)}},{key:"select",value:function(t){this.dialogRef.close(t)}},{key:"delete",value:function(t){this.store.dispatch(uk({key:t.key}))}},{key:"isTraining",value:function(t){return t.path.startsWith("train")||t.path.startsWith("game")}},{key:"isRange",value:function(t){return!this.isTraining(t)}},{key:"import",value:function(t){var e=t.target.files[0];e&&this.favoritesService.importUserFavorites(e)}},{key:"export",value:function(){this.favoritesService.exportUserFavorites()}}]),t}()).\u0275fac=function(t){return new(t||IA)(Va(pR),Va(ib),Va(nA))},IA.\u0275cmp=ne({type:IA,selectors:[["app-favorites-dialog"]],decls:19,vars:9,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[4,"ngIf"],[1,"favorites-list"],["align","center"],[1,"dismiss-link",3,"click"],["type","file",1,"file-input",3,"change"],["fileUpload",""],[1,"label"],[1,"favorites"],["class","favorite-item",4,"ngFor","ngForOf"],[1,"favorite-item"],[1,"name",3,"click"],["class","fas fa-eye",4,"ngIf"],["class","fas fa-dumbbell",4,"ngIf"],["matTooltipClass","medium-tooltip","matTooltipPosition","above",1,"label",3,"matTooltip"],[1,"delete",3,"click"],[1,"icon","far","fa-times-circle"],[1,"fas","fa-eye"],[1,"fas","fa-dumbbell"],[1,"label","margin-top"]],template:function(t,e){if(1&t){var n=Qa();Ua(0,"h2",0),Ss(1,"Your favorites"),qa(),Ua(2,"mat-dialog-content",1),Na(3,wA,2,0,"div",2),tl(4,"async"),Ua(5,"div",3),Na(6,SA,6,3,"ng-container",2),tl(7,"async"),Na(8,RA,6,3,"ng-container",2),tl(9,"async"),qa(),qa(),Ua(10,"mat-dialog-actions",4),Ua(11,"a",5),Ja("click",function(){return Qe(n),ja(18).click()}),Ss(12,"Import"),qa(),Ua(13,"a",5),Ja("click",function(){return e.export()}),Ss(14,"Export"),qa(),Ua(15,"a",5),Ja("click",function(){return e.cancel()}),Ss(16,"Close"),qa(),qa(),Ua(17,"input",6,7),Ja("change",function(t){return e.import(t)}),qa()}var i,r,o;2&t&&(so(3),Ha("ngIf",0===(null==(i=el(4,3,e.favorites$))?null:i.length)),so(3),Ha("ngIf",(null==(r=el(7,5,e.preflopFavorites$))?null:r.length)>0),so(2),Ha("ngIf",(null==(o=el(9,7,e.postflopFavorites$))?null:o.length)>0))},directives:[ER,RR,Kh,FR,$h,_A],pipes:[gd],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  #mat-dialog-0{min-width:65vw!important}.file-input[_ngcontent-%COMP%]{display:none}.margin-top[_ngcontent-%COMP%]{margin-top:1rem}.favorites[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:20vh;overflow-y:auto}.favorite-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;cursor:pointer;padding:5px;color:var(--text-color)}.favorite-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5rem;padding:0 5px;margin-right:5px}.favorite-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.favorite-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{background-color:var(--tree-item-hover)}.favorite-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--fa-icon-color)}.favorite-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{background-color:var(--tree-item-hover)}.dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.dismiss-link.disabled[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none;color:var(--text-color-disabled)}.dismiss-link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),IA),DA=((FA=function(){function t(e,n){f(this,t),this.dialogRef=e,this.data=n}return g(t,[{key:"featureText",get:function(){return this.data.featureText}},{key:"confirm",value:function(){this.dialogRef.close(!0)}},{key:"openShop",value:function(){window.open(xI)}}]),t}()).\u0275fac=function(t){return new(t||FA)(Va(pR),Va(CR))},FA.\u0275cmp=ne({type:FA,selectors:[["app-feature-locked-dialog"]],decls:12,vars:1,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link","shop",3,"click"],[1,"link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"PLO Mastermind"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div"),Ua(5,"p"),Ss(6),qa(),qa(),qa(),Ua(7,"mat-dialog-actions",3),Ua(8,"a",4),Ja("click",function(){return e.openShop()}),Ss(9,"Upgrade now"),qa(),Ua(10,"a",5),Ja("click",function(){return e.confirm()}),Ss(11,"Close"),qa(),qa()),2&t&&(so(6),Ts("",e.featureText," is only available for subscribers."))},directives:[ER,RR,FR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),FA),LA=h("6nyB");function BA(t,e,n){var i,r=e.isTurnOrRiver,o=e.evFactor,a=e.turnInvest,s=o||1,c=a?a/2:0;return i=e.plainEV?null!==t?s*t+c:null:null!==t?s*(t/(r?2e4:2e3))+c:null,n&&i>=-.1&&(i=0),i}var NA=function(t){return t[0]},jA=function(t){return t[1]},VA=function(t){return t[2]},HA=function(t){return t[3]},zA=function(t){return t[4]},UA=function(t){return t[5]},qA=function(t){return t[6]},WA=function(t){return t[7]},$A=function(t){return t.items.filter(function(t){return UA(t)>0&&null!==HA(t)})};function GA(t){var e=t.map(function(t){return $A(t).map(function(t){return qA(t)*UA(t)}).reduce(function(t,e){return t+e},0)}).reduce(function(t,e){return t+e},0);return t.map(function(t){var n=$A(t).map(function(t){return qA(t)*UA(t)}).reduce(function(t,e){return t+e},0);return{action:t.action,overallFreq:n/e}})}var KA=function(){function e(t,n){f(this,e),this.http=t,this.compactComboLookup=n,this.compactComboLookup||(this.compactComboLookup={})}return g(e,[{key:"isFiveCard",get:function(){return!1}},{key:"baseUrl",get:function(){return this.isFiveCard?Su+"/fivecard":""+Su}},{key:"loadPreflopRange",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h=this;return t().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.map(function(e,r){var o=e.action,a=e.rangeId;return Gm(h,void 0,void 0,t().mark(function e(){var s,c;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={key:a},i&&i.length>0&&(s.node=i),0===r&&(s.primary="true"),t.next=4,this.http.getText(this.baseUrl+"/preflop/tree/".concat(n,"/range"),s);case 4:return c=t.sent,t.abrupt("return",{action:o,range:c});case 6:case"end":return t.stop()}},e,this)}))}),console.time("[ASYNC] load raw ranges"),r.next=4,Promise.all(o);case 4:return a=r.sent.filter(function(t){return!!t}),console.timeEnd("[ASYNC] load raw ranges"),console.time("[BLOCKING] parse action ranges"),s=a.map(function(t){var e=t.action,n=t.range;return{action:e,items:JSON.parse(n).items}}),console.timeEnd("[BLOCKING] parse action ranges"),c=this.assembleRangeFromLegacyItems(s),l=c.ranges,u=c.rangeFrequencies,r.abrupt("return",{ranges:l,rangeFrequencies:u});case 10:case"end":return r.stop()}},r,this)}))}},{key:"assembleRangeFromLegacyItems",value:function(t){var e=this;console.time("[BLOCKING] enrich ranges");var n=t.map(function(t){return{action:t.action,range:e.enrichPreflopRangeItems(t.items)}});console.timeEnd("[BLOCKING] enrich ranges"),console.time("[BLOCKING] assemble range");var i=this.assembleActionRanges(n);console.timeEnd("[BLOCKING] assemble range"),console.time("[BLOCKING] range frequencies");var r=GA(i);return console.timeEnd("[BLOCKING] range frequencies"),{ranges:i,rangeFrequencies:r}}},{key:"enrichPreflopRangeItems",value:function(t){var e,n=[],i=this.isFiveCard?10:8,r=k(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(this.compactComboLookup[o.combo]){var a=this.compactComboLookup[o.combo],s=a.variations,c=a.comboKey;n.push(Object.assign(Object.assign({},o),{combo:c,variations:s}))}else if(o.combo.length!==i||o.combo.includes("]")){var l=Object(LA.expandSuitsForCombo)(o.combo),u=l.representative,h=l.variations,d=Object(LA.cardsToString)(Object(LA.parseCards)(u),!0);this.compactComboLookup[o.combo]={comboKey:d,variations:h},n.push(Object.assign(Object.assign({},o),{combo:d,variations:h}))}else{var f=Object(LA.cardsToString)(Object(LA.parseCards)(o.combo),!0);this.compactComboLookup[o.combo]={comboKey:f,variations:1},n.push(Object.assign(Object.assign({},o),{combo:f,variations:1}))}}}catch(p){r.e(p)}finally{r.f()}return n}},{key:"assembleActionRanges",value:function(t){var e=this;if(this.hasComboWeightsAndFrequencies(t.map(function(t){return t.range})))return t.map(function(t){return{action:t.action,items:t.range.map(function(t){return e.toRangeItem(t)})}});var n=function(t){var e,n={},i=k(t);try{for(i.s();!(e=i.n()).done;){var r=e.value,o=r.combo;n[o]=n[o]?[].concat(C(n[o]),[r]):[r]}}catch(a){i.e(a)}finally{i.f()}return n}(k_(t.map(function(t){return t.range})));return t.map(function(t){var i=t.range.map(function(t){var i=n[t.combo].map(function(t){return t.weight}).reduce(function(t,e){return t+e},0),r=0===i?0:t.weight/i,o=Object.assign(Object.assign({},t),{comboWeight:i,frequency:r});return e.toRangeItem(o)});return{action:t.action,items:i}})}},{key:"hasComboWeightsAndFrequencies",value:function(t){var e,n,i=t[0];return(null===(e=i[0])||void 0===e?void 0:e.comboWeight)>=0&&(null===(n=i[0])||void 0===n?void 0:n.frequency)>=0}},{key:"toRangeItem",value:function(t){return[t.combo,Object(LA.parseCards)(t.combo),t.frequency,t.ev,t.comboWeight,t.comboWeight*t.frequency,t.variations]}}]),e}();function QA(t){var e,n={},i=k(t);try{for(i.s();!(e=i.n()).done;){var r=e.value,o=NA(r[0]);n[o]=n[o]?[].concat(C(n[o]),[r]):[r]}}catch(a){i.e(a)}finally{i.f()}return n}var YA,ZA,JA,XA=function(){function e(t){f(this,e),this.http=t}return g(e,[{key:"isFiveCard",get:function(){return!1}},{key:"baseUrl",get:function(){return this.isFiveCard?Su+"/fivecard":""+Su}},{key:"loadPostflopRange",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadActionRangeItems(e);case 2:return i=t.sent,r=this.assembleRangeFromLegacyItems(i),o=r.ranges,a=r.rangeFrequencies,t.abrupt("return",{ranges:o,rangeFrequencies:a});case 7:case"end":return t.stop()}},n,this)}))}},{key:"assembleRangeFromLegacyItems",value:function(t){var e=this,n=t.map(function(t){var n=t.action,i=t.items,r=e.addRepresentativeAndVariations(i);return e.convertToRangeItems(n,r)});console.time("[BLOCKING] lookup");var i=QA(k_(n.map(function(t){return t.items.map(function(e){return[e,t.action.type]})})));return console.timeEnd("[BLOCKING] lookup"),this.hasComboWeightsAndFrequencies(n.map(function(t){return t.items}))||(console.time("[BLOCKING] enrich action range item"),n.forEach(function(t){t.items=t.items.map(function(t){var e=i[NA(t)].map(function(t){return UA(t[0])}).reduce(function(t,e){return t+e},0),n=0===e?0:UA(t)/e;return[NA(t),jA(t),n,HA(t),e,UA(t),qA(t)]})}),console.timeEnd("[BLOCKING] enrich action range item")),{ranges:n,rangeFrequencies:GA(n)}}},{key:"loadActionRangeItems",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a=this;return t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.map(function(e){var n=e.action,i=e.url;return Gm(a,void 0,void 0,t().mark(function e(){var r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.getText(i,{},!0,"gzip");case 2:return r=t.sent,t.abrupt("return",{action:n,range:r});case 4:case"end":return t.stop()}},e,this)}))}),console.time("[ASYNC] load raw ranges"),n.next=4,Promise.all(i);case 4:return r=n.sent.filter(function(t){return!!t}),console.timeEnd("[ASYNC] load raw ranges"),console.time("[BLOCKING] parse action ranges"),o=r.map(function(t){var e=t.action,n=t.range;return{action:e,items:JSON.parse(n).items}}),n.abrupt("return",(console.timeEnd("[BLOCKING] parse action ranges"),o));case 8:case"end":return n.stop()}},n)}))}},{key:"addRepresentativeAndVariations",value:function(t){var e,n=[],i=k(t);try{for(i.s();!(e=i.n()).done;){var r=e.value,o=Object(LA.cardsToString)(Object(LA.parseCards)(r.combo));n.push(Object.assign(Object.assign({},r),{combo:o,variations:1}))}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"convertToRangeItems",value:function(t,e){var n=this;return{action:t,items:e.map(function(t){return n.toRangeItem(t)})}}},{key:"hasComboWeightsAndFrequencies",value:function(t){var e=t[0],n=zA(e[0]),i=VA(e[0]);return null!==n&&null!==i&&n>=0&&i>=0}},{key:"toRangeItem",value:function(t){return[t.combo,Object(LA.parseCards)(t.combo),t.frequency,t.ev,t.comboWeight,t.weight>=0?t.weight:t.comboWeight*t.frequency,t.variations]}}]),e}(),tD=function(t){return t.every(function(e){return 1===t.filter(function(t){return e===t}).length})},eD=dy("[Training] Check stats"),nD=dy("[Training] Check stats success",{_as:"props",_p:void 0}),iD=dy("[Training] Check stats failure",{_as:"props",_p:void 0}),rD=dy("[Training] Track result",{_as:"props",_p:void 0}),oD=dy("[Status] Track result success",{_as:"props",_p:void 0}),aD=dy("[Status] Track result failure",{_as:"props",_p:void 0}),sD=dy("[Training] Start node training",{_as:"props",_p:void 0}),cD=dy("[Training] Start random board training",{_as:"props",_p:void 0}),lD=dy("[Training] Start game training",{_as:"props",_p:void 0}),uD=((JA=function(){function t(e,n,i){f(this,t),this.dialogRef=e,this.route=n,this.router=i}return g(t,[{key:"confirm",value:function(){this.close()}},{key:"openShop",value:function(){this.close(),window.open(xI)}},{key:"close",value:function(){this.router.url.includes("train")&&this.exitTraining(),this.dialogRef.close(!0)}},{key:"exitTraining",value:function(){var t=Object.assign(Object.assign({},this.route.snapshot.queryParams),{user:void 0,hands:void 0,randomBoard:void 0,boards:void 0,boardFilter:void 0,minFrequency:void 0,minWeight:void 0,minEV:void 0,maxEV:void 0,selection:void 0,freeze:void 0});this.router.navigate([""],{queryParams:t})}}]),t}()).\u0275fac=function(t){return new(t||JA)(Va(pR),Va(nv),Va(Pm))},JA.\u0275cmp=ne({type:JA,selectors:[["app-daily-range-limit-dialog"]],decls:15,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link","shop",3,"click"],[1,"link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"Daily range limit"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div"),Ua(5,"p"),Ua(6,"b"),Ss(7,"You have reached your limit of daily free postflop browsing."),qa(),qa(),Ua(8,"p"),Ss(9,"Come back tomorrow, or upgrade for unlimited access."),qa(),qa(),qa(),Ua(10,"mat-dialog-actions",3),Ua(11,"a",4),Ja("click",function(){return e.openShop()}),Ss(12,"Upgrade now"),qa(),Ua(13,"a",5),Ja("click",function(){return e.confirm()}),Ss(14,"Close"),qa(),qa())},directives:[ER,RR,FR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),JA),hD=((ZA=function(){function t(e){f(this,t),this.dialogRef=e,e.disableClose=!0}return g(t,[{key:"close",value:function(){this.dialogRef.close()}},{key:"openShop",value:function(){window.open(xI)}}]),t}()).\u0275fac=function(t){return new(t||ZA)(Va(pR))},ZA.\u0275cmp=ne({type:ZA,selectors:[["app-upgrade-dialog"]],decls:12,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link","shop",3,"click"],[1,"link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"PLO Mastermind"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div"),Ua(5,"p"),Ss(6,"This solution is only available for subscribers. "),qa(),qa(),qa(),Ua(7,"mat-dialog-actions",3),Ua(8,"a",4),Ja("click",function(){return e.openShop()}),Ss(9,"Upgrade now"),qa(),Ua(10,"a",5),Ja("click",function(){return e.close()}),Ss(11,"Close"),qa(),qa())},directives:[ER,RR,FR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),ZA),dD=((YA=function(){function t(e,n){f(this,t),this.data=e,this.dialogRef=n}return g(t,[{key:"dismiss",value:function(){this.dialogRef.close(!1)}},{key:"mailUrl",get:function(){return"support@plomastermind.com"}},{key:"mailLink",get:function(){return"mailto:".concat(this.mailUrl,"?subject=Range loading issue&body=").concat(this.body)}},{key:"body",get:function(){return"Could not load range for tree ".concat(this.data.tree).concat(this.data.board?" with board "+this.data.board:"").concat(this.data.node?" and node "+this.data.node:"")}},{key:"sendMail",value:function(){window.open(this.mailLink,"_blank")}}]),t}()).\u0275fac=function(t){return new(t||YA)(Va(CR),Va(pR))},YA.\u0275cmp=ne({type:YA,selectors:[["range-loading-error-dialog"]],decls:14,vars:1,consts:[["mat-dialog-title",""],[1,"app-info-dialog-content","mat-typography"],[3,"click"],["align","center"],[1,"dismiss-link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1,"Error"),qa(),Ua(2,"mat-dialog-content",1),Ua(3,"div"),Ua(4,"p"),Ss(5," An error was encountered loading the range. "),qa(),Ua(6,"p"),Ss(7," Please click the email address below to report the issue to our support team."),Wa(8,"br"),Ua(9,"a",2),Ja("click",function(){return e.sendMail()}),Ss(10),qa(),qa(),qa(),qa(),Ua(11,"mat-dialog-actions",3),Ua(12,"a",4),Ja("click",function(){return e.dismiss()}),Ss(13,"Close"),qa(),qa()),2&t&&(so(10),Ms(e.mailUrl))},directives:[ER,RR,FR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-dialog-content{margin:0;overflow-x:hidden}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}a[_ngcontent-%COMP%]{cursor:pointer;color:var(--link-color);border:none}a[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.dismiss-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--text-color)}.dismiss-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),YA),fD=function(t){return t[t.Frequency=0]="Frequency",t[t.EV=1]="EV",t[t.EVDiff=2]="EVDiff",t[t.Weight=3]="Weight",t}({}),pD=function(t){return t[t.Desc=0]="Desc",t[t.Asc=1]="Asc",t}({});function gD(t,e){var n=e===pD.Desc?1:-1;switch(t){case fD.EV:return mD(n);case fD.Frequency:return vD(n);case fD.Weight:return function(t){var e=vD(t);return function(n,i){if(null===UA(n)&&null===UA(i))return e(n,i);if(null===UA(n))return t;if(null===UA(i))return-1*t;var r=UA(n),o=UA(i);return r===o?e(n,i):t*(o-r)}}(n);case fD.EVDiff:return function(t){var e=mD(t);return function(n,i){if(null===WA(n)&&null===WA(i))return e(n,i);if(null===WA(n))return t;if(null===WA(i))return-1*t;var r=WA(n),o=WA(i);return r===o?e(n,i):t*(o-r)}}(n);default:return vD(n)}}function vD(t){return function(e,n){return e[2]===n[2]?function(e,n){return null===e[3]?t:null===n[3]?-1*t:n[3]-e[3]}(e,n):t*(n[2]-e[2])}}function mD(t){var e=function(t,e){return e[2]-t[2]};return function(n,i){return null===n[3]&&null===i[3]?e(n,i):null===n[3]?t:null===i[3]?-1*t:n[3]===i[3]?e(n,i):t*(i[3]-n[3])}}function yD(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.toUpperCase().startsWith(s_.RAISECHIP)){var n=+t.substring(s_.RAISECHIP.length);return Object.assign({type:s_.RAISECHIP,amount:n},e?{hasPrevBet:!0}:{})}if(t.toUpperCase().startsWith(s_.RAISE)){var i=+t.substring(s_.RAISE.length);return Object.assign({type:s_.RAISE,amount:i},e?{hasPrevBet:!0}:{})}return Object.assign({type:t.toUpperCase()},e?{hasPrevBet:!0}:{})}var bD,_D=function(){function e(t){f(this,e),this.http=t}return g(e,[{key:"loadRange",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s,c,l,u,h,d=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Date,console.time("[ASYNC] load binary action ranges"),o=e.map(function(t){var e=t.url;return d.http.getRaw(e,{},!0,!0)}),t.next=5,Promise.all(o);case 5:return a=t.sent.map(function(t,n){return{key:e[n].key,data:t}}).filter(function(t){return!!t}),console.timeEnd("[ASYNC] load binary action ranges"),s=(new Date).getTime()-r.getTime(),this.trackTime(s,n),console.time("[BLOCKING] unpack binary action ranges"),c=Object(LA.unpackBinaryRanges)(a),console.timeEnd("[BLOCKING] unpack binary action ranges"),console.time("[BLOCKING] range frequencies"),l=c.map(function(t){return t.totalWeight}).reduce(function(t,e){return t+e},0),u=c.map(function(t,n){return Object.assign(Object.assign({},t),{action:e[n].action,frequency:t.totalWeight/l})}),h=c.map(function(t,n){return{action:e[n].action,overallFreq:t.totalWeight/l}}),t.abrupt("return",(console.timeEnd("[BLOCKING] range frequencies"),{ranges:u,rangeFrequencies:h}));case 13:case"end":return t.stop()}},i,this)}))}},{key:"loadPureRange",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s,c,l,u=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.time("[ASYNC] load binary action ranges"),r=e.map(function(t){var e=t.url,n=t.params;return u.http.getRaw(e,n)}),t.next=4,Promise.all(r);case 4:return o=t.sent.map(function(t,n){return{key:e[n].key,data:t}}).filter(function(t){return!!t}),console.timeEnd("[ASYNC] load binary action ranges"),console.time("[BLOCKING] unpack binary action ranges"),a=Object(LA.unpackBinaryRanges)(o),console.timeEnd("[BLOCKING] unpack binary action ranges"),console.time("[BLOCKING] range frequencies"),s=a.map(function(t){return t.totalWeight}).reduce(function(t,e){return t+e},0),c=a.map(function(t){return Object.assign(Object.assign({},t),{action:yD(t.key.split("_")[1],n),frequency:t.totalWeight/s})}),l=a.map(function(t){return{action:yD(t.key.split("_")[1],n),overallFreq:t.totalWeight/s}}),t.abrupt("return",(console.timeEnd("[BLOCKING] range frequencies"),{ranges:c,rangeFrequencies:l}));case 10:case"end":return t.stop()}},i)}))}},{key:"client",get:function(){return"4c"}},{key:"trackTime",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.http.post("".concat(Su,"/track/range/time/").concat(this.client),Object.assign({loadingtime:e},n));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Could not track range loading time"),console.error(t.t0);case 8:case"end":return t.stop()}},i,this,[[0,5]])}))}}]),e}(),kD=((bD=function(){function e(t){f(this,e),this.httpClient=t}return g(e,[{key:"get",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return Gm(this,void 0,void 0,t().mark(function o(){var a,s;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},i&&(a["skip-auth"]="true"),r&&(a["content-encoding"]="contentEncoding"),s=this.httpClient.get(e,{headers:a,params:n}).pipe(W(function(t){return t})).toPromise(),t.next=5,this.makeRequest(s);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},o,this)}))}},{key:"getText",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return Gm(this,void 0,void 0,t().mark(function o(){var a,s;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},i&&(a["skip-auth"]="true"),r&&(a["content-encoding"]="contentEncoding"),s=this.httpClient.get(e,{headers:a,params:n,responseType:"text"}).toPromise(),t.next=5,this.makeRequest(s);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},o,this)}))}},{key:"getRaw",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return Gm(this,void 0,void 0,t().mark(function o(){var a,s;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},i&&(a["skip-auth"]="true"),r&&(a["content-encoding"]="gzip"),s=this.httpClient.get(e,{headers:a,params:n,responseType:"arraybuffer"}).toPromise(),t.next=5,this.makeRequest(s);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},o,this)}))}},{key:"put",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Gm(this,void 0,void 0,t().mark(function r(){var o;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.httpClient.put(e,n,{headers:i?{"skip-auth":"true"}:void 0}).pipe(W(function(t){return t})).toPromise(),t.abrupt("return",this.makeRequest(o));case 2:case"end":return t.stop()}},r,this)}))}},{key:"post",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Gm(this,void 0,void 0,t().mark(function r(){var o;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.httpClient.post(e,n,{headers:i?{"skip-auth":"true"}:void 0}).pipe(W(function(t){return t})).toPromise(),t.abrupt("return",this.makeRequest(o));case 2:case"end":return t.stop()}},r,this)}))}},{key:"postText",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Gm(this,void 0,void 0,t().mark(function r(){var o;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.httpClient.post(e,n,{headers:i?{"skip-auth":"true"}:void 0,responseType:"text"}).toPromise(),t.next=3,this.makeRequest(o);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},r,this)}))}},{key:"delete",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Gm(this,void 0,void 0,t().mark(function i(){var r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.httpClient.delete(e,{headers:n?{"skip-auth":"true"}:void 0}).toPromise(),t.next=3,r;case 3:case"end":return t.stop()}},i,this)}))}},{key:"makeRequest",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},n)}))}}]),e}()).\u0275fac=function(t){return new(t||bD)(Ti(qf))},bD.\u0275prov=Pt({token:bD,factory:bD.\u0275fac,providedIn:"root"}),bD);function CD(t,e,n,i){return"".concat(t,"-").concat(e,"-").concat(n,"-").concat(i)}var wD,xD=function(t){return t.items.filter(function(t){return UA(t)>0&&null!==HA(t)})},PD={sortBy:fD.Frequency,sortDir:pD.Desc,hideZeroPercentItems:!0,hideEvDifference:!0},OD=((wD=function(){function e(t,n,i){f(this,e),this.http=t,this.store=n,this.dialog=i,this.$isLoading=new ap(!1),this.compactComboLookup=null,this.isLoadingLookupFor="",this._sortingOptions=PD}return g(e,[{key:"isFiveCard",get:function(){return!1}},{key:"baseUrl",get:function(){return this.isFiveCard?Su+"/fivecard":""+Su}},{key:"isLoading$",get:function(){return this.$isLoading.asObservable()}},{key:"rangeSortingOptions",get:function(){return this._sortingOptions}},{key:"setSortingAndDirection",value:function(t,e){this._sortingOptions=Object.assign(Object.assign({},this._sortingOptions),{sortBy:t,sortDir:e})}},{key:"setHideEvDifference",value:function(t){this._sortingOptions.hideEvDifference=t}},{key:"setHideZeroPercentItems",value:function(t){this._sortingOptions.hideZeroPercentItems=t}},{key:"getRange",value:function(t){var e;if((null===(e=this.currentRange)||void 0===e?void 0:e.rangeKey)===t)return this.currentRange.range}},{key:"hasRange",value:function(t){return!!this.currentRange&&this.currentRange.rangeKey===t}},{key:"clearRange",value:function(){this.currentRange=null}},{key:"clearPreflopClassificationLookup",value:function(){this.compactComboLookup=null,this.preflopClassificationLookups=null}},{key:"clearPostflopClassificationLookup",value:function(){this.postflopClassificationLookup=null}},{key:"loadCompactComboLookup",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){var n,i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.compactComboLookup){t.next=15;break}if(t.prev=1,!this.isFiveCard){t.next=10;break}return t.next=5,this.http.get(this.baseUrl+"/preflop/compact/url");case 5:return n=t.sent,t.next=8,this.http.getText(n.url,{},!0);case 8:i=t.sent,this.compactComboLookup=JSON.parse(i);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.error(t.t0);case 15:case"end":return t.stop()}},e,this,[[1,12]])}))}},{key:"loadPreflopClassificationLookup",value:function(){var e;return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c,l,u=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((null===(e=this.preflopClassificationLookups)||void 0===e?void 0:e.length)>0){t.next=32;break}if("preflop"===this.isLoadingLookupFor){t.next=27;break}if(this.isLoadingLookupFor="preflop",t.prev=3,!this.isFiveCard){t.next=18;break}return i=[this.http.get(this.baseUrl+"/preflop/classifications/1/url"),this.http.get(this.baseUrl+"/preflop/classifications/2/url")],t.next=8,Promise.all(i);case 8:return r=t.sent,t.next=11,Promise.all(r.map(function(t){var e=t.url;return u.http.getText(e,{},!0)}));case 11:o=t.sent,a=y(o,2),s=a[0],c=a[1],this.preflopClassificationLookups=[new Map(Object.entries(JSON.parse(s))),new Map(Object.entries(JSON.parse(c)))],t.next=22;break;case 18:return t.next=20,this.http.get(this.baseUrl+"/preflop/classifications");case 20:l=t.sent,this.preflopClassificationLookups=[new Map(Object.entries(l))];case 22:return t.prev=22,this.isLoadingLookupFor="",t.finish(22);case 25:t.next=32;break;case 27:if(this.preflopClassificationLookups){t.next=32;break}return t.next=30,kx(250);case 30:t.next=27;break;case 32:case"end":return t.stop()}},n,this,[[3,,22,25]])}))}},{key:"hasPreflopClassifications",value:function(t){var e;return(null===(e=this.preflopClassificationLookups)||void 0===e?void 0:e.length)>0}},{key:"updatePreflopFilterItems",value:function(t){var e=this,n=t.map(function(t){return[t[0],e.getPreflopClassification(t[2]),t[2]]});return this.currentRange.range.filterItems=n,n}},{key:"loadPostflopClassificationLookup",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.postflopClassificationLookup||(this.postflopClassificationLookup={}),this.postflopClassificationLookup[e]){t.next=34;break}if(this.isLoadingLookupFor===e){t.next=29;break}if(this.isLoadingLookupFor=e,t.prev=3,!this.isFiveCard){t.next=15;break}return t.next=7,this.http.get("".concat(this.baseUrl,"/postflop/classifications/").concat(e));case 7:return i=t.sent,r=i.url,t.next=11,this.http.get(r,{},!0);case 11:o=t.sent,this.postflopClassificationLookup=v({},e,new Map(Object.entries(o))),t.next=19;break;case 15:return t.next=17,this.loadPlo4PostflopClassificationLookup(e);case 17:a=t.sent,this.postflopClassificationLookup=v({},e,new Map(Object.entries(a)));case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(3),console.error("Could not load classification lookup for "+e),console.error(t.t0);case 24:return t.prev=24,this.isLoadingLookupFor="",t.finish(24);case 27:t.next=34;break;case 29:if(this.postflopClassificationLookup[e]){t.next=34;break}return t.next=32,kx(250);case 32:t.next=29;break;case 34:case"end":return t.stop()}},n,this,[[3,21,24,27]])}))}},{key:"loadPlo4PostflopClassificationLookup",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=1;case 1:if(!(i<=12)){t.next=18;break}return t.prev=2,t.next=5,this.http.get("".concat(Su,"/postflop/classifications/").concat(e));case 5:return t.abrupt("return",t.sent);case 8:if(t.prev=8,t.t0=t.catch(2),console.log("Could not load lookup ... waiting 5s before trying again",i),t.t1=i<12,!t.t1){t.next=15;break}return t.next=15,kx(5e3);case 15:i+=1;case 16:t.next=1;break;case 18:case"end":return t.stop()}},n,this,[[2,8]])}))}},{key:"assembleFilterItems",value:function(t,e){var n,i,r=e===(null===(n=this.currentRange)||void 0===n?void 0:n.rangeKey);if(r&&(null===(i=this.currentRange.range.filterItems)||void 0===i?void 0:i.length)>0)return this.currentRange.range.filterItems;console.time("FILTER ITEMS");for(var o=new Set(t[0].items.map(function(t){return NA(t)})),a=t[0].items.map(function(t){return[jA(t),[],NA(t)]}),s=1;s<t.length;s++)t[s].items.forEach(function(t){var e=NA(t);o.has(e)||(o.add(e),a.push([jA(t),[],e]))});return console.timeEnd("FILTER ITEMS"),r&&(this.currentRange.range.filterItems=a),a}},{key:"addClassificationsToPostflopFilterItems",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.isFiveCard){t.next=10;break}return t.next=4,this.http.get("".concat(this.baseUrl,"/postflop/classifications/").concat(n));case 4:return r=t.sent,o=r.url,t.next=8,this.http.get(o,{},!0);case 8:return a=t.sent,t.abrupt("return",e.map(function(t){return[t[0],a[t[2]],t[2]]}));case 10:return t.next=12,this.loadPlo4PostflopClassificationLookup(n);case 12:return s=t.sent,t.abrupt("return",e.map(function(t){return[t[0],s[t[2]],t[2]]}));case 16:t.prev=16,t.t0=t.catch(0),console.error("Could not load classification lookup for "+n),console.error(t.t0);case 19:case"end":return t.stop()}},i,this,[[0,16]])}))}},{key:"updatePostflopFilterItems",value:function(t,e){var n=this.postflopClassificationLookup[e],i=t.map(function(t){return[t[0],n.get(t[2]),t[2]]});return this.currentRange.range.filterItems=i,i}},{key:"hasPostflopClassifications",value:function(t,e){return!!this.postflopClassificationLookup&&!!this.postflopClassificationLookup[e]}},{key:"loadPreflopActionRanges",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new KA(this.http,this.compactComboLookup).loadPreflopRange(i,e,n);case 2:return o=t.sent,a=o.ranges,t.abrupt("return",a);case 5:case"end":return t.stop()}},r,this)}))}},{key:"setCurrentNode",value:function(t){this.currentNodeId=t}},{key:"loadPreflopRanges",value:function(e,n,i,r,o,a){return Gm(this,void 0,void 0,t().mark(function s(){var c,l,u,h,d,f,p;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$isLoading.next(!0),t.next=3,this.loadCompactComboLookup();case 3:if(c=CD("preflop",n,"",r),!this.hasRange(c)){t.next=7;break}return l=this.currentRange.range,t.abrupt("return",(this.store.dispatch(L_({rangeKey:c})),this.$isLoading.next(!1),l));case 7:return t.prev=7,t.next=10,new KA(this.http,this.compactComboLookup).loadPreflopRange(o,n,i);case 10:return u=t.sent,h=u.ranges,d=u.rangeFrequencies,f=h[0].items.map(function(t){return[jA(t),[],NA(t)]}),p={rangeKey:c,treeName:n,nodeId:r,position:e,filterItems:f,ranges:h,adjustEvBy:a,rangeFrequencies:d},t.abrupt("return",(this.currentNodeId&&r!==this.currentNodeId||(this.currentRange={rangeKey:c,range:p},this.store.dispatch(N_({tree:n,node:i,rangeFrequencies:d})),this.store.dispatch(L_({rangeKey:c})),this.store.dispatch(eD())),p));case 18:t.prev=18,t.t0=t.catch(7),429===t.t0.status?0===this.dialog.openDialogs.length&&this.dialog.open(uD):403===t.t0.status?0===this.dialog.openDialogs.length&&this.dialog.open(hD):401!==t.t0.status&&(console.error(t.t0),this.dialog.open(dD,{data:{tree:n,node:i}}));case 21:return t.prev=21,this.$isLoading.next(!1),t.finish(21);case 24:case"end":return t.stop()}},s,this,[[7,18,21,24]])}))}},{key:"loadPostflopActionRanges",value:function(e,n,i,r){return Gm(this,void 0,void 0,t().mark(function o(){var a,s,c,l,u,h;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPostflopRangeURLs(i,r,n,e);case 2:if(a=t.sent,s=a.urls,c=a.format,l={tree:e,node:n,board:[r.flop,r.turn,r.river].filter(function(t){return!!t}).join("")},"binary"!==c){t.next=12;break}return t.next=9,new _D(this.http).loadRange(s,l);case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,new XA(this.http).loadPostflopRange(s);case 14:t.t0=t.sent;case 15:return u=t.t0,h=u.ranges,t.abrupt("return",h);case 18:case"end":return t.stop()}},o,this)}))}},{key:"loadPostflopRanges",value:function(e,n,i,r,o,a,s){return Gm(this,void 0,void 0,t().mark(function c(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$isLoading.next(!0),t.prev=1,t.next=4,this.loadPostflopRangesFromUrl(e,n,i,r,o,a,s);case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0),401!==t.t0.status&&this.dialog.open(dD,{data:{tree:n,board:[a.flop,a.turn,a.river].filter(function(t){return!!t}).join(""),node:i}});case 10:return t.prev=10,this.$isLoading.next(!1),t.finish(10);case 13:case"end":return t.stop()}},c,this,[[1,7,10,13]])}))}},{key:"loadPostflopRangesFromUrl",value:function(e,n,i,r,o,a,s){return Gm(this,void 0,void 0,t().mark(function c(){var l,u,h,d,f,p,g,v,m,y,b;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=[a.flop,a.turn,a.river].join(""),u=CD("postflop",n,l,r),!this.hasRange(u)){t.next=5;break}return this.$isLoading.next(!1),h=this.currentRange.range,t.abrupt("return",(this.store.dispatch(L_({rangeKey:u})),h));case 5:return t.prev=5,t.next=8,this.getPostflopRangeURLs(o,a,i,n);case 8:if(d=t.sent,f=d.urls,p=d.format,g={tree:n,node:i,board:[a.flop,a.turn,a.river].filter(function(t){return!!t}).join("")},"binary"!==p){t.next=18;break}return t.next=15,new _D(this.http).loadRange(f,g);case 15:t.t0=t.sent,t.next=21;break;case 18:return t.next=20,new XA(this.http).loadPostflopRange(f);case 20:t.t0=t.sent;case 21:return v=t.t0,m=v.ranges,y=v.rangeFrequencies,b={rangeKey:u,treeName:n,nodeId:r,position:e,filterItems:[],ranges:m,adjustEvBy:s,rangeFrequencies:y,turnInvest:null==s?void 0:s.turnInvest},t.abrupt("return",(this.currentNodeId&&r!==this.currentNodeId||(this.currentRange={rangeKey:u,range:b},this.store.dispatch(N_({tree:n,node:i,rangeFrequencies:y})),this.store.dispatch(L_({rangeKey:u})),this.store.dispatch(eD())),b));case 28:if(t.prev=28,t.t1=t.catch(5),429!==t.t1.status){t.next=34;break}0===this.dialog.openDialogs.length&&this.dialog.open(uD),t.next=37;break;case 34:if(403===t.t1.status){t.next=36;break}throw t.t1;case 36:0===this.dialog.openDialogs.length&&this.dialog.open(hD);case 37:case"end":return t.stop()}},c,this,[[5,28]])}))}},{key:"startLoading",value:function(){this.$isLoading.next(!0)}},{key:"finishLoading",value:function(){this.$isLoading.next(!1)}},{key:"setCurrentRange",value:function(t,e,n){var i=n.rangeKey,r=n.rangeFrequencies;this.currentRange={rangeKey:i,range:n},this.store.dispatch(N_({tree:t,node:e,rangeFrequencies:r})),this.store.dispatch(L_({rangeKey:i}))}},{key:"getPostflopRangeURLs",value:function(e,n,i,r){return Gm(this,void 0,void 0,t().mark(function o(){var a,s,c,l,u;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.flop,s=n.turn,c=n.river,l={keys:e.map(function(t){return t.rangeId}).join(","),flop:a},(null==i?void 0:i.length)>0&&(l.node=i),s&&(l.turn=n.turn,c&&(l.river=n.river)),t.next=4,this.http.get(this.baseUrl+"/postflop/tree/".concat(r,"/range/url"),l);case 4:return u=t.sent,t.abrupt("return",{format:u.format,urls:e.map(function(t){return Object.assign({action:t.action},u.urls.find(function(e){return e.key===t.rangeId}))})});case 6:case"end":return t.stop()}},o,this)}))}},{key:"getPreflopClassification",value:function(t){var e;return(e=this.lookupPreflopCombo(t))||(e=Object(LA.classifyPreflopCards)(Object(LA.parseCards)(t))),e}},{key:"lookupPreflopCombo",value:function(t){var e,n=k(this.preflopClassificationLookups||[]);try{for(n.s();!(e=n.n()).done;){var i=e.value[t];if(i)return i}}catch(r){n.e(r)}finally{n.f()}return null}}]),e}()).\u0275fac=function(t){return new(t||wD)(Ti(kD),Ti(ib),Ti(SR))},wD.\u0275prov=Pt({token:wD,factory:wD.\u0275fac,providedIn:"root"}),wD);function SD(t,e){return!(!t||!e||t.type!==e.type||(t.amountLabel&&e.amountLabel?t.amountLabel!==e.amountLabel:t.amount&&e.amount&&t.amount!==e.amount))}function MD(t){var e=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;return t.label?t.label:t.type===s_.RAISECHIP?e?RD(e):n>0?RD(ED(n)):""+t.amount/2:t.type===s_.RAISE?t.amountLabel?t.amountLabel:RD(t.amount?n>0?ED(n):""+(e||ED(t.amount)):"Raise"):t.type===s_.ALLIN?"All-in":RD(t.type)}function TD(t,e,n){return t.short?t.short:t.type===s_.RAISECHIP?RD("".concat(t.hasPrevBet?"R":"B").concat(e||n||t.amount/2)):t.type===s_.RAISE?RD("".concat(t.hasPrevBet?"R":"B").concat(e||n||t.amount)):t.type===s_.CHECK?"X":t.type===s_.ALLIN?"AI":t.type.charAt(0).toUpperCase()}function ED(t){switch(t){case 100:case 77:case 72:return"pot";case 75:return"3/4 pot";case 68:case 67:case 66:return"2/3 pot";case 60:return"3/5 pot";case 50:return"1/2 pot";case 40:return"2/5 pot";case 33:return"1/3 pot";case 25:return"1/4 pot";case 20:return"1/5 pot";default:return t+"%"}}function RD(t){return Array.from(t).map(function(t,e){return 0===e?t.toUpperCase():t.toLowerCase()}).join("")}function FD(t,e){return t.type===s_.FOLD?-1:t.type===s_.CHECK||t.type===s_.CALL?e.type===s_.FOLD?1:-1:t.type===s_.MIN?[s_.FOLD,s_.CHECK,s_.CALL].includes(e.type)?1:-1:t.type===s_.RAISE?e.type===s_.RAISE?t.amount-e.amount:e.type===s_.ALLIN?-1:1:1}function ID(){var t=navigator.userAgent;return/\b(BlackBerry|webOS|iPhone|IEMobile|Android|Windows Phone|iPad|iPod)\b/i.test(t)}var AD,DD,LD,BD=["button"],ND=["*"],jD=new ci("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),VD=new ci("MatButtonToggleGroup"),HD={provide:kC,useExisting:Ct(function(){return qD}),multi:!0},zD=0,UD=g(function t(e,n){f(this,t),this.source=e,this.value=n}),qD=((AD=function(){function t(e,n){f(this,t),this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=function(){},this._onTouched=function(){},this._name="mat-button-toggle-group-"+zD++,this.valueChange=new ol,this.change=new ol,this.appearance=n&&n.appearance?n.appearance:"standard"}return g(t,[{key:"name",get:function(){return this._name},set:function(t){var e=this;this._name=t,this._buttonToggles&&this._buttonToggles.forEach(function(t){t.name=e._name,t._markForCheck()})}},{key:"vertical",get:function(){return this._vertical},set:function(t){this._vertical=Cx(t)}},{key:"value",get:function(){var t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(function(t){return t.value}):t[0]?t[0].value:void 0},set:function(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}},{key:"selected",get:function(){var t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}},{key:"multiple",get:function(){return this._multiple},set:function(t){this._multiple=Cx(t)}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Cx(t),this._buttonToggles&&this._buttonToggles.forEach(function(t){return t._markForCheck()})}},{key:"ngOnInit",value:function(){this._selectionModel=new wP(this.multiple,void 0,!1)}},{key:"ngAfterContentInit",value:function(){var t;(t=this._selectionModel).select.apply(t,C(this._buttonToggles.filter(function(t){return t.checked})))}},{key:"writeValue",value:function(t){this.value=t,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(t){this._controlValueAccessorChangeFn=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"_emitChangeEvent",value:function(){var t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new UD(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}},{key:"_syncButtonToggle",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):r=!0,r?Promise.resolve().then(function(){return n._updateModelValue(i)}):this._updateModelValue(i)}},{key:"_isSelected",value:function(t){return this._selectionModel&&this._selectionModel.isSelected(t)}},{key:"_isPrechecked",value:function(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(function(e){return null!=t.value&&e===t.value}):t.value===this._rawValue)}},{key:"_setSelectionByValue",value:function(t){var e=this;this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(function(t){return e._selectValue(t)})):(this._clearSelection(),this._selectValue(t)))}},{key:"_clearSelection",value:function(){this._selectionModel.clear(),this._buttonToggles.forEach(function(t){return t.checked=!1})}},{key:"_selectValue",value:function(t){var e=this._buttonToggles.find(function(e){return null!=e.value&&e.value===t});e&&(e.checked=!0,this._selectionModel.select(e))}},{key:"_updateModelValue",value:function(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}]),t}()).\u0275fac=function(t){return new(t||AD)(Va(xc),Va(jD,8))},AD.\u0275dir=le({type:AD,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){var i;1&t&&kl(n,$D,!0),2&t&&ml(i=xl())&&(e._buttonToggles=i)},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(La("aria-disabled",e.disabled),gs("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[Ks([HD,{provide:VD,useExisting:AD}])]}),AD),WD=wE(g(function t(){f(this,t)})),$D=((LD=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s){var c;f(this,n),(c=e.call(this))._changeDetectorRef=i,c._elementRef=r,c._focusMonitor=o,c._isSingleSelector=!1,c._checked=!1,c.ariaLabelledby=null,c._disabled=!1,c.change=new ol;var l=Number(a);return c.tabIndex=l||0===l?l:null,c.buttonToggleGroup=t,c.appearance=s&&s.appearance?s.appearance:"standard",c}return g(n,[{key:"buttonId",get:function(){return this.id+"-button"}},{key:"appearance",get:function(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance},set:function(t){this._appearance=t}},{key:"checked",get:function(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked},set:function(t){var e=Cx(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled},set:function(t){this._disabled=Cx(t)}},{key:"ngOnInit",value:function(){var t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+zD++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}},{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){var t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}},{key:"focus",value:function(t){this._buttonElement.nativeElement.focus(t)}},{key:"_onButtonClick",value:function(){var t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new UD(this,this.value))}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),n}(WD)).\u0275fac=function(t){return new(t||LD)(Va(VD,8),Va(xc),Va(ec),Va(AS),ai("tabindex"),Va(jD,8))},LD.\u0275cmp=ne({type:LD,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){var n;1&t&&bl(BD,!0),2&t&&ml(n=xl())&&(e._buttonElement=n.first)},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&Ja("focus",function(){return e.focus()}),2&t&&(La("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),gs("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[wa],ngContentSelectors:ND,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(os(),Ua(0,"button",0,1),Ja("click",function(){return e._onButtonClick()}),Ua(2,"span",2),as(3),qa(),qa(),Wa(4,"span",3),Wa(5,"span",4)),2&t){var n=ja(1);Ha("id",e.buttonId)("disabled",e.disabled||null),La("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),so(5),Ha("matRippleTrigger",n)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[zE],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),LD),GD=((DD=g(function t(){f(this,t)})).\u0275mod=se({type:DD}),DD.\u0275inj=Ot({factory:function(t){return new(t||DD)},imports:[[_E,UE],_E]}),DD),KD=["minInput"],QD=["maxInput"];function YD(t,e){1&t&&(Ua(0,"span",28),Ss(1,"%\xa0"),qa())}function ZD(t,e){1&t&&Wa(0,"i",32)}function JD(t,e){1&t&&Wa(0,"i",33)}function XD(t,e){if(1&t&&(Ua(0,"div",29),Na(1,ZD,1,0,"i",30),Na(2,JD,1,0,"i",31),qa()),2&t){var n=is();so(1),Ha("ngIf",n.settings.evDiff<0),so(1),Ha("ngIf",n.settings.evDiff>0)}}function tL(t,e){if(1&t){var n=Qa();Ua(0,"button",34),Ja("touchstart",function(){return Qe(n),is().negateMin()}),Ss(1,"Neg"),qa()}}function eL(t,e){if(1&t){var n=Qa();Ua(0,"button",34),Ja("touchstart",function(){return Qe(n),is().negateMax()}),Ss(1,"Neg"),qa()}}var nL,iL=((nL=function(){function t(e,n,i){f(this,t),this.dialog=e,this.dialogRef=n,this.data=i,this.settings=i}return g(t,[{key:"MIN_ALLOWED_FREQ",get:function(){return 1}},{key:"MAX_ALLOWED_FREQ",get:function(){return 100}},{key:"MIN_ALLOWED_WEIGHT",get:function(){return 0}},{key:"MAX_ALLOWED_WEIGHT",get:function(){return 1}},{key:"isFrozen",get:function(){return this.settings.frozen}},{key:"isValid",get:function(){return!(this.isInvalid(this.settings.minFrequency,this.MIN_ALLOWED_FREQ,this.MAX_ALLOWED_FREQ)||this.isInvalid(this.settings.minWeight,this.MIN_ALLOWED_WEIGHT,this.MAX_ALLOWED_WEIGHT)||this.isInvalidEVSpread(this.settings.evSpread))}},{key:"isInvalid",value:function(t,e,n){return t<e||t>n}},{key:"isInvalidEVSpread",value:function(t){return!!t&&(t.min&&t.max?+t.min>+t.max:null!==t.min||null!==t.max)}},{key:"hasValue",value:function(t){return null!=t&&!isNaN(t)&&t>=0}},{key:"changeHandSelection",value:function(t){switch(t.value){case"random":this.settings.selectBalanced=!1;break;case"balanced":this.settings.selectBalanced=!0}}},{key:"changeEvSpread",value:function(t,e){this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign(Object.assign({},nC),this.settings.evSpread),v({},t,""!==e?e:null))})}},{key:"isMobile",value:function(){return ID()}},{key:"negateMin",value:function(){var t=this.MinInputElement.nativeElement.value;this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),{min:-1*t})})}},{key:"negateMax",value:function(){var t=this.MaxInputElement.nativeElement.value;this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),{max:-1*t})})}},{key:"resetToDefault",value:function(){this.settings={minFrequency:85,minWeight:.5,evSpread:nC,selectBalanced:!0}}},{key:"exit",value:function(){this.dialogRef.close(null)}},{key:"confirm",value:function(){this.isValid&&this.dialogRef.close(this.settings)}},{key:"showEvDiffExplanation",value:function(){this.dialog.open(NI,{data:{title:"EVDiff Filter",content:["This filter can be applied to create a more enhanced training experience by removing hands from the training where the EV between one action and the other is very close.","A positive EVDiff filter will filter by the difference between the best answer and the second best. A negative EVDiff will filter by the difference between the worst and the best answer."],confirmLabel:"Got it",confirmOnly:!0}})}}]),t}()).\u0275fac=function(t){return new(t||nL)(Va(SR),Va(pR),Va(CR))},nL.\u0275cmp=ne({type:nL,selectors:[["app-training-settings-dialog"]],viewQuery:function(t,e){var n;1&t&&(yl(KD,!0),yl(QD,!0)),2&t&&(ml(n=xl())&&(e.MinInputElement=n.first),ml(n=xl())&&(e.MaxInputElement=n.first))},decls:65,vars:31,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"horizontal"],["color","accent"],["matInput","","type","number","min","0","max","100","step","5","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["class","freq-percent-suffix","matSuffix","",4,"ngIf"],["matInput","","type","number","min","0","max","1","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],[1,"error"],[1,"message"],[1,"horizontal","grouped"],["class","icon small",4,"ngIf"],[1,"number-container"],["matInput","","type","number","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["evDiffInput",""],[1,"icon","info",3,"click"],[1,"fas","fa-info-circle"],[1,"heading"],["class","on-input-focus",3,"touchstart",4,"ngIf"],["matInput","","type","number","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","value","change"],["minInput",""],["maxInput",""],[1,"button-toggle"],["name","handSelection","aria-label","Hand Selection",3,"disabled"],["value","balanced","matTooltip","Balanced hand selection based on number of actions","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"checked","change"],["value","random","matTooltip","Completely random hand selection","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"checked","change"],[1,"link",3,"click"],["align","center"],["matSuffix","",1,"freq-percent-suffix"],[1,"icon","small"],["class","fas fa-less-than-equal",4,"ngIf"],["class","fas fa-greater-than-equal",4,"ngIf"],[1,"fas","fa-less-than-equal"],[1,"fas","fa-greater-than-equal"],[1,"on-input-focus",3,"touchstart"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"Training settings"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div"),Ua(5,"div",3),Ua(6,"mat-form-field",4),Ua(7,"mat-label"),Ss(8,"Min. Frequency"),qa(),Ua(9,"input",5),Ja("ngModelChange",function(t){return e.settings.minFrequency=t}),qa(),Na(10,YD,2,0,"span",6),qa(),Ua(11,"mat-form-field",4),Ua(12,"mat-label"),Ss(13,"Min. Weight"),qa(),Ua(14,"input",7),Ja("ngModelChange",function(t){return e.settings.minWeight=t}),qa(),qa(),qa(),Ua(15,"div",8),Ua(16,"div",9),Ss(17),qa(),Ua(18,"div",9),Ss(19),qa(),qa(),Ua(20,"div",10),Na(21,XD,3,2,"div",11),Ua(22,"mat-form-field",4),Ua(23,"mat-label"),Ss(24,"EVDiff"),qa(),Ua(25,"div",12),Ua(26,"input",13,14),Ja("ngModelChange",function(t){return e.settings.evDiff=t}),qa(),qa(),qa(),Ua(28,"div",15),Ja("click",function(){return e.showEvDiffExplanation()}),Wa(29,"i",16),qa(),qa(),Ua(30,"div",17),Ss(31," EV Spread "),qa(),Ua(32,"div",3),Ua(33,"mat-form-field",4),Ua(34,"mat-label"),Ss(35,"Min. EV"),qa(),Ua(36,"div",12),Na(37,tL,2,0,"button",18),Ua(38,"input",19,20),Ja("change",function(t){return e.changeEvSpread("min",t.target.value)}),qa(),qa(),qa(),Ua(40,"mat-form-field",4),Ua(41,"mat-label"),Ss(42,"Max. EV"),qa(),Ua(43,"div",12),Na(44,eL,2,0,"button",18),Ua(45,"input",19,21),Ja("change",function(t){return e.changeEvSpread("max",t.target.value)}),qa(),qa(),qa(),qa(),Ua(47,"div",8),Ua(48,"div",9),Ss(49,"Please pick both a min and max value for the EV spread"),qa(),qa(),Ua(50,"div",17),Ss(51," Hand selection "),qa(),Ua(52,"div",22),Ua(53,"mat-button-toggle-group",23),Ua(54,"mat-button-toggle",24),Ja("change",function(t){return e.changeHandSelection(t)}),Ss(55," Balanced "),qa(),Ua(56,"mat-button-toggle",25),Ja("change",function(t){return e.changeHandSelection(t)}),Ss(57," Random "),qa(),qa(),qa(),Ua(58,"a",26),Ja("click",function(){return e.resetToDefault()}),Ss(59,"Use default"),qa(),qa(),qa(),Ua(60,"mat-dialog-actions",27),Ua(61,"a",26),Ja("click",function(){return e.confirm()}),Ss(62,"Confirm"),qa(),Ua(63,"a",26),Ja("click",function(){return e.exit()}),Ss(64,"Cancel"),qa(),qa()),2&t&&(so(9),Ha("disabled",e.isFrozen)("ngModel",e.settings.minFrequency),so(1),Ha("ngIf",e.hasValue(e.settings.minFrequency)),so(4),Ha("disabled",e.isFrozen)("ngModel",e.settings.minWeight),so(2),gs("show",e.isInvalid(e.settings.minFrequency,e.MIN_ALLOWED_FREQ,e.MAX_ALLOWED_FREQ)),so(1),Es("Please pick a min. frequency between ",e.MIN_ALLOWED_FREQ,"% and ",e.MAX_ALLOWED_FREQ,"%"),so(1),gs("show",e.isInvalid(e.settings.minWeight,e.MIN_ALLOWED_WEIGHT,e.MAX_ALLOWED_WEIGHT)),so(1),Es("Please pick a min. weight between ",e.MIN_ALLOWED_WEIGHT," and ",e.MAX_ALLOWED_WEIGHT,""),so(2),Ha("ngIf",e.settings.evDiff>0||e.settings.evDiff<0),so(5),Ha("disabled",e.isFrozen)("ngModel",e.settings.evDiff),so(11),Ha("ngIf",e.isMobile()),so(1),Ha("disabled",e.isFrozen)("value",null==e.settings.evSpread?null:e.settings.evSpread.min),so(6),Ha("ngIf",e.isMobile()),so(1),Ha("disabled",e.isFrozen)("value",null==e.settings.evSpread?null:e.settings.evSpread.max),so(3),gs("show",e.isInvalidEVSpread(e.settings.evSpread)),so(5),Ha("disabled",e.isFrozen),so(1),Ha("checked",e.settings.selectBalanced),so(2),Ha("checked",!e.settings.selectBalanced),so(2),gs("disabled",e.isFrozen),so(3),gs("disabled",e.isFrozen||!e.isValid))},directives:[ER,RR,XF,qF,cI,sw,OC,rw,ex,Kh,qD,$D,_A,FR,KF],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-form-field-infix{width:8.75rem!important}[_nghost-%COMP%]     .freq-percent-suffix{position:absolute;left:-6.75rem;top:-.875rem;font-size:1rem}  .mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-button-toggle-label-content{line-height:2.75rem!important}  .mat-button-toggle{background-color:#999!important}  .mat-button-toggle.mat-button-toggle-checked{background-color:#e0e0e0!important}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.error[_ngcontent-%COMP%]{color:var(--eval-color-mistake);font-size:.75rem;margin-top:-.75rem}.error[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{visibility:hidden}.error[_ngcontent-%COMP%]   .message.show[_ngcontent-%COMP%]{visibility:visible}.info[_ngcontent-%COMP%]{cursor:pointer}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}div.heading[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.3125rem}div.horizontal[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-start;align-items:center;gap:1rem}div.horizontal.grouped[_ngcontent-%COMP%]{gap:.5rem}div.horizontal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;margin-right:.5rem;border:none;border-radius:.1rem;color:var(--link-color);background:transparent;cursor:pointer;opacity:.5}div.horizontal[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-bottom:.3rem}div.horizontal[_ngcontent-%COMP%]   .icon.small[_ngcontent-%COMP%]{font-size:.6rem}div.number-container[_ngcontent-%COMP%]{flex-direction:row}div.button-toggle[_ngcontent-%COMP%]{display:unset;margin-bottom:1.5625rem}.on-input-focus[_ngcontent-%COMP%]{display:none}.number-container[_ngcontent-%COMP%]:focus-within   button[_ngcontent-%COMP%]{display:block!important}.link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--link-color)}.link.disabled[_ngcontent-%COMP%]{cursor:unset;color:#888}.link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),nL);function rL(t,e){1&t&&(Ua(0,"span"),Ss(1,"Good job!"),qa())}function oL(t,e){1&t&&(Ua(0,"span"),Ss(1,"Unlucky!"),qa())}function aL(t,e){1&t&&(Ua(0,"div"),Ua(1,"p"),Ss(2,"You have trained all hands correctly!"),qa(),Ua(3,"p"),Ss(4,"You can either continue training with new random hands or exit the training!"),qa(),qa())}function sL(t,e){1&t&&(Ua(0,"div"),Ua(1,"p"),Ss(2,"You still made some mistakes. Would you like to try again?!"),qa(),qa())}function cL(t,e){if(1&t){var n=Qa();Ua(0,"a",6),Ja("click",function(){return Qe(n),is().retry()}),Ss(1,"Retry remaining mistakes "),qa()}}var lL,uL=function(t){return t[t.Retry=0]="Retry",t[t.Exit=1]="Exit",t[t.Continue=2]="Continue",t}({}),hL=((lL=function(){function t(e,n){f(this,t),this.dialogRef=e,this.data=n}return g(t,[{key:"allCorrect",get:function(){return this.data}},{key:"retry",value:function(){this.dialogRef.close(uL.Retry)}},{key:"exit",value:function(){this.dialogRef.close(uL.Exit)}},{key:"continue",value:function(){this.dialogRef.close(uL.Continue)}}]),t}()).\u0275fac=function(t){return new(t||lL)(Va(pR),Va(CR))},lL.\u0275cmp=ne({type:lL,selectors:[["app-finished-hands-dialog"]],decls:13,vars:5,consts:[[1,"title"],["mat-dialog-title",""],[4,"ngIf"],[1,"confirm-dialog-content","mat-typography"],["align","center"],["class","link",3,"click",4,"ngIf"],[1,"link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Na(2,rL,2,0,"span",2),Na(3,oL,2,0,"span",2),qa(),qa(),Ua(4,"mat-dialog-content",3),Na(5,aL,5,0,"div",2),Na(6,sL,3,0,"div",2),qa(),Ua(7,"mat-dialog-actions",4),Na(8,cL,2,0,"a",5),Ua(9,"a",6),Ja("click",function(){return e.continue()}),Ss(10,"Continue with random hands"),qa(),Ua(11,"a",6),Ja("click",function(){return e.exit()}),Ss(12,"Exit"),qa(),qa()),2&t&&(so(2),Ha("ngIf",e.allCorrect),so(1),Ha("ngIf",!e.allCorrect),so(2),Ha("ngIf",e.allCorrect),so(1),Ha("ngIf",!e.allCorrect),so(2),Ha("ngIf",!e.allCorrect))},directives:[ER,Kh,RR,FR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),lL),dL=[72,77];function fL(t,e,n,i,r){if(t.size)return t.size<r?t.size:r;if(t.type===s_.RAISECHIP)return n+t.amount;if(t.type===s_.CHECK)return i;if(t.type===s_.CALL)return n<r+i?n:r+i;if(t.type===s_.ALLIN)return r+i;if(t.type===s_.MIN||t.type===s_.MR)return 2*n-i;if(t.amount){var o=e+n,a=n-i+(dL.includes(t.amount)?100:t.amount)/100*o;return a<r?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e,i=Math.pow(10,n),r=+(n?t*i:t).toFixed(8),o=Math.floor(r),a=r-o,s=a>.5-1e-8&&a<.5+1e-8?o%2==0?o:o+1:Math.round(r);return n?s/i:s}(a):r}return 0}function pL(t){return t.filter(function(t){return![s_.flop,s_.turn,s_.river,s_.root].includes(t.type)}).map(function(t){return n=(e=t).type[0],e.type===s_.RAISECHIP?"RC"+e.amount:e.amount?"".concat(n).concat(e.amount):[s_.MIN,s_.MR].includes(e.type)?"MR":n;var e,n}).join("-")}function gL(t,e,n){var i,r=[],o=0,a=0,s=0,c=k(t.split("-"));try{for(c.s();!(i=c.n()).done;){var l=vL(i.value);l&&(r.push(l),[s_.RAISE,s_.RAISECHIP,s_.ALLIN].includes(l.type)?(!0,o=1,a=0):l.type===s_.CALL?a+=1:l.type===s_.FOLD&&(s+=1),n&&0===o?a+s===e-1&&(!1,o=0,a=0,s=0):o+a+s===e&&(!1,o=0,a=0,s=0))}}catch(u){c.e(u)}finally{c.f()}return r}function vL(t){if(t.startsWith("RC")){var e=+t.substring(2);return{type:s_.RAISECHIP,amount:e}}if(t.startsWith("R")){var n=+t.substring(1);return{type:s_.RAISE,amount:n}}switch(t){case"M":case"MR":return{type:s_.MIN};case"X":return{type:s_.CHECK};case"C":return{type:s_.CALL};case"F":return{type:s_.FOLD};case"A":return{type:s_.ALLIN}}}var mL=[n_.EP,n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB],yL=[n_.SB,n_.BB];function bL(t,e){switch(t){case 2:return[n_.SB,n_.BB];case 3:return e?[n_.SB,n_.BB,n_.BTN]:[n_.BTN,n_.SB,n_.BB];case 4:return e?[n_.SB,n_.BB,n_.CO,n_.BTN]:[n_.CO,n_.BTN,n_.SB,n_.BB];case 5:return e?[n_.SB,n_.BB,n_.MP,n_.CO,n_.BTN]:[n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB];case 6:return e?[n_.SB,n_.BB,n_.EP,n_.MP,n_.CO,n_.BTN]:[n_.EP,n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB];case 7:return e?[n_.SB,n_.BB,n_.EP,n_.EP1,n_.MP,n_.CO,n_.BTN]:[n_.EP,n_.EP1,n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB];case 8:return e?[n_.SB,n_.BB,n_.EP,n_.EP1,n_.EP2,n_.MP,n_.CO,n_.BTN]:[n_.EP,n_.EP1,n_.EP2,n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB]}}function _L(t,e,n){if(2===t)return n?n_.BB:n_.SB;var i=bL(t,n);return e.sort(function(t,e){return i.indexOf(t)-i.indexOf(e)})[0]}function kL(t){return["As","Ah","Ad","Ac","Ks","Kh","Kd","Kc","Qs","Qh","Qd","Qc","Js","Jh","Jd","Jc","Ts","Th","Td","Tc","9s","9h","9d","9c","8s","8h","8d","8c","7s","7h","7d","7c","6s","6h","6d","6c","5s","5h","5d","5c","4s","4h","4d","4c","3s","3h","3d","3c","2s","2h","2d","2c"].filter(function(e){return!t.includes(e)})}var CL=function(){function e(t,n,i,r,o,a,s){f(this,e),this.treeService=t,this.actionHistory=[],this._isInvalid=!1,this.$isLoading=new ap(!1),this.$currentAction=new ap(null),this._startHistoryIndex=0,this._tree=n,s&&(this._flopTree=s.flop&&s.flop.flop===r?s.flop:null,this._turnTree=s.turn&&s.turn.flop===r&&s.turn.turn?s.turn:null,this._riverTree=s.river&&s.river.flop===r&&s.river.turn&&s.river.river?s.river:null),r?this.loadFlopTree(r,i,o,a):(this.init(),i&&this.goToNode(i))}return g(e,[{key:"loadFlopTree",value:function(e,n,i,r){var o;return Gm(this,void 0,void 0,t().mark(function a(){var s,c;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$isLoading.next(!0),(null==(s=this._tree)?void 0:s.flop)===e&&!(null==s?void 0:s.turn)){t.next=10;break}if((null===(o=this._flopTree)||void 0===o?void 0:o.flop)===e){t.next=8;break}return t.next=6,this.treeService.loadPostflopTree(this.details,e).toPromise();case 6:c=t.sent,this._flopTree=c,this._tree=this._flopTree;case 8:t.next=11;break;case 10:this._flopTree=this._tree;case 11:if(this._availableTurns=null,this._availableRivers=null,this.init(),t.t0=n,!t.t0){t.next=18;break}return t.next=18,this.goToNode(n,i,r);case 18:this.$isLoading.next(!1);case 19:case"end":return t.stop()}},a,this)}))}},{key:"waitUntilLoaded",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kx(100);case 2:if(w_(this.isLoading$)){t.next=0;break}case 3:return t.abrupt("return",this.currentTreeNext);case 4:case"end":return t.stop()}},e,this)}))}},{key:"startHistoryIndex",get:function(){return this._startHistoryIndex}},{key:"cachedTrees",get:function(){return{flop:this._flopTree,turn:this._turnTree,river:this._riverTree}}},{key:"isValid",get:function(){return!this._isInvalid}},{key:"isLoading$",get:function(){return this.$isLoading.asObservable()}},{key:"currentAction$",get:function(){return this.$currentAction.asObservable()}},{key:"details",get:function(){return this._tree}},{key:"key",get:function(){return this._tree.key}},{key:"type",get:function(){return this._tree.type}},{key:"isPostFlop",get:function(){var t;return(null===(t=this._tree)||void 0===t?void 0:t.type)===h_.postflop}},{key:"isHeadsUp",get:function(){var t;return 2===(null===(t=this._tree)||void 0===t?void 0:t.players)}},{key:"hasStraddle",get:function(){var t;return(null===(t=this._tree)||void 0===t?void 0:t.straddle)>0}},{key:"history",get:function(){var t=this;return this.actionHistory.map(function(e){var n,i;return e.action.type===s_.turn?Object.assign(Object.assign({},e),{card:null===(n=t.board.turn)||void 0===n?void 0:n.card}):e.action.type===s_.river?Object.assign(Object.assign({},e),{card:null===(i=t.board.river)||void 0===i?void 0:i.card}):e})}},{key:"nodePath",get:function(){return pL(this.actionHistory.map(function(t){return t.action}))}},{key:"board",get:function(){return this._board}},{key:"flop",get:function(){var t;return(null===(t=this.board)||void 0===t?void 0:t.flop)||[]}},{key:"turn",get:function(){var t,e;return null===(e=null===(t=this.board)||void 0===t?void 0:t.turn)||void 0===e?void 0:e.card}},{key:"river",get:function(){var t,e;return null===(e=null===(t=this.board)||void 0===t?void 0:t.river)||void 0===e?void 0:e.card}},{key:"currentTree",get:function(){return this._tree}},{key:"currentNode",get:function(){return this._currentNode}},{key:"currentPlayer",get:function(){return this._currentPlayer}},{key:"allPlayers",get:function(){return this._allPlayers}},{key:"activePlayers",get:function(){return this._activePlayers}},{key:"numberOfPlayers",get:function(){return this._tree.players}},{key:"chipState",get:function(){return this._chipState}},{key:"hasPrevBet",get:function(){var t;return(null===(t=this.chipState)||void 0===t?void 0:t.prevBet)>0}},{key:"treeStackInChips",get:function(){return this._tree.simBB*this._tree.stack}},{key:"turnStakes",get:function(){return this._turnStakes}},{key:"isRFI",get:function(){var t=this.actionHistory.every(function(t){return!t.action.amount});return!this.isPostFlop&&t}},{key:"rfiValue",get:function(){var t;return null===(t=this.getRFIValue())||void 0===t?void 0:t.rfiValue}},{key:"title",get:function(){return __(this._tree,this.isFiveCard)}},{key:"selectableFlops",get:function(){return this.isPostFlop?this._tree.selectableFlops:[]}},{key:"pathToFlop",get:function(){return this.isPostFlop?this._tree.pathToFlop:{}}},{key:"canReachTurn",get:function(){var t=this,e=this._tree,n=Object(LA.cardsToString)(this.board.flop,!1),i=Object(LA.cardsToString)(this.board.flop,!0),r=e.boards,o=r[n]||r[i]||{};return Object.keys(o).filter(function(e){return e.startsWith(t.nodePath)}).map(function(t){return o[t]}).some(function(t){var e;return(null===(e=Object.keys(t))||void 0===e?void 0:e.length)>0})}},{key:"availableTurns",get:function(){return this._availableTurns||[]}},{key:"availableRivers",get:function(){return this._availableRivers||[]}},{key:"isFiveCard",get:function(){return!1}},{key:"goToNode",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e&&e.length>0)){t.next=39;break}o=gL(e,this._activePlayers.length,!this.isPostFlop),a=k(o),t.prev=3,a.s();case 5:if((s=a.n()).done){t.next=31;break}return c=s.value,t.next=9,this.update(c);case 9:if(l=t.sent,t.t0=l.continue,t.t0){t.next=27;break}if(!l.availableTurns||!n){t.next=20;break}if(this._availableTurns=l.availableTurns,t.t1=l.availableTurns.some(function(t){return Object(LA.cardIsEqual)(t,n)}),!t.t1){t.next=18;break}return t.next=18,this.update({type:s_.turn,card:n});case 18:t.next=27;break;case 20:if(t.t2=l.availableRivers&&i,!t.t2){t.next=27;break}if(this._availableRivers=l.availableRivers,t.t3=l.availableRivers.some(function(t){return Object(LA.cardIsEqual)(t,i)}),!t.t3){t.next=27;break}return t.next=27,this.update({type:s_.river,card:i});case 27:if(this.isValid){t.next=29;break}return t.abrupt("break",31);case 29:t.next=5;break;case 31:t.next=36;break;case 33:t.prev=33,t.t4=t.catch(3),a.e(t.t4);case 36:return t.prev=36,a.f(),t.finish(36);case 39:this._startHistoryIndex=this.history.length;case 40:case"end":return t.stop()}},r,this,[[3,33,36,39]])}))}},{key:"update",value:function(e,n,i,r){var o,a;return Gm(this,void 0,void 0,t().mark(function s(){var c,l,u,h,d,f,p,g;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=(null===(a=null===(o=this.currentNode)||void 0===o?void 0:o.next)||void 0===a?void 0:a.map(function(t){return t.action}))||[],!c_(e)){t.next=10;break}return u={action:e,allActions:l,card:void 0},this.actionHistory.push(u),this.$currentAction.next(u),t.next=7,this.handleDealerAction(e);case 7:c=t.sent,t.next=19;break;case 10:if(h=this.isRFI,d=this.useRFIvalueForAction(e,h)?this.getRFIValue().rfiLabel:null,f=this.currentNode.next.find(function(t){return SD(t.action,e)||!!SD(n=t.action,i=e)||n.type===s_.CALL&&i.type===s_.CHECK||n.type===s_.CHECK&&i.type===s_.CALL;var n,i})){t.next=13;break}return t.abrupt("return",(this._isInvalid=!0,{continue:!1}));case 13:return p=f.action,g={action:Object.assign(Object.assign({},p),{hasPrevBet:this.hasPrevBet,rfiLabel:d}),allActions:l,rangeId:f.rangeId,player:this.currentPlayer,rangeValues:n,handBucket:i,actionFreq:r},this.actionHistory.push(g),this.$currentAction.next(g),t.next=18,this.handlePlayerAction(p,h);case 18:c=t.sent;case 19:return t.abrupt("return",(this.currentTreeNext=c,c));case 20:case"end":return t.stop()}},s,this)}))}},{key:"restart",value:function(){this._tree=Object.assign(Object.assign({},this.details),{flop:null,turn:null,river:null}),this.init()}},{key:"prev",value:function(){var e,n,i,r,o,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Gm(this,void 0,void 0,t().mark(function c(){var l,u,h,d,f,p;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.actionHistory.length>0)){t.next=13;break}if(l=this.actionHistory.slice(-1*s)[0],u=this.actionHistory.slice(0,this.actionHistory.length-s),h=pL(u.map(function(t){return t.action})),!this.isPostFlop){t.next=9;break}return d=function(t){return u.some(function(e){return e.action.type===t})},f=(null===(n=null===(e=this._board)||void 0===e?void 0:e.turn)||void 0===n?void 0:n.card)&&d(s_.turn)?Object(LA.cardToString)(null===(i=this._board.turn)||void 0===i?void 0:i.card):null,p=(null===(o=null===(r=this._board)||void 0===r?void 0:r.river)||void 0===o?void 0:o.card)&&d(s_.river)?Object(LA.cardToString)(null===(a=this._board.river)||void 0===a?void 0:a.card):null,this._tree=p?this._riverTree:f?this._turnTree:this._flopTree,this.init(),t.next=8,this.goToNode(h,f,p);case 8:return t.abrupt("return",l.action.type===s_.turn?{continue:!1,availableTurns:this.getAvailableTurns()}:l.action.type===s_.river?{continue:!1,availableRivers:this.getAvailableRivers()}:{continue:!0});case 9:return this.init(),t.next=12,this.goToNode(h);case 12:return t.abrupt("return",{continue:!0});case 13:return t.abrupt("return",(this.restart(),{continue:!1}));case 14:case"end":return t.stop()}},c,this)}))}},{key:"getActions",value:function(){if(this.currentNode&&this.currentNode.next&&this.currentNode.next.length>0){var t=this.currentNode.next.map(function(t){return t.action});t.find(function(t){return t.type===s_.CHECK})&&(t=t.filter(function(t){return t.type!==s_.CALL}));var e,n=[],i=k(t);try{var r=function(){var t=e.value;n.find(function(e){return SD(e,t)})||n.push(t)};for(i.s();!(e=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}return n.sort(FD)}return[]}},{key:"prepareDataForAHK",value:function(){return{pot:this._chipState.totalPot+this._chipState.prevBet-this._chipState.stakes[this.currentPlayer],stacks:Object.values(this._chipState.stacks).reduce(function(t,e){return t<e?t:e}),simBB:this._tree.simBB,nodePath:this.nodePath,simKey:this.key,allPlayers:this.allPlayers}}},{key:"getFormattedAction",value:function(t){var e;if(t.label)return t.label;var n=u_(t,null===(e=this.currentTree)||void 0===e?void 0:e.raiseSizeMapping);if(this.useRFIvalueForAction(n,this.isRFI)){var i=this.getRFIValue().rfiLabel;return MD(n,this.hasPrevBet,!this.isPostFlop,i,this.details.fixedRaiseSize)}return MD(n,this.hasPrevBet,!this.isPostFlop,null,this.details.fixedRaiseSize)}},{key:"init",value:function(){this._currentNode=this._tree.root,this.updateBoard(),this.initPlayersAndStacks(),this.actionHistory=[]}},{key:"updateBoard",value:function(){if(this._tree.type===h_.postflop){var t=this._tree;t.flop?(this._board={flop:Object(LA.parseCards)(t.flop)},t.turn&&(this._board=Object.assign(Object.assign({},this._board),{turn:{card:t.turn}}),t.river&&(this._board=Object.assign(Object.assign({},this._board),{river:{card:t.river}})))):this._board={flop:[null,null,null]}}else this._board=null}},{key:"initPlayersAndStacks",value:function(){var t=this.getPlayerState(this._tree);this._chipState=this.getInitialChipState(this._tree,t.all),this._turnStakes={},this._allPlayers=t.all,this._activePlayers=t.active,this._currentPlayer=this.getCurrentPlayer(this._tree,t)}},{key:"getCurrentPlayer",value:function(t,e){var n;return(null===(n=t.setup)||void 0===n?void 0:n.firstToAct)?t.setup.firstToAct:_L(t.players,e.active,this.isPostFlop)}},{key:"getPlayerState",value:function(t){var e=bL(t.players,this.isPostFlop);if(t.type===h_.preflop)return{all:e,active:o_(e,!1),folded:[]};var n=o_(t.activePlayers,!0),i=e.filter(function(t){return!n.includes(t)});return{all:e,active:n,folded:i}}},{key:"getInitialChipState",value:function(t,e){var n,i,r={},o={},a=this.treeStackInChips;if(t.type===h_.preflop){var s,c=t.straddle*t.simBB,l=t.icmStacks,u=k(e);try{for(u.s();!(s=u.n()).done;){var h=s.value,d=l?l[h]*t.simBB:null;if(null===(n=t.setup)||void 0===n?void 0:n.stakes[h]){var f=t.setup.stakes[h]*t.simBB;o[h]=f,r[h]=null!==d?d-f:a-f}else o[h]=0,r[h]=null!==d?d:a}}catch(p){u.e(p)}finally{u.f()}return{stacks:r,stakes:o,pot:0,totalPot:Object.values(o).reduce(function(t,e){return t+e},0),prevBet:c||t.simBB,ante:null!==(i=t.ante)&&void 0!==i?i:0}}return function(t,e){var n,i,r=["PLO-HU","PLO5C-HU"].includes(t.category)?[].concat(yL):[].concat(mL),o=gL(t.preflop.code,r.length,!0),a=function(t,e,n){var i,r={},o={},a=k(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;s===n_.SB?(o[s]=1,r[s]=n-1):s===n_.BB?(o[s]=2,r[s]=n-2):(o[s]=0,r[s]=n)}}catch(p){a.e(p)}finally{a.f()}var c=t.ante?t.ante:0;return{stacks:r,stakes:o,pot:0,totalPot:3+c,ante:c,prevBet:2}}(t,r,e),s=0,c=k(o);try{for(c.s();!(i=c.n()).done;){var l=i.value,u=r[s],h=a.stakes[u],d=fL(l,a.totalPot,a.prevBet,h,a.stacks[u]);if(d>0&&(a.prevBet=d),l.type!==s_.FOLD){a.stakes[u]=d;var f=a.stacks[u]-(d-h);a.stacks[u]=f>0?f:0}a.totalPot=a.pot+Object.values(a.stakes).reduce(function(t,e){return t+e},0),l.type===s_.FOLD?r.splice(s,1):s+=1,s>=r.length&&(s=0)}}catch(p){c.e(p)}finally{c.f()}return t.startingPot&&(a.totalPot=t.startingPot),Object.assign(Object.assign({},a),{pot:a.totalPot,prevBet:0,stakes:(n={},v(n,n_.EP,0),v(n,n_.MP,0),v(n,n_.CO,0),v(n,n_.BTN,0),v(n,n_.SB,0),v(n,n_.BB,0),n)})}(t,this.treeStackInChips)}},{key:"handlePlayerAction",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s,c,l=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.getNextActivePlayer(),e.type===s_.FOLD&&(this._activePlayers=this._activePlayers.filter(function(t){return t!==l._currentPlayer})),o=this._chipState.stakes[this._currentPlayer],(a=this.calculateAmount(e,n,o,this._chipState.stacks[this._currentPlayer]))>0&&(this._chipState.prevBet=a),e.type!==s_.FOLD&&(this._chipState.stakes[this._currentPlayer]=a,s=this._chipState.stacks[this._currentPlayer]-(a-o),this._chipState.stacks[this._currentPlayer]=s>0?s:0),this._chipState.totalPot=this._chipState.pot+Object.values(this._chipState.stakes).reduce(function(t,e){return t+e},0),!(c=this._currentNode.next.find(function(t){return SD(t.action,e)}))){t.next=15;break}if(this._currentNode=c,!this.isTurnNode(c)){t.next=9;break}return t.abrupt("return",{continue:!1,availableTurns:this.getAvailableTurns()});case 9:if(!this.isRiverNode(c)){t.next=11;break}return t.abrupt("return",{continue:!1,availableRivers:this.getAvailableRivers()});case 11:if(!(c.next&&c.next.length>0)){t.next=13;break}return t.abrupt("return",(this._currentPlayer=r,{continue:!0}));case 13:t.next=16;break;case 15:this._isInvalid=!0;case 16:return t.abrupt("return",{continue:!1});case 17:case"end":return t.stop()}},i,this)}))}},{key:"calculateAmount",value:function(t,e,n,i){var r,o;if(t.size)o=t.size*this._tree.simBB;else{var a=u_(t,null===(r=this.currentTree)||void 0===r?void 0:r.raiseSizeMapping),s=this.useRFIvalueForAction(a,e);(o=s?this.rfiValue*this._tree.simBB:fL(a,this._chipState.totalPot,this._chipState.prevBet,n,i))>0&&(!this.currentTree.rfiValue||!s&&this.currentTree.addAnteAfterRFI)&&o>0&&t.type===s_.RAISE&&this._chipState.ante>0&&((o+=this._chipState.ante)-n>i&&(o=i))}return o}},{key:"getAvailableTurns",value:function(){var t=this._tree,e=this.nodePath,n=Object(LA.cardsToString)(this.board.flop,!0),i=Object(LA.cardsToString)(this.board.flop,!1),r=t.boards[n]?t.boards[n][e]:t.boards[i][e];return r?Object.keys(r).map(function(t){var e=r[t];return"boolean"==typeof e?{card:t,include:e}:{card:t,paths:Object.keys(r[t])}}).filter(function(t){return t.include||t.paths.length>0&&t.paths.every(function(t){return t.startsWith(e)})}).map(function(t){return t.card}):[]}},{key:"getAvailableRivers",value:function(){return kL([].concat(C(this.board.flop),[this.board.turn.card]))}},{key:"useRFIvalueForAction",value:function(t,e){return m_(t,this.currentTree,this.isPostFlop,e)}},{key:"getNextActivePlayer",value:function(){var t=this,e=this._activePlayers.findIndex(function(e){return e===t._currentPlayer});return this._activePlayers[(e+1)%this._activePlayers.length]}},{key:"handleDealerAction",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c,l,u,h,d,f,p,g,v,m,y,b,_,w,x,P,O,S,M,T,E,R;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.flop.map(LA.cardToString).join(""),e.type!==s_.turn){t.next=37;break}if(!e.card){t.next=35;break}if(r=Object(LA.cardToString)(e.card),(null==(o=this._turnTree)?void 0:o.flop)===i&&(null==o?void 0:o.turn)===r){t.next=12;break}return this.$isLoading.next(!0),t.next=8,this.treeService.loadPostflopTree(this._tree,i,r).toPromise();case 8:a=t.sent,this._turnTree=a,this._tree=a,t.next=13;break;case 12:this._tree=this._turnTree;case 13:this._availableRivers=null,s=this.actionHistory.findIndex(function(t){return t.action.type===s_.turn}),c=s>0?[].concat(C(this.actionHistory.slice(0,s)),[{action:{type:s_.turn}}]):C(this.actionHistory),this.init(),l=k(c),t.prev=17,l.s();case 19:if((u=l.n()).done){t.next=25;break}return h=u.value,d=h.action,f=h.rangeValues,p=h.handBucket,g=h.actionFreq,t.next=23,this.update(d,f,p,g);case 23:t.next=19;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(17),l.e(t.t0);case 30:return t.prev=30,l.f(),t.finish(30);case 33:t.next=36;break;case 35:this._currentNode=this._currentNode.next[0],this._currentPlayer=_L(this.numberOfPlayers,this._activePlayers,this.isPostFlop),this.updateChipStateForTurnAndRiver();case 36:return t.abrupt("return",(this.$isLoading.next(!1),{continue:!0}));case 37:if(e.type!==s_.river){t.next=72;break}if(!e.card){t.next=70;break}if(v=Object(LA.cardToString)(this.turn),m=Object(LA.cardToString)(e.card),y=this.actionHistory.findIndex(function(t){return t.action.type===s_.river}),b=y>0?[].concat(C(this.actionHistory.slice(0,y)),[{action:{type:s_.river}}]):C(this.actionHistory),(null==(_=this._riverTree)?void 0:_.flop)===i&&(null==_?void 0:_.turn)===v&&(null==_?void 0:_.river)===m){t.next=49;break}return this.$isLoading.next(!0),w=pL(b.map(function(t){return t.action})),t.next=45,this.treeService.loadPostflopTree(this._tree,i,v,m,w).toPromise();case 45:x=t.sent,this._riverTree=x,this._tree=x,t.next=50;break;case 49:this._tree=this._riverTree;case 50:this.init(),P=k(b),t.prev=52,P.s();case 54:if((O=P.n()).done){t.next=60;break}return S=O.value,M=S.action,T=S.rangeValues,E=S.handBucket,R=S.actionFreq,t.next=58,this.update(M,T,E,R);case 58:t.next=54;break;case 60:t.next=65;break;case 62:t.prev=62,t.t1=t.catch(52),P.e(t.t1);case 65:return t.prev=65,P.f(),t.finish(65);case 68:t.next=71;break;case 70:this._currentNode=this._currentNode.next[0],this._currentPlayer=_L(this.numberOfPlayers,this._activePlayers,this.isPostFlop),this._turnStakes=this._chipState.stakes,this.updateChipStateForTurnAndRiver();case 71:return t.abrupt("return",(this.$isLoading.next(!1),{continue:!0}));case 72:return t.abrupt("return",{continue:!1});case 73:case"end":return t.stop()}},n,this,[[17,27,30,33],[52,62,65,68]])}))}},{key:"updateChipStateForTurnAndRiver",value:function(){var t,e,n=2===this._allPlayers.length?(v(t={},n_.SB,0),v(t,n_.BB,0),t):(v(e={},n_.EP,0),v(e,n_.EP1,0),v(e,n_.EP2,0),v(e,n_.MP,0),v(e,n_.CO,0),v(e,n_.BTN,0),v(e,n_.SB,0),v(e,n_.BB,0),e);this._chipState=Object.assign(Object.assign({},this._chipState),{pot:this._chipState.totalPot,prevBet:0,stakes:n})}},{key:"isTurnNode",value:function(t){return!(!t.next||1!==t.next.length)&&t.next[0].action.type===s_.turn}},{key:"isRiverNode",value:function(t){return!(!t.next||1!==t.next.length)&&t.next[0].action.type===s_.river}},{key:"getRFIValue",value:function(){var t,e=(null!==(t=this._tree.rfiValues)&&void 0!==t?t:{})[this.currentPlayer]||this._tree.rfiValue;return{rfiValue:this._tree.straddle?e*this._tree.straddle:e,rfiLabel:e?e+"x":null}}}]),e}();function wL(t){return t[Math.floor(Math.random()*t.length)]}var xL=function(t){return t.filter="filter",t.settings="settings",t}({});function PL(t){return t?{currentTree:t.currentTree,currentNode:t.currentNode,board:t.board,flopCards:t.flop,turnCard:t.turn,riverCard:t.river,currentPlayer:t.currentPlayer,allPlayers:t.allPlayers,activePlayers:t.activePlayers,chipState:t.chipState,hasPrevBet:t.hasPrevBet,turnStakes:t.turnStakes,isRFI:t.isRFI,rfiValue:t.rfiValue,fixedRaiseSize:t.details.fixedRaiseSize,multiplyEvBy:t.details.multiplyEVBy,simBB:t.details.simBB}:null}var OL=function(){function e(t,n,i,r){f(this,e),this.treeService=t,this.rangeService=n,this.bucketService=i,this.store=r}return g(e,[{key:"currentSituation",get:function(){return PL(this.tree)}},{key:"isPostFlop",get:function(){return this.tree.isPostFlop}},{key:"initPreflop",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r,o;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.reset(),t.next=3,this.treeService.loadPreflopTree(e.key).toPromise();case 3:return r=t.sent,this.store.dispatch(Yb({tree:r})),o=new CL(this.treeService,r,n),t.next=8,o.waitUntilLoaded();case 8:this.tree=o;case 9:case"end":return t.stop()}},i,this)}))}},{key:"initPostflop",value:function(e,n,i,r,o){return Gm(this,void 0,void 0,t().mark(function a(){var s,c;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.reset(),t.next=3,this.treeService.loadPostflopTree(e,i,r,o).toPromise();case 3:return s=t.sent,this.store.dispatch(Xb({tree:s})),c=new CL(this.treeService,s,n,i,r,o),t.next=8,c.waitUntilLoaded();case 8:this.tree=c;case 9:case"end":return t.stop()}},a,this)}))}},{key:"reset",value:function(){this.tree=null,this.resetHands()}},{key:"loadRangeForSituation",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s,c,l,u,h,d,f,p,g,v,m,y,b,_,C,w,x,P;return t().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r=e.currentNode)||!r.next){i.next=39;break}(o=r.next).find(function(t){return t.action.type===s_.CHECK})&&(o=o.filter(function(t){return t.action.type!==s_.CALL})),a=[],s=k(o),i.prev=6,l=t().mark(function e(){var n;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=c.value,a.find(function(t){return t.rangeId===n.rangeId})||a.push({action:n.action,rangeId:n.rangeId});case 2:case"end":return t.stop()}},e)}),s.s();case 9:if((c=s.n()).done){i.next=13;break}return i.delegateYield(l(),"t0",11);case 11:i.next=9;break;case 13:i.next=18;break;case 15:i.prev=15,i.t1=i.catch(6),s.e(i.t1);case 18:return i.prev=18,s.f(),i.finish(18);case 21:if(i.prev=21,h=e.currentTree,d=e.currentPlayer,f=e.flopCards,p=e.turnCard,g=e.riverCard,v=e.turnStakes,m=e.multiplyEvBy,!this.isPostFlop){i.next=30;break}return y=f.map(LA.cardToString).join(""),b=p?Object(LA.cardToString)(p):null,_=g?Object(LA.cardToString)(g):null,C=h.modifyEV,w=C?y_(C,y,n):m,x=v?v[d]:null,P=!!b||!!_,i.next=27,this.rangeService.loadPostflopRanges(d,h.key,n,x_(r),a,{flop:y,turn:b,river:_},{isTurnOrRiver:P,evFactor:w,turnInvest:x});case 27:u=i.sent,i.next=33;break;case 30:return i.next=32,this.rangeService.loadPreflopRanges(d,h.key,n,x_(r),a,{isTurnOrRiver:!1,evFactor:m});case 32:u=i.sent;case 33:return i.abrupt("return",(u.filterItems=this.rangeService.assembleFilterItems(u.ranges,u.rangeKey),u));case 36:return i.prev=36,i.t2=i.catch(21),i.abrupt("return",(console.error(i.t2),null));case 39:case"end":return i.stop()}},i,this,[[6,15,18,21],[21,36]])}))}},{key:"getHandFromRange",value:function(t,e,n,i,r){var o=e.rangeKey,a=e.ranges,s=e.adjustEvBy,c=e.filterItems,l=0===c.length?this.rangeService.assembleFilterItems(a,o):c;return SL(this.isPostFlop,0,a,s,l,n,i,{lookups:this.bucketLookups,macros:this.bucketMacros},[],[],r)}},{key:"getBucketValues",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,this.bucketService.segmentPostflopRange(e,{ranges:i},n);case 3:return o=t.sent,a=o.bucketGroups,t.abrupt("return",a[0]);case 6:return t.next=8,this.bucketService.segmentPreflopRange({ranges:i},n);case 8:return s=t.sent,c=s.bucketGroups,t.abrupt("return",c[0]);case 11:case"end":return t.stop()}},r,this)}))}},{key:"getAllClassificationsForFilter",value:function(t,e,n){if(!t||0===t.trim().length)return[];try{var i=Object(LA.parseFilterSyntax)(t,!1,e,n);return Object(LA.getClassificationsForFilter)(i)}catch(r){return[]}}},{key:"requiresLoadingClassifications",value:function(t,e){return t.length>0&&(this.isPostFlop?!this.rangeService.hasPostflopClassifications(t,e):!this.rangeService.hasPreflopClassifications(t))}},{key:"getAllBucketsForFilter",value:function(t,e,n){if(!t||0===t.trim().length)return[];try{var i=Object(LA.parseFilterSyntax)(t,!1,e,n);return Object(LA.getBucketsForFilter)(i)}catch(r){return[]}}},{key:"requiresLoadingBuckets",value:function(t,e){return t.length>0&&(this.isPostFlop?!this.bucketService.hasPostflopBucketLookup(t,e):!this.bucketService.hasPreflopBucketLookup(t))}}]),e}();function SL(t,e,n,i,r,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],l=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,h=Object(LA.filterItems)(t,r,o,null,null==s?void 0:s.lookups,null==s?void 0:s.macros),d=h.items;if(d.length>0){var f=Array.from(new Set(C(c||[]))),p=new Set(d.filter(function(t){return t[0].every(function(t){return!f.find(function(e){return Object(LA.cardIsEqual)(t,e)})})}).map(function(t){return t[2]}));console.time("comboValues");var g,m=new Map,b=function(t){return t.amountLabel?"".concat(t.type,"_").concat(t.amountLabel):"".concat(t.type).concat(t.amount?"_"+t.amount:"")},_=k(n);try{for(_.s();!(g=_.n()).done;){var w,x=g.value,P=b(x.action),O=x.items.filter(function(t){return p.has(NA(t))}),S=k(O);try{for(S.s();!(w=S.n()).done;){var M=w.value,T=VA(M),E=x.action.type===s_.FOLD,R={type:x.action.type,amount:x.action.amount,amountLabel:x.action.amountLabel,weight:zA(M),freq:T,ev:BA(HA(M),i,E),variations:qA(M)},F=NA(M);if(m.has(F)){var I=m.get(F);m.set(F,Object.assign(Object.assign({},I),{actionValues:Object.assign(Object.assign({},I.actionValues),v({},P,R))}))}else m.set(F,{hand:jA(M),actionValues:v({},P,R)})}}catch(et){S.e(et)}finally{S.f()}}}catch(et){_.e(et)}finally{_.f()}console.timeEnd("comboValues");var A=function(t,e,n,i,r,o,a){var s=Object.values(e);if((null==a?void 0:a.length)>0&&s.some(function(t){return a.includes(+t.freq.toFixed(2))}))return!1;var c=Math.max.apply(Math,C(s.map(function(t){var e;return null===(e=t.ev)||void 0===e?void 0:e.toFixed(3)}).filter(function(t){return!!t}).map(function(t){return+t})));if(null!=c&&!isNaN(c)){var l=Math.max.apply(Math,C(s.map(function(t){return t.freq})));if(s.filter(function(t){return t.freq===l}).every(function(t){var e;return+(null===(e=t.ev)||void 0===e?void 0:e.toFixed(3))<c}))return!1}if(s.some(function(t){return t.weight>=i&&t.freq>=n})){if(r){var u=Object.values(e).map(function(t){return t.ev}),h=Math.max.apply(Math,C(u));if(r>0){var d=u.filter(function(t){return t<h}),f=d.length>0?Math.max.apply(Math,C(d)):h;if(h-f<r)return!1}else if(r<0&&Math.min.apply(Math,C(u))-h>r)return!1}if(!o||null===o.min&&null===o.max)return!0;var p=o.min||Number.MIN_SAFE_INTEGER,g=o.max||Number.MAX_SAFE_INTEGER;return s.some(function(t){return[s_.RAISE,s_.ALLIN,s_.MIN].includes(t.type)})?s.filter(function(t){return[s_.RAISE,s_.ALLIN,s_.MIN].includes(t.type)}).map(function(t){return t.ev}).some(function(t){return t>=p&&t<=g}):s.map(function(t){return t.ev}).every(function(t){return t>=p&&t<=g})}return!1},D=a.minWeight,L=a.evDiff,B=a.evSpread,N=a.minFrequency;N||(N=85);var j=RL(n);console.time("assemble actions with hands");var V,H,z=j.map(function(t){return{action:t.action,hands:[],weight:0}}),U=0,q=k(m.entries());try{for(q.s();!(H=q.n()).done;){var W=y(H.value,2),$=W[0],G=W[1],K=G.hand,Q=G.actionValues;if(A(j.length,Q,N/100,D,L,B,l)){var Y=Object.values(Q).filter(function(t){return t.freq>0}).map(function(t){return t}),Z={hand:K,combo:$,actionValues:Q,rangeValues:j};u&&$===u&&(V=Z);var J,X=k(Y);try{var tt=function(){var t=J.value,e=z.find(function(e){return SD(e.action,t)}),n=Object.values(Q).find(function(e){return SD(e,t)}),i=n.variations*n.weight;e.weight+=i,e.hands.push(Z),U+=i};for(X.s();!(J=X.n()).done;)tt()}catch(et){X.e(et)}finally{X.f()}}}}catch(et){q.e(et)}finally{q.f()}return console.timeEnd("assemble actions with hands"),z.forEach(function(t){return t.overallFreq=t.weight/U}),z.every(function(t){return 0===t.hands.length})?{hand:null,actionsWithHands:[],error:xL.settings}:V?{hand:V,actionsWithHands:z}:{hand:a.selectBalanced&&ML(z)?TL(z):EL(z),actionsWithHands:z}}return{hand:null,actionsWithHands:[],error:xL.filter}}function ML(t){return t.every(function(t){return t.hands.length>=50})}function TL(t){var e=wL(t);return wL(e.hands)}function EL(t){var e,n,i=t.map(function(t){return{action:t.action,overallFreq:t.overallFreq}}).sort(function(t,e){return e.overallFreq-t.overallFreq}),r=Math.random(),o=0,a=k(i);try{var s=function(){var i=n.value;if(r<=i.overallFreq+o)return e=wL(t.find(function(t){return SD(t.action,i.action)}).hands),"break";o+=i.overallFreq};for(a.s();!(n=a.n()).done;){if("break"===s())break}}catch(c){a.e(c)}finally{a.f()}return e}function RL(t){var e=t.map(function(t){return xD(t).map(function(t){return qA(t)*UA(t)}).reduce(function(t,e){return t+e},0)}).reduce(function(t,e){return t+e},0);return t.map(function(t){var n=xD(t),i=n.map(function(t){return qA(t)}).reduce(function(t,e){return t+e},0),r=n.map(function(t){return qA(t)*UA(t)}).reduce(function(t,e){return t+e},0);return{action:t.action,overallFreq:r/e,totalItems:i}})}var FL=["cardfilter"];function IL(t,e){if(1&t&&(Ua(0,"mat-option",17),Ss(1),qa()),2&t){var n=e.$implicit;Ha("value",n.value),so(1),Ts(" ",n.viewValue," ")}}function AL(t,e){if(1&t&&(Ua(0,"mat-option",17),Ss(1),qa()),2&t){var n=e.$implicit;Ha("value",n.value),so(1),Ts(" ",n.viewValue," ")}}function DL(t,e){if(1&t&&(Ua(0,"mat-option",17),Ss(1),qa()),2&t){var n=e.$implicit;Ha("value",n.value),so(1),Ts(" ",n.viewValue," ")}}function LL(t,e){if(1&t){var n=Qa();Ua(0,"mat-checkbox",18),Ja("ngModelChange",function(t){return Qe(n),is().mustHaveTurn=t})("change",function(t){return Qe(n),is().setMustHaveTurn(t)}),Ss(1,"Has turn"),qa()}2&t&&Ha("ngModel",is().mustHaveTurn)}function BL(t,e){if(1&t){var n=Qa();Ua(0,"div",27),Ja("click",function(){Qe(n);var t=e.ngIf;return is(3).selectFlop(t)}),Wa(1,"app-cards",28),Ua(2,"div",29),Ss(3," >> "),qa(),qa()}if(2&t){var i=e.ngIf;so(1),Ha("cards",i.cards),so(1),gs("visible",i.hasTurn)}}function NL(t,e){if(1&t){var n=Qa();Ua(0,"div",30),Ja("click",function(){Qe(n);var t=e.ngIf;return is(3).selectFlop(t)}),Wa(1,"app-cards",28),Ua(2,"div",29),Ss(3," >> "),qa(),qa()}if(2&t){var i=e.ngIf;so(1),Ha("cards",i.cards),so(1),gs("visible",i.hasTurn)}}function jL(t,e){if(1&t&&(Ua(0,"div",24),Na(1,BL,4,3,"div",25),Na(2,NL,4,3,"div",26),qa()),2&t){var n=e.$implicit;so(1),Ha("ngIf",n.flop1),so(1),Ha("ngIf",n.flop2)}}function VL(t,e){if(1&t&&($a(0),Ua(1,"div",19),Ua(2,"div",20),Wa(3,"i",21),qa(),Ua(4,"div"),Ss(5,"This flop is not available."),Wa(6,"br"),Ss(7,"Here are similar boards to try:"),qa(),qa(),Ua(8,"cdk-virtual-scroll-viewport",22),Na(9,jL,3,2,"div",23),qa(),Ga()),2&t){var n=is();so(8),Ha("itemSize",n.itemSize)("minBufferPx",20*n.itemSize)("maxBufferPx",40*n.itemSize),so(1),Ha("cdkVirtualForOf",n.currentSimilarFlopRows)}}function HL(t,e){if(1&t){var n=Qa();Ua(0,"div",27),Ja("click",function(){Qe(n);var t=e.ngIf;return is(3).selectFlop(t)}),Wa(1,"app-cards",28),Ua(2,"div",29),Ss(3," >> "),qa(),qa()}if(2&t){var i=e.ngIf;so(1),Ha("cards",i.cards),so(1),gs("visible",i.hasTurn)}}function zL(t,e){if(1&t){var n=Qa();Ua(0,"div",30),Ja("click",function(){Qe(n);var t=e.ngIf;return is(3).selectFlop(t)}),Wa(1,"app-cards",28),Ua(2,"div",29),Ss(3," >> "),qa(),qa()}if(2&t){var i=e.ngIf;so(1),Ha("cards",i.cards),so(1),gs("visible",i.hasTurn)}}function UL(t,e){if(1&t&&(Ua(0,"div",24),Na(1,HL,4,3,"div",25),Na(2,zL,4,3,"div",26),qa()),2&t){var n=e.$implicit;so(1),Ha("ngIf",n.flop1),so(1),Ha("ngIf",n.flop2)}}function qL(t,e){if(1&t&&(Ua(0,"cdk-virtual-scroll-viewport",31),Na(1,UL,3,2,"div",23),qa()),2&t){var n=is();Ha("itemSize",n.itemSize)("minBufferPx",20*n.itemSize)("maxBufferPx",40*n.itemSize),so(1),Ha("cdkVirtualForOf",n.currentFlopRows)}}var WL,$L=function(t){return t[t.Any=0]="Any",t[t.Straight=1]="Straight",t[t.Paired=2]="Paired",t[t.Unpaired=3]="Unpaired",t}({}),GL=function(t){return t[t.Any=0]="Any",t[t.Monotone=1]="Monotone",t[t.SingleSuited=2]="SingleSuited",t[t.Rainbow=3]="Rainbow",t}({}),KL=function(t){return t[t.Any=0]="Any",t[t.Ace=1]="Ace",t[t.King=2]="King",t[t.Queen=3]="Queen",t[t.Jack=4]="Jack",t[t.Ten=5]="Ten",t[t.Nine=6]="Nine",t[t.Eight=7]="Eight",t[t.Seven=8]="Seven",t[t.Six=9]="Six",t[t.Five=10]="Five",t[t.Four=11]="Four",t[t.Three=12]="Three",t[t.Two=13]="Two",t}({}),QL=((WL=function(){function t(e,n){f(this,t),this.cdr=e,this.feature=n,this.closed=new ol,this.selected=new ol,this.textureFilter=$L.Any,this.suitFilter=GL.Any,this.highCardFilter=KL.Any,this.textureFilterOptions=[{value:$L.Any,viewValue:"Any",syntax:""},{value:$L.Unpaired,viewValue:"Unpaired",syntax:"!(RR,$0g,$1g,$2g)"},{value:$L.Straight,viewValue:"Straight",syntax:"($0g,$1g,$2g)"},{value:$L.Paired,viewValue:"Paired",syntax:"RR"}],this.suitFilterOptions=[{value:GL.Any,viewValue:"Any",syntax:""},{value:GL.Rainbow,viewValue:"Rainbow",syntax:"$rb"},{value:GL.SingleSuited,viewValue:"Twotoned",syntax:"$ss"},{value:GL.Monotone,viewValue:"Monotone",syntax:"$mt"}],this.highCardFilterOptions=[{value:KL.Any,viewValue:"Any"},{value:KL.Ace,viewValue:"A",syntax:"A"},{value:KL.King,viewValue:"K",syntax:"K!A"},{value:KL.Queen,viewValue:"Q",syntax:"Q!(A,K)"},{value:KL.Jack,viewValue:"J",syntax:"J!(A,K,Q)"},{value:KL.Ten,viewValue:"T",syntax:"T!(A,K,Q,J)"},{value:KL.Nine,viewValue:"9",syntax:"9!(A,K,Q,J,T)"},{value:KL.Eight,viewValue:"8",syntax:"8!(A,K,Q,J,T,9)"},{value:KL.Seven,viewValue:"7",syntax:"7!(A,K,Q,J,T,9,8)"},{value:KL.Six,viewValue:"6",syntax:"6!(A,K,Q,J,T,9,8,7)"},{value:KL.Five,viewValue:"5",syntax:"5!(A,K,Q,J,T,9,8,7,6)"},{value:KL.Four,viewValue:"4",syntax:"4!(A,K,Q,J,T,9,8,7,6,5)"},{value:KL.Three,viewValue:"3",syntax:"3!(A,K,Q,J,T,9,8,7,6,5,4)"},{value:KL.Two,viewValue:"2",syntax:"2!(A,K,Q,J,T,9,8,7,6,5,4,3)"}],this.mustHaveTurn=!1}return g(t,[{key:"ngOnInit",value:function(){this.filteredFlops=this.updateFlops("",this.mustHaveTurn)}},{key:"anyoneHasTurns",get:function(){return this.flops.some(function(t){return t.hasTurn})}},{key:"currentTextureFilter",get:function(){return this.textureFilter},set:function(t){this.textureFilter=t,this.updateCardFilter()}},{key:"currentSuitFilter",get:function(){return this.suitFilter},set:function(t){this.suitFilter=t,this.updateCardFilter()}},{key:"currentHighCardFilter",get:function(){return this.highCardFilter},set:function(t){this.highCardFilter=t,this.updateCardFilter()}},{key:"itemSize",get:function(){var t=document.getElementsByTagName("html")[0];if(t){var e=window.getComputedStyle(t).getPropertyValue("font-size");return 2*parseFloat(e)}return 36}},{key:"showSimilarFlops",get:function(){return 0===this.filteredFlops.length&&this.similarFlops.length>0}},{key:"currentFlopRows",get:function(){for(var t=[],e=0;e<this.filteredFlops.length;e+=2)t.push({flop1:this.filteredFlops[e],flop2:e+1<this.filteredFlops.length?this.filteredFlops[e+1]:null});return t}},{key:"currentSimilarFlopRows",get:function(){for(var t=[],e=0;e<this.similarFlops.length;e+=2)t.push({flop1:this.similarFlops[e],flop2:e+1<this.similarFlops.length?this.similarFlops[e+1]:null});return t}},{key:"setMustHaveTurn",value:function(t){this.mustHaveTurn=t.checked,this.filteredFlops=this.updateFlops(this.cardFilter.value,this.mustHaveTurn),this.cdr.markForCheck()}},{key:"setCardFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.textureFilterOptions.filter(function(t){return t.value!==$L.Any}).every(function(e){return!t.includes(e.syntax)})&&(this.textureFilter=$L.Any),this.suitFilterOptions.filter(function(t){return t.value!==GL.Any}).every(function(e){return!t.includes(e.syntax)})&&(this.suitFilter=GL.Any),this.highCardFilterOptions.filter(function(t){return t.value!==KL.Any}).every(function(e){return!t.includes(e.syntax)})&&(this.highCardFilter=KL.Any),this.filterFlops(t)}},{key:"updateCardFilter",value:function(){var t,e,n,i,r,o,a=this,s=(null!==(e=null===(t=this.textureFilterOptions.find(function(t){return t.value===a.currentTextureFilter}))||void 0===t?void 0:t.syntax)&&void 0!==e?e:"")+(null!==(i=null===(n=this.suitFilterOptions.find(function(t){return t.value===a.currentSuitFilter}))||void 0===n?void 0:n.syntax)&&void 0!==i?i:"")+(null!==(o=null===(r=this.highCardFilterOptions.find(function(t){return t.value===a.currentHighCardFilter}))||void 0===r?void 0:r.syntax)&&void 0!==o?o:"");this.cardFilter.setValue(s),this.filterFlops(s)}},{key:"filterFlops",value:function(t){this.filteredFlops=this.updateFlops(t,this.mustHaveTurn),this.cdr.markForCheck()}},{key:"updateFlops",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=(e?this.flops.filter(function(t){return t.hasTurn}):this.flops).map(function(t){var e=t.cards;return[e,t.classifications,e.join("")]}),i=Object(LA.filterItems)(!1,n,t),r=i.items,o=C(this.flops).filter(function(t){return tD(t.cards)}).filter(function(t){return r.some(function(e){return Object(LA.cardsAreEqual)(t.cards,e[0])})}).sort(function(t,e){return Object(LA.sortFlops)(t.cards,e.cards)});return this.similarFlops=0===o.length?this.findSimilarFlops(t):[],o}},{key:"loadRandomFlop",value:function(){var t=wL(this.filteredFlops);this.selectFlop(t)}},{key:"selectFlop",value:function(t){this.selected.emit(t.cards)}},{key:"emitClosed",value:function(){this.allowClose&&this.closed.emit()}},{key:"findSimilarFlops",value:function(t){var e=this,n=Object(LA.sortBoardsByDistance)(t,this.flops),i=n.filter(function(t){return t.distance<=12});return(i.length<4?n.slice(0,4):i).map(function(t){return e.flops.find(function(e){return Object(LA.cardsAreEqual)(e.cards,t.cards)})})}}]),t}()).\u0275fac=function(t){return new(t||WL)(Va(xc),Va(aF))},WL.\u0275cmp=ne({type:WL,selectors:[["app-flop-selector"]],viewQuery:function(t,e){var n;1&t&&bl(FL,!0),2&t&&ml(n=xl())&&(e.cardFilter=n.first)},inputs:{flops:"flops",allowClose:"allowClose"},outputs:{closed:"closed",selected:"selected"},decls:33,vars:12,consts:[["id","flop-selection-container"],[1,"close-btn",3,"click"],[1,"icon","fas","fa-times-circle"],[1,"centered"],["label","Filter","placeholder","Filter flops",3,"isBoardFilter","filter"],["cardfilter",""],[1,"panels"],[1,"filters"],["color","accent","appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","turn-check",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"results"],[4,"ngIf","ngIfElse"],["regularFlops",""],[1,"rdm-link"],[3,"click"],[3,"value"],[1,"turn-check",3,"ngModel","ngModelChange","change"],[1,"title"],[1,"icon"],[1,"fas","fa-exclamation-circle"],[1,"flops","similar",3,"itemSize","minBufferPx","maxBufferPx"],["class","flop-row",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"flop-row"],["class","flop left",3,"click",4,"ngIf"],["class","flop right",3,"click",4,"ngIf"],[1,"flop","left",3,"click"],[3,"cards"],[1,"turn-icon"],[1,"flop","right",3,"click"],[1,"flops",3,"itemSize","minBufferPx","maxBufferPx"]],template:function(t,e){if(1&t&&(Ua(0,"div",0),Ua(1,"div",1),Ja("click",function(){return e.emitClosed()}),Wa(2,"i",2),qa(),Ua(3,"div"),Ss(4,"Select a flop"),qa(),Ua(5,"div",3),Ua(6,"app-card-filter",4,5),Ja("filter",function(t){return e.setCardFilter(t)}),qa(),Ua(8,"div",6),Ua(9,"div",7),Ua(10,"mat-form-field",8),Ua(11,"mat-label"),Ss(12,"Texture"),qa(),Ua(13,"mat-select",9),Ja("valueChange",function(t){return e.currentTextureFilter=t}),Na(14,IL,2,2,"mat-option",10),qa(),qa(),Ua(15,"mat-form-field",8),Ua(16,"mat-label"),Ss(17,"Suits"),qa(),Ua(18,"mat-select",9),Ja("valueChange",function(t){return e.currentSuitFilter=t}),Na(19,AL,2,2,"mat-option",10),qa(),qa(),Ua(20,"mat-form-field",8),Ua(21,"mat-label"),Ss(22,"High Card"),qa(),Ua(23,"mat-select",9),Ja("valueChange",function(t){return e.currentHighCardFilter=t}),Na(24,DL,2,2,"mat-option",10),qa(),qa(),Na(25,LL,2,1,"mat-checkbox",11),qa(),Ua(26,"div",12),Na(27,VL,10,4,"ng-container",13),Na(28,qL,2,4,"ng-template",null,14,Ml),qa(),qa(),Ua(30,"div",15),Ua(31,"a",16),Ja("click",function(){return e.loadRandomFlop()}),Ss(32,"Load random board"),qa(),qa(),qa(),qa()),2&t){var n=ja(29);so(1),gs("show",e.allowClose),so(5),Ha("isBoardFilter",!0),so(7),Ha("value",e.currentTextureFilter),so(1),Ha("ngForOf",e.textureFilterOptions),so(4),Ha("value",e.currentSuitFilter),so(1),Ha("ngForOf",e.suitFilterOptions),so(4),Ha("value",e.currentHighCardFilter),so(1),Ha("ngForOf",e.highCardFilterOptions),so(1),Ha("ngIf",e.anyoneHasTurns),so(2),Ha("ngIf",e.showSimilarFlops)("ngIfElse",n)}},styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:7.5rem}[_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}#flop-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:21.875rem;margin-top:.625rem;padding:.625rem;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);border-radius:.3125rem;background-color:var(--background-color);color:var(--text-color)}#flop-selection-container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:-.625rem;cursor:pointer;visibility:hidden}#flop-selection-container[_ngcontent-%COMP%]   .close-btn.show[_ngcontent-%COMP%]{visibility:visible}#flop-selection-container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;background-color:#000;border-radius:100%}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   app-card-filter[_ngcontent-%COMP%]{width:11rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]{display:flex;flex-direction:row}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{width:8.125rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:.5rem;font-size:.8rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.875rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]{width:13.4rem;height:15rem;max-height:15rem;overflow-y:auto;overflow-x:hidden}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops.similar[_ngcontent-%COMP%]{height:12.5rem;max-height:12.5rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;height:2rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;cursor:pointer;height:2rem;margin-right:.3125rem;padding:.1875rem;margin-bottom:1px;width:50%}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]:hover{padding:0;border:.1875rem solid var(--app-color)}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]:nth-child(2n){margin-right:0}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]   .turn-icon[_ngcontent-%COMP%]{visibility:hidden;margin-left:.125rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]   .turn-icon.visible[_ngcontent-%COMP%]{visibility:visible}.rdm-link[_ngcontent-%COMP%]{margin-left:6.875rem;margin-top:.625rem;padding:1px .625rem;cursor:pointer;font-size:.875rem;color:var(--link-color)}.rdm-link[_ngcontent-%COMP%]:hover{padding:0 .5625rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"],changeDetection:0}),WL),YL=["cardfilter"];function ZL(t,e){if(1&t&&(Ua(0,"mat-option",16),Ss(1),qa()),2&t){var n=e.$implicit;Ha("value",n.value),so(1),Ts(" ",n.viewValue," ")}}function JL(t,e){if(1&t&&(Ua(0,"mat-option",16),Ss(1),qa()),2&t){var n=e.$implicit;Ha("value",n.value),so(1),Ts(" ",n.viewValue," ")}}function XL(t,e){if(1&t&&(Ua(0,"mat-option",16),Ss(1),qa()),2&t){var n=e.$implicit;Ha("value",n.value),so(1),Ts(" ",n.viewValue," ")}}function tB(t,e){if(1&t){var n=Qa();Ua(0,"mat-checkbox",17),Ja("ngModelChange",function(t){return Qe(n),is().mustHaveTurn=t})("change",function(t){return Qe(n),is().setMustHaveTurn(t)}),Ss(1,"Has turn"),qa()}2&t&&Ha("ngModel",is().mustHaveTurn)}function eB(t,e){if(1&t){var n=Qa();Ua(0,"div",21),Ja("click",function(){Qe(n);var t=e.ngIf;return is(2).selectFlop(t)}),Wa(1,"app-cards",22),Ua(2,"div",23),Ss(3," >>\n"),qa(),qa()}if(2&t){var i=e.ngIf;so(1),Ha("cards",i.cards),so(1),gs("visible",i.hasTurn)}}function nB(t,e){if(1&t){var n=Qa();Ua(0,"div",24),Ja("click",function(){Qe(n);var t=e.ngIf;return is(2).selectFlop(t)}),Wa(1,"app-cards",22),Ua(2,"div",23),Ss(3," >>\n"),qa(),qa()}if(2&t){var i=e.ngIf;so(1),Ha("cards",i.cards),so(1),gs("visible",i.hasTurn)}}function iB(t,e){if(1&t&&(Ua(0,"div",18),Na(1,eB,4,3,"div",19),Na(2,nB,4,3,"div",20),qa()),2&t){var n=e.$implicit;so(1),Ha("ngIf",n.flop1),so(1),Ha("ngIf",n.flop2)}}var rB,oB,aB=((rB=function(){function t(e,n,i){f(this,t),this.dialogRef=e,this.data=n,this.cdr=i,this.textureFilter=$L.Any,this.suitFilter=GL.Any,this.highCardFilter=KL.Any,this.textureFilterOptions=[{value:$L.Any,viewValue:"Any",syntax:""},{value:$L.Unpaired,viewValue:"Unpaired",syntax:"!(RR,$0g,$1g,$2g)"},{value:$L.Straight,viewValue:"Straight",syntax:"($0g,$1g,$2g)"},{value:$L.Paired,viewValue:"Paired",syntax:"RR"}],this.suitFilterOptions=[{value:GL.Any,viewValue:"Any",syntax:""},{value:GL.Rainbow,viewValue:"Rainbow",syntax:"$rb"},{value:GL.SingleSuited,viewValue:"Twotoned",syntax:"$ss"},{value:GL.Monotone,viewValue:"Monotone",syntax:"$mt"}],this.highCardFilterOptions=[{value:KL.Any,viewValue:"Any"},{value:KL.Ace,viewValue:"A",syntax:"A"},{value:KL.King,viewValue:"K",syntax:"K!A"},{value:KL.Queen,viewValue:"Q",syntax:"Q!(A,K)"},{value:KL.Jack,viewValue:"J",syntax:"J!(A,K,Q)"},{value:KL.Ten,viewValue:"T",syntax:"T!(A,K,Q,J)"},{value:KL.Nine,viewValue:"9",syntax:"9!(A,K,Q,J,T)"},{value:KL.Eight,viewValue:"8",syntax:"8!(A,K,Q,J,T,9)"},{value:KL.Seven,viewValue:"7",syntax:"7!(A,K,Q,J,T,9,8)"},{value:KL.Six,viewValue:"6",syntax:"6!(A,K,Q,J,T,9,8,7)"},{value:KL.Five,viewValue:"5",syntax:"5!(A,K,Q,J,T,9,8,7,6)"},{value:KL.Four,viewValue:"4",syntax:"4!(A,K,Q,J,T,9,8,7,6,5)"},{value:KL.Three,viewValue:"3",syntax:"3!(A,K,Q,J,T,9,8,7,6,5,4)"},{value:KL.Two,viewValue:"2",syntax:"2!(A,K,Q,J,T,9,8,7,6,5,4,3)"}],this.mustHaveTurn=!1,this.allFlops=n,this.filteredFlops=C(this.allFlops)}return g(t,[{key:"ngOnInit",value:function(){this.filteredFlops=this.updateFlops("",this.mustHaveTurn)}},{key:"itemSize",get:function(){var t=document.getElementsByTagName("html")[0];if(t){var e=window.getComputedStyle(t).getPropertyValue("font-size");return 2*parseFloat(e)}return 36}},{key:"exit",value:function(){this.dialogRef.close({start:!1})}},{key:"startTraining",value:function(){this.canStartTraining&&this.dialogRef.close({start:!0,filter:this.filterSyntax})}},{key:"canStartTraining",get:function(){return this.numberOfBoards>0}},{key:"anyoneHasTurns",get:function(){return this.allFlops.some(function(t){return t.hasTurn})}},{key:"currentTextureFilter",get:function(){return this.textureFilter},set:function(t){this.textureFilter=t,this.updateCardFilter()}},{key:"currentSuitFilter",get:function(){return this.suitFilter},set:function(t){this.suitFilter=t,this.updateCardFilter()}},{key:"currentHighCardFilter",get:function(){return this.highCardFilter},set:function(t){this.highCardFilter=t,this.updateCardFilter()}},{key:"currentFlopRows",get:function(){for(var t=[],e=0;e<this.filteredFlops.length;e+=2)t.push({flop1:this.filteredFlops[e],flop2:e+1<this.filteredFlops.length?this.filteredFlops[e+1]:null});return t}},{key:"numberOfBoards",get:function(){return this.filteredFlops.length}},{key:"setMustHaveTurn",value:function(t){this.mustHaveTurn=t.checked,this.filteredFlops=this.updateFlops(this.cardFilter.value,this.mustHaveTurn),this.cdr.markForCheck()}},{key:"setCardFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.textureFilterOptions.filter(function(t){return t.value!==$L.Any}).every(function(e){return!t.includes(e.syntax)})&&(this.textureFilter=$L.Any),this.suitFilterOptions.filter(function(t){return t.value!==GL.Any}).every(function(e){return!t.includes(e.syntax)})&&(this.suitFilter=GL.Any),this.highCardFilterOptions.filter(function(t){return t.value!==KL.Any}).every(function(e){return!t.includes(e.syntax)})&&(this.highCardFilter=KL.Any),this.filterFlops(t)}},{key:"updateCardFilter",value:function(){var t,e,n,i,r,o,a=this,s=(null!==(e=null===(t=this.textureFilterOptions.find(function(t){return t.value===a.currentTextureFilter}))||void 0===t?void 0:t.syntax)&&void 0!==e?e:"")+(null!==(i=null===(n=this.suitFilterOptions.find(function(t){return t.value===a.currentSuitFilter}))||void 0===n?void 0:n.syntax)&&void 0!==i?i:"")+(null!==(o=null===(r=this.highCardFilterOptions.find(function(t){return t.value===a.currentHighCardFilter}))||void 0===r?void 0:r.syntax)&&void 0!==o?o:"");this.cardFilter.setValue(s),this.filterFlops(s)}},{key:"filterFlops",value:function(t){this.filteredFlops=this.updateFlops(t,this.mustHaveTurn),this.cdr.markForCheck()}},{key:"updateFlops",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=(e?this.allFlops.filter(function(t){return t.hasTurn}):this.allFlops).map(function(t){var e=t.cards;return[e,t.classifications,e.join("")]}),i=Object(LA.filterItems)(!1,n,t),r=i.items,o=C(this.allFlops).filter(function(t){return r.some(function(e){return Object(LA.cardsAreEqual)(t.cards,e[0])})}).sort(function(t,e){return Object(LA.sortCards)(t.cards,e.cards)});return this.filterSyntax=e?o.map(function(t){return Object(LA.cardsToString)(t.cards)}).join(","):t,o}}]),t}()).\u0275fac=function(t){return new(t||rB)(Va(pR),Va(CR),Va(xc))},rB.\u0275cmp=ne({type:rB,selectors:[["app-random-board-dialog"]],viewQuery:function(t,e){var n;1&t&&bl(YL,!0),2&t&&ml(n=xl())&&(e.cardFilter=n.first)},decls:32,vars:15,consts:[[1,"title"],["mat-dialog-title",""],[1,"random-board-dialog-content","mat-typography"],[1,"centered"],["label","Filter","placeholder","Filter flops",3,"isBoardFilter","filter"],["cardfilter",""],[1,"panels"],[1,"filters"],["color","accent","appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","turn-check",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"flops",3,"itemSize","minBufferPx","maxBufferPx"],["class","flop-row",4,"cdkVirtualFor","cdkVirtualForOf"],["align","center"],[1,"link",3,"click"],[3,"value"],[1,"turn-check",3,"ngModel","ngModelChange","change"],[1,"flop-row"],["class","flop left",3,"click",4,"ngIf"],["class","flop right",3,"click",4,"ngIf"],[1,"flop","left",3,"click"],[3,"cards"],[1,"turn-icon"],[1,"flop","right",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"Filter boards for training"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div",3),Ua(5,"app-card-filter",4,5),Ja("filter",function(t){return e.setCardFilter(t)}),qa(),Ua(7,"div",6),Ua(8,"div",7),Ua(9,"mat-form-field",8),Ua(10,"mat-label"),Ss(11,"Texture"),qa(),Ua(12,"mat-select",9),Ja("valueChange",function(t){return e.currentTextureFilter=t}),Na(13,ZL,2,2,"mat-option",10),qa(),qa(),Ua(14,"mat-form-field",8),Ua(15,"mat-label"),Ss(16,"Suits"),qa(),Ua(17,"mat-select",9),Ja("valueChange",function(t){return e.currentSuitFilter=t}),Na(18,JL,2,2,"mat-option",10),qa(),qa(),Ua(19,"mat-form-field",8),Ua(20,"mat-label"),Ss(21,"High Card"),qa(),Ua(22,"mat-select",9),Ja("valueChange",function(t){return e.currentHighCardFilter=t}),Na(23,XL,2,2,"mat-option",10),qa(),qa(),Na(24,tB,2,1,"mat-checkbox",11),qa(),Ua(25,"cdk-virtual-scroll-viewport",12),Na(26,iB,3,2,"div",13),qa(),qa(),qa(),qa(),Ua(27,"mat-dialog-actions",14),Ua(28,"a",15),Ja("click",function(){return e.startTraining()}),Ss(29),qa(),Ua(30,"a",15),Ja("click",function(){return e.exit()}),Ss(31,"Cancel"),qa(),qa()),2&t&&(so(5),Ha("isBoardFilter",!0),so(7),Ha("value",e.currentTextureFilter),so(1),Ha("ngForOf",e.textureFilterOptions),so(4),Ha("value",e.currentSuitFilter),so(1),Ha("ngForOf",e.suitFilterOptions),so(4),Ha("value",e.currentHighCardFilter),so(1),Ha("ngForOf",e.highCardFilterOptions),so(1),Ha("ngIf",e.anyoneHasTurns),so(1),Ha("itemSize",e.itemSize)("minBufferPx",20*e.itemSize)("maxBufferPx",40*e.itemSize),so(1),Ha("cdkVirtualForOf",e.currentFlopRows),so(2),gs("disabled",!e.canStartTraining),so(1),Ts("Start training ",e.numberOfBoards," boards"))},styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-form-field-infix{width:7rem!important}  .mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.filter-form[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{width:10rem!important}.random-board-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:.625rem;padding:.625rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   app-card-filter[_ngcontent-%COMP%]{width:11rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]{display:flex;flex-direction:row}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{width:8.125rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]{width:13.4375rem;height:18.75rem;max-height:18.75rem;overflow-y:auto;overflow-x:hidden}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;height:2.25rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:2rem;margin-right:.3125rem;padding:.185rem;margin-bottom:1px}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]:nth-child(2n){margin-right:0}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]   .turn-icon[_ngcontent-%COMP%]{visibility:hidden;margin-left:.125rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]   .turn-icon.visible[_ngcontent-%COMP%]{visibility:visible}.link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--link-color)}.link.disabled[_ngcontent-%COMP%]{cursor:unset;color:#888}.link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"],changeDetection:0}),rB),sB=["labelInput"],cB=((oB=function(){function t(e,n,i){f(this,t),this.dialogRef=e,this.data=n,this.store=i}return g(t,[{key:"ngOnInit",value:function(){var t=this.data.queryParams,e=t.type,n=t.tree,i=t.node,r=function(t){return t.filter(function(t){return!!t}).join(" - ")};if("preflop"===e){var o=w_(this.store.pipe(ob(F_(n))));this.label=r([f_(o.category),__(o,this.isFiveCard),i])}else{var a=this.data.queryParams,s=[a.flop,a.turn,a.river].filter(function(t){return!!t}).join(""),c=w_(this.store.pipe(ob(I_(n))));this.label=r([p_(c.category),__(c,this.isFiveCard),s,i])}}},{key:"isFiveCard",get:function(){return!1}},{key:"cancel",value:function(){this.dialogRef.close()}},{key:"confirm",value:function(){if(this.label.length>0){var t=this.data,e=t.path,n=t.queryParams,i={key:YI(),name:this.label,path:e,queryParams:n,dateCreatedISO:(new Date).toISOString()};this.store.dispatch(lk({favorite:i})),this.dialogRef.close()}else this.labelInput.nativeElement.focus()}}]),t}()).\u0275fac=function(t){return new(t||oB)(Va(pR),Va(CR),Va(ib))},oB.\u0275cmp=ne({type:oB,selectors:[["app-create-favorite-dialog"]],viewQuery:function(t,e){var n;1&t&&yl(sB,!0),2&t&&ml(n=xl())&&(e.labelInput=n.first)},decls:14,vars:3,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["color","accent",1,"card-filter-field"],["matInput","","type","text","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],["labelInput",""],["align","center"],[1,"confirm-link",3,"click"],[1,"dismiss-link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1,"Create favorite"),qa(),Ua(2,"mat-dialog-content",1),Ua(3,"p"),Ua(4,"mat-form-field",2),Ua(5,"mat-label"),Ss(6,"Label"),qa(),Ua(7,"input",3,4),Ja("ngModelChange",function(t){return e.label=t}),qa(),qa(),qa(),qa(),Ua(9,"mat-dialog-actions",5),Ua(10,"a",6),Ja("click",function(){return e.confirm()}),Ss(11,"Create"),qa(),Ua(12,"a",7),Ja("click",function(){return e.cancel()}),Ss(13,"Cancel"),qa(),qa()),2&t&&(so(7),Ha("ngModel",e.label),so(3),gs("disabled",!e.label))},directives:[ER,RR,XF,qF,cI,OC,rw,ex,FR],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}[_nghost-%COMP%]     .mat-form-field{width:30rem!important}  .mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.confirm-link.disabled[_ngcontent-%COMP%], .dismiss-link.disabled[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none;color:var(--text-color-disabled)}.confirm-link[_ngcontent-%COMP%]:hover:not(.disabled), .dismiss-link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),oB);function lB(t,e){var n=Math.max.apply(Math,C(e.filter(function(t){return t.overallFreq>=0}).map(function(t){return t.overallFreq})));return(null==t?void 0:t.overallFreq)>=n}var uB=function(t){return t.MUSTMOVE="MUSTMOVE",t.CORRECT="CORRECT",t.FREQ_CORRECT="FREQ_CORRECT",t.INACCURACY="INACCURACY",t.MISTAKE="MISTAKE",t.FREQ_MISTAKE="FREQ_MISTAKE",t.BLUNDER="BLUNDER",t}({}),hB=[uB.MUSTMOVE,uB.CORRECT,uB.FREQ_CORRECT,uB.INACCURACY,uB.MISTAKE,uB.FREQ_MISTAKE,uB.BLUNDER];function dB(t,e,n){return n?e>5?uB.MUSTMOVE:uB.CORRECT:t>3?uB.BLUNDER:t>1.5?uB.MISTAKE:uB.INACCURACY}function fB(t){return t?uB.FREQ_CORRECT:uB.FREQ_MISTAKE}function pB(t){return[uB.CORRECT,uB.FREQ_CORRECT,uB.MUSTMOVE].includes(t)}function gB(t){return[uB.INACCURACY,uB.FREQ_MISTAKE,uB.MISTAKE,uB.BLUNDER].includes(t)}function vB(t){switch(t){case uB.MUSTMOVE:case uB.FREQ_CORRECT:case uB.CORRECT:return"Correct";case uB.INACCURACY:case uB.FREQ_MISTAKE:case uB.MISTAKE:case uB.BLUNDER:return"Mistake"}}function mB(t,e){var n=Object.assign({},t);if(e){var i=e.minFrequency,r=e.minWeight,o=e.evDiff,a=e.evSpread;+i>=0?n.minFrequency=i:delete n.minFrequency,+r>=0?n.minWeight=r:delete n.minWeight,isNaN(+o)||(n.evDiff=o),isNaN(null==a?void 0:a.min)||isNaN(null==a?void 0:a.max)?(delete n.minEV,delete n.maxEV):(n.minEV=a.min,n.maxEV=a.max)}return n}function yB(t,e){var n=Object.assign({},t);if(e){var i=e.minFrequency,r=e.minWeight,o=e.evSpread,a=e.evDiff,s=e.selectBalanced;85!=+i?n.minFrequency=i:delete n.minFrequency,.5!=+r?n.minWeight=r:delete n.minWeight,isNaN(+a)||(n.evDiff=a),isNaN(+(null==o?void 0:o.min))||isNaN(+(null==o?void 0:o.max))?(delete n.minEV,delete n.maxEV):(n.minEV=o.min,n.maxEV=o.max),!0!==s?n.selection=s?"balanced":"random":delete n.selection}return n}var bB,_B=((bB=function(){function t(e,n){f(this,t),this.dialogRef=e,this.data=n}return g(t,[{key:"dismiss",value:function(){this.dialogRef.close(!1)}},{key:"confirm",value:function(){this.dialogRef.close(!0)}},{key:"openShop",value:function(){window.open(xI)}}]),t}()).\u0275fac=function(t){return new(t||bB)(Va(pR),Va(CR))},bB.\u0275cmp=ne({type:bB,selectors:[["app-daily-training-limit-dialog"]],decls:15,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link","shop",3,"click"],[1,"link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"Daily training limit"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div"),Ua(5,"p"),Ua(6,"b"),Ss(7,"You have reached your limit of daily free training."),qa(),qa(),Ua(8,"p"),Ss(9,"Come back tomorrow, or upgrade for unlimited access."),qa(),qa(),qa(),Ua(10,"mat-dialog-actions",3),Ua(11,"a",4),Ja("click",function(){return e.openShop()}),Ss(12,"Upgrade now"),qa(),Ua(13,"a",5),Ja("click",function(){return e.dismiss()}),Ss(14,"Close"),qa(),qa())},directives:[ER,RR,FR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),bB);function kB(t){return Array.from(new Set(t))}var CB,wB,xB=((wB=function(){function e(t,n){f(this,e),this.http=t,this.store=n}return g(e,[{key:"baseUrl",get:function(){return""+Su}},{key:"loadPreflopTrees",value:function(){var t=this;return tt(this.http.get(this.baseUrl+"/preflop/tree")).pipe(W(function(e){return t.getPreflopTreeList(e)}))}},{key:"loadPostflopTrees",value:function(){var t=this;return tt(this.http.get(this.baseUrl+"/postflop/tree")).pipe(W(function(e){return t.getPostflopTreeList(e)}))}},{key:"loadPreflopTree",value:function(t){return tt(this.loadPreflopTreeDirect(t)).pipe(oy(this.store.pipe(ob(F_(t)))),W(function(e){var n=y(e,2),i=n[0],r=n[1];return Object.assign(Object.assign(Object.assign({},r),i),{key:t,type:h_.preflop})}))}},{key:"loadPreflopTreeDirect",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get(this.baseUrl+"/preflop/tree/"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},n,this)}))}},{key:"loadPostflopTree",value:function(t,e,n,i,r){var o=this,a={};return e&&(a.flop=e,n&&(a.turn=n,i&&(a.river=i))),r&&(a.transition=r),!t.boards&&e?tt(this.http.get(this.baseUrl+"/postflop/tree/"+t.key)).pipe(gf(function(e){return tt(o.http.get(o.baseUrl+"/postflop/tree/"+t.key,a)).pipe(W(function(t){var n=o.getEnrichedFlops(e.boards);return Object.assign(Object.assign(Object.assign({},e),t),{selectableFlops:n})}))})):tt(this.http.get(this.baseUrl+"/postflop/tree/"+t.key,a)).pipe(W(function(e){var n=o.getEnrichedFlops(t.boards&&"string"!=typeof t?t.boards:e.boards);return Object.assign(Object.assign(Object.assign({},Object.assign(Object.assign({},t),{flop:void 0,turn:void 0,river:void 0})),e),{selectableFlops:n})}))}},{key:"getPreflopTreeList",value:function(t){return{categories:kB(t.map(function(t){return t.groupByCategory})).map(function(e){var n=t.filter(function(t){return t.groupByCategory===e}),i=kB(n.map(function(t){return t.profileOrder}).sort()).map(function(t){var e=n.filter(function(e){return e.profileOrder===t}).map(function(t){return Object.assign({},t)}).sort(function(t,e){return t.stack-e.stack});return{label:e[0].profile,trees:e}}),r=i.every(function(t){return t.trees.every(function(t){return t.isLocked})});return{label:e,profiles:i,isLocked:r}})}}},{key:"getPostflopTreeList",value:function(t){return{categories:kB(t.map(function(t){return t.groupByCategory})).map(function(e){var n=t.filter(function(t){return t.groupByCategory===e}),i=n.every(function(t){return t.isLocked});return{label:e,trees:n,isLocked:i}})}}},{key:"getEnrichedFlops",value:function(t){return t?Object.keys(t).map(function(e){var n=Object(LA.parseCards)(e);return{cards:n,hasTurn:Object.keys(t[e]).length>0,classifications:Object(LA.classifyPreflopCards)(n)}}):[]}},{key:"getAndResetPathToNode",value:function(){var t=this.pathToNode;return this.pathToNode=null,t}},{key:"goToNode",value:function(t,e,n,i){this.pathToNode={path:t,flop:e,turn:n,river:i}}}]),e}()).\u0275fac=function(t){return new(t||wB)(Ti(kD),Ti(ib))},wB.\u0275prov=Pt({token:wB,factory:wB.\u0275fac,providedIn:"root"}),wB),PB=((CB=function(){function e(t,n,i,r){var o=this;f(this,e),this.store=t,this.http=n,this.feature=i,this.route=r,this.isLoadingPreflopLookup=!1,this.isLoadingPostflopLookup=!1,this.store.pipe(ob(Dk)).subscribe(function(t){o.preflopBucketGroups=t}),this.store.pipe(ob(Lk)).subscribe(function(t){o.postflopBucketGroups=t}),this.postflopBucketLookup={}}return g(e,[{key:"isFiveCard",get:function(){return!1}},{key:"baseUrl",get:function(){return this.isFiveCard?Su+"/fivecard":""+Su}},{key:"clearPreflopBucketLookup",value:function(){this.preflopBucketLookups=null}},{key:"clearPostflopBucketLookup",value:function(){this.postflopBucketLookup=null}},{key:"hasPreflopBucketLookup",value:function(t){var e;return(null===(e=this.preflopBucketLookups)||void 0===e?void 0:e.length)>0}},{key:"hasPostflopBucketLookup",value:function(t,e){var n;return(null===(n=this.postflopBucketLookup)||void 0===n?void 0:n.board)===e}},{key:"getPreparedPreflopLookup",value:function(){return this.preflopBucketLookups}},{key:"loadPreflopLookup",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.preflopBucketLookups&&0!==this.preflopBucketLookups.length,t.t0){t.next=4;break}return t.next=4,this.loadPreflopBucketLookup();case 4:return t.abrupt("return",this.preflopBucketLookups);case 5:case"end":return t.stop()}},e,this)}))}},{key:"getPreflopLookup",value:function(){return this.preflopBucketLookups}},{key:"loadPreflopBuckets",value:function(){var t=this;return tt(this.http.get(this.baseUrl+"/preflop/bucket")).pipe(W(function(e){return e.map(function(e){return t.addKey(e)})}))}},{key:"loadPostflopBuckets",value:function(){var t=this;return tt(this.http.get(this.baseUrl+"/postflop/bucket")).pipe(W(function(e){return e.map(function(e){return t.addKey(e)})}))}},{key:"addKey",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=n?"".concat(n,".").concat(t.id):""+t.id;if(t.children){var r=t.children.map(function(t){return e.addKey(t,i)});return Object.assign(Object.assign({},t),{children:r,key:i})}return Object.assign(Object.assign({},t),{key:i})}},{key:"loadPreflopBucketLookup",value:function(){var e;return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isLoadingPreflopLookup){t.next=8;break}case 1:if(this.preflopBucketLookups){t.next=6;break}return t.next=4,kx(250);case 4:t.next=1;break;case 6:t.next=29;break;case 8:if((null===(e=this.preflopBucketLookups)||void 0===e?void 0:e.length)>0){t.next=29;break}if(this.isLoadingPreflopLookup=!0,t.prev=10,!this.isFiveCard){t.next=22;break}return i=[this.http.get(this.baseUrl+"/preflop/bucket/lookup/1"),this.http.get(this.baseUrl+"/preflop/bucket/lookup/2")],t.next=15,Promise.all(i);case 15:r=t.sent,o=y(r,2),a=o[0],s=o[1],this.preflopBucketLookups=[new Map(Object.entries(a)),new Map(Object.entries(s))],t.next=26;break;case 22:return t.next=24,this.http.get(this.baseUrl+"/preflop/bucket/lookup");case 24:c=t.sent,this.preflopBucketLookups=[new Map(Object.entries(c))];case 26:return t.prev=26,this.isLoadingPreflopLookup=!1,t.finish(26);case 29:case"end":return t.stop()}},n,this,[[10,,26,29]])}))}},{key:"segmentPreflopRange",value:function(e,n){var i;return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h,d,f=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null!==(i=this.route.snapshot.queryParamMap.get("node"))&&void 0!==i?i:"",a=w_(this.store.pipe(ob(R_),vf(function(t){return!!t}),W(function(t){return t.key}))),!this.isFiveCard||e){t.next=19;break}return t.prev=2,t.next=5,this.http.get("".concat(this.baseUrl,"/preflop/").concat(a,"/").concat(o,"/bucket"));case 5:return s=t.sent,c=s.url,t.t0=a,t.t1=o,t.next=11,this.http.get(c,{},!0);case 11:return t.t2=t.sent,t.abrupt("return",{tree:t.t0,node:t.t1,bucketGroups:t.t2});case 15:t.prev=15,t.t3=t.catch(2),console.warn(t.t3.error);case 18:return t.abrupt("return",{tree:a,node:o,bucketGroups:[]});case 19:if(t.t4=this.preflopBucketLookups,t.t4){t.next=23;break}return t.next=23,this.loadPreflopBucketLookup();case 23:return l=e.ranges.sort(function(t,e){return FD(t.action,e.action)}).map(function(t){var e=xD(t).map(function(t){var e=f.lookupPreflopBuckets(NA(t));return{weight:qA(t)*UA(t),freq:VA(t),bucketIds:e}});return Object.assign(Object.assign({},t),{items:e})}),u=l.map(function(t){return t.items.map(function(t){return t.weight}).reduce(function(t,e){return t+e},0)}).reduce(function(t,e){return t+e},0),n?(d=this.getBucketsForHand(n,this.preflopBucketLookups),h=(null==d?void 0:d.length)>0?[this.findBucketGroupForBucket(!1,this.preflopBucketGroups,d)]:[],h=(null==d?void 0:d.length)>0?[this.findBucketGroupForBucket(!1,this.preflopBucketGroups,d)]:[this.getBucketGroupForHand(n,null,this.preflopBucketGroups)]):h=this.preflopBucketGroups,t.abrupt("return",{tree:a,node:o,bucketGroups:this.processBucketGroups(h,l,u).sort(function(t,e){return t.id-e.id})});case 26:case"end":return t.stop()}},r,this,[[2,15]])}))}},{key:"lookupPreflopBuckets",value:function(t){var e,n=Object(LA.cardsToString)(Object(LA.parseCards)(t)),i=k(this.preflopBucketLookups);try{for(i.s();!(e=i.n()).done;){var r=e.value.get(n);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return[]}},{key:"segmentPostflopRange",value:function(e,n,i,r){var o,a,s;return Gm(this,void 0,void 0,t().mark(function c(){var l,u,h,d,f,p,g,v,m,y,b,_,k,C,w,x,P;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=null!==(o=this.route.snapshot.queryParamMap.get("node"))&&void 0!==o?o:"",u=w_(this.store.pipe(ob(R_),W(function(t){return t.key}))),!this.isFiveCard){t.next=31;break}h=12,d=5,f=1;case 4:if(!(f<=h)){t.next=30;break}return t.prev=5,p=r||l,t.next=9,this.tryToLoadPostflopBucketChart(u,p,e);case 9:if(g=t.sent,!i){t.next=17;break}if(t.t0=(null===(a=this.postflopBucketLookup)||void 0===a?void 0:a.board)!==e,!t.t0){t.next=15;break}return t.next=15,this.loadPostflopBucketLookup(e);case 15:return v=this.postflopBucketLookup.lookup||new Map([]),m=this.getBucketsForHand(i,[v]),t.abrupt("return",(null==m?void 0:m.length)>0?{tree:u,node:p,bucketGroups:[this.findBucketGroupForBucket(!0,g,m)]}:{tree:u,node:p,bucketGroups:[this.getBucketGroupForHand(i,Object(LA.parseCards)(e),this.postflopBucketGroups)]});case 17:return t.abrupt("return",{tree:u,node:p,bucketGroups:g});case 20:if(t.prev=20,t.t1=t.catch(5),console.log("Could not load chart ... waiting ".concat(d,"s before trying again"),f),t.t2=f<h,!t.t2){t.next=27;break}return t.next=27,kx(1e3*d);case 27:f+=1;case 28:t.next=4;break;case 30:return t.abrupt("return",{tree:u,node:l,bucketGroups:[]});case 31:if((null===(s=this.postflopBucketLookup)||void 0===s?void 0:s.board)===e){t.next=54;break}y=12,b=5,_=1;case 34:if(!(_<=y)){t.next=54;break}return t.prev=35,t.next=38,this.loadPostflopBucketLookup(e);case 38:return t.abrupt("break",54);case 41:if(t.prev=41,t.t3=t.catch(35),404===t.t3.status){t.next=46;break}return console.error(t.t3.error),t.abrupt("break",54);case 46:if(console.log("Could not load lookup ... waiting ".concat(b,"s before trying again"),_),t.t4=_<y,!t.t4){t.next=51;break}return t.next=51,kx(1e3*b);case 51:_+=1;case 52:t.next=34;break;case 54:return k=this.postflopBucketLookup.lookup||new Map([]),C=n.ranges.sort(function(t,e){return FD(t.action,e.action)}).map(function(t){var e=xD(t).map(function(t){var e=k.get(NA(t))||[];return{weight:qA(t)*UA(t),freq:VA(t),bucketIds:e}});return Object.assign(Object.assign({},t),{items:e})}),w=C.map(function(t){return t.items.map(function(t){return t.weight}).reduce(function(t,e){return t+e},0)}).reduce(function(t,e){return t+e},0),i?(P=this.getBucketsForHand(i,[k]),x=(null==P?void 0:P.length)>0?[this.findBucketGroupForBucket(!0,this.postflopBucketGroups,P)]:[this.getBucketGroupForHand(i,Object(LA.parseCards)(e),this.postflopBucketGroups)]):x=this.postflopBucketGroups,t.abrupt("return",{tree:u,node:l,bucketGroups:this.processBucketGroups(x,C,w).sort(function(t,e){return t.id-e.id})});case 57:case"end":return t.stop()}},c,this,[[5,20],[35,41]])}))}},{key:"getBucketsForHand",value:function(t,e){var n=function(t){var n,i=k(e);try{for(i.s();!(n=i.n()).done;){var r=n.value.get(t);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null},i=n(Object(LA.cardsToString)(t,!1));return i&&0!==i.length||(i=n(Object(LA.cardsToString)(t,!0))),i||[]}},{key:"getBucketGroupForHand",value:function(t,e,n){var i,r,o=!!e,a=[t,o?Object(LA.classifyPostflopCardsAndBoard)(t,e):Object(LA.classifyPreflopCards)(t),Object(LA.cardsToString)(t,!1)],s=k(n);try{for(s.s();!(r=s.n()).done;){var c=r.value;if(1===(null===(i=Object(LA.filterItems)(o,[a],c.syntax).items)||void 0===i?void 0:i.length))return c}}catch(l){s.e(l)}finally{s.f()}}},{key:"tryToLoadPostflopBucketChart",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("".concat(this.baseUrl,"/postflop/").concat(e,"/").concat(n,"/").concat(i,"/bucket"));case 2:return o=t.sent,a=o.url,t.next=6,this.http.get(a,{},!0);case 6:return s=t.sent,c=w_(this.store.pipe(ob(Lk))),t.abrupt("return",this.checkAndReplaceLabels(s,c));case 9:case"end":return t.stop()}},r,this)}))}},{key:"findBucketGroupForBucket",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e||!n)return null;var i,r=k(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.buckets){var a=o.buckets.find(function(t){return n.includes(t.id)});if(a){var s=o.label!==a.label?"".concat(o.label," > ").concat(a.label):o.label,c=bk(o,a);return Object.assign(Object.assign({},a),{key:"$C"+c,label:s,buckets:[a]})}}else{var l,u=k(o.children);try{for(u.s();!(l=u.n()).done;){var h=l.value;if(h.buckets){var d=h.buckets.find(function(t){return n.includes(t.id)});if(d){for(var f=t?[h.label,d.label]:[o.label,h.label,d.label],p=[],g=0,v=f;g<v.length;g++){var m=v[g];p.includes(m)||p.push(m)}var y=bk(h,d);return Object.assign(Object.assign({},d),{key:"$C"+y,label:p.join(" > "),buckets:[d]})}}}}catch(b){u.e(b)}finally{u.f()}}}}catch(b){r.e(b)}finally{r.f()}}},{key:"loadPostflopBucketLookup",value:function(e){var n;return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isLoadingPostflopLookup){t.next=8;break}case 1:if(this.postflopBucketLookup){t.next=6;break}return t.next=4,kx(250);case 4:t.next=1;break;case 6:t.next=28;break;case 8:if((null===(n=this.postflopBucketLookup)||void 0===n?void 0:n.board)===e){t.next=28;break}if(t.prev=9,!this.isFiveCard){t.next=21;break}return t.next=13,this.http.get("".concat(this.baseUrl,"/postflop/board/").concat(e,"/bucket/lookup"));case 13:return r=t.sent,o=r.url,t.next=17,this.http.get(o,{},!0);case 17:a=t.sent,this.postflopBucketLookup={board:e,lookup:new Map(Object.entries(a))},t.next=25;break;case 21:return t.next=23,this.http.get("".concat(Su,"/postflop/board/").concat(e,"/bucket/lookup"));case 23:s=t.sent,this.postflopBucketLookup={board:e,lookup:new Map(Object.entries(s))};case 25:return t.prev=25,this.isLoadingPostflopLookup=!1,t.finish(25);case 28:case"end":return t.stop()}},i,this,[[9,,25,28]])}))}},{key:"processBucketGroups",value:function(t,e,n){var i=this;return t.map(function(t){if(t.children){var r=i.processBucketGroups(t.children,e,n),o=r.map(function(t){return _k(t)}).reduce(function(t,e){return[].concat(C(t),C(e))},[]),a=i.calculateBucketGroupValues(o,e),s=o.map(function(t){return t.totalWeight}).reduce(function(t,e){return t+e},0);return{key:t.key,id:t.id,label:t.label,syntax:t.syntax,canExpand:t.children.length>1,children:r,values:a,totalItems:o.map(function(t){return t.totalItems}).reduce(function(t,e){return t+e},0),percentOfRangeInBucket:s/n}}var c=t.buckets.map(function(t){return i.calculateBucket(t,e,n)}).filter(function(t){return t.totalItems>0}),l=i.calculateBucketGroupValues(t.buckets,e),u=c.map(function(t){return t.totalWeight}).reduce(function(t,e){return t+e},0);return{key:t.key,id:t.id,label:t.label,syntax:t.syntax,canExpand:t.buckets.length>1,buckets:c,values:l,totalItems:c.map(function(t){return t.totalItems}).reduce(function(t,e){return t+e},0),percentOfRangeInBucket:u/n}})}},{key:"calculateBucketGroupValues",value:function(t,e){var n=e.map(function(e){return{action:e.action,items:e.items.filter(function(e){return t.find(function(t){return e.bucketIds.includes(t.id)})})}}),i=n.map(function(t){return t.items.map(function(t){return t.weight}).reduce(function(t,e){return t+e},0)}).reduce(function(t,e){return t+e},0);return n.map(function(t){var e=t.items.map(function(t){return t.weight}).reduce(function(t,e){return t+e},0);return{action:t.action,overallFreq:e/i}})}},{key:"calculateBucket",value:function(t,e,n){var i=e.map(function(e){return{action:e.action,items:e.items.filter(function(e){return e.bucketIds.includes(t.id)})}}),r=i.map(function(t){return t.items.map(function(t){return t.weight}).reduce(function(t,e){return t+e},0)}).reduce(function(t,e){return t+e},0),o=i.map(function(t){var e=t.items.map(function(t){return t.weight}).reduce(function(t,e){return t+e},0);return{action:t.action,overallFreq:e/r,totalItems:t.items.length,totalWeight:e}});return Object.assign(Object.assign({},t),{values:o,totalItems:o.map(function(t){return t.totalItems}).reduce(function(t,e){return t+e},0),totalWeight:r,percentOfRangeInBucket:r/n})}},{key:"checkAndReplaceLabels",value:function(t,e){var n,i,r,o,a=k(t);try{var s=function(){var t=o.value,a=e.find(function(e){return e.id===t.id});if(t.label=a.label||t.label,(null===(n=t.children)||void 0===n?void 0:n.length)>0){var s,c=k(t.children);try{var l=function(){var t=s.value,e=a.children.find(function(e){return e.id===t.id});if(t.label=e.label||t.label,(null===(i=t.buckets)||void 0===i?void 0:i.length)>0){var n,r=k(t.buckets);try{var o=function(){var t=n.value,i=e.buckets.find(function(e){return e.id===t.id});t.label=i.label||t.label};for(r.s();!(n=r.n()).done;)o()}catch(c){r.e(c)}finally{r.f()}}};for(c.s();!(s=c.n()).done;)l()}catch(f){c.e(f)}finally{c.f()}}if((null===(r=t.buckets)||void 0===r?void 0:r.length)>0){var u,h=k(t.buckets);try{var d=function(){var t=u.value,e=a.buckets.find(function(e){return e.id===t.id});t.label=e.label||t.label};for(h.s();!(u=h.n()).done;)d()}catch(f){h.e(f)}finally{h.f()}}};for(a.s();!(o=a.n()).done;)s()}catch(c){a.e(c)}finally{a.f()}return t}}]),e}()).\u0275fac=function(t){return new(t||CB)(Ti(ib),Ti(kD),Ti(aF),Ti(nv))},CB.\u0275prov=Pt({token:CB,factory:CB.\u0275fac,providedIn:"root"}),CB);function OB(t,e){if(1&t){var n=Qa();Ua(0,"div",1),Ua(1,"button",2),Ja("click",function(){return Qe(n),is().action()}),Ss(2),qa(),qa()}if(2&t){var i=is();so(2),Ms(i.data.action)}}function SB(t,e){}var MB,TB,EB,RB,FB,IB,AB,DB=new ci("MatSnackBarData"),LB=g(function t(){f(this,t),this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}),BB=Math.pow(2,31)-1,NB=function(){function t(e,n){var i=this;f(this,t),this._overlayRef=n,this._afterDismissed=new z,this._afterOpened=new z,this._onAction=new z,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(function(){return i.dismiss()}),e._onExit.subscribe(function(){return i._finishDismiss()})}return g(t,[{key:"dismiss",value:function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}},{key:"dismissWithAction",value:function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}},{key:"closeWithAction",value:function(){this.dismissWithAction()}},{key:"_dismissAfter",value:function(t){var e=this;this._durationTimeoutId=setTimeout(function(){return e.dismiss()},Math.min(t,BB))}},{key:"_open",value:function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}},{key:"_finishDismiss",value:function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}},{key:"afterDismissed",value:function(){return this._afterDismissed}},{key:"afterOpened",value:function(){return this.containerInstance._onEnter}},{key:"onAction",value:function(){return this._onAction}}]),t}(),jB=((MB=function(){function t(e,n){f(this,t),this.snackBarRef=e,this.data=n}return g(t,[{key:"action",value:function(){this.snackBarRef.dismissWithAction()}},{key:"hasAction",get:function(){return!!this.data.action}}]),t}()).\u0275fac=function(t){return new(t||MB)(Va(NB),Va(DB))},MB.\u0275cmp=ne({type:MB,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(Ua(0,"span"),Ss(1),qa(),Na(2,OB,3,1,"div",0)),2&t&&(so(1),Ms(e.data.message),so(1),Ha("ngIf",e.hasAction))},directives:[Kh,pI],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),MB),VB={snackBarState:qS("state",[KS("void, hidden",GS({transform:"scale(0.8)",opacity:0})),KS("visible",GS({transform:"scale(1)",opacity:1})),QS("* => visible",WS("150ms cubic-bezier(0, 0, 0.2, 1)")),QS("* => void, * => hidden",WS("75ms cubic-bezier(0.4, 0.0, 1, 1)",GS({opacity:0})))])},HB=((EB=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a){var s;return f(this,n),(s=e.call(this))._ngZone=t,s._elementRef=i,s._changeDetectorRef=r,s._platform=o,s.snackBarConfig=a,s._announceDelay=150,s._destroyed=!1,s._onAnnounce=new z,s._onExit=new z,s._onEnter=new z,s._animationState="void",s.attachDomPortal=function(t){return s._assertNotAttached(),s._applySnackBarClasses(),s._portalOutlet.attachDomPortal(t)},s._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",s}return g(n,[{key:"attachComponentPortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}},{key:"onAnimationEnd",value:function(t){var e=t.fromState,n=t.toState;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){var i=this._onEnter;this._ngZone.run(function(){i.next(),i.complete()})}}},{key:"enter",value:function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}},{key:"exit",value:function(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}},{key:"ngOnDestroy",value:function(){this._destroyed=!0,this._completeExit()}},{key:"_completeExit",value:function(){var t=this;this._ngZone.onMicrotaskEmpty.pipe(Ip(1)).subscribe(function(){t._onExit.next(),t._onExit.complete()})}},{key:"_applySnackBarClasses",value:function(){var t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(function(e){return t.classList.add(e)}):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}},{key:"_assertNotAttached",value:function(){this._portalOutlet.hasAttached()}},{key:"_screenReaderAnnounce",value:function(){var t=this;this._announceTimeoutId||this._ngZone.runOutsideAngular(function(){t._announceTimeoutId=setTimeout(function(){var e=t._elementRef.nativeElement.querySelector("[aria-hidden]"),n=t._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){var i=null;t._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),null==i||i.focus(),t._onAnnounce.next(),t._onAnnounce.complete()}},t._announceDelay)})}}]),n}(nO)).\u0275fac=function(t){return new(t||EB)(Va(Yl),Va(ec),Va(xc),Va(aP),Va(LB))},EB.\u0275cmp=ne({type:EB,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&yl(rO,!0),2&t&&ml(n=xl())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&Xa("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&Is("@state",e._animationState)},features:[wa],decls:3,vars:1,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(Ua(0,"div",0),Na(1,SB,0,0,"ng-template",1),qa(),Wa(2,"div")),2&t&&(so(2),La("aria-live",e._live))},directives:[rO],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[VB.snackBarState]}}),EB),zB=((TB=g(function t(){f(this,t)})).\u0275mod=se({type:TB}),TB.\u0275inj=Ot({factory:function(t){return new(t||TB)},imports:[[ZO,sO,xd,gI,_E],_E]}),TB),UB=new ci("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new LB}}),qB=((AB=function(){function t(e,n,i,r,o,a){f(this,t),this._overlay=e,this._live=n,this._injector=i,this._breakpointObserver=r,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=jB,this.snackBarContainerComponent=HB,this.handsetCssClass="mat-snack-bar-handset"}return g(t,[{key:"_openedSnackBarRef",get:function(){var t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel},set:function(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}},{key:"openFromComponent",value:function(t,e){return this._attach(t,e)}},{key:"openFromTemplate",value:function(t,e){return this._attach(t,e)}},{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage===t&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}},{key:"dismiss",value:function(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}},{key:"ngOnDestroy",value:function(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}},{key:"_attachSnackBarContainer",value:function(t,e){var n=ka.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:LB,useValue:e}]}),i=new XP(this.snackBarContainerComponent,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}},{key:"_attach",value:function(t,e){var n=this,i=Object.assign(Object.assign(Object.assign({},new LB),this._defaultConfig),e),r=this._createOverlay(i),o=this._attachSnackBarContainer(r,i),a=new NB(o,r);if(t instanceof Ec){var s=new tO(t,null,{$implicit:i.data,snackBarRef:a});a.instance=o.attachTemplatePortal(s)}else{var c=this._createInjector(i,a),l=new XP(t,void 0,c),u=o.attachComponentPortal(l);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Gx(r.detachments())).subscribe(function(t){var e=r.overlayElement.classList;t.matches?e.add(n.handsetCssClass):e.remove(n.handsetCssClass)}),i.announcementMessage&&o._onAnnounce.subscribe(function(){n._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}},{key:"_animateSnackBar",value:function(t,e){var n=this;t.afterDismissed().subscribe(function(){n._openedSnackBarRef==t&&(n._openedSnackBarRef=null),e.announcementMessage&&n._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(function(){t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(function(){return t._dismissAfter(e.duration)})}},{key:"_createOverlay",value:function(t){var e=new wO;e.direction=t.direction;var n=this._overlay.position().global(),i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,o=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}},{key:"_createInjector",value:function(t,e){return ka.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:NB,useValue:e},{provide:DB,useValue:t.data}]})}}]),t}()).\u0275fac=function(t){return new(t||AB)(Ti(WO),Ti(TS),Ti(ka),Ti(lA),Ti(AB,12),Ti(UB))},AB.\u0275prov=Pt({factory:function(){return new AB(Ti(WO),Ti(TS),Ti(oa),Ti(lA),Ti(AB,12),Ti(UB))},token:AB,providedIn:zB}),AB),WB=((IB=function(e){a(i,e);var n=c(i);function i(t,e,r,o,a){var s;return f(this,i),(s=n.call(this,t,e,o,r)).snackBar=a,s}return g(i,[{key:"initPreflop",value:function(e,n){var o=this,a=Object.create(null,{initPreflop:{get:function(){return r(d(i.prototype),"initPreflop",o)}}});return Gm(this,void 0,void 0,t().mark(function i(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.initPreflop.call(this,e,n);case 2:this.nodePath=n,this.bucketMacros=w_(this.store.pipe(ob(Bk)));case 4:case"end":return t.stop()}},i,this)}))}},{key:"initPostflop",value:function(e,n,o,a,s){var c=this,l=Object.create(null,{initPostflop:{get:function(){return r(d(i.prototype),"initPostflop",c)}}});return Gm(this,void 0,void 0,t().mark(function i(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.initPostflop.call(this,e,n,o,a,s);case 2:this.nodePath=n,this.bucketMacros=[];case 4:case"end":return t.stop()}},i,this)}))}},{key:"reset",value:function(){r(d(i.prototype),"reset",this).call(this),this.currentRange=null}},{key:"resetHands",value:function(){this.actionsWithHands=null}},{key:"nextHand",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h,d;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!this.currentRange,!t.t0){t.next=8;break}return this.canSelectBalanced=!0,t.next=5,this.loadRangeForSituation(this.currentSituation,this.nodePath);case 5:this.currentRange=t.sent,this.rangeValues=RL(this.currentRange.ranges),t.t0=!this.currentRange;case 8:if(!t.t0){t.next=10;break}return t.abrupt("return",null);case 10:if(this.actionsWithHands){t.next=35;break}if(a=this.getAllClassificationsForFilter(e,this.bucketMacros,this.isPostFlop),s=this.isPostFlop?[]:this.getAllBucketsForFilter(e,this.bucketMacros,this.isPostFlop),c=this.requiresLoadingClassifications(a,this.board),t.t1=s.length>0,!t.t1){t.next=17;break}return t.next=16,this.bucketService.loadPreflopLookup();case 16:this.bucketLookups=t.sent;case 17:if(!c){t.next=30;break}if(!this.isPostFlop){t.next=24;break}return t.next=21,this.rangeService.loadPostflopClassificationLookup(this.board);case 21:l=this.rangeService.updatePostflopFilterItems(this.currentRange.filterItems,this.board),t.next=27;break;case 24:return t.next=26,this.rangeService.loadPreflopClassificationLookup();case 26:l=this.rangeService.updatePreflopFilterItems(this.currentRange.filterItems);case 27:this.currentRange=Object.assign(Object.assign({},this.currentRange),{filterItems:l}),t.next=31;break;case 30:a.length>0&&(u=this.isPostFlop?this.rangeService.updatePostflopFilterItems(this.currentRange.filterItems,this.board):this.rangeService.updatePreflopFilterItems(this.currentRange.filterItems),this.currentRange.filterItems=u);case 31:if(h=this.getHandFromRange(this.currentSituation,this.currentRange,e,n),n.selectBalanced&&!ML(h.actionsWithHands)&&this.snackBar.open("Can not select balanced hands for this range!",null,{duration:5e3}),!h.error){t.next=34;break}return t.abrupt("return",{hand:null,error:h.error});case 34:this.actionsWithHands=h.actionsWithHands,o=h.hand;case 35:return o=(null==i?void 0:i.length)>0?wL(i):n.selectBalanced&&ML(this.actionsWithHands)?TL(this.actionsWithHands):EL(this.actionsWithHands),o=Object.assign(Object.assign({},o),{rangeValues:this.rangeValues}),t.next=38,this.getBucketValues(this.board,o.hand,this.currentRange.ranges);case 38:return d=t.sent,t.abrupt("return",{hand:Object.assign(Object.assign({},o),{bucket:d})});case 40:case"end":return t.stop()}},r,this)}))}},{key:"board",get:function(){if(this.isPostFlop){var t=this.tree,e=t.flop,n=t.turn,i=t.river;return[].concat(C(e),[n,i]).filter(function(t){return!!t}).map(LA.cardToString).join("")}return null}}]),i}(OL)).\u0275fac=function(t){return new(t||IB)(Ti(xB),Ti(OD),Ti(ib),Ti(PB),Ti(qB))},IB.\u0275prov=Pt({token:IB,factory:IB.\u0275fac,providedIn:"root"}),IB),$B=((FB=function(){function t(e){f(this,t),this.dialogRef=e}return g(t,[{key:"confirm",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||FB)(Va(pR))},FB.\u0275cmp=ne({type:FB,selectors:[["app-invalid-random-boards-dialog"]],decls:12,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"Invalid boards for filter!"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div"),Ua(5,"p"),Ss(6,"There are no valid boards for your selected filter!"),qa(),Ua(7,"p"),Ss(8,"Please change your board selection and/or your hand filter!"),qa(),qa(),qa(),Ua(9,"mat-dialog-actions",3),Ua(10,"a",4),Ja("click",function(){return e.confirm()}),Ss(11,"Close"),qa(),qa())},directives:[ER,RR,FR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),FB),GB=((RB=function(e){a(i,e);var n=c(i);function i(t,e,r,o,a,s,c){var l;return f(this,i),(l=n.call(this,t,e,r,o)).dialog=a,l.router=s,l.route=c,l.boards=[],l.handsInPreparation=0,l}return g(i,[{key:"isPreparing",get:function(){return this.handsInPreparation>=3}},{key:"reset",value:function(){r(d(i.prototype),"reset",this).call(this)}},{key:"isPostFlop",get:function(){return!0}},{key:"init",value:function(e,n,i,r,o){return Gm(this,void 0,void 0,t().mark(function a(){var s,c,l,u,h,d,f,p,g;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.baseTree=e,!o){t.next=5;break}s=Object(LA.parseCards)(r),c=this.getSelectableRivers(s,o),this.boards=c.map(function(t){return[].concat(C(s),[o,t])}),t.next=18;break;case 5:if(!r){t.next=14;break}return l=Object(LA.parseCards)(r),t.next=9,this.treeService.loadPostflopTree(e,r).toPromise();case 9:u=t.sent,h=this.getSelectableTurns(u.boards,l,n),this.boards=h.map(function(t){return[].concat(C(l),[t])}),t.next=18;break;case 14:return t.next=16,this.treeService.loadPostflopTree(e).toPromise();case 16:d=t.sent.selectableFlops.filter(function(t){return tD(t.cards)}),i?(f=d.map(function(t){var e=t.cards;return[e,t.classifications,e.join("")]}),p=Object(LA.filterItems)(!1,f,i),g=p.items,this.boards=g.map(function(t){return t[0]})):this.boards=d.map(function(t){return t.cards});case 18:this.pathToNode=n&&n.length>0?n:null,this.handsInPreparation=0,this.handQueue=[];case 19:case"end":return t.stop()}},a,this)}))}},{key:"resetHands",value:function(){this.handsInPreparation=0,this.handQueue=[]}},{key:"nextHand",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h,d,f,p,g,v,m,y;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=11;break}if(!(i.length>0)){t.next=10;break}return o=wL(i),t.next=5,this.loadHandForBoard(o.board,e,n,o.hand,this.treeForBoard);case 5:return a=t.sent,s=a.hand,c=a.treeForBoard,l=a.tree,t.abrupt("return",(this.tree=l,this.treeForBoard=c,{hand:s}));case 10:return t.abrupt("return",null);case 11:if(!this.handQueue[0]){t.next=14;break}return u=this.handQueue.shift(),h=u.hand,d=u.tree,t.abrupt("return",(this.prepareHands(3,e,n),this.tree=d,{hand:h}));case 14:if(this.prepareHands(2,e,n),!(this.boards.length>0)){t.next=32;break}return f=this.nextBoard(this.boards),t.next=18,this.loadHandForBoard(f,e,n,null,this.treeForBoard);case 18:if(p=t.sent,g=p.hand,v=p.treeForBoard,m=p.tree,y=p.keepBoard,!m){t.next=27;break}t.t0=(this.tree=m,this.treeForBoard=v,{hand:g}),t.next=31;break;case 27:return y||this.removeInvalidBoard(f),t.next=30,this.nextHand(e,n);case 30:t.t0=t.sent;case 31:return t.abrupt("return",t.t0);case 32:this.exitAndShowInvalidBoardsWarning(e);case 33:case"end":return t.stop()}},r,this)}))}},{key:"loadHandForBoard",value:function(e,n,i,r,o){return Gm(this,void 0,void 0,t().mark(function a(){var s,c,l,u,h,d,f,p,g,v,m;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=28;break}if(s=this.boardToString(e.slice(0,3)),c=e.length>3?Object(LA.cardToString)(e[3]):null,l=e.length>4?Object(LA.cardToString)(e[4]):null,t.t0=o,t.t0){t.next=7;break}return t.next=6,this.treeService.loadPostflopTree(this.baseTree,s,c,l).toPromise();case 6:t.t0=t.sent;case 7:return u=t.t0,h=new CL(this.treeService,u,this.pathToNode,s,c,l),t.next=11,h.waitUntilLoaded();case 11:if(!h.isValid){t.next=28;break}if(d=PL(h),!(c&&!d.turnCard||l&&!d.riverCard)){t.next=15;break}return t.abrupt("return",{hand:null,treeForBoard:null,tree:null,keepBoard:!0});case 15:return t.next=17,this.loadRangeForSituation(d,this.pathToNode);case 17:if(!(null==(f=t.sent)?void 0:f.ranges)||!f.ranges.every(function(t){return t.items.filter(function(t){return null!==HA(t)&&void 0!==HA(t)}).length>50})){t.next=28;break}if(r&&(n=Object(LA.cardsToString)(r)),!(this.getAllClassificationsForFilter(n,[],!0).length>0)){t.next=25;break}return f.filterItems=this.rangeService.assembleFilterItems(f.ranges,f.rangeKey),t.next=23,this.rangeService.addClassificationsToPostflopFilterItems(f.filterItems,this.boardToString(e));case 23:(null==(p=t.sent)?void 0:p.length)>0&&(f.filterItems=p);case 25:if(g=r?Object(LA.cardsToString)(r,!1):null,v=this.getHandFromRange(d,f,n,i,g),!(m=v.hand)){t.next=28;break}return t.abrupt("return",{hand:m,treeForBoard:u,tree:h});case 28:return t.abrupt("return",{hand:null,treeForBoard:null,tree:null});case 29:case"end":return t.stop()}},a,this)}))}},{key:"boardToString",value:function(t){return t.map(LA.cardToString).join("")}},{key:"nextBoard",value:function(t){return wL(t)}},{key:"prepareHands",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h,d=this;return t().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(o=e-this.handQueue.length-this.handsInPreparation,this.handsInPreparation+=o,a=[],s=0;s<o;s++)(c=this.boards.filter(function(t){return!a.includes(t)}))||(c=this.boards),a.push(this.nextBoard(c));l=t().mark(function e(){var r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=h[u],d.loadHandForBoard(r,n,i).then(function(t){t.tree&&t.hand?d.handQueue.push(t):t.keepBoard||d.removeInvalidBoard(r),d.handsInPreparation>0&&(d.handsInPreparation-=1)});case 2:case"end":return t.stop()}},e)}),u=0,h=a;case 6:if(!(u<h.length)){r.next=11;break}return r.delegateYield(l(),"t0",8);case 8:u++,r.next=6;break;case 11:case"end":return r.stop()}},r,this)}))}},{key:"getSelectableTurns",value:function(t,e,n){var i=Object(LA.cardsToString)(e,!0),r=Object(LA.cardsToString)(e,!1),o=t[i]?t[i]:t[r],a=Object.keys(o).find(function(t){return n.startsWith(t)});return a?Object.keys(o[a]):[]}},{key:"getSelectableRivers",value:function(t,e){return kL([].concat(C(t),[e]))}},{key:"removeInvalidBoard",value:function(t){(null==t?void 0:t.length)>=3&&(this.boards=this.boards.filter(function(e){return!Object(LA.cardsAreEqual)(e,t)}))}},{key:"exitAndShowInvalidBoardsWarning",value:function(t){this.router.navigate([""],{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{loadRange:t?!!t:void 0,user:void 0,filter:t||void 0,hands:void 0,randomBoard:void 0,boards:void 0})}),this.dialog.open($B)}}]),i}(OL)).\u0275fac=function(t){return new(t||RB)(Ti(xB),Ti(OD),Ti(PB),Ti(ib),Ti(SR),Ti(Pm),Ti(nv))},RB.\u0275prov=Pt({token:RB,factory:RB.\u0275fac,providedIn:"root"}),RB),KB=["tabs"],QB=["range"],YB=["bucketChart"];function ZB(t,e){1&t&&(Ua(0,"div",4),Ua(1,"p"),Ss(2,"Loading range for training, this can take a while..."),qa(),Wa(3,"mat-spinner",5),qa())}function JB(t,e){if(1&t){var n=Qa();Ua(0,"app-action-button",22),Ja("clicked",function(){Qe(n);var t=e.$implicit;return is(2).pickAction(t)}),qa()}if(2&t){var i=e.$implicit,r=e.index,o=is(2);Ha("show",o.hasPickedUserHand)("barelyVisible",i.barelyVisible)("disabled",!o.hasRemainingHands)("action",!0)("label",o.getFormattedAction(i))("hotkey",(r+1).toString())("responsive",!0)("usable",!o.isFinished&&!o.disableKeybinds)("result",o.getResult(i))}}function XB(t,e){if(1&t){var n=Qa();Ua(0,"app-action-button",23),Ja("clicked",function(){return Qe(n),is(2).confirmApplyFilterAndRestart()}),qa()}if(2&t){var i=is(2);Ha("trainNode",!0)("disabled",!i.hasRemainingHands)("label",i.restartLabel.firstLine)("secondLabel",i.restartLabel.secondLine)("useSmallFont",!0)}}function tN(t,e){if(1&t){var n=Qa();Ua(0,"div",6),Ua(1,"div",7),Ua(2,"span"),Ss(3),qa(),qa(),Ua(4,"div",8),Ua(5,"div"),Ua(6,"span",9),Ss(7,"Accuracy:"),qa(),Ua(8,"span",10),Ss(9),tl(10,"percent"),qa(),qa(),qa(),Ua(11,"app-poker-table",11),Ja("toggleFlop",function(){return Qe(n),is().openRandomBoardSelector()}),qa(),Ua(12,"div",12),Ua(13,"div",13),Ua(14,"app-action-button",14),Ja("clicked",function(){return Qe(n),is().confirmExit()}),Wa(15,"i",15),qa(),qa(),Ua(16,"div",16),Na(17,JB,1,9,"app-action-button",17),qa(),Ua(18,"app-action-button",18),Wa(19,"i",19),qa(),qa(),Ua(20,"div",20),Na(21,XB,1,5,"app-action-button",21),qa(),qa()}if(2&t){var i=is();so(3),Ms(i.treeTitle),so(2),gs("hide",0===i.totalHands),so(4),Rs("",nl(10,29,i.accuracy,"1.0-0")," (",i.totalCorrect,"/",i.totalHands,")"),so(2),Ha("icmInfo",i.icmInfo)("replaceWithStraddle",i.replaceWithStraddle)("allPlayers",i.allPlayers)("activePlayers",i.activePlayers)("currentPlayer",i.currentPlayer)("chips",i.chipState)("board",i.board)("training",!0)("alignPositionsTo",i.userPlayer)("disableSelectors",!i.allowSelectors)("showLargeCards",!0)("hands",i.assignedHands),so(3),Ha("show",i.hasPickedUserHand)("secondaryButton",!0)("icon",!0)("hotkey","Esc")("roundButton",!0),so(3),Ha("ngForOf",i.actions),so(1),Ha("disabled",!0)("barelyVisible",!0)("icon",!0)("roundButton",!0),so(3),Ha("ngIf",i.showApplyFilterAndRestartButton)}}function eN(t,e){if(1&t){var n=Qa();Ua(0,"mat-tab",33),Ua(1,"div",34),Ua(2,"app-training-summary",35),Ja("retry",function(){return Qe(n),is(2).retryMistakes()})("settingsClicked",function(){return Qe(n),is(2).openSettings()}),qa(),qa(),qa()}if(2&t){var i=is(2);so(1),Ha("ngClass",i.infoPanelLayout),so(1),Ha("tree",i.tree)("node",i.nodePath)("actions",i.actionsForSummary)("hasPrevBet",i.hasPrevBet)("rfiLabel",i.rfiLabel)("results",i.results)("position",i.userPlayer)("filter",i.filter)("maxHands",i.maxHands)("isPostFlop",i.isPostFlop)("showBoard",i.trainRandomBoard)("settings",i.settings)("allowRetry",!i.isRetryingMistakes)}}function nN(t,e){if(1&t&&(Ua(0,"mat-tab",36),Ua(1,"div",34),Wa(2,"app-range-overview",37,38),qa(),qa()),2&t){var n=is(2);so(1),Ha("ngClass",n.infoPanelLayout),so(1),Ha("isRFI",n.isRFI)("hasStraddle",n.hasStraddle)("currentNode",n.currentNode)("currentNodeId",n.currentNodeId)("board",n.currentBoard)}}function iN(t,e){if(1&t){var n=Qa();Ua(0,"mat-tab",39),Ua(1,"div",34),Ua(2,"app-bucket-chart",40,41),Ja("trainSelection",function(){return Qe(n),is(2).trainBucketSelection()})("showRangeForSelection",function(t){return Qe(n),is(2).showRangeForBucketSelection(t)}),qa(),qa(),qa()}if(2&t){var i=is(2);Ha("label",i.isPostFlop?"Strength Buckets":"Categories"),so(1),Ha("ngClass",i.infoPanelLayout),so(1),Ha("isRFI",i.isRFI)("board",i.boardForBucketChart)}}function rN(t,e){if(1&t){var n=Qa();Ua(0,"div",42),Ja("click",function(){return Qe(n),is(2).createOrDeleteFavorite()}),tl(1,"async"),Wa(2,"i",43),Wa(3,"i",44),qa()}2&t&&gs("highlight",el(1,2,is(2).isFavorite$))}function oN(t,e){if(1&t){var n=Qa();Ua(0,"div",45),Ja("click",function(){return Qe(n),is(2).openSettings()}),Wa(1,"i",46),qa()}}function aN(t,e){if(1&t){var n=Qa();Ua(0,"div",24),Ua(1,"mat-tab-group",25,26),Ja("selectedTabChange",function(t){return Qe(n),is().onTabChanged(t)}),Na(3,eN,3,14,"mat-tab",27),Na(4,nN,4,6,"mat-tab",28),Na(5,iN,4,4,"mat-tab",29),qa(),Ua(6,"div",30),Na(7,rN,4,4,"div",31),Na(8,oN,2,0,"div",32),qa(),qa()}if(2&t){var i=is();so(3),Ha("ngIf",(null==i.actions?null:i.actions.length)>0),so(1),Ha("ngIf",i.hasTreeLoaded&&!i.trainRandomBoard),so(1),Ha("ngIf",i.hasTreeLoaded&&!i.trainRandomBoard),so(2),Ha("ngIf",i.showFavoritesIcon),so(1),Ha("ngIf",i.showSettingsIcon)}}var sN,cN,lN,uN,hN,dN,fN={minFrequency:85,minWeight:.5,evSpread:nC,evDiff:null,selectBalanced:!0},pN=function(t,e){return new Set([].concat(C(t.map(function(t){return"g"+t.key})),C(e.map(function(t){return"b"+t.id}))))},gN=((lN=function(){function e(t,n,i,r,o,a,s,c){var l=this;f(this,e),this.feature=t,this.route=n,this.router=i,this.store=r,this.singleRangeTrainingService=o,this.multiRangeTrainingService=a,this.dialog=s,this.snackBar=c,this.isLoadingTurnOrRiver=!1,this.disableKeybinds=!1,this.trainRandomBoard=!1,this._isReady=!1,this.processing=!1,this._totalHands=0,this._totalCorrect=0,this.activeTab="results",this._filter="",this.currentRangeFilter="",this._selection=new Set,this.currentBucketSelection=new Set,this.store.pipe(ob(jk)).subscribe(function(t){var e=t.groups,n=t.buckets;l.currentBucketSelection=pN(e,n)}),this.store.pipe(ob(U_)).subscribe(function(t){l.currentRangeFilter=t})}return g(e,[{key:"ngOnInit",value:function(){var e;return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s=this;return t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.feature.isDisabled(C_.NodeTraining)&&this.router.navigate([""]),this.unsubscribeAll(),i=this.route.snapshot.queryParams,r=w_(this.store.pipe(ob(hC),W(function(t){var e;return Object.assign(Object.assign(Object.assign({},fN),t),{evSpread:null===(e=s.settings)||void 0===e?void 0:e.evSpread})}))),this.route.queryParams.subscribe(function(t){var e=s.getSettings(t);s.settings=s.replaceSavedSettingsWithUrlSettings(r,e)}),i.randomBoard&&(o=this.feature.isAvailable(C_.RandomBoardTraining),a=this.feature.isLocked(C_.RandomBoardTraining),o?a?this.dialog.open(hD):this.trainRandomBoard=!0:this.trainRandomBoard=!1),this._results=[],i.user&&(this._userPlayer=i.user),this._filter=null!==(e=i.filter)&&void 0!==e?e:"",this._filter&&this.store.dispatch(A_({filter:this._filter})),this._selection=w_(this.store.pipe(ob(jk),W(function(t){var e=t.groups,n=t.buckets;return pN(e,n)}))),"preflop"===i.type&&i.tree?this.treeSubscription=this.store.pipe(ob(M_),vf(function(t){return t.length>0}),W(function(t){return t||[]}),W(function(t){return k_(k_(t.map(function(t){return t.profiles})).map(function(t){return t.trees}))}),W(function(t){return t.find(function(t){return t.key===i.tree})}),Ip(1)).subscribe(function(e){return Gm(s,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||e.isLocked){t.next=7;break}return t.next=3,this.trainingService.initPreflop(e,this.nodePath);case 3:return t.next=5,this.startTraining();case 5:t.next=8;break;case 7:this.router.navigate([""]);case 8:case"end":return t.stop()}},n,this)}))}):"postflop"===i.type&&i.tree&&(i.flop||this.trainRandomBoard)?this.treeSubscription=this.store.pipe(ob(T_),vf(function(t){return t.length>0}),W(function(t){return t||[]}),W(function(t){return k_(t.map(function(t){return t.trees}))}),W(function(t){return t.find(function(t){return t.key===i.tree})}),Ip(1)).subscribe(function(e){return Gm(s,void 0,void 0,t().mark(function n(){var r,o,a;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||e.isLocked){t.next=23;break}if(r=i.flop,o=i.turn,a=i.river,!this.trainRandomBoard){t.next=17;break}if(!a){t.next=8;break}return t.next=6,this.multiRangeTrainingService.init(e,this.nodePath,null,r,o);case 6:t.next=15;break;case 8:if(!o){t.next=13;break}return t.next=11,this.multiRangeTrainingService.init(e,this.nodePath,null,r);case 11:t.next=15;break;case 13:return t.next=15,this.multiRangeTrainingService.init(e,this.nodePath,i.boardFilter);case 15:t.next=19;break;case 17:return t.next=19,this.trainingService.initPostflop(e,this.nodePath,r,o,a);case 19:return t.next=21,this.startTraining();case 21:t.next=24;break;case 23:this.router.navigate([""]);case 24:case"end":return t.stop()}},n,this)}))}):this.router.navigate([""]),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe(),this.keyPressSubscription=Sx(document,"keyup").subscribe(function(e){return Gm(s,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(null===(i=this.tabGroup)||void 0===i?void 0:i.selectedIndex)||this.disableKeybinds||this.processing||this.dialog.openDialogs&&0!==this.dialog.openDialogs.length){t.next=23;break}t.t0=e.key,t.next="Escape"===t.t0?4:"Enter"===t.t0?6:"1"===t.t0?9:"2"===t.t0?12:"3"===t.t0?15:"4"===t.t0?18:"5"===t.t0?21:23;break;case 4:return this.confirmExit(),t.abrupt("break",23);case 6:return t.next=8,this.nextHand();case 8:return t.abrupt("break",23);case 9:return t.next=11,this.pickActionByIndex(0);case 11:return t.abrupt("break",23);case 12:return t.next=14,this.pickActionByIndex(1);case 14:return t.abrupt("break",23);case 15:return t.next=17,this.pickActionByIndex(2);case 17:return t.abrupt("break",23);case 18:return t.next=20,this.pickActionByIndex(3);case 20:return t.abrupt("break",23);case 21:return t.next=23,this.pickActionByIndex(4);case 23:case"end":return t.stop()}},n,this)}))});case 4:case"end":return n.stop()}},n,this)}))}},{key:"ngOnDestroy",value:function(){this.unsubscribeAll()}},{key:"createOrDeleteFavorite",value:function(){var t,e=(null===(t=this.route.snapshot.url)||void 0===t?void 0:t.length)>0?this.route.snapshot.url[0].path:"",n=yB(Object.assign({},this.route.snapshot.queryParams),this.settings);if(w_(this.isFavorite$)){var i=w_(this.store.pipe(ob(vk(e,n))));this.store.dispatch(uk({key:i}))}else this.dialog.open(cB,{data:{path:e,queryParams:n}})}},{key:"isFavorite$",get:function(){var t=this;return hp([this.route.queryParams,this.route.url]).pipe(Ep(function(e){var n=y(e,2),i=n[0],r=n[1],o=(null==r?void 0:r.length)>0?r[0].path:"",a=yB(i,t.settings);return t.store.pipe(ob(mk(o,a)))}))}},{key:"showSettingsIcon",get:function(){return"range"===this.activeTab||"results"===this.activeTab}},{key:"showFavoritesIcon",get:function(){var t,e;return this.feature.isAvailable(C_.Favorites)&&!(null===(e=null===(t=this.situation)||void 0===t?void 0:t.currentTree)||void 0===e?void 0:e.isCustom)}},{key:"isFiveCard",get:function(){return!1}},{key:"allowTrainingRandomBoard",get:function(){return this.isPostFlop&&this.feature.isAvailable(C_.RandomBoardTraining)}},{key:"allowSelectors",get:function(){var t,e,n;return this.trainRandomBoard&&(null===(t=this.board)||void 0===t?void 0:t.flop)&&!(null===(n=null===(e=this.board)||void 0===e?void 0:e.turn)||void 0===n?void 0:n.card)}},{key:"nodePath",get:function(){return this.route.snapshot.queryParams.node||""}},{key:"trainingService",get:function(){return this.trainRandomBoard?this.multiRangeTrainingService:this.singleRangeTrainingService}},{key:"situation",get:function(){return this.trainingService.currentSituation}},{key:"userPlayer",get:function(){var t;return this._userPlayer||(null===(t=this.situation)||void 0===t?void 0:t.currentPlayer)}},{key:"tree",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.currentTree}},{key:"replaceWithStraddle",get:function(){var t,e;return null===(e=null===(t=this.tree)||void 0===t?void 0:t.setup)||void 0===e?void 0:e.replaceWithStraddle}},{key:"currentNode",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.currentNode}},{key:"board",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.board}},{key:"currentBoard",get:function(){if(this.board){var t=this.board,e=t.flop,n=t.turn,i=t.river;return[].concat(C(e),[null==n?void 0:n.card,null==i?void 0:i.card]).filter(function(t){return!!t}).map(LA.cardToString).join("")}return null}},{key:"allPlayers",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.allPlayers}},{key:"activePlayers",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.activePlayers}},{key:"chipState",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.chipState}},{key:"hasPrevBet",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.hasPrevBet}},{key:"isRFI",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.isRFI}},{key:"rfiValue",get:function(){return this.situation.rfiValue}},{key:"rfiLabel",get:function(){if(this.isRFI)return this.rfiValue?this.rfiValue+"x":null}},{key:"isRetryingMistakes",get:function(){var t;return(null===(t=this.mistakesToBeRetried)||void 0===t?void 0:t.length)>=0}},{key:"useRFIvalueForAction",value:function(t){return m_(t,this.tree,this.isPostFlop,this.isRFI)}},{key:"openRandomBoardSelector",value:function(){var e=this;if(this.trainRandomBoard&&this.isPostFlop){var n=this.tree,i=n.selectableFlops.filter(function(t){return tD(t.cards)});if(n.pathToFlop){var r=n.pathToFlop[this.nodePath].map(function(t){return Object(LA.parseCards)(t)});i=n.selectableFlops.filter(function(t){return r.some(function(e){return Object(LA.cardsAreEqual)(e,t.cards)})})}this.dialog.open(aB,{data:i}).afterClosed().subscribe(function(i){return Gm(e,void 0,void 0,t().mark(function e(){var r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.start){t.next=7;break}return r=i.filter,this.store.dispatch(cD({boardFilter:r,queryParams:this.route.snapshot.queryParams})),t.next=5,this.multiRangeTrainingService.init(n,this.nodePath,r);case 5:return t.next=7,this.loadNextHandForCurrentPlayer();case 7:case"end":return t.stop()}},e,this)}))})}}},{key:"openSettings",value:function(){"results"===this.activeTab?this.openTrainingSettings():"range"===this.activeTab&&this.openRangeSettings()}},{key:"openTrainingSettings",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disableKeybinds=!0,this.dialog.open(iL,{data:this.settings}).afterClosed().subscribe(function(i){return Gm(e,void 0,void 0,t().mark(function e(){var r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=11;break}return this.settings=Object.assign({},i),r=Object.assign(Object.assign({},this.settings),{evSpread:{min:null,max:null}}),this.store.dispatch(aC({training:r})),this._assignedHands={},this._results=[],this.trainingService.resetHands(),t.next=9,this.loadNextHandForCurrentPlayer();case 9:t.next=12;break;case 11:n&&this.exit();case 12:this.disableKeybinds=!1;case 13:case"end":return t.stop()}},e,this)}))})}},{key:"openRangeSettings",value:function(){this.rangeOverview.openSettings()}},{key:"unsubscribeAll",value:function(){this.remainingHandsSubscription&&!this.remainingHandsSubscription.closed&&this.remainingHandsSubscription.unsubscribe(),this.treeSubscription&&!this.treeSubscription.closed&&this.treeSubscription.unsubscribe(),this.statsSubscription&&!this.statsSubscription.closed&&this.statsSubscription.unsubscribe(),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe()}},{key:"onTabChanged",value:function(t){switch(t.index){case 2:this.activeTab="chart",this.restartLabel={firstLine:"Restart with",secondLine:"new selection"};break;case 1:this.activeTab="range",this.restartLabel={firstLine:"Restart with",secondLine:"new filter"},this.rangeOverview.update();break;case 0:default:this.activeTab="results",this.restartLabel=null}this.scrollToBottom()}},{key:"scrollToBottom",value:function(){window.scrollTo(0,document.body.scrollHeight)}},{key:"boardForBucketChart",get:function(){var t,e,n,i,r;return[null===(t=this.board)||void 0===t?void 0:t.flop.map(function(t){return Object(LA.cardToString)(t)}).join(""),(null===(n=null===(e=this.board)||void 0===e?void 0:e.turn)||void 0===n?void 0:n.card)?Object(LA.cardToString)(this.board.turn.card):null,(null===(r=null===(i=this.board)||void 0===i?void 0:i.river)||void 0===r?void 0:r.card)?Object(LA.cardToString)(this.board.river.card):null].filter(function(t){return!!t}).join("")}},{key:"showRangeForBucketMacro",value:function(t){this.rangeOverview.setFilter(t),this.tabGroup.selectedIndex=1}},{key:"maxHands",get:function(){var t;return null===(t=this.remainingHands)||void 0===t?void 0:t.maxDailyHands}},{key:"hasRemainingHands",get:function(){return!this.remainingHands||this.remainingHands.remainingHands>0}},{key:"confirmExit",value:function(){var t=this;this.dialog.open(NI,{data:{title:"Exit training",content:["Are you sure you want to quit the training?"]}}).afterClosed().pipe(Ip(1)).subscribe(function(e){e&&t.exit()})}},{key:"exit",value:function(){var t;this.currentRange=null;var e=(null===(t=this.filter)||void 0===t?void 0:t.length)>0?this.filter:void 0;this.trainRandomBoard&&this.store.dispatch(B_()),this.rangeOverview&&!e&&this.rangeOverview.setFilter(""),this.router.navigate([""],{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{filter:e,loadRange:this.trainRandomBoard?void 0:this.route.snapshot.queryParams.loadRange,user:void 0,hands:void 0,randomBoard:void 0,boards:void 0,boardFilter:void 0,minFrequency:void 0,minWeight:void 0,minEV:void 0,maxEV:void 0,selection:void 0,freeze:void 0})})}},{key:"setCurrentRangeFilter",value:function(t){this.currentRangeFilter=t}},{key:"showRangeForBucketSelection",value:function(t){this.rangeOverview.setFilter(t),this.store.dispatch(A_({filter:t})),this.tabGroup.selectedIndex=1}},{key:"trainBucketSelection",value:function(){this.confirmApplyFilterAndRestart()}},{key:"confirmApplyFilterAndRestart",value:function(){var e=this;this.showApplyFilterAndRestartButton&&this.dialog.open(NI,{data:{title:"Restart training",content:["Are you sure you want to restart the training?","This will reset your current results."]}}).afterClosed().pipe(Ip(1)).subscribe(function(n){return Gm(e,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=4;break}return t.next=4,this.applyFilterAndRestart();case 4:case"end":return t.stop()}},e,this)}))})}},{key:"showApplyFilterAndRestartButton",get:function(){return!this.settings.frozen&&("range"===this.activeTab?this.currentRangeFilter&&this.currentRangeFilter!==this.filter:"chart"===this.activeTab&&this.currentBucketSelection&&!((t=this.currentBucketSelection).size===(e=this._selection).size&&Array.from(t).every(function(t){return e.has(t)})));var t,e}},{key:"retryMistakes",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mistakesToBeRetried=this.results.filter(function(t){return gB(t.result)}),this._results=[],t.next=4,this.loadNextHandForCurrentPlayer();case 4:case"end":return t.stop()}},e,this)}))}},{key:"applyFilterAndRestart",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){var n,i,r,o,a;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._results=[],this._filter=this.currentRangeFilter,this.tabGroup.selectedIndex=0,this.trainingService.resetHands(),n=this.route.snapshot.queryParams,"chart"===this.activeTab?(this._selection=this.currentBucketSelection,i=this.bucketChart,r=i.bucketGroupSelection,o=i.bucketSelection,this.store.dispatch(Mk({groups:r})),this.store.dispatch(Sk({buckets:o})),a=w_(this.store.pipe(ob(Hk(this.isPostFlop)))),this._filter=a,this.rangeOverview.setFilter(a),this.store.dispatch(A_({filter:a}))):"range"===this.activeTab&&(this._filter=this.currentRangeFilter),this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign(Object.assign({},n),{filter:this._filter})}),t.next=6,this.loadNextHandForCurrentPlayer();case 6:case"end":return t.stop()}},e,this)}))}},{key:"nextHand",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.isFinished,!t.t0){t.next=4;break}return t.next=4,this.loadNextHandForCurrentPlayer();case 4:case"end":return t.stop()}},e,this)}))}},{key:"startTraining",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._evaluation=null,this._assignedHands={},t.t0=this.assignedHands[this.userPlayer],t.t0){t.next=6;break}return t.next=6,this.loadNextHandForCurrentPlayer();case 6:this._isReady=!0;case 7:case"end":return t.stop()}},e,this)}))}},{key:"loadNextHandForCurrentPlayer",value:function(){var e;return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasRemainingHands){t.next=2;break}return t.abrupt("return",void this.showMaxDailyHandsReached());case 2:if(this._evaluation=null,this._actionResults=null,0!==(null===(e=this.mistakesToBeRetried)||void 0===e?void 0:e.length)){t.next=7;break}r=this.results.filter(function(t){return gB(t.result)}),this.showFinishedRetryMistakesDialog(r),t.next=26;break;case 7:if(!this.trainRandomBoard){t.next=15;break}return this.currentHand=null,this._assignedHands={},t.next=11,this.multiRangeTrainingService.nextHand(this._filter,this.settings,this.mistakesToBeRetried);case 11:o=t.sent,i=null==o?void 0:o.hand,t.next=25;break;case 15:return t.next=17,this.singleRangeTrainingService.nextHand(this._filter,this.settings,this.mistakesToBeRetried);case 17:if(a=t.sent,i=null==a?void 0:a.hand,!(null==a?void 0:a.error)){t.next=25;break}t.t0=a.error,t.next=t.t0===xL.filter?22:t.t0===xL.settings?24:25;break;case 22:return this.dialog.open(NI,{data:{title:"Empty filter",content:["There are no hands for your current filter!","Please change your range filter."],confirmLabel:"Ok",confirmOnly:!0}}),this.exit(),t.abrupt("break",25);case 24:this.snackBar.open("There are no hands for your current settings! Please change your training settings.",null,{duration:5e3}),this.openTrainingSettings(!0);case 25:this.mistakesToBeRetried&&!i?(s=this.results.filter(function(t){return gB(t.result)}),this.showFinishedRetryMistakesDialog(s)):i&&(this.mistakesToBeRetried&&(this.mistakesToBeRetried=this.mistakesToBeRetried.filter(function(t){return t.combo!==i.combo})),this.currentHand=i,this._assignedHands[this.userPlayer]={hand:i.hand,show:this.userPlayer==this.userPlayer});case 26:case"end":return t.stop()}},n,this)}))}},{key:"showFinishedRetryMistakesDialog",value:function(e){var n=this;this.dialog.open(hL,{data:0===e.length}).afterClosed().pipe(Ip(1)).subscribe(function(i){return Gm(n,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i!==uL.Continue){t.next=7;break}return this.mistakesToBeRetried=null,this._results=[],t.next=5,this.loadNextHandForCurrentPlayer();case 5:t.next=15;break;case 7:if(i!==uL.Retry){t.next=14;break}return this.mistakesToBeRetried=e,this._results=[],t.next=12,this.loadNextHandForCurrentPlayer();case 12:t.next=15;break;case 14:this.exit();case 15:case"end":return t.stop()}},n,this)}))})}},{key:"numberOfActions",get:function(){var t,e;return null!==(e=null===(t=this.currentNode)||void 0===t?void 0:t.next.length)&&void 0!==e?e:0}},{key:"infoPanelLayout",get:function(){switch(this.numberOfActions){case 4:return"wide";default:return"regular"}}},{key:"icmInfo",get:function(){return this.tree?{payouts:this.tree.icmPayouts,stacks:this.tree.icmStacks}:{payouts:null,stacks:null}}},{key:"currentNodeId",get:function(){var t;return null===(t=this.currentRange)||void 0===t?void 0:t.nodeId}},{key:"filter",get:function(){return this._filter}},{key:"hasTreeLoaded",get:function(){return!!this.currentNode}},{key:"treeTitle",get:function(){if(this.hasTreeLoaded){if(this.tree.type===h_.preflop){var t=2===this.tree.players?"Heads Up":this.tree.players+"-max";if(this.tree.label){var e=""+(this.isFiveCard?"":g_(this.tree.profile));return"".concat(e?e+" - ":"").concat(this.tree.label," - ").concat(t)}return"".concat(this.isFiveCard?"":g_(this.tree.profile)+" - ").concat(this.tree.stack,"bb - ").concat(t)}var n=this.tree;if(v_(n.category))return"".concat(this.isFiveCard?"":g_(this.tree.profile)+" - ").concat(this.tree.stack,"bb - ").concat(n.multiwayLabel);var i=a_(n.activePlayers).join(" vs. ");return"".concat(this.isFiveCard?"":g_(this.tree.profile)+" - ").concat(this.tree.stack,"bb - ").concat(i," - ").concat(n.preflop.type.toUpperCase())}return null}},{key:"isPostFlop",get:function(){return this.tree&&this.tree.type===h_.postflop}},{key:"assignedHands",get:function(){return this._assignedHands}},{key:"isReady",get:function(){return this._isReady}},{key:"hasPickedUserHand",get:function(){return this.assignedHands&&!!this.assignedHands[this.userPlayer]}},{key:"isFinished",get:function(){return!this.hasActions||!!this._actionResults}},{key:"evaluation",get:function(){return this._evaluation}},{key:"actions",get:function(){if(this.currentNode&&this.currentNode.next&&this.currentNode.next.length>0){var t=this.currentNode.next.map(function(t){return t.action});t.find(function(t){return t.type===s_.CHECK})&&(t=t.filter(function(t){return t.type!==s_.CALL}));var e,n=[],i=k(t.filter(l_));try{var r=function(){var t=e.value;n.find(function(e){return SD(e,t)})||n.push(t)};for(i.s();!(e=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}return n.sort(FD)}return[]}},{key:"getActionButtonsNotRaises",value:function(){var t=this.actions,e=[],n=0;return t.length>n&&t[n].type===s_.FOLD?(e.push(t[n]),n++):e.push({type:s_.FOLD,barelyVisible:!0}),t.length>n&&(t[n].type===s_.CALL||t[n].type===s_.CHECK)?(e.push(t[n]),n++):e.push({type:s_.CALL,barelyVisible:!0}),e}},{key:"getActionButtonsRaises",value:function(){var t=this.actions,e=[],n=0;if(t.length>n&&t[n].type===s_.FOLD&&n++,t.length>n&&(t[n].type===s_.CALL||t[n].type===s_.CHECK)&&n++,n>=t.length)e.push({type:s_.RAISE,barelyVisible:!0});else for(var i=n;i<t.length;i++)e.push(t[i]);return e}},{key:"actionsForSummary",get:function(){var t,e=C(this.actions),n=k(this.results.flatMap(function(t){return t.frequencies.flatMap(function(t){return t.action})}));try{var i=function(){var n=t.value;e.find(function(t){return SD(t,n)})||e.push(n)};for(n.s();!(t=n.n()).done;)i()}catch(r){n.e(r)}finally{n.f()}return e.sort(FD)}},{key:"hasActions",get:function(){return this.actions&&this.actions.length>0}},{key:"totalHands",get:function(){return this._totalHands}},{key:"totalCorrect",get:function(){return this._totalCorrect}},{key:"accuracy",get:function(){return this.totalHands>0?this.totalCorrect/this.totalHands:null}},{key:"results",get:function(){return this._results}},{key:"getRangeKey",value:function(t,e){var n,i,r="";return(null==e?void 0:e.flop)&&(r+=Object(LA.cardsToString)(e.flop),(null===(n=null==e?void 0:e.turn)||void 0===n?void 0:n.card)&&(r+=Object(LA.cardToString)(e.turn.card),(null===(i=null==e?void 0:e.river)||void 0===i?void 0:i.card)&&(r+=Object(LA.cardToString)(e.river.card)))),"".concat(t,":").concat(r,":").concat(this.nodePath||"")}},{key:"getFormattedAction",value:function(t){var e,n=this.trainingService.currentSituation,i=n.hasPrevBet,r=n.fixedRaiseSize,o=u_(t,null===(e=this.tree)||void 0===e?void 0:e.raiseSizeMapping);return this.useRFIvalueForAction(o)?MD(o,i,!this.isPostFlop,this.rfiValue?this.rfiValue+"x":null,r):MD(o,i,!this.isPostFlop,null,r)}},{key:"isCorrect",value:function(t){return lB(this.getActionFrequency(t),this.getCurrentActionFrequencies())}},{key:"isMistake",value:function(t){return!this.isCorrect(t)}},{key:"getFrequency",value:function(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.overallFreq}},{key:"getEV",value:function(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.ev}},{key:"getResult",value:function(t){var e;return this.isFinished?null===(e=this._actionResults.find(function(e){return SD(e.action,t)}))||void 0===e?void 0:e.result:null}},{key:"pickActionByIndex",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.actions[e],t.t0=i&&!this.isFinished,!t.t0){t.next=5;break}return t.next=5,this.pickAction(i);case 5:case"end":return t.stop()}},n,this)}))}},{key:"isPreparingHand",get:function(){return this.trainRandomBoard&&this.multiRangeTrainingService.isPreparing}},{key:"pickAction",value:function(e){var n,i;return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h,d,f,p,g,v,m,y,b,_,k=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.processing){t.next=2;break}return t.abrupt("return");case 2:if(this.processing=!0,this._totalHands+=1,o=this.getActionFrequency(e),a=this.getCurrentActionFrequencies(),s=this.trainingService.currentSituation,c=s.chipState,l=s.simBB,u=c.totalPot/l,h=this.getEvaluation(e,u),d=h.isCorrectAnswer,f=h.result,p=h.evLoss,g=h.evDiff,this._evaluation=f,this._actionResults=this.actions.map(function(t){return{action:t,result:k.getEvaluation(t,u).result}}),d&&(this._totalCorrect+=1),v=this.isPostFlop?[].concat(C(this.board.flop),[null===(n=this.board.turn)||void 0===n?void 0:n.card,null===(i=this.board.river)||void 0===i?void 0:i.card]).filter(function(t){return!!t}):null,this._results=[Object.assign(Object.assign({},this.currentHand),{board:v,action:o.action,isCorrect:d,result:f,freq:o.overallFreq,ev:o.ev,evLoss:p,evDiff:g,frequencies:a})].concat(C(this._results)),m=this.trainingService.currentSituation,y=m.currentTree,b=m.board,_=this.getRangeKey(y.key,b),this.store.dispatch(rD({rangeKey:_,filter:this.filter,outcome:this._evaluation})),!this.isPreparingHand){t.next=14;break}case 9:return t.next=11,kx(250);case 11:if(this.multiRangeTrainingService.isPreparing){t.next=9;break}case 12:t.next=16;break;case 14:return t.next=16,kx(500);case 16:return t.next=18,this.nextHand();case 18:this.processing=!1;case 19:case"end":return t.stop()}},r,this)}))}},{key:"getActionFrequency",value:function(t){return this.getCurrentActionFrequencies().find(function(e){return e.action.type===t.type&&e.action.amount===t.amount})||{action:t,overallFreq:null,ev:null}}},{key:"getEvaluation",value:function(t,e){var n=function(t){return+t.toFixed(3)},i=this.isCorrect(t),r=this.getEV(t);if(null==r||isNaN(r))return{isCorrectAnswer:i,result:fB(i)};var o=n(r),a=function(t){return null!=t.ev&&!isNaN(t.ev)},s=o-Math.max.apply(Math,C(Object.values(this.currentHand.actionValues).filter(a).map(function(t){return t.ev}).map(n)));isNaN(s)&&(s=0);var c=o-Math.max.apply(Math,C(Object.values(this.currentHand.actionValues).filter(function(e){return!SD(e,t)}).filter(a).map(function(t){return t.ev}).map(n)));return{isCorrectAnswer:i,result:dB(Math.abs(s)/e*100,c/e*100,i),evLoss:s,evDiff:c}}},{key:"getCurrentActionFrequencies",value:function(){if(this.currentHand){var t=Object.values(this.currentHand.actionValues).map(function(t){return{action:{type:t.type,amount:t.amount},overallFreq:t.freq,ev:t.ev}});return this.actions.map(function(e){var n=t.find(function(t){return SD(e,t.action)});return{action:e,overallFreq:null==n?void 0:n.overallFreq,ev:null==n?void 0:n.ev}})}return[]}},{key:"getSettings",value:function(t){var e=+t.minFrequency,n=+t.minWeight,i=+t.minEV,r=+t.maxEV,o=+t.evDiff,a=null;return isNaN(i)&&isNaN(r)||(a={min:i,max:r}),{minFrequency:e,minWeight:n,evSpread:a,evDiff:o,selectBalanced:t.selection?"balanced"===t.selection:null,frozen:!!t.freeze}}},{key:"replaceSavedSettingsWithUrlSettings",value:function(t,e){var n=function(t){return isNaN(t)||null==t},i=n(e.minFrequency)?t.minFrequency:e.minFrequency;return{minWeight:n(e.minWeight)?t.minWeight:e.minWeight,minFrequency:i,evSpread:e.evSpread?e.evSpread:t.evSpread,evDiff:e.evDiff?e.evDiff:t.evDiff,selectBalanced:null!==e.selectBalanced?e.selectBalanced:t.selectBalanced,frozen:e.frozen}}},{key:"showMaxDailyHandsReached",value:function(){var t=this;this.dialog.openDialogs.some(function(t){return t.componentInstance instanceof _B})||this.dialog.open(_B,{data:{maxHands:this.remainingHands.maxDailyHands}}).afterClosed().subscribe(function(){t.exit()})}}]),e}()).\u0275fac=function(t){return new(t||lN)(Va(aF),Va(nv),Va(Pm),Va(ib),Va(WB),Va(GB),Va(SR),Va(qB))},lN.\u0275cmp=ne({type:lN,selectors:[["app-node-training"]],viewQuery:function(t,e){var n;1&t&&(bl(KB,!0),bl(QB,!0),bl(YB,!0)),2&t&&(ml(n=xl())&&(e.tabGroup=n.first),ml(n=xl())&&(e.rangeOverview=n.first),ml(n=xl())&&(e.bucketChart=n.first))},decls:6,vars:3,consts:[[1,"layout-container"],["class","spinner-container",4,"ngIf"],["class","table-container",4,"ngIf"],["class","side-panel",4,"ngIf"],[1,"spinner-container"],["color","accent"],[1,"table-container"],[1,"table-title"],[1,"performance","small-screen-only"],[1,"label"],[1,"value"],[3,"icmInfo","replaceWithStraddle","allPlayers","activePlayers","currentPlayer","chips","board","training","alignPositionsTo","disableSelectors","showLargeCards","hands","toggleFlop"],[1,"controls"],[1,"buttons"],[3,"show","secondaryButton","label","icon","hotkey","roundButton","clicked"],[1,"fas","fa-times-circle"],[1,"buttons","right"],[3,"show","barelyVisible","disabled","action","label","hotkey","responsive","usable","result","clicked",4,"ngFor","ngForOf"],[3,"disabled","barelyVisible","label","icon","roundButton"],[1,"fas","fa-eye"],[1,"buttons","next","right"],[3,"trainNode","disabled","label","secondLabel","useSmallFont","clicked",4,"ngIf"],[3,"show","barelyVisible","disabled","action","label","hotkey","responsive","usable","result","clicked"],[3,"trainNode","disabled","label","secondLabel","useSmallFont","clicked"],[1,"side-panel"],["animationDuration","200ms",1,"no-border-bottom",3,"selectedTabChange"],["tabs",""],["label","Results",4,"ngIf"],["label","Range",4,"ngIf"],[3,"label",4,"ngIf"],[1,"icon-bar"],["class","control create-favorite",3,"highlight","click",4,"ngIf"],["class","settings",3,"click",4,"ngIf"],["label","Results"],[1,"tab-content",3,"ngClass"],[3,"tree","node","actions","hasPrevBet","rfiLabel","results","position","filter","maxHands","isPostFlop","showBoard","settings","allowRetry","retry","settingsClicked"],["label","Range"],[3,"isRFI","hasStraddle","currentNode","currentNodeId","board"],["range",""],[3,"label"],[3,"isRFI","board","trainSelection","showRangeForSelection"],["bucketChart",""],[1,"control","create-favorite",3,"click"],[1,"icon","regular","far","fa-star"],[1,"icon","highlight","fas","fa-star"],[1,"settings",3,"click"],[1,"fas","fa-cog"]],template:function(t,e){1&t&&(Wa(0,"app-status-bar"),Ua(1,"div",0),Na(2,ZB,4,0,"div",1),Na(3,tN,22,32,"div",2),Na(4,aN,9,5,"div",3),qa(),Wa(5,"app-mobile-warning")),2&t&&(so(2),Ha("ngIf",!e.hasTreeLoaded||!e.isReady),so(1),Ha("ngIf",e.hasTreeLoaded&&e.isReady),so(1),Ha("ngIf",e.hasTreeLoaded&&e.hasPickedUserHand||(null==e.results?null:e.results.length)>0))},styles:["[_nghost-%COMP%]     .mat-tab-label{font-size:1rem;width:8.125rem!important;min-width:8.125rem!important}[_nghost-%COMP%]     .mat-tab-body, [_nghost-%COMP%]     .mat-tab-body .mat-tab-body-content{overflow-y:hidden!important}[_nghost-%COMP%]     .mat-tab-group{overflow:hidden}[_nghost-%COMP%]     div[role=tab]{color:var(--text-color);height:3rem}[_nghost-%COMP%]     div[role=tab].mat-tab-label-active{color:var(--tree-category-color-active)}[_nghost-%COMP%]     div[role=tab].mat-tab-disabled{color:var(--tree-category-color-disabled)}[_nghost-%COMP%]     div[role=tab]:hover{color:var(--tree-category-color-hover)}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header{border-bottom:none}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-labels{margin-left:3.125rem}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:1rem;margin-bottom:1.125rem;line-height:1.25rem;font-size:1.25rem;font-weight:500;border-radius:.3125rem;padding:.3125rem .625rem;color:var(--text-color)}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title.hidden[_ngcontent-%COMP%]{visibility:hidden}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:.125rem}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;margin-right:1.25rem}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img.expand[_ngcontent-%COMP%]{transform:rotate(180deg)}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:inline}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%], .layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]{display:inline}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-end}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div.hide[_ngcontent-%COMP%]{visibility:hidden}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-right:.625rem}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500}.side-panel[_ngcontent-%COMP%]{position:relative;visibility:visible;display:flex;flex-direction:row;justify-content:space-between;align-content:flex-start}.side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]{position:absolute;top:0;right:1rem;margin:.5rem;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1rem;line-height:2rem}.side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:block;justify-content:center;align-items:center;z-index:14;cursor:pointer;color:var(--scrollbar-color);font-size:1.5rem}.side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite.highlight[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite.highlight[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{display:block;color:var(--favorite-highlight-color)}.controls[_ngcontent-%COMP%]{align-items:flex-start;justify-content:space-between;margin-top:4rem;width:100%}.buttons[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]{display:flex;flex-direction:row}.buttons[_ngcontent-%COMP%]{align-items:center}.buttons.right[_ngcontent-%COMP%]{width:70%;justify-content:center;align-items:flex-start;gap:.5rem}.buttons.right[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:30%}.buttons.right[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.buttons.right[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:100%}.buttons.next[_ngcontent-%COMP%]{width:100%;margin-top:1.25rem}app-action-button[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),lN),vN=((cN=function(e){a(i,e);var n=c(i);function i(t,e,r,o,a,s){var c;return f(this,i),(c=n.call(this,t,e,o,r)).dialog=a,c.snackBar=s,c._results=[],c.$currentHand=new ap(null),c.$isFinished=new ap(!1),c.processing=!1,c._isReady=!1,c._inProgress=!1,c}return g(i,[{key:"isReady",get:function(){return this._isReady}},{key:"inProgress",get:function(){return this._inProgress}},{key:"currentHand$",get:function(){return this.$currentHand.asObservable()}},{key:"isFinished$",get:function(){return this.$isFinished.asObservable()}},{key:"isPostFlop",get:function(){var t;return(null===(t=this.board)||void 0===t?void 0:t.length)>0}},{key:"actionsForSummary",get:function(){return this.actions?C(this.actions):[]}},{key:"results",get:function(){return this._results}},{key:"filter",get:function(){return this._filter}},{key:"settings",get:function(){return this._settings}},{key:"isRetryingMistakes",get:function(){var t;return(null===(t=this.mistakesToBeRetried)||void 0===t?void 0:t.length)>=0}},{key:"reset",value:function(){r(d(i.prototype),"reset",this).call(this),this._isReady=!1,this._inProgress=!1,this.actions=null,this.board=null,this.currentRange=null,this._filter=""}},{key:"resetHands",value:function(){this._results=[],this.actionsWithHands=null,this.mistakesToBeRetried=null}},{key:"init",value:function(e,n,i,r){return Gm(this,void 0,void 0,t().mark(function o(){var a=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.reset(),this.actions=e,this.board=i,this.currentRange=n,this.pot=r,this.bucketMacros=w_(this.store.pipe(ob(Bk))),this._settings=w_(this.store.pipe(ob(hC),W(function(t){var e;return Object.assign(Object.assign(Object.assign({},fN),t),{evSpread:null===(e=a.settings)||void 0===e?void 0:e.evSpread})}))),this._isReady=!0;case 1:case"end":return t.stop()}},o,this)}))}},{key:"updateSettings",value:function(t){this._settings=t}},{key:"updateFilterAndRestart",value:function(t){this.$currentHand.next(null),this._filter=t,this.resetHands(),this.next()}},{key:"getResult",value:function(t){var e;return null===(e=this.getEvaluation(t,this.pot))||void 0===e?void 0:e.result}},{key:"pickAction",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c,l,u,h;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.processing){t.next=2;break}return t.abrupt("return");case 2:return this.$isFinished.next(!0),this.processing=!0,i=this.$currentHand.value,r=this.getCurrentActionFrequencies(),o=this.getActionFrequency(e),a=this.getEvaluation(e,this.pot),s=a.isCorrectAnswer,c=a.result,l=a.evLoss,u=a.evDiff,h=this.isPostFlop?Object(LA.parseCards)(this.board):null,this._results.unshift(Object.assign(Object.assign({},i),{board:h,action:o.action,freq:o.overallFreq,ev:o.ev,evLoss:l,evDiff:u,frequencies:r,result:c,isCorrect:s})),t.next=7,kx(250);case 7:this.$isFinished.next(!1),this.processing=!1;case 9:case"end":return t.stop()}},n,this)}))}},{key:"isCorrect",value:function(t){return lB(this.getActionFrequency(t),this.getCurrentActionFrequencies())}},{key:"isMistake",value:function(t){return!this.isCorrect(t)}},{key:"getFrequency",value:function(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.overallFreq}},{key:"getEV",value:function(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.ev}},{key:"next",value:function(){var e;return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(null===(e=this.mistakesToBeRetried)||void 0===e?void 0:e.length)){t.next=5;break}i=this.results.filter(function(t){return gB(t.result)}),this.showFinishedRetryMistakesDialog(i),t.next=9;break;case 5:return t.next=7,this.nextHand(this._filter,this._settings,this.mistakesToBeRetried);case 7:r=t.sent,this.mistakesToBeRetried&&!r.hand?(o=this.results.filter(function(t){return gB(t.result)}),this.showFinishedRetryMistakesDialog(o)):(this.mistakesToBeRetried&&(this.mistakesToBeRetried=this.mistakesToBeRetried.filter(function(t){return t.combo!==r.hand.combo})),this.$currentHand.next(r.hand));case 9:case"end":return t.stop()}},n,this)}))}},{key:"showFinishedRetryMistakesDialog",value:function(e){var n=this;this.dialog.open(hL,{data:0===e.length}).afterClosed().pipe(Ip(1)).subscribe(function(i){return Gm(n,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i!==uL.Continue){t.next=7;break}return this.mistakesToBeRetried=null,this._results=[],t.next=5,this.next();case 5:t.next=15;break;case 7:if(i!==uL.Retry){t.next=14;break}return this.mistakesToBeRetried=e,this._results=[],t.next=12,this.next();case 12:t.next=15;break;case 14:this.onExit();case 15:case"end":return t.stop()}},n,this)}))})}},{key:"nextHand",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h,d;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._inProgress=!0,this.actionsWithHands){t.next=32;break}if(a=this.getAllClassificationsForFilter(e,this.bucketMacros,this.isPostFlop),s=this.isPostFlop?[]:this.getAllBucketsForFilter(e,this.bucketMacros,this.isPostFlop),c=this.requiresLoadingClassifications(a,this.board),t.t0=s.length>0,!t.t0){t.next=7;break}return t.next=6,this.bucketService.loadPreflopLookup();case 6:this.bucketLookups=t.sent;case 7:if(!c){t.next=20;break}if(!this.isPostFlop){t.next=14;break}return t.next=11,this.rangeService.loadPostflopClassificationLookup(this.board);case 11:l=this.rangeService.updatePostflopFilterItems(this.currentRange.filterItems,this.board),t.next=17;break;case 14:return t.next=16,this.rangeService.loadPreflopClassificationLookup();case 16:l=this.rangeService.updatePreflopFilterItems(this.currentRange.filterItems);case 17:this.currentRange=Object.assign(Object.assign({},this.currentRange),{filterItems:l}),t.next=21;break;case 20:a.length>0&&(u=this.isPostFlop?this.rangeService.updatePostflopFilterItems(this.currentRange.filterItems,this.board):this.rangeService.updatePreflopFilterItems(this.currentRange.filterItems),this.currentRange.filterItems=u);case 21:if(h=this.getHandFromRange(this.currentSituation,this.currentRange,e,n),n.selectBalanced&&!ML(h.actionsWithHands)&&this.snackBar.open("Can not select balanced hands for this range!",null,{duration:5e3}),!h.error){t.next=31;break}if(!(null==h?void 0:h.error)){t.next=30;break}t.t1=h.error,t.next=t.t1===xL.filter?27:t.t1===xL.settings?29:30;break;case 27:return this.dialog.open(NI,{data:{title:"Empty filter",content:["There are no hands for your current filter!","Please change your range filter."],confirmLabel:"Ok",confirmOnly:!0}}),this.onExit(),t.abrupt("break",30);case 29:this.snackBar.open("There are no hands for your current settings! Please change your training settings.",null,{duration:5e3}),this.openSettings(!0);case 30:return t.abrupt("return",{hand:null,error:h.error});case 31:this.actionsWithHands=h.actionsWithHands,o=h.hand;case 32:return o=(null==i?void 0:i.length)>0?wL(i):n.selectBalanced&&ML(this.actionsWithHands)?TL(this.actionsWithHands):EL(this.actionsWithHands),t.next=35,this.getBucketValues(this.board,o.hand,this.currentRange.ranges);case 35:return d=t.sent,t.abrupt("return",{hand:Object.assign(Object.assign({},o),{bucket:d})});case 37:case"end":return t.stop()}},r,this)}))}},{key:"retryMistakes",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mistakesToBeRetried=this.results.filter(function(t){return gB(t.result)}),this._results=[],t.next=4,this.next();case 4:case"end":return t.stop()}},e,this)}))}},{key:"openSettings",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dialog.open(iL,{data:this.settings}).afterClosed().subscribe(function(i){return Gm(e,void 0,void 0,t().mark(function e(){var r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=10;break}return this._settings=Object.assign({},i),r=Object.assign(Object.assign({},this.settings),{evSpread:{min:null,max:null}}),this.store.dispatch(aC({training:r})),this.updateSettings(this._settings),this.resetHands(),t.next=8,this.next();case 8:t.next=11;break;case 10:n&&this.onExit();case 11:case"end":return t.stop()}},e,this)}))})}},{key:"getActionFrequency",value:function(t){return this.getCurrentActionFrequencies().find(function(e){return e.action.type===t.type&&e.action.amountLabel===t.amountLabel})||{action:t,overallFreq:null,ev:null}}},{key:"getCurrentActionFrequencies",value:function(){var t=this.$currentHand.value;if(t){var e=Object.values(t.actionValues).map(function(t){return{action:{type:t.type,amountLabel:t.amountLabel},overallFreq:t.freq,ev:t.ev}});return this.actions.map(function(t){var n=e.find(function(e){return SD(t,e.action)});return{action:t,overallFreq:null==n?void 0:n.overallFreq,ev:null==n?void 0:n.ev}})}return[]}},{key:"getEvaluation",value:function(t,e){var n=function(t){return+t.toFixed(3)},i=w_(this.currentHand$),r=this.isCorrect(t),o=this.getEV(t);if(null==o||isNaN(o))return{isCorrectAnswer:r,result:fB(r)};var a=n(o),s=function(t){return null!=t.ev&&!isNaN(t.ev)},c=a-Math.max.apply(Math,C(Object.values(i.actionValues).filter(s).map(function(t){return t.ev}).map(n)));isNaN(c)&&(c=0);var l=a-Math.max.apply(Math,C(Object.values(i.actionValues).filter(function(e){return!SD(e,t)}).filter(s).map(function(t){return t.ev}).map(n)));return{isCorrectAnswer:r,result:dB(Math.abs(c)/e*100,l/e*100,r),evLoss:c,evDiff:l}}}]),i}(OL)).\u0275fac=function(t){return new(t||cN)(Ti(xB),Ti(OD),Ti(ib),Ti(PB),Ti(SR),Ti(qB))},cN.\u0275prov=Pt({token:cN,factory:cN.\u0275fac,providedIn:"root"}),cN),mN=((sN=function(){function t(e,n,i,r,o,a){f(this,t),this.rangeService=e,this.trainingService=n,this.store=i,this.fileSaver=r,this.dialog=o,this._isCreatingOrEditingSim=!1,this.jsonPreflopLoader=new KA(a),this.jsonPostflopLoader=new XA(a)}return g(t,[{key:"currentSim",get:function(){return this._currentSim}},{key:"hasCustomSim",get:function(){return!!this.currentSim}},{key:"isCreatingOrEditingSim",get:function(){return this._isCreatingOrEditingSim},set:function(t){this._isCreatingOrEditingSim=t}},{key:"reset",value:function(){this._currentSim=null}},{key:"exportCurrentSim",value:function(){var t=this.currentSim.label.replace(/[^a-z0-9_-]/gi," ").replace(/\s+/gi," ")+".json";this.fileSaver.save(new Blob([JSON.stringify(this.currentSim)],{type:"application/json"}),t)}},{key:"loadCustomSim",value:function(t){var e=this;try{var n=new FileReader;n.onloadend=function(){var t=JSON.parse(n.result),i=t.label,r=t.actions,o=t.bbSize,a=t.board,s=t.setup;e.importCustomSim(i,r,o,a,s)},n.readAsText(t)}catch(i){console.error(i)}}},{key:"importCustomSim",value:function(t,e,n,i,r){this.startImport(),this.rangeService.clearRange();try{var o,a=[],s=k(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;try{var l=Object.assign(Object.assign({},c),{range:void 0}),u=this.parseActionRangeFromCsv(l,c.range,n);a.push(u)}catch(b){return console.error(b),this.dialog.open(NI,{data:{title:"Import Error",content:["Could not import the range for '".concat(c.label+(c.amountLabel?" "+c.amountLabel:""),"'.")," ","Please input the range in standard CSV format.","Make sure to use a . as decimal separator, e.g. 1.0 and not 1,0"," ","Example: AsAdAhAc,1.0,10"],confirmOnly:!0,confirmLabel:"Ok"}}),!1}}}catch(b){s.e(b)}finally{s.f()}a.some(function(t){return t.items.some(function(t){return!t.weight})})||this.dialog.open(NI,{data:{title:"Frequency training only",content:["The imported ranges do not include 0% hands.","The training feedback will only be based on the frequencies and not EV."],confirmOnly:!0,confirmLabel:"Ok"}}),a.some(function(t){return t.items.some(function(t){return t.ev>0||t.ev<0})})||this.dialog.open(NI,{data:{title:"Frequency training only",content:["The imported ranges do not have EVs.","The training feedback will only be based on the frequencies and not EV."],confirmOnly:!0,confirmLabel:"Ok"}});var h,d=!1;if((null==i?void 0:i.length)>=6)try{if((h=Object(LA.parseCards)(i)).length<3||h.length>5)throw"Board too long";if(!tD(h))return this.dialog.open(NI,{data:{title:"Import Error",content:["Board has duplicated cards: '".concat(i,"'.")],confirmOnly:!0,confirmLabel:"Ok"}}),!1;if(!(y=h).every(function(t){return 2===t.length&&["A","K","Q","J","T","9","8","7","6","5","4","3","2"].includes(t[0])&&["s","h","d","c"].includes(t[1])})||!tD(y))throw"Invalid board";d=!0}catch(b){return this.dialog.open(NI,{data:{title:"Import Error",content:["Could not parse the board '".concat(i,"'.")],confirmOnly:!0,confirmLabel:"Ok"}}),!1}var f,p=this.createCustomSituation(d,a.map(function(t){return t.action}),i,r),g=p.tree,v=p.nodeId,m=p.position;try{f=this.assembleRange(g.key,v,m,a,h)}catch(b){return console.error(b),this.dialog.open(NI,{data:{title:"Import Error",content:["Could not assemble the range.","Please check all your inputs."],confirmOnly:!0,confirmLabel:"Ok"}}),!1}return this._currentSim={label:t,actions:e,bbSize:n,board:i,setup:r,disableTraining:!1},this.updateCurrentRange(g,v,i,f),!0}catch(b){return console.error(b),this.dialog.open(NI,{data:{title:"Import Error",content:["Could not import the custom node.","Please check all your inputs."],confirmOnly:!0,confirmLabel:"Ok"}}),!1}finally{this.finishImport()}var y}},{key:"startImport",value:function(){this.rangeService.startLoading()}},{key:"finishImport",value:function(){this.rangeService.finishLoading()}},{key:"createCustomSituation",value:function(t,e,n,i){var r={};i.players.forEach(function(t){r[t.label]=t.bets});var o={action:{type:s_.root},code:"",rangeId:"root",next:e.map(function(t){var e="".concat(t.type.toLowerCase()).concat(t.amount?"_"+t.amount.toFixed(2):"");return{action:t,code:e,rangeId:"custom_"+e,next:[]}})};return{tree:t?{isCustom:!0,type:h_.postflop,key:"CustomTree",category:"Custom",groupByCategory:"Custom",profile:"Custom",label:"Custom",root:o,actionlog:{},activePlayers:[],boards:null,isLocked:!1,players:i.numberOfPlayers,preflop:{code:"",history:[],type:"SRP"},selectableFlops:null,setup:null,simBB:1,stack:100,board:n,flop:n.slice(0,6),turn:n.length>=8?n.slice(6,8):void 0,river:n.length>=10?n.slice(8,10):void 0,customSimSetup:i}:{isCustom:!0,type:h_.preflop,key:"CustomTree",category:"Custom",groupByCategory:"Custom",profile:"Custom",label:"Custom",root:o,isLocked:!1,players:i.numberOfPlayers,setup:null,simBB:1,stack:100,customSimSetup:i},nodeId:YI(),position:n_.BTN}}},{key:"parseActionRangeFromCsv",value:function(t,e,n){var i=e.split("\n").map(function(t){return t.trim()}).filter(function(t){return(null==t?void 0:t.length)>0}),r=0,o=0,a=1,s=2;if(i[0].toLowerCase().includes("combo")||i[0].toLowerCase().includes("hand")){var c=i[0].split(",").map(function(t){return t.trim().toLowerCase()});o=c.findIndex(function(t){return"combo"===t||"hand"===t}),a=c.findIndex(function(t){return"weight"===t||"freq"===t}),s=c.findIndex(function(t){return"ev"===t}),r=1}return{action:t,items:i.slice(r).map(function(t){var e,i=t.split(",").map(function(t){return t.trim()});return{combo:(e=i[o],Object(LA.cardsToString)(Object(LA.parseCards)(e),!0)),weight:+i[a],ev:+i[s]/n}})}}},{key:"assembleRange",value:function(t,e,n,i,r){var o=YI(),a=(null==r?void 0:r.length)>=3?this.jsonPostflopLoader.assembleRangeFromLegacyItems(i):this.jsonPreflopLoader.assembleRangeFromLegacyItems(i),s=a.ranges;return{treeName:t,nodeId:e,position:n,rangeKey:o,ranges:s,rangeFrequencies:a.rangeFrequencies,filterItems:this.rangeService.assembleFilterItems(s,o),adjustEvBy:{isTurnOrRiver:!1,evFactor:1,plainEV:!0}}}},{key:"updateCurrentRange",value:function(t,e,n,i){this.store.dispatch(t.type===h_.postflop?Xb({tree:t}):Yb({tree:t}));var r=i.ranges.map(function(t){return t.action});this.rangeService.setCurrentRange(t.key,e,i),this.trainingService.init(r,i,n,t.customSimSetup.pot)}}]),t}()).\u0275fac=function(t){return new(t||sN)(Ti(OD),Ti(vN),Ti(ib),Ti(tA),Ti(SR),Ti(kD))},sN.\u0275prov=Pt({token:sN,factory:sN.\u0275fac,providedIn:"root"}),sN),yN=["*",[["mat-toolbar-row"]]],bN=["*","mat-toolbar-row"],_N=CE(g(function t(e){f(this,t),this._elementRef=e})),kN=((dN=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||dN)},dN.\u0275dir=le({type:dN,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),dN),CN=((hN=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t))._platform=i,o._document=r,o}return g(n,[{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(function(){return t._checkToolbarMixedModes()}))}},{key:"_checkToolbarMixedModes",value:function(){}}]),n}(_N)).\u0275fac=function(t){return new(t||hN)(Va(ec),Va(aP),Va(Ru))},hN.\u0275cmp=ne({type:hN,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var i;1&t&&kl(n,kN,!0),2&t&&ml(i=xl())&&(e._toolbarRows=i)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&gs("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[wa],ngContentSelectors:bN,decls:2,vars:0,template:function(t,e){1&t&&(os(yN),as(0),as(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),hN),wN=((uN=g(function t(){f(this,t)})).\u0275mod=se({type:uN}),uN.\u0275inj=Ot({factory:function(t){return new(t||uN)},imports:[[_E],_E]}),uN);function xN(t,e){if(1&t){var n=Qa();Ua(0,"div",1),Ja("click",function(){return Qe(n),is().toggle()}),Wa(1,"i",2),Ua(2,"div",3),Ss(3,"Vibrant"),qa(),qa()}}function PN(t,e){if(1&t){var n=Qa();Ua(0,"div",1),Ja("click",function(){return Qe(n),is().toggle()}),Wa(1,"i",2),Ua(2,"div",3),Ss(3,"Pale"),qa(),qa()}}var ON,SN=((ON=function(){function t(e){var n=this;f(this,t),this.themeService=e,this.themeService.modernColors$.subscribe(function(t){n.isModernColors=t===cF.MODERN})}return g(t,[{key:"toggle",value:function(){this.themeService.toggleColors()}}]),t}()).\u0275fac=function(t){return new(t||ON)(Va(lF))},ON.\u0275cmp=ne({type:ON,selectors:[["app-theme-toggle"]],decls:2,vars:2,consts:[["class","theme-toggle",3,"click",4,"ngIf"],[1,"theme-toggle",3,"click"],[1,"icon","small","fas","fa-paint-roller"],[1,"hint"]],template:function(t,e){1&t&&(Na(0,xN,4,0,"div",0),Na(1,PN,4,0,"div",0)),2&t&&(Ha("ngIf",!e.isModernColors),so(1),Ha("ngIf",e.isModernColors))},directives:[Kh],styles:[".theme-toggle[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;pointer-events:auto;color:var(--theme-toggle-icon-color);font-weight:400;margin:.5rem 0;width:100%;max-height:calc(1.2 * var(--navbar-size));border-radius:.5rem;display:flex;gap:.2rem;flex-direction:column;justify-items:center;align-items:center;transition:color .2s,background-color .2s}.theme-toggle.horizontal[_ngcontent-%COMP%]{flex-direction:row}.theme-toggle[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.8rem;line-height:1.2rem;width:100%;display:flex;justify-content:center;text-wrap:wrap}.theme-toggle.active[_ngcontent-%COMP%]{--accent-color:var(--clubs-background)}.theme-toggle.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--link-color-hover);background-color:var(--highlight-color)}.theme-toggle.active.fiveCard[_ngcontent-%COMP%]{--accent-color:var(--diamonds-background)}.theme-toggle.active[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]{border-color:var(--accent-color)!important}.theme-toggle.active[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]{background-color:var(--accent-color)!important}.theme-toggle[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--theme-toggle-icon-color);box-sizing:border-box;padding:.5rem;width:80%;height:calc(100% - 1.2rem);max-height:3rem}.theme-toggle[_ngcontent-%COMP%]   .icon.small[_ngcontent-%COMP%]{padding:.8rem}.theme-toggle[_ngcontent-%COMP%]   .icon.rotate[_ngcontent-%COMP%]{padding-top:.5rem;transform:rotate(30deg)}.theme-toggle[_ngcontent-%COMP%]:not(.disabled):hover   .icon[_ngcontent-%COMP%]{color:var(--link-color-hover);background-color:var(--highlight-color)}"]}),ON);function MN(t,e){1&t&&Wa(0,"img",37)}function TN(t,e){1&t&&Wa(0,"img",38)}function EN(t,e){if(1&t){var n=Qa();Ua(0,"div",5),Ja("click",function(){Qe(n);var t=is();return t.select(t.Module.custom)}),Wa(1,"img",39),Ua(2,"div",8),Ss(3,"Custom"),qa(),qa()}if(2&t){var i=is();gs("active",i.isSelected(i.Module.custom))("disabled",i.isLocked(i.Module.custom)),so(1),Ha("src",i.isSelected(i.Module.custom)?"assets/svg/custom-icon-active.svg":"assets/svg/custom-icon.svg",dr)}}function RN(t,e){if(1&t){var n=Qa();Ua(0,"div",5),Ja("click",function(){Qe(n);var t=is();return t.select(t.Module.favorites)}),Wa(1,"i",40),Ua(2,"div",8),Ss(3,"Favorites"),qa(),qa()}if(2&t){var i=is();gs("disabled",i.isLocked(i.Module.favorites))("fiveCard",i.isFiveCard)}}function FN(t,e){if(1&t){var n=Qa();Ua(0,"div",5),Ja("click",function(){return Qe(n),is().openSkills()}),Wa(1,"img",41),Ua(2,"div",8),Ss(3,"Skills"),qa(),qa()}if(2&t){var i=is();gs("disabled",i.isLocked(i.Module.skills))}}function IN(t,e){if(1&t){var n=Qa();Ua(0,"div",5),Ja("click",function(){return Qe(n),is().openNewUI()}),Wa(1,"i",42),Ua(2,"div",8),Ss(3,"New UI"),qa(),qa()}}function AN(t,e){if(1&t){var n=Qa();Ua(0,"div",5),Ja("click",function(){return Qe(n),is().exitTraining()}),Wa(1,"i",43),Ua(2,"div",8),Ss(3,"Exit"),qa(),qa()}}function DN(t,e){if(1&t&&(Ua(0,"div",44),Ss(1),tl(2,"async"),qa()),2&t){var n=is();so(1),Ms(el(2,1,n.status$))}}function LN(t,e){1&t&&Wa(0,"app-theme-toggle")}function BN(t,e){if(1&t){var n=Qa();$a(0),Ua(1,"div",24),Ja("click",function(){return Qe(n),is().showAppInfo()}),Wa(2,"img",45),Ua(3,"div",8),Ss(4,"Updates"),qa(),qa(),Ga()}2&t&&(so(2),gs("blinking",!0))}function NN(t,e){if(1&t){var n=Qa();$a(0),Ua(1,"div",5),Ja("click",function(){return Qe(n),is().showAppInfo()}),Wa(2,"img",46),Ua(3,"div",8),Ss(4,"Updates"),qa(),qa(),Ga()}}function jN(t,e){if(1&t){var n=Qa();Ua(0,"div",29),Ja("click",function(){return Qe(n),is().openSkills()}),Ua(1,"span"),Ss(2,"Skills"),qa(),qa()}}function VN(t,e){if(1&t){var n=Qa();Ua(0,"div",33),Ja("click",function(){return Qe(n),is().openNewUI()}),Wa(1,"i",47),Ua(2,"span"),Ss(3,"New UI"),qa(),qa()}}function HN(t,e){if(1&t){var n=Qa();Ua(0,"div",29),Ja("click",function(){return Qe(n),is().toggleColors()}),Ss(1,"Switch accent colors"),qa()}}function zN(t,e){if(1&t){var n=Qa();$a(0),Ua(1,"div",33),Ja("click",function(){return Qe(n),is().showAppInfo()}),Wa(2,"i",48),Ua(3,"span"),Ss(4,"Updates"),qa(),qa(),Ga()}2&t&&(so(2),gs("blinking",!0))}function UN(t,e){if(1&t){var n=Qa();$a(0),Ua(1,"div",33),Ja("click",function(){return Qe(n),is().showAppInfo()}),Wa(2,"i",48),Ua(3,"span"),Ss(4,"Updates"),qa(),qa(),Ga()}}var qN,WN=function(t){return t.favorites="favorites",t.preflop="preflop",t.postflop="postflop",t.custom="custom",t.skills="skills",t}({}),$N=((qN=function(){function e(t,n,i,r,o,a,s,c){f(this,e),this.store=t,this.feature=n,this.dialog=i,this.themeService=r,this.authService=o,this.router=a,this.route=s,this.customSimService=c,this.selected=new ol,this.burgerMenuShowing=!1,this.Module=WN,this._selected=WN.preflop}return g(e,[{key:"ngOnInit",value:function(){this.status$=this.store.pipe(ob(Qk)),this.user$=this.store.pipe(ob(ak)),this.newestUnseenReleaseNote$=this.store.pipe(ob(vC)),this.hasNewReleaseNotes$=this.newestUnseenReleaseNote$.pipe(W(function(t){return!!t}));var t=this.route.snapshot.queryParamMap.get("type");t===WN.preflop?this._selected=WN.preflop:t===WN.postflop&&(this._selected=WN.postflop)}},{key:"isFiveCard",get:function(){return!1}},{key:"showNewUI$",get:function(){return this.user$.pipe(W(function(t){return t.accessLevel>=Uk.Full&&"https://plo4.plomastermind.com".length>0}))}},{key:"showThemeToggle",get:function(){return this.feature.isAvailable(C_.ThemeToggle)}},{key:"showCustomModule",get:function(){return this.feature.isAvailable(C_.CustomSims)}},{key:"showSkillsModule",get:function(){return this.feature.isAvailable(C_.Skills)}},{key:"showFavoritesModule",get:function(){return this.feature.isAvailable(C_.Favorites)}},{key:"isTraining",get:function(){var t,e,n,i;return"train"===(null===(e=null===(t=this.route.snapshot)||void 0===t?void 0:t.url[0])||void 0===e?void 0:e.path)||"game"===(null===(i=null===(n=this.route.snapshot)||void 0===n?void 0:n.url[0])||void 0===i?void 0:i.path)}},{key:"isLocked",value:function(t){switch(t){case WN.custom:return this.feature.isLocked(C_.CustomSims);case WN.favorites:return this.feature.isLocked(C_.Favorites);case WN.skills:return this.feature.isLocked(C_.Skills)}}},{key:"select",value:function(e){var n=this;if(e===WN.favorites){if(this.feature.isLocked(C_.Favorites))return void this.dialog.open(DA,{data:{featureText:"Creating favorites"}});this.dialog.open(AA).afterClosed().subscribe(function(e){return Gm(n,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,!t.t0){t.next=4;break}return t.next=4,this.loadFavorite(e);case 4:case"end":return t.stop()}},n,this)}))})}else if(e===WN.custom&&this._selected!==WN.custom){if(this.feature.isLocked(C_.CustomSims))return void this.dialog.open(DA,{data:{featureText:"Custom sims"}});this.store.dispatch(B_()),this.store.dispatch(j_()),this.store.dispatch(e_()),this.switchModule(e)}else this._selected===WN.custom&&e!==WN.custom?this.dialog.open(NI,{data:{title:"Exit custom",content:["Please save your custom sim if you don't want to lose your data"],confirmLabel:"Confirm",dismissLabel:"Go back"}}).afterClosed().subscribe(function(t){t&&(n.store.dispatch(B_()),n.store.dispatch(j_()),n.store.dispatch(e_()),n.customSimService.reset(),n.store.dispatch(Qb({key:n.feature.defaultTreeKey})),n.switchModule(e))}):this.switchModule(e)}},{key:"loadFavorite",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.router.navigate([e.path],{queryParams:e.queryParams,replaceUrl:!0});case 2:this.store.dispatch(B_()),i=e.queryParams.tree,"preflop"===e.queryParams.type?(this.switchModule(WN.preflop),this.store.dispatch(Qb({key:i}))):(this.switchModule(WN.postflop),r=w_(this.store.pipe(ob(I_(i)))),o=e.queryParams,a=o.flop,s=o.turn,c=o.river,this.store.dispatch(Jb({tree:r,flop:a,turn:s,river:c})));case 5:case"end":return t.stop()}},n,this)}))}},{key:"switchModule",value:function(t){t!==WN.favorites&&(this._selected=t),this.selected.emit(t)}},{key:"isSelected",value:function(t){return this._selected===t}},{key:"refreshUser",value:function(){this.store.dispatch(Z_())}},{key:"logout",value:function(){this.store.dispatch(J_({}))}},{key:"openNewUI",value:function(){if("https://plo4.plomastermind.com".length>0){var t=this.authService.getEncodedLoginToken();window.open("https://plo4.plomastermind.com/?loginToken="+t)}}},{key:"openSkills",value:function(){var t=this.authService.getEncodedLoginToken();window.open("https://".concat(this.isFiveCard?"5card-":"","skills.plomastermind.com/?loginToken=").concat(t))}},{key:"openShop",value:function(){window.open(xI)}},{key:"openMastermindShop",value:function(){window.open("https://plomastermind.com/register/plo-trainer-web-app-and-plo-mm-bundle-monthly/")}},{key:"duplicateWindow",value:function(){var t=window.location.href.replace("freeze=true","").replace("freeze=false","");window.open(t)}},{key:"openMainWebsite",value:function(){window.open("https://plomastermind.com")}},{key:"openDiscord",value:function(){window.open("https://plomastermind.com/discord")}},{key:"exitTraining",value:function(){var t=Object.assign(Object.assign({},this.route.snapshot.queryParams),{user:void 0,hands:void 0,randomBoard:void 0,boards:void 0,boardFilter:void 0,minFrequency:void 0,minWeight:void 0,minEV:void 0,maxEV:void 0,selection:void 0,freeze:void 0});this.router.navigate([""],{queryParams:t})}},{key:"showAppInfo",value:function(){var t=w_(this.newestUnseenReleaseNote$);t&&this.store.dispatch(sC({releaseNotesLastSeen:new Date(t.dateReleased)})),this.dialog.open(II,{data:{hasNewUpdates:!!t}})}},{key:"toggleMenu",value:function(){this.burgerMenuShowing=!this.burgerMenuShowing}},{key:"toggleColors",value:function(){this.themeService.toggleColors()}}]),e}()).\u0275fac=function(t){return new(t||qN)(Va(ib),Va(aF),Va(SR),Va(lF),Va(oF),Va(Pm),Va(nv),Va(mN))},qN.\u0275cmp=ne({type:qN,selectors:[["app-status-bar"]],outputs:{selected:"selected"},decls:82,vars:45,consts:[[1,"navbar-container"],[1,"module-menu"],[1,"main-logo",3,"click"],["src","assets/favicon_5c.ico","alt","",4,"ngIf"],["src","assets/favicon.ico","alt","",4,"ngIf"],[1,"app-info",3,"click"],[1,"preflop-icon","icon"],[1,"preflop-icon-card"],[1,"hint"],[1,"postflop-icon","icon"],[1,"postflop-icon-card"],["class","app-info",3,"active","disabled","click",4,"ngIf"],["class","app-info",3,"disabled","fiveCard","click",4,"ngIf"],["class","app-info",3,"disabled","click",4,"ngIf"],["class","app-info",3,"click",4,"ngIf"],[1,"secondary-menu"],[1,"icon","small","fas","fa-external-link-alt"],[1,"subscription-menu"],["regular",""],[1,"info-menu"],[4,"ngIf"],[1,"icon","small","fas","fa-sync-alt"],["src","assets/svg/discord-mark-white.svg",1,"icon","small"],[1,"last-menu"],[1,"app-info","exit",3,"click"],["src","assets/svg/logout-icon.svg",1,"icon","small"],[1,"burger-icon",3,"click"],[1,"middle-line"],[1,"burger-menu"],[3,"click"],[3,"click",4,"ngIf"],["class","app-info horizontal",3,"click",4,"ngIf"],[1,"divider"],[1,"app-info","horizontal",3,"click"],[1,"fas","fa-sync-alt"],[1,"close-burger"],[1,"burger-overlay",3,"click"],["src","assets/favicon_5c.ico","alt",""],["src","assets/favicon.ico","alt",""],[1,"icon",3,"src"],[1,"icon","fas","fa-star"],["src","assets/svg/skills-icon.svg",1,"icon"],[1,"icon","fas","fa-fire"],[1,"icon","small","far","fa-times-circle"],[1,"status"],["src","assets/svg/updates-icon.svg",1,"icon"],["src","assets/svg/updates-icon.svg",1,"icon","small"],[1,"fas","fa-fire"],[1,"fas","fa-bell"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"mat-toolbar"),Ua(2,"div",1),Ua(3,"div",2),Ja("click",function(){return e.openMainWebsite()}),Na(4,MN,1,0,"img",3),Na(5,TN,1,0,"img",4),qa(),Ua(6,"div",5),Ja("click",function(){return e.select(e.Module.preflop)}),Ua(7,"div",6),Wa(8,"div",7),Wa(9,"div",7),Wa(10,"div",7),qa(),Ua(11,"div",8),Ss(12,"Preflop"),qa(),qa(),Ua(13,"div",5),Ja("click",function(){return e.select(e.Module.postflop)}),Ua(14,"div",9),Wa(15,"div",10),Wa(16,"div",10),Wa(17,"div",10),qa(),Ua(18,"div",8),Ss(19,"Postflop"),qa(),qa(),Na(20,EN,4,5,"div",11),Na(21,RN,4,4,"div",12),Na(22,FN,4,2,"div",13),Na(23,IN,4,0,"div",14),tl(24,"async"),qa(),Ua(25,"div",15),Ua(26,"div",5),Ja("click",function(){return e.duplicateWindow()}),Wa(27,"i",16),Ua(28,"div",8),Ss(29,"Window"),qa(),qa(),Na(30,AN,4,0,"div",14),Ua(31,"div",17),Na(32,DN,3,3,"ng-template",null,18,Ml),qa(),Ua(34,"div",19),Na(35,LN,1,0,"app-theme-toggle",20),Ua(36,"div",5),Ja("click",function(){return e.refreshUser()}),Wa(37,"i",21),Ua(38,"div",8),Ss(39,"Refresh"),qa(),qa(),Ua(40,"div",5),Ja("click",function(){return e.openDiscord()}),Wa(41,"img",22),Ua(42,"div",8),Ss(43,"Get Help"),qa(),qa(),qa(),qa(),Ua(44,"div",23),Na(45,BN,5,2,"ng-container",20),tl(46,"async"),Na(47,NN,5,0,"ng-container",20),tl(48,"async"),Ua(49,"div",24),Ja("click",function(){return e.logout()}),Wa(50,"img",25),Ua(51,"div",8),Ss(52,"Log out"),qa(),qa(),qa(),qa(),Ua(53,"div",26),Ja("click",function(){return e.toggleMenu()}),Wa(54,"div",27),Ua(55,"div",28),Ua(56,"div",29),Ja("click",function(){return e.select(e.Module.preflop)}),Ua(57,"span"),Ss(58,"Preflop"),qa(),qa(),Ua(59,"div",29),Ja("click",function(){return e.select(e.Module.postflop)}),Ua(60,"span"),Ss(61,"Postflop"),qa(),qa(),Na(62,jN,3,0,"div",30),Na(63,VN,4,0,"div",31),tl(64,"async"),Wa(65,"div",32),Na(66,HN,2,0,"div",30),Ua(67,"div",33),Ja("click",function(){return e.refreshUser()}),Wa(68,"i",34),Ua(69,"span"),Ss(70,"Refresh"),qa(),qa(),Wa(71,"div",32),Na(72,zN,5,2,"ng-container",20),tl(73,"async"),Na(74,UN,5,0,"ng-container",20),tl(75,"async"),Ua(76,"div",29),Ja("click",function(){return e.logout()}),Ss(77,"Log out"),qa(),$a(78),Ua(79,"div",35),Ss(80," Close "),qa(),Ga(),qa(),qa(),qa(),Ua(81,"div",36),Ja("click",function(){return e.toggleMenu()}),qa()),2&t&&(so(4),Ha("ngIf",e.isFiveCard),so(1),Ha("ngIf",!e.isFiveCard),so(1),gs("active",e.isSelected(e.Module.preflop))("fiveCard",e.isFiveCard),so(7),gs("active",e.isSelected(e.Module.postflop))("fiveCard",e.isFiveCard),so(7),Ha("ngIf",e.showCustomModule),so(1),Ha("ngIf",e.showFavoritesModule),so(1),Ha("ngIf",e.showSkillsModule),so(1),Ha("ngIf",el(24,33,e.showNewUI$)),so(7),Ha("ngIf",e.isTraining),so(5),Ha("ngIf",e.showThemeToggle),so(10),Ha("ngIf",el(46,35,e.hasNewReleaseNotes$)),so(2),Ha("ngIf",!el(48,37,e.hasNewReleaseNotes$)),so(6),gs("opened",e.burgerMenuShowing),so(2),gs("show",e.burgerMenuShowing),so(1),gs("active",e.isSelected(e.Module.preflop)),so(3),gs("active",e.isSelected(e.Module.postflop)),so(3),Ha("ngIf",e.showSkillsModule),so(1),Ha("ngIf",el(64,39,e.showNewUI$)),so(3),Ha("ngIf",e.showThemeToggle),so(6),Ha("ngIf",el(73,41,e.hasNewReleaseNotes$)),so(2),Ha("ngIf",!el(75,43,e.hasNewReleaseNotes$)),so(7),gs("showing",e.burgerMenuShowing))},directives:[CN,Kh,SN],pipes:[gd],styles:['[_ngcontent-%COMP%]:root{--border-color:hsla(0,0%,100%,0.25098039215686274);--border-style:1px solid var(--border-color);--border-style-bold:2px solid var(--border-color);--border-radius:0;--highlight-color-half:rgba(0,0,0,0.08235294117647059);--highlight-color:rgba(0,0,0,0.18823529411764706);--box-shadow:0 0 0.5rem var(--highlight-color);--link-border-radius:0;--navbar-size:3.5rem}@keyframes blink{0%,to{opacity:1}50%{opacity:0}}.navbar-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;pointer-events:none}.burger-overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;pointer-events:auto;z-index:11;display:none;background:rgba(31,31,31,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.burger-overlay.showing[_ngcontent-%COMP%]{display:block}mat-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;background-color:transparent;padding:0;justify-content:space-between}mat-toolbar[_ngcontent-%COMP%]   .main-logo[_ngcontent-%COMP%]{cursor:pointer;width:calc(100% - .6rem);box-sizing:border-box;background:var(--app-background);padding:.4rem;border-radius:.3rem;margin:.9rem .3rem 1.5rem;display:flex}mat-toolbar[_ngcontent-%COMP%]   .main-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.burger-icon[_ngcontent-%COMP%]{display:none;align-items:center;position:absolute;pointer-events:auto;top:0;left:.5rem;width:2.5rem;height:3rem;z-index:12;cursor:pointer}.burger-icon[_ngcontent-%COMP%]   .middle-line[_ngcontent-%COMP%]{width:100%;height:3px;background-color:var(--border-color);transition:opacity .2s .2s}.burger-icon.opened[_ngcontent-%COMP%]   .middle-line[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.burger-icon[_ngcontent-%COMP%]:before{top:.5rem}.burger-icon[_ngcontent-%COMP%]:after, .burger-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:3px;background:var(--border-color);z-index:12;transform-origin:left;transform:rotate(0deg);transition:transform .2s ease-in-out}.burger-icon[_ngcontent-%COMP%]:after{bottom:.5rem}.burger-icon.opened[_ngcontent-%COMP%]:before{transform-origin:left;transform:rotate(45deg)}.burger-icon.opened[_ngcontent-%COMP%]:after{transform-origin:left;transform:rotate(-45deg)}.burger-menu[_ngcontent-%COMP%]{position:absolute;left:0;top:0;opacity:0;z-index:10;border-bottom:var(--border-style);border-right:var(--border-style);background:var(--background-color);width:180px;padding:40px 16px 16px;font-size:16px;transform:translate(-100%,-.8rem);transition:transform .3s,opacity .1s;display:flex;flex-direction:column}.burger-menu.show[_ngcontent-%COMP%]{opacity:1;transform:translate(-1rem,-.8rem)}.burger-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;justify-content:flex-start;padding:0 10px}.burger-menu[_ngcontent-%COMP%]   div.divider[_ngcontent-%COMP%]{height:20px}.burger-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(.divider):hover{background:hsla(0,0%,100%,.3137254901960784)}.burger-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px}app-theme-toggle[_ngcontent-%COMP%]{color:var(--theme-toggle-icon-color)}.bar-icon[_ngcontent-%COMP%]{cursor:pointer;width:var(--navbar-size);height:var(--navbar-size);color:var(--link-color)}.bar-icon[_ngcontent-%COMP%]:first-child{margin-left:0}.bar-icon[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.bar-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;pointer-events:auto}.bar-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{box-sizing:border-box;padding:1rem;width:100%;height:100%}.status[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;justify-content:center;align-items:center;font-size:1rem;font-weight:400;padding-left:6.25rem;color:var(--text-color)}.secondary-menu[_ngcontent-%COMP%]{flex-grow:1;justify-content:space-between;padding-bottom:2rem;padding-top:1rem;border-top:var(--border-style);border-bottom:var(--border-style);background-color:rgba(0,0,0,.1568627450980392)}.app-info[_ngcontent-%COMP%], .info-menu[_ngcontent-%COMP%], .last-menu[_ngcontent-%COMP%], .secondary-menu[_ngcontent-%COMP%], .subscription-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.app-info[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;pointer-events:auto;color:var(--theme-toggle-icon-color);font-weight:400;margin:0;max-height:calc(1.2 * var(--navbar-size));border-radius:.5rem;gap:.2rem;justify-items:center;align-items:center;transition:color .2s,background-color .2s}.app-info.horizontal[_ngcontent-%COMP%]{flex-direction:row}.app-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.8rem;line-height:.8rem;text-wrap:wrap}.app-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%], .app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]{box-sizing:border-box;padding:.5rem 0;height:calc(100% - 1.2rem)}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]{height:1.5rem;width:1rem;border:var(--border-style);border-color:var(--theme-toggle-icon-color);border-width:2px;margin-left:-.8rem;background-color:var(--background-color);border-radius:2px}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]:first-child{margin:0;z-index:3}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]:nth-child(2){z-index:2}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]:nth-child(3){z-index:1}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;padding:.5rem 0;justify-content:center;width:100%;height:calc(100% - 1.2rem)}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]{height:1.5rem;width:1rem;border:var(--border-style);border-color:var(--background-color);border-width:2px;margin-left:-.8rem;background-color:var(--theme-toggle-icon-color);border-radius:2px}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]:first-child{margin:0;z-index:3}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]:nth-child(2){z-index:2}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]:nth-child(3){z-index:1}.app-info.active[_ngcontent-%COMP%]{--accent-color:var(--clubs-background)}.app-info.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--link-color-hover);background-color:var(--highlight-color)}.app-info.active.fiveCard[_ngcontent-%COMP%]{--accent-color:var(--diamonds-background)}.app-info.active[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]{border-color:var(--accent-color)!important}.app-info.active[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]{background-color:var(--accent-color)!important}.app-info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--theme-toggle-icon-color);box-sizing:border-box;padding:.5rem;width:80%;height:calc(100% - 1.2rem)}.app-info[_ngcontent-%COMP%]   .icon.small[_ngcontent-%COMP%]{padding:.8rem}.app-info[_ngcontent-%COMP%]   .icon.rotate[_ngcontent-%COMP%]{padding-top:.5rem;transform:rotate(30deg)}.app-info.exit[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.app-info.disabled[_ngcontent-%COMP%]{transition:none;opacity:.35;cursor:not-allowed}.app-info[_ngcontent-%COMP%]:not(.disabled):hover   .icon[_ngcontent-%COMP%]{color:var(--link-color-hover);background-color:var(--highlight-color)}.app-info[_ngcontent-%COMP%]:not(.disabled)   .blinking[_ngcontent-%COMP%]{color:var(--app-color);animation:blink 2s ease-in infinite}.link[_ngcontent-%COMP%]{pointer-events:auto;font-size:1rem;font-weight:400;box-sizing:border-box;cursor:pointer;color:var(--link-color);display:flex;flex-direction:column;align-items:center;width:100%;transition:color .2s}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%]{margin-left:1.25rem;padding:0 1.1875rem;border:var(--border-style);border-radius:var(--link-border-radius);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}.link.exit[_ngcontent-%COMP%]{margin-bottom:2rem}.link[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.8rem}.link[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{box-sizing:border-box;color:var(--theme-toggle-icon-color);padding:0 .8rem;width:100%;height:100%}.link[_ngcontent-%COMP%]   .icon.small[_ngcontent-%COMP%]{padding:0 .9rem}.module-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin:0 0 1rem}']}),qN);function GN(t,e){1&t&&(Ua(0,"span",6),Wa(1,"i",7),qa())}function KN(t,e){1&t&&(Ua(0,"span",6),Wa(1,"i",8),qa())}function QN(t,e){1&t&&(Ua(0,"div",13),Wa(1,"i",14),qa())}function YN(t,e){if(1&t){var n=Qa();Ua(0,"div",11),Ja("click",function(){Qe(n);var t=e.$implicit;return is(2).selectCategory(t)}),Ua(1,"div"),Ss(2),qa(),Na(3,QN,2,0,"div",12),qa()}if(2&t){var i=e.$implicit,r=is(2);gs("selected",r.isSelectedCategory(i))("disabled",i.isLocked),so(2),Ms(r.getCategoryTitle(i)),so(1),Ha("ngIf",i.isLocked)}}function ZN(t,e){if(1&t&&(Ua(0,"div",9),Na(1,YN,4,6,"div",10),qa()),2&t){var n=is();so(1),Ha("ngForOf",n.sortedCategories)}}function JN(t,e){1&t&&(Ua(0,"span",6),Wa(1,"i",7),qa())}function XN(t,e){1&t&&(Ua(0,"span",6),Wa(1,"i",8),qa())}function tj(t,e){if(1&t&&(Ua(0,"div",20),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n," ")}}function ej(t,e){if(1&t&&(Ua(0,"div",18),Na(1,tj,2,1,"div",19),qa()),2&t){var n=is(2);so(1),Ha("ngForOf",n.sortedPositions)}}function nj(t,e){if(1&t&&($a(0),Ss(1),Ga()),2&t){var n=is().$implicit,i=is(3);so(1),Ts(" ",i.getTreeLabel(n)," ")}}function ij(t,e){if(1&t&&(Ua(0,"div",20),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n," ")}}function rj(t,e){if(1&t&&(Ua(0,"div",24),Na(1,ij,2,1,"div",19),qa()),2&t){var n=is().$implicit,i=is(3);so(1),Ha("ngForOf",i.sortedIcmStacks(n))}}function oj(t,e){1&t&&(Ua(0,"div",13),Wa(1,"i",14),qa())}function aj(t,e){if(1&t){var n=Qa();Ua(0,"div",11),Ja("click",function(){Qe(n);var t=e.$implicit;return is(3).emitSelect(t)}),Ua(1,"div",21),Na(2,nj,2,1,"ng-container",22),Na(3,rj,2,1,"ng-template",null,23,Ml),qa(),Na(5,oj,2,0,"div",12),qa()}if(2&t){var i=e.$implicit,r=ja(4),o=is(3);gs("selected",o.isSelected(i))("disabled",i.isLocked),so(2),Ha("ngIf",!o.hasIcmStacks(i))("ngIfElse",r),so(3),Ha("ngIf",i.isLocked)}}function sj(t,e){if(1&t&&(Ua(0,"div",15),Na(1,aj,6,7,"div",10),qa()),2&t){var n=e.$implicit,i=is(2);so(1),Ha("ngForOf",i.sortedTrees(n.trees))}}function cj(t,e){if(1&t&&(Ua(0,"div",9),Ua(1,"div",15),Na(2,ej,2,1,"div",16),qa(),Na(3,sj,2,1,"div",17),qa()),2&t){var n=is();so(2),Ha("ngIf",n.isIcmCategory),so(1),Ha("ngForOf",n.profilesForSelectedCategory)}}var lj,uj=((lj=function(){function t(e){f(this,t),this.dialog=e,this.selectedTree=null,this.selected=new ol,this.categoryPanelExpanded=!1,this.treePanelExpanded=!1}return g(t,[{key:"onGlobalClick",value:function(t){var e;if(this.categoryPanelExpanded||this.treePanelExpanded){var n,i=k(t.composedPath());try{for(i.s();!(n=i.n()).done;){var r=n.value;if(null===(e=null==r?void 0:r.classList)||void 0===e?void 0:e.contains("expansion-panel"))return}}catch(o){i.e(o)}finally{i.f()}this.closePanels()}}},{key:"ngOnChanges",value:function(t){var e;(null===(e=t.selectedTree)||void 0===e?void 0:e.currentValue)&&(this.selectedCategory=this.getCategoryForTree(t.selectedTree.currentValue))}},{key:"expandTreePanel",value:function(){this.categoryPanelExpanded=!1,this.treePanelExpanded=!0}},{key:"toggleCategoryPanel",value:function(){this.categoryPanelExpanded=!this.categoryPanelExpanded,this.treePanelExpanded=!1}},{key:"toggleTreePanel",value:function(){this.treePanelExpanded=!this.treePanelExpanded,this.categoryPanelExpanded=!1}},{key:"isFiveCard",get:function(){return!1}},{key:"sortedCategories",get:function(){return this.treesByCategory.sort(function(t,e){return d_[t.label]-d_[e.label]})}},{key:"categoryPanelTitle",get:function(){return this.selectedCategory&&!this.categoryPanelExpanded?this.getCategoryTitle(this.selectedCategory):"Categories"}},{key:"treePanelTitle",get:function(){var t=this.getTree(this.selectedTree);return this.treePanelExpanded||!t?"Trees":__(t,this.isFiveCard)}},{key:"profilesForSelectedCategory",get:function(){var t;return null===(t=this.selectedCategory)||void 0===t?void 0:t.profiles}},{key:"getTree",value:function(t){var e,n=k(this.treesByCategory);try{for(n.s();!(e=n.n()).done;){var i,r=k(e.value.profiles);try{for(r.s();!(i=r.n()).done;){var o=i.value.trees.find(function(e){return e.key===t});if(o)return o}}catch(a){r.e(a)}finally{r.f()}}}catch(a){n.e(a)}finally{n.f()}}},{key:"getCategoryForTree",value:function(t){var e,n=k(this.treesByCategory);try{for(n.s();!(e=n.n()).done;){var i,r=e.value,o=k(r.profiles);try{for(o.s();!(i=o.n()).done;)if(i.value.trees.find(function(e){return e.key===t}))return r}catch(a){o.e(a)}finally{o.f()}}}catch(a){n.e(a)}finally{n.f()}}},{key:"selectCategory",value:function(t){this.selectedCategory=t,this.categoryPanelExpanded=!1,this.treePanelExpanded=!0}},{key:"isSelectedCategory",value:function(t){return t===this.selectedCategory}},{key:"isSelected",value:function(t){return this.selectedTree&&this.selectedTree===t.key}},{key:"getCategoryTitle",value:function(t){return f_(t.label)}},{key:"isIcmCategory",get:function(){return this.selectedCategory.label.toLowerCase().includes("icm")}},{key:"hasIcmStacks",value:function(t){return!!t.icmStacks}},{key:"sortedPositions",get:function(){return[n_.EP,n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB]}},{key:"sortedIcmStacks",value:function(t){return this.sortedPositions.map(function(e){return t.icmStacks[e]}).filter(function(t){return!!t})}},{key:"getTreeLabel",value:function(t){if(t.label)return t.label;if(t.type===h_.preflop)return this.isFiveCard?t.stack+"bb":"".concat(g_(t.profile)," - ").concat(t.stack,"bb");var e=t,n=a_(e.activePlayers).join(" vs. ");return this.isFiveCard?"".concat(e.stack,"bb - ").concat(n):"".concat(g_(e.profile)," - ").concat(e.stack,"bb - ").concat(n)}},{key:"sortedTrees",value:function(t){return C(t).sort(function(t,e){return t.treeOrder&&e.treeOrder?t.treeOrder-e.treeOrder:t.stack-e.stack})}},{key:"emitSelect",value:function(t){t.isLocked?this.dialog.open(hD):(this.categoryPanelExpanded=!1,this.treePanelExpanded=!1,this.selected.emit(t))}},{key:"closePanels",value:function(){this.categoryPanelExpanded=!1,this.treePanelExpanded=!1}}]),t}()).\u0275fac=function(t){return new(t||lj)(Va(SR))},lj.\u0275cmp=ne({type:lj,selectors:[["app-preflop-tree-selector"]],hostBindings:function(t,e){1&t&&Ja("mousedown",function(t){return e.onGlobalClick(t)},!1,br)},inputs:{treesByCategory:"treesByCategory",selectedTree:"selectedTree"},outputs:{selected:"selected"},features:[Pe],decls:14,vars:10,consts:[[1,"expansion-panels"],[3,"className"],[1,"header",3,"click"],[1,"header-text"],["class","icon",4,"ngIf"],["class","content",4,"ngIf"],[1,"icon"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],[1,"content"],["class","item",3,"selected","disabled","click",4,"ngFor","ngForOf"],[1,"item",3,"click"],["class","icon lock",4,"ngIf"],[1,"icon","lock"],[1,"fas","fa-lock"],[1,"group"],["class","icm-header",4,"ngIf"],["class","group",4,"ngFor","ngForOf"],[1,"icm-header"],["class","icm-item",4,"ngFor","ngForOf"],[1,"icm-item"],[1,"label"],[4,"ngIf","ngIfElse"],["icmStacks",""],[1,"icm-stacks"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"div",1),Ua(2,"div",2),Ja("click",function(){return e.toggleCategoryPanel()}),Ua(3,"div",3),Ss(4),qa(),Na(5,GN,2,0,"span",4),Na(6,KN,2,0,"span",4),qa(),Na(7,ZN,2,1,"div",5),qa(),Ua(8,"div",1),Ua(9,"div",2),Ja("click",function(){return e.toggleTreePanel()}),Ss(10),Na(11,JN,2,0,"span",4),Na(12,XN,2,0,"span",4),qa(),Na(13,cj,4,2,"div",5),qa(),qa()),2&t&&(so(1),Ha("className",e.categoryPanelExpanded?"expansion-panel category expanded":"expansion-panel category"),so(3),Ms(e.categoryPanelTitle),so(1),Ha("ngIf",e.categoryPanelExpanded),so(1),Ha("ngIf",!e.categoryPanelExpanded),so(1),Ha("ngIf",e.categoryPanelExpanded),so(1),Ha("className",e.treePanelExpanded?"expansion-panel tree expanded":"expansion-panel tree"),so(2),Ts(" ",e.treePanelTitle," "),so(1),Ha("ngIf",e.treePanelExpanded),so(1),Ha("ngIf",!e.treePanelExpanded),so(1),Ha("ngIf",e.treePanelExpanded))},directives:[Kh,$h],styles:[".tree-selector-container[_ngcontent-%COMP%]{width:100%}.expansion-panels[_ngcontent-%COMP%]{width:100%;display:flex;gap:1rem;position:relative}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]{cursor:pointer;height:2.625rem;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);color:var(--text-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.category[_ngcontent-%COMP%]{z-index:11;width:40%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.tree[_ngcontent-%COMP%]{z-index:10;width:60%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.expanded[_ngcontent-%COMP%]{height:100%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 .625rem;height:2.625rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{width:calc(100% - .5rem)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.5rem}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 10px 10px;max-height:70vh;overflow:auto}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:10px}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:.25rem;cursor:pointer;padding:.35rem .7rem;color:var(--text-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{background-color:var(--tree-item-selected);color:var(--app-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover:not(.expansion-panels   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.selected)[_ngcontent-%COMP%]{background-color:var(--tree-item-hover)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.disabled[_ngcontent-%COMP%]{opacity:.35}.icon.lock[_ngcontent-%COMP%]{font-size:.75rem}.icm-header[_ngcontent-%COMP%]{padding:.35rem .7rem;color:var(--text-color)}.icm-header[_ngcontent-%COMP%], .icm-stacks[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.icm-header[_ngcontent-%COMP%]   .icm-item[_ngcontent-%COMP%], .icm-stacks[_ngcontent-%COMP%]   .icm-item[_ngcontent-%COMP%]{width:2rem;text-align:center}"]}),lj),hj=["trigger"],dj=["panel"];function fj(t,e){if(1&t&&(Ua(0,"span",8),Ss(1),qa()),2&t){var n=is();so(1),Ms(n.placeholder||"\xa0")}}function pj(t,e){if(1&t&&(Ua(0,"span"),Ss(1),qa()),2&t){var n=is(2);so(1),Ms(n.triggerValue||"\xa0")}}function gj(t,e){1&t&&as(0,0,["*ngSwitchCase","true"])}function vj(t,e){1&t&&(Ua(0,"span",9),Na(1,pj,2,1,"span",10),Na(2,gj,1,0,"ng-content",11),qa()),2&t&&(Ha("ngSwitch",!!is().customTrigger),so(2),Ha("ngSwitchCase",!0))}function mj(t,e){if(1&t){var n=Qa();Ua(0,"div",12),Ua(1,"div",13,14),Ja("@transformPanel.done",function(t){return Qe(n),is()._panelDoneAnimatingStream.next(t.toState)})("keydown",function(t){return Qe(n),is()._handleKeydown(t)}),as(3,1),qa(),qa()}if(2&t){var i=is();Ha("@transformPanelWrap",void 0),so(1),r=i._getPanelTheme(),ys(vi,vs,Ba(Ge(),"mat-select-panel ",r,""),!0),ps("transform-origin",i._transformOrigin)("font-size",i._triggerFontSize,"px"),Ha("ngClass",i.panelClass)("@transformPanel",i.multiple?"showing-multiple":"showing"),La("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}var r}var yj,bj,_j,kj=[[["mat-select-trigger"]],"*"],Cj=["mat-select-trigger","*"],wj={transformPanelWrap:qS("transformPanelWrap",[QS("* => void",function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}("@transformPanel",[function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}()],{optional:!0}))]),transformPanel:qS("transformPanel",[KS("void",GS({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),KS("showing",GS({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),KS("showing-multiple",GS({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),QS("void => *",WS("120ms cubic-bezier(0, 0, 0.2, 1)")),QS("* => void",WS("100ms 25ms linear",GS({opacity:0})))])},xj=0,Pj=new ci("mat-select-scroll-strategy"),Oj=new ci("MAT_SELECT_CONFIG"),Sj={provide:Pj,deps:[WO],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},Mj=g(function t(e,n){f(this,t),this.source=e,this.value=n}),Tj=wE(xE(kE(PE(g(function t(e,n,i,r,o){f(this,t),this._elementRef=e,this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=r,this.ngControl=o}))))),Ej=new ci("MatSelectTrigger"),Rj=((bj=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s,c,l,h,d,p,g,v,m){var y,b,_,k;return f(this,n),(y=e.call(this,a,o,c,l,d))._viewportRuler=t,y._changeDetectorRef=i,y._ngZone=r,y._dir=s,y._parentFormField=h,y.ngControl=d,y._liveAnnouncer=v,y._defaultOptions=m,y._panelOpen=!1,y._compareWith=function(t,e){return t===e},y._uid="mat-select-"+xj++,y._triggerAriaLabelledBy=null,y._destroy=new z,y._onChange=function(){},y._onTouched=function(){},y._valueId="mat-select-value-"+xj++,y._panelDoneAnimatingStream=new z,y._overlayPanelClass=(null===(b=y._defaultOptions)||void 0===b?void 0:b.overlayPanelClass)||"",y._focused=!1,y.controlType="mat-select",y._required=!1,y._multiple=!1,y._disableOptionCentering=null!==(k=null===(_=y._defaultOptions)||void 0===_?void 0:_.disableOptionCentering)&&void 0!==k&&k,y.ariaLabel="",y.optionSelectionChanges=mp(function(){var t=y.options;return t?t.changes.pipe(Bp(t),Ep(function(){return lt.apply(void 0,C(t.map(function(t){return t.onSelectionChange})))})):y._ngZone.onStable.pipe(Ip(1),Ep(function(){return y.optionSelectionChanges}))}),y.openedChange=new ol,y._openedStream=y.openedChange.pipe(vf(function(t){return t}),W(function(){})),y._closedStream=y.openedChange.pipe(vf(function(t){return!t}),W(function(){})),y.selectionChange=new ol,y.valueChange=new ol,y.ngControl&&(y.ngControl.valueAccessor=u(y)),null!=(null==m?void 0:m.typeaheadDebounceInterval)&&(y._typeaheadDebounceInterval=m.typeaheadDebounceInterval),y._scrollStrategyFactory=g,y._scrollStrategy=y._scrollStrategyFactory(),y.tabIndex=parseInt(p)||0,y.id=y.id,y}return g(n,[{key:"focused",get:function(){return this._focused||this._panelOpen}},{key:"placeholder",get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"required",get:function(){return this._required},set:function(t){this._required=Cx(t),this.stateChanges.next()}},{key:"multiple",get:function(){return this._multiple},set:function(t){this._multiple=Cx(t)}},{key:"disableOptionCentering",get:function(){return this._disableOptionCentering},set:function(t){this._disableOptionCentering=Cx(t)}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(t){t!==this._value&&(this.options&&this._setSelectionByValue(t),this._value=t)}},{key:"typeaheadDebounceInterval",get:function(){return this._typeaheadDebounceInterval},set:function(t){this._typeaheadDebounceInterval=wx(t)}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid,this.stateChanges.next()}},{key:"ngOnInit",value:function(){var t=this;this._selectionModel=new wP(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(cy(),Gx(this._destroy)).subscribe(function(){return t._panelDoneAnimating(t.panelOpen)})}},{key:"ngAfterContentInit",value:function(){var t=this;this._initKeyManager(),this._selectionModel.changed.pipe(Gx(this._destroy)).subscribe(function(t){t.added.forEach(function(t){return t.select()}),t.removed.forEach(function(t){return t.deselect()})}),this.options.changes.pipe(Bp(null),Gx(this._destroy)).subscribe(function(){t._resetOptions(),t._initializeSelection()})}},{key:"ngDoCheck",value:function(){var t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){var e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}},{key:"ngOnChanges",value:function(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}},{key:"ngOnDestroy",value:function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}},{key:"toggle",value:function(){this.panelOpen?this.close():this.open()}},{key:"open",value:function(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}},{key:"close",value:function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}},{key:"writeValue",value:function(t){this.value=t}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"panelOpen",get:function(){return this._panelOpen}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"triggerValue",get:function(){if(this.empty)return"";if(this._multiple){var t=this._selectionModel.selected.map(function(t){return t.viewValue});return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}},{key:"_isRtl",value:function(){return!!this._dir&&"rtl"===this._dir.value}},{key:"_handleKeydown",value:function(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}},{key:"_handleClosedKeydown",value:function(t){var e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!uO(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){var o=this.selected;r.onKeydown(t);var a=this.selected;a&&o!==a&&this._liveAnnouncer.announce(a.viewValue,1e4)}}},{key:"_handleOpenKeydown",value:function(t){var e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||uO(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();var o=this.options.some(function(t){return!t.disabled&&!t.selected});this.options.forEach(function(t){t.disabled||(o?t.select():t.deselect())})}else{var a=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==a&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}},{key:"_onFocus",value:function(){this.disabled||(this._focused=!0,this.stateChanges.next())}},{key:"_onBlur",value:function(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}},{key:"_onAttached",value:function(){var t=this;this.overlayDir.positionChange.pipe(Ip(1)).subscribe(function(){t._changeDetectorRef.detectChanges(),t._positioningSettled()})}},{key:"_getPanelTheme",value:function(){return this._parentFormField?"mat-"+this._parentFormField.color:""}},{key:"empty",get:function(){return!this._selectionModel||this._selectionModel.isEmpty()}},{key:"_initializeSelection",value:function(){var t=this;Promise.resolve().then(function(){t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value),t.stateChanges.next()})}},{key:"_setSelectionByValue",value:function(t){var e=this;if(this._selectionModel.selected.forEach(function(t){return t.setInactiveStyles()}),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(function(t){return e._selectValue(t)}),this._sortValues();else{var n=this._selectValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}},{key:"_selectValue",value:function(t){var e=this,n=this.options.find(function(n){try{return null!=n.value&&e._compareWith(n.value,t)}catch(i){return!1}});return n&&this._selectionModel.select(n),n}},{key:"_initKeyManager",value:function(){var t=this;this._keyManager=new yS(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Gx(this._destroy)).subscribe(function(){t.panelOpen&&(!t.multiple&&t._keyManager.activeItem&&t._keyManager.activeItem._selectViaInteraction(),t.focus(),t.close())}),this._keyManager.change.pipe(Gx(this._destroy)).subscribe(function(){t._panelOpen&&t.panel?t._scrollOptionIntoView(t._keyManager.activeItemIndex||0):t._panelOpen||t.multiple||!t._keyManager.activeItem||t._keyManager.activeItem._selectViaInteraction()})}},{key:"_resetOptions",value:function(){var t=this,e=lt(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Gx(e)).subscribe(function(e){t._onSelect(e.source,e.isUserInput),e.isUserInput&&!t.multiple&&t._panelOpen&&(t.close(),t.focus())}),lt.apply(void 0,C(this.options.map(function(t){return t._stateChanges}))).pipe(Gx(e)).subscribe(function(){t._changeDetectorRef.markForCheck(),t.stateChanges.next()})}},{key:"_onSelect",value:function(t,e){var n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}},{key:"_sortValues",value:function(){var t=this;if(this.multiple){var e=this.options.toArray();this._selectionModel.sort(function(n,i){return t.sortComparator?t.sortComparator(n,i,e):e.indexOf(n)-e.indexOf(i)}),this.stateChanges.next()}}},{key:"_propagateChanges",value:function(t){var e;e=this.multiple?this.selected.map(function(t){return t.value}):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}},{key:"_highlightCorrectOption",value:function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}},{key:"_canOpen",value:function(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_getPanelAriaLabelledby",value:function(){if(this.ariaLabel)return null;var t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}},{key:"_getAriaActiveDescendant",value:function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}},{key:"_getLabelId",value:function(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}},{key:"_getTriggerAriaLabelledby",value:function(){if(this.ariaLabel)return null;var t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}},{key:"_panelDoneAnimating",value:function(t){this.openedChange.emit(t)}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focus(),this.open()}},{key:"shouldLabelFloat",get:function(){return this._panelOpen||!this.empty}}]),n}(Tj)).\u0275fac=function(t){return new(t||bj)(Va(jP),Va(xc),Va(Yl),Va(AE),Va(ec),Va(vP,8),Va(Jw,8),Va(sx,8),Va(JF,8),Va(nw,10),ai("tabindex"),Va(Pj),Va(TS),Va(Oj,8))},bj.\u0275dir=le({type:bj,viewQuery:function(t,e){var n;1&t&&(bl(hj,!0),bl(dj,!0),bl(QO,!0)),2&t&&(ml(n=xl())&&(e.trigger=n.first),ml(n=xl())&&(e.panel=n.first),ml(n=xl())&&(e.overlayDir=n.first))},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[wa,Pe]}),bj),Fj=((yj=function(t){a(n,t);var e=c(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._scrollTop=0,t._triggerFontSize=0,t._transformOrigin="top",t._offsetY=0,t._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],t}return g(n,[{key:"_calculateOverlayScroll",value:function(t,e,n){var i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}},{key:"ngOnInit",value:function(){var t=this;r(d(n.prototype),"ngOnInit",this).call(this),this._viewportRuler.change().pipe(Gx(this._destroy)).subscribe(function(){t.panelOpen&&(t._triggerRect=t.trigger.nativeElement.getBoundingClientRect(),t._changeDetectorRef.markForCheck())})}},{key:"open",value:function(){var t=this;r(d(n.prototype),"_canOpen",this).call(this)&&(r(d(n.prototype),"open",this).call(this),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Ip(1)).subscribe(function(){t._triggerFontSize&&t.overlayDir.overlayRef&&t.overlayDir.overlayRef.overlayElement&&(t.overlayDir.overlayRef.overlayElement.style.fontSize=t._triggerFontSize+"px")}))}},{key:"_scrollOptionIntoView",value:function(t){var e,n,i,r=nR(t,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=(n=o,(e=(t+r)*o)<(i=this.panel.nativeElement.scrollTop)?e:e+n>i+256?Math.max(0,e-256+n):i)}},{key:"_positioningSettled",value:function(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}},{key:"_panelDoneAnimating",value:function(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),r(d(n.prototype),"_panelDoneAnimating",this).call(this,t)}},{key:"_getChangeEvent",value:function(t){return new Mj(this,t)}},{key:"_calculateOverlayOffsetX",value:function(){var t,e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),i=this._isRtl(),r=this.multiple?56:32;if(this.multiple)t=40;else{var o=this._selectionModel.selected[0]||this.options.first;t=o&&o.group?32:16}i||(t*=-1);var a=0-(e.left+t-(i?r:0)),s=e.right+t-n.width+(i?0:r);a>0?t+=a+8:s>0&&(t-=s+8),this.overlayDir.offsetX=Math.round(t),this.overlayDir.overlayRef.updatePosition()}},{key:"_calculateOverlayOffsetY",value:function(t,e,n){var i,r=this._getItemHeight(),o=(r-this._triggerRect.height)/2,a=Math.floor(256/r);return this.disableOptionCentering?0:(i=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-a))*r+(r-(this._getItemCount()*r-256)%r):e-r/2,Math.round(-1*i-o))}},{key:"_checkOverlayWithinViewport",value:function(t){var e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),a=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;a>r?this._adjustPanelUp(a,r):o>i?this._adjustPanelDown(o,i,t):this._transformOrigin=this._getOriginBasedOnOption()}},{key:"_adjustPanelUp",value:function(t,e){var n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}},{key:"_adjustPanelDown",value:function(t,e,n){var i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}},{key:"_calculateOverlayPosition",value:function(){var t,e=this._getItemHeight(),n=this._getItemCount(),i=Math.min(n*e,256),r=n*e-i;t=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),t+=nR(t,this.options,this.optionGroups);var o=i/2;this._scrollTop=this._calculateOverlayScroll(t,o,r),this._offsetY=this._calculateOverlayOffsetY(t,o,r),this._checkOverlayWithinViewport(r)}},{key:"_getOriginBasedOnOption",value:function(){var t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return"50% ".concat(Math.abs(this._offsetY)-e+t/2,"px 0px")}},{key:"_getItemHeight",value:function(){return 3*this._triggerFontSize}},{key:"_getItemCount",value:function(){return this.options.length+this.optionGroups.length}}]),n}(Rj)).\u0275fac=function(t){return Ij(t||yj)},yj.\u0275cmp=ne({type:yj,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(kl(n,Ej,!0),kl(n,eR,!0),kl(n,YE,!0)),2&t&&(ml(i=xl())&&(e.customTrigger=i.first),ml(i=xl())&&(e.options=i),ml(i=xl())&&(e.optionGroups=i))},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&Ja("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(La("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),gs("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Ks([{provide:zF,useExisting:yj},{provide:XE,useExisting:yj}]),wa],ngContentSelectors:Cj,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(os(kj),Ua(0,"div",0,1),Ja("click",function(){return e.toggle()}),Ua(3,"div",2),Na(4,fj,2,1,"span",3),Na(5,vj,3,2,"span",4),qa(),Ua(6,"div",5),Wa(7,"div",6),qa(),qa(),Na(8,mj,4,14,"ng-template",7),Ja("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){var n=ja(1);La("aria-owns",e.panelOpen?e.id+"-panel":null),so(3),Ha("ngSwitch",e.empty),La("id",e._valueId),so(1),Ha("ngSwitchCase",!0),so(1),Ha("ngSwitchCase",!1),so(3),Ha("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[KO,nd,id,QO,rd,qh],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[wj.transformPanelWrap,wj.transformPanel]},changeDetection:0}),yj),Ij=oi(Fj),Aj=((_j=g(function t(){f(this,t)})).\u0275mod=se({type:_j}),_j.\u0275inj=Ot({factory:function(t){return new(t||_j)},providers:[Sj],imports:[[xd,ZO,rR,_E],YP,tI,rR,_E]}),_j);function Dj(t,e){1&t&&(Ua(0,"span",5),Wa(1,"i",6),qa())}function Lj(t,e){1&t&&(Ua(0,"span",5),Wa(1,"i",7),qa())}function Bj(t,e){1&t&&(Ua(0,"div",12),Wa(1,"i",13),qa())}function Nj(t,e){if(1&t){var n=Qa();Ua(0,"div",10),Ja("click",function(){Qe(n);var t=e.$implicit;return is(2).selectCategory(t)}),Ua(1,"div"),Ss(2),qa(),Na(3,Bj,2,0,"div",11),qa()}if(2&t){var i=e.$implicit,r=is(2);gs("selected",r.isSelectedCategory(i))("disabled",i.isLocked),so(2),Ms(r.getCategoryTitle(i)),so(1),Ha("ngIf",i.isLocked)}}function jj(t,e){if(1&t&&(Ua(0,"div",8),Na(1,Nj,4,6,"div",9),qa()),2&t){var n=is();so(1),Ha("ngForOf",n.sortedCategories)}}function Vj(t,e){1&t&&(Ua(0,"span",5),Wa(1,"i",6),qa())}function Hj(t,e){1&t&&(Ua(0,"span",5),Wa(1,"i",7),qa())}function zj(t,e){if(1&t&&(Ua(0,"mat-option",22),Ss(1),qa()),2&t){var n=e.$implicit,i=is(2);Ha("value",n)("disabled",!i.isSelectableStackSize(n)),so(1),Ts(" ",n," bb ")}}function Uj(t,e){if(1&t&&(Ua(0,"mat-option",22),Ss(1),qa()),2&t){var n=e.$implicit,i=is(2);Ha("value",n)("disabled",!i.isSelectableScenario(n)),so(1),Ts(" ",i.getScenarioLabel(n)," ")}}function qj(t,e){if(1&t&&(Ua(0,"mat-option",22),Ss(1),qa()),2&t){var n=e.$implicit,i=is(4);Ha("value",n)("disabled",!i.isSelectableFirstPosition(n)),so(1),Ts(" ",n," ")}}function Wj(t,e){if(1&t&&($a(0),Ua(1,"mat-option"),Ss(2,"---"),qa(),Na(3,qj,2,3,"mat-option",17),Ga()),2&t){var n=is(3);so(3),Ha("ngForOf",n.positions)}}function $j(t,e){if(1&t&&($a(0),Ua(1,"mat-option",26),Ss(2),qa(),Ga()),2&t){var n=is(3);so(1),Ha("value",n.GamePosition.SB),so(1),Ts(" ",n.GamePosition.SB," ")}}function Gj(t,e){if(1&t&&(Ua(0,"mat-option",22),Ss(1),qa()),2&t){var n=e.$implicit,i=is(4);Ha("value",n)("disabled",!i.isSelectableSecondPosition(n)),so(1),Ts(" ",n," ")}}function Kj(t,e){if(1&t&&($a(0),Ua(1,"mat-option"),Ss(2,"---"),qa(),Na(3,Gj,2,3,"mat-option",17),Ga()),2&t){var n=is(3);so(3),Ha("ngForOf",n.positions)}}function Qj(t,e){if(1&t&&($a(0),Ua(1,"mat-option",26),Ss(2),qa(),Ga()),2&t){var n=is(3);so(1),Ha("value",n.GamePosition.BB),so(1),Ts(" ",n.GamePosition.BB," ")}}function Yj(t,e){if(1&t){var n=Qa();Ua(0,"div",23),Ua(1,"mat-form-field",15),Ua(2,"mat-label"),Ss(3,"Position 1"),qa(),Ua(4,"mat-select",24),Ja("valueChange",function(t){return Qe(n),is(2).selectedFirstPosition=t}),Na(5,Wj,4,1,"ng-container",25),Na(6,$j,3,2,"ng-container",25),qa(),qa(),Ua(7,"mat-form-field",15),Ua(8,"mat-label"),Ss(9,"Position 2"),qa(),Ua(10,"mat-select",24),Ja("valueChange",function(t){return Qe(n),is(2).selectedSecondPosition=t}),Na(11,Kj,4,1,"ng-container",25),Na(12,Qj,3,2,"ng-container",25),qa(),qa(),qa()}if(2&t){var i=is(2);so(4),Ha("value",i.selectedFirstPosition),so(1),Ha("ngIf",!i.isHeadsUpCategory(i.selectedCategory)),so(1),Ha("ngIf",i.isHeadsUpCategory(i.selectedCategory)),so(4),Ha("value",i.selectedSecondPosition),so(1),Ha("ngIf",!i.isHeadsUpCategory(i.selectedCategory)),so(1),Ha("ngIf",i.isHeadsUpCategory(i.selectedCategory))}}function Zj(t,e){1&t&&(Ua(0,"div",12),Wa(1,"i",13),qa())}function Jj(t,e){if(1&t){var n=Qa();Ua(0,"div",10),Ja("click",function(){Qe(n);var t=e.$implicit;return is(3).emitSelect(t)}),Ua(1,"div"),Ss(2),qa(),Na(3,Zj,2,0,"div",11),qa()}if(2&t){var i=e.$implicit;gs("selected",is(3).isSelected(i))("disabled",i.isLocked),so(2),Ms(i.multiwayLabel),so(1),Ha("ngIf",i.isLocked)}}function Xj(t,e){if(1&t&&(Ua(0,"div",27),Na(1,Jj,4,6,"div",9),qa()),2&t){var n=is(2);so(1),Ha("ngForOf",n.filteredTrees)}}function tV(t,e){if(1&t){var n=Qa();Ua(0,"div",8),Ua(1,"div",14),Ua(2,"mat-form-field",15),Ua(3,"mat-label"),Ss(4,"Stack size"),qa(),Ua(5,"mat-select",16),Ja("valueChange",function(t){return Qe(n),is().selectedStackSize=t}),Ua(6,"mat-option"),Ss(7,"---"),qa(),Na(8,zj,2,3,"mat-option",17),qa(),qa(),Ua(9,"mat-form-field",15),Ua(10,"mat-label"),Ss(11,"Scenario"),qa(),Ua(12,"mat-select",16),Ja("valueChange",function(t){return Qe(n),is().selectedScenario=t}),Ua(13,"mat-option"),Ss(14,"---"),qa(),Na(15,Uj,2,3,"mat-option",17),qa(),qa(),qa(),Na(16,Yj,13,6,"div",18),Na(17,Xj,2,1,"div",19),Ua(18,"div",20),Ua(19,"a",21),Ja("click",function(){return Qe(n),is().clearSelection()}),Ss(20,"Clear selection"),qa(),Ua(21,"a",21),Ja("click",function(){return Qe(n),is().applySelection()}),Ss(22,"Apply selection"),qa(),qa(),qa()}if(2&t){var i=is();so(5),Ha("value",i.selectedStackSize),so(3),Ha("ngForOf",i.stackSizes),so(4),Ha("value",i.selectedScenario),so(3),Ha("ngForOf",i.sortedScenarios),so(1),Ha("ngIf",i.allowSelectingPositions(i.selectedCategory)),so(1),Ha("ngIf",i.isMultiwayCategory(i.selectedCategory)&&i.isValidMultiwaySelection())}}var eV,nV=((eV=function(){function t(e){f(this,t),this.dialog=e,this.selectedTree=null,this.selected=new ol,this.categoryPanelExpanded=!1,this.treePanelExpanded=!1,this.GamePosition=n_,this.postflopPanelOpenState=[],this.selectedStackSize=null,this.selectedScenario=null,this.selectedFirstPosition=null,this.selectedSecondPosition=null}return g(t,[{key:"onGlobalClick",value:function(t){var e,n;if(this.categoryPanelExpanded||this.treePanelExpanded){var i,r=k(t.composedPath());try{for(r.s();!(i=r.n()).done;){var o=i.value;if((null===(e=null==o?void 0:o.classList)||void 0===e?void 0:e.contains("expansion-panel"))||(null===(n=null==o?void 0:o.classList)||void 0===n?void 0:n.contains("mat-option")))return}}catch(a){r.e(a)}finally{r.f()}this.closePanels()}}},{key:"ngOnChanges",value:function(t){var e;if(null===(e=t.selectedTree)||void 0===e?void 0:e.currentValue){var n=this.getCategoryForTree(t.selectedTree.currentValue);this.selectedCategory=n;var i=this.getTree(t.selectedTree.currentValue);(null==i?void 0:i.type)===h_.postflop&&(this.isHeadsUpCategory(n)?(this.selectedFirstPosition=n_.SB,this.selectedSecondPosition=n_.BB):2===i.activePlayers.length&&(this.selectedFirstPosition=i.activePlayers[0],this.selectedSecondPosition=i.activePlayers[1]),this.selectedStackSize=i.stack,this.selectedScenario=i.preflop.type)}}},{key:"expandTreePanel",value:function(){this.categoryPanelExpanded=!1,this.treePanelExpanded=!0}},{key:"toggleCategoryPanel",value:function(){this.categoryPanelExpanded=!this.categoryPanelExpanded,this.treePanelExpanded=!1}},{key:"toggleTreePanel",value:function(){this.treePanelExpanded=!this.treePanelExpanded,this.categoryPanelExpanded=!1}},{key:"allowSelectingPositions",value:function(t){return!this.isHeadsUpCategory(t)&&!this.isMultiwayCategory(t)}},{key:"getCategoryForTree",value:function(t){var e,n=k(this.treesByCategory);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.trees.find(function(e){return e.key===t}))return i}}catch(r){n.e(r)}finally{n.f()}}},{key:"isFiveCard",get:function(){return!1}},{key:"sortedCategories",get:function(){return this.treesByCategory.sort(function(t,e){return d_[t.label]-d_[e.label]})}},{key:"categoryPanelTitle",get:function(){return this.selectedCategory&&!this.categoryPanelExpanded?this.getCategoryTitle(this.selectedCategory):"Categories"}},{key:"treePanelTitle",get:function(){var t=this.getTree(this.selectedTree);return this.treePanelExpanded||!t?"Trees":__(t,this.isFiveCard)}},{key:"getTree",value:function(t){var e,n=k(this.treesByCategory);try{for(n.s();!(e=n.n()).done;){var i=e.value.trees.find(function(e){return e.key===t});if(i)return i}}catch(r){n.e(r)}finally{n.f()}}},{key:"selectCategory",value:function(t){ID()&&"PLO5C-HU"===t.label?this.dialog.open(NI,{data:{title:"Not available",content:["5-Card Heads Up is not available on mobile devices!"],confirmLabel:"Ok",confirmOnly:!0}}):t.isLocked?this.dialog.open(DA,{data:{featureText:this.getCategoryTitle(t)}}):(t!==this.selectedCategory&&(this.selectedCategory=t,this.clearSelection(),this.isHeadsUpCategory(t)?(this.selectedFirstPosition=n_.SB,this.selectedSecondPosition=n_.BB):(this.selectedFirstPosition=null,this.selectedSecondPosition=null)),this.categoryPanelExpanded=!1,this.treePanelExpanded=!0)}},{key:"isSelectedCategory",value:function(t){return t===this.selectedCategory}},{key:"isDisabledCategory",value:function(t){return ID()?"PLO5C-HU"===t.label:t.isLocked}},{key:"sortedScenarios",get:function(){return this.scenarios.sort(function(t,e){return b_[t]-b_[e]})}},{key:"isHeadsUpCategory",value:function(t){return"PLO-HU"===(null==t?void 0:t.label)||"PLO5C-HU"===(null==t?void 0:t.label)}},{key:"isMultiwayCategory",value:function(t){return v_(t.label)}},{key:"clearSelection",value:function(){this.selectedScenario=null,this.selectedStackSize=null,this.selectedFirstPosition=null,this.selectedSecondPosition=null}},{key:"applySelection",value:function(){this.checkCurrentSelection()}},{key:"isSelected",value:function(t){return this.selectedTree&&this.selectedTree===t.key}},{key:"getCategoryTitle",value:function(t){return p_(t.label)}},{key:"filteredTrees",get:function(){return this.selectedCategory?this.filterTrees(this.selectedCategory,this.selectedStackSize,this.selectedScenario,this.selectedFirstPosition,this.selectedSecondPosition):[]}},{key:"filterTrees",value:function(t,e,n,i,r){if(this.treesByCategory&&this.treesByCategory.find(function(e){return e.label===t.label})){var o=this.treesByCategory.find(function(e){return e.label===t.label}).trees;return e&&(o=o.filter(function(t){return t.stack===e})),n&&(o=o.filter(function(t){return t.preflop.type.toLowerCase()===n.toLowerCase()})),"PLO-MULTI"!==t.label&&(i&&(o=o.filter(function(t){return t.activePlayers.includes(i)})),r&&(o=o.filter(function(t){return t.activePlayers.includes(r)}))),o.filter(function(t){return!t.isLocked})}return[]}},{key:"stackSizes",get:function(){var t=this;if(this.selectedCategory){var e=this.treesByCategory.find(function(e){return e.label===t.selectedCategory.label});if(e)return Array.from(new Set(e.trees.map(function(t){return t.stack}))).sort(function(t,e){return t-e})}return[100]}},{key:"scenarios",get:function(){var t=this;if(this.selectedCategory){var e=this.treesByCategory.find(function(e){return e.label===t.selectedCategory.label});if(e)return Array.from(new Set(e.trees.map(function(t){return t.preflop.type}))).sort()}return[]}},{key:"positions",get:function(){return this.isHeadsUpCategory(this.selectedCategory)?[n_.SB,n_.BB]:[n_.EP,n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB]}},{key:"getScenarioLabel",value:function(t){switch(t){case"SRP":return"Single raised pot";case"3BP":return"3-bet pot";case"4BP":return"4-bet pot";case"LIMP":return"Limp pot"}}},{key:"isSelectableStackSize",value:function(t){return!!this.filterTrees(this.selectedCategory,null,this.selectedScenario,this.selectedFirstPosition,this.selectedSecondPosition).find(function(e){return e.stack===t})}},{key:"isSelectableScenario",value:function(t){return!!this.filterTrees(this.selectedCategory,this.selectedStackSize,null,this.selectedFirstPosition,this.selectedSecondPosition).find(function(e){return e.preflop.type.toUpperCase()===t.toUpperCase()})}},{key:"isSelectableFirstPosition",value:function(t){return!(this.selectedSecondPosition&&t===this.selectedSecondPosition||!this.filterTrees(this.selectedCategory,this.selectedStackSize,this.selectedScenario,null,this.selectedSecondPosition).find(function(e){return e.activePlayers.includes(t)}))}},{key:"isSelectableSecondPosition",value:function(t){return!(this.selectedFirstPosition&&t===this.selectedFirstPosition||!this.filterTrees(this.selectedCategory,this.selectedStackSize,this.selectedScenario,this.selectedFirstPosition,null).find(function(e){return e.activePlayers.includes(t)}))}},{key:"isSelectableThirdPosition",value:function(t){return!(this.selectedFirstPosition&&t===this.selectedFirstPosition||!this.filterTrees(this.selectedCategory,this.selectedStackSize,this.selectedScenario,this.selectedFirstPosition,this.selectedSecondPosition).find(function(e){return e.activePlayers.includes(t)}))}},{key:"checkCurrentSelection",value:function(){"PLO-MULTI"!==this.selectedCategory.label&&"PLO5C-MULTI"!==this.selectedCategory.label&&this.isValidSelection()&&(1===this.filteredTrees.length?this.emitSelect(this.filteredTrees[0]):console.error("What tree to load now?",this.filteredTrees))}},{key:"isValidSelection",value:function(){return this.selectedScenario&&this.selectedStackSize&&this.selectedFirstPosition&&this.selectedSecondPosition&&this.selectedFirstPosition!==this.selectedSecondPosition}},{key:"isValidMultiwaySelection",value:function(){return!!this.selectedScenario&&!!this.selectedStackSize}},{key:"emitSelect",value:function(t){t.isLocked?this.dialog.open(hD):(this.closePanels(),this.selected.emit(t))}},{key:"closePanels",value:function(){this.categoryPanelExpanded=!1,this.treePanelExpanded=!1}}]),t}()).\u0275fac=function(t){return new(t||eV)(Va(SR))},eV.\u0275cmp=ne({type:eV,selectors:[["app-postflop-tree-selector"]],hostBindings:function(t,e){1&t&&Ja("mousedown",function(t){return e.onGlobalClick(t)},!1,br)},inputs:{treesByCategory:"treesByCategory",selectedTree:"selectedTree"},outputs:{selected:"selected"},features:[Pe],decls:13,vars:10,consts:[[1,"expansion-panels"],[3,"className"],[1,"header",3,"click"],["class","icon",4,"ngIf"],["class","content",4,"ngIf"],[1,"icon"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],[1,"content"],["class","item",3,"selected","disabled","click",4,"ngFor","ngForOf"],[1,"item",3,"click"],["class","icon lock",4,"ngIf"],[1,"icon","lock"],[1,"fas","fa-lock"],[1,"selection"],["color","accent","appearance","fill"],[3,"value","valueChange"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","selection positions",4,"ngIf"],["class","tree-list",4,"ngIf"],[1,"clear-link"],[3,"click"],[3,"value","disabled"],[1,"selection","positions"],["panelClass","long-panel",3,"value","valueChange"],[4,"ngIf"],[3,"value"],[1,"tree-list"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"div",1),Ua(2,"div",2),Ja("click",function(){return e.toggleCategoryPanel()}),Ss(3),Na(4,Dj,2,0,"span",3),Na(5,Lj,2,0,"span",3),qa(),Na(6,jj,2,1,"div",4),qa(),Ua(7,"div",1),Ua(8,"div",2),Ja("click",function(){return e.toggleTreePanel()}),Ss(9),Na(10,Vj,2,0,"span",3),Na(11,Hj,2,0,"span",3),qa(),Na(12,tV,23,6,"div",4),qa(),qa()),2&t&&(so(1),Ha("className",e.categoryPanelExpanded?"expansion-panel category expanded":"expansion-panel category"),so(2),Ts(" ",e.categoryPanelTitle," "),so(1),Ha("ngIf",e.categoryPanelExpanded),so(1),Ha("ngIf",!e.categoryPanelExpanded),so(1),Ha("ngIf",e.categoryPanelExpanded),so(1),Ha("className",e.treePanelExpanded?"expansion-panel tree expanded":"expansion-panel tree"),so(2),Ts(" ",e.treePanelTitle," "),so(1),Ha("ngIf",e.treePanelExpanded),so(1),Ha("ngIf",!e.treePanelExpanded),so(1),Ha("ngIf",e.treePanelExpanded&&e.selectedCategory))},directives:[Kh,$h,XF,qF,Fj,eR],styles:[".mat-select-panel.long-panel{max-height:21.4rem}[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:8rem}[_nghost-%COMP%]     .mat-form-field.narrow, [_nghost-%COMP%]     .mat-select-content.narrow{width:6rem}[_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-option{color:var(--text-color)!important}  .mat-option-disabled{color:var(--text-color-disabled)!important}.expansion-panels[_ngcontent-%COMP%]{width:100%;display:flex;gap:1rem;position:relative}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]{cursor:pointer;height:2.625rem;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);color:var(--text-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.category[_ngcontent-%COMP%]{z-index:11;width:40%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.tree[_ngcontent-%COMP%]{z-index:10;width:60%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.expanded[_ngcontent-%COMP%]{height:100%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:2.5rem;padding:0 .625rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 .7rem .7rem}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .selection[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .clear-link[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-evenly;cursor:pointer;font-size:.8rem;color:var(--link-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .clear-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 .625rem;border:1px solid transparent}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .clear-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tree-list[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;flex-direction:column;align-items:center}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:.25rem;cursor:pointer;padding:.35rem .7rem;color:var(--text-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{background-color:var(--tree-item-selected);color:var(--app-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.disabled[_ngcontent-%COMP%]{opacity:.35}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover:not(.expansion-panels   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%], .expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.disabled)[_ngcontent-%COMP%]{background-color:var(--tree-item-hover)}.icon.lock[_ngcontent-%COMP%]{font-size:.75rem}"]}),eV),iV=["input"],rV=function(){return{enterDuration:150}},oV=["*"],aV=new ci("mat-checkbox-default-options",{providedIn:"root",factory:sV});function sV(){return{color:"accent",clickAction:"check-indeterminate"}}var cV,lV,uV,hV=0,dV={color:"accent",clickAction:"check-indeterminate"},fV={provide:kC,useExisting:Ct(function(){return vV}),multi:!0},pV=g(function t(){f(this,t)}),gV=xE(CE(wE(kE(g(function t(e){f(this,t),this._elementRef=e}))))),vV=((uV=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s,c){var l;return f(this,n),(l=e.call(this,t))._changeDetectorRef=i,l._focusMonitor=r,l._ngZone=o,l._animationMode=s,l._options=c,l.ariaLabel="",l.ariaLabelledby=null,l._uniqueId="mat-checkbox-"+ ++hV,l.id=l._uniqueId,l.labelPosition="after",l.name=null,l.change=new ol,l.indeterminateChange=new ol,l._onTouched=function(){},l._currentAnimationClass="",l._currentCheckState=0,l._controlValueAccessorChangeFn=function(){},l._checked=!1,l._disabled=!1,l._indeterminate=!1,l._options=l._options||dV,l.color=l.defaultColor=l._options.color||dV.color,l.tabIndex=parseInt(a)||0,l}return g(n,[{key:"inputId",get:function(){return(this.id||this._uniqueId)+"-input"}},{key:"required",get:function(){return this._required},set:function(t){this._required=Cx(t)}},{key:"ngAfterViewInit",value:function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(e){e||Promise.resolve().then(function(){t._onTouched(),t._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}},{key:"ngAfterViewChecked",value:function(){}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"checked",get:function(){return this._checked},set:function(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(t){var e=Cx(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}},{key:"indeterminate",get:function(){return this._indeterminate},set:function(t){var e=t!=this._indeterminate;this._indeterminate=Cx(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"writeValue",value:function(t){this.checked=!!t}},{key:"registerOnChange",value:function(t){this._controlValueAccessorChangeFn=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"_getAriaChecked",value:function(){return this.checked?"true":this.indeterminate?"mixed":"false"}},{key:"_transitionCheckState",value:function(t){var e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);var i=this._currentAnimationClass;this._ngZone.runOutsideAngular(function(){setTimeout(function(){n.classList.remove(i)},1e3)})}}},{key:"_emitChangeEvent",value:function(){var t=new pV;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}},{key:"toggle",value:function(){this.checked=!this.checked}},{key:"_onInputClick",value:function(t){var e,n=this,i=null===(e=this._options)||void 0===e?void 0:e.clickAction;t.stopPropagation(),this.disabled||"noop"===i?this.disabled||"noop"!==i||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==i&&Promise.resolve().then(function(){n._indeterminate=!1,n.indeterminateChange.emit(n._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keyboard",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._inputElement,t,e)}},{key:"_onInteractionEvent",value:function(t){t.stopPropagation()}},{key:"_getAnimationClassForCheckStateTransition",value:function(t,e){if("NoopAnimations"===this._animationMode)return"";var n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}},{key:"_syncIndeterminate",value:function(t){var e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}]),n}(gV)).\u0275fac=function(t){return new(t||uV)(Va(ec),Va(xc),Va(AS),Va(Yl),ai("tabindex"),Va(dE,8),Va(aV,8))},uV.\u0275cmp=ne({type:uV,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(bl(iV,!0),bl(zE,!0)),2&t&&(ml(n=xl())&&(e._inputElement=n.first),ml(n=xl())&&(e.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(Fs("id",e.id),La("tabindex",null),gs("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Ks([fV]),wa],ngContentSelectors:oV,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(os(),Ua(0,"label",0,1),Ua(2,"span",2),Ua(3,"input",3,4),Ja("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),qa(),Ua(5,"span",5),Wa(6,"span",6),qa(),Wa(7,"span",7),Ua(8,"span",8),wn(),Ua(9,"svg",9),Wa(10,"path",10),qa(),We.lFrame.currentNamespace=null,Wa(11,"span",11),qa(),qa(),Ua(12,"span",12,13),Ja("cdkObserveContent",function(){return e._onLabelTextChange()}),Ua(14,"span",14),Ss(15,"\xa0"),qa(),as(16),qa(),qa()),2&t){var n=ja(1),i=ja(13);La("for",e.inputId),so(2),gs("mat-checkbox-inner-container-no-side-margin",!i.textContent||!i.textContent.trim()),so(1),Ha("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),La("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),so(2),Ha("matRippleTrigger",n)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",(r=rV,o=rn()+19,(a=Ge())[o]===ao?Ia(a,o,r()):function(t,e){return t[e]}(a,o)))}var r,o,a},directives:[zE,cS],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),uV),mV=((lV=g(function t(){f(this,t)})).\u0275mod=se({type:lV}),lV.\u0275inj=Ot({factory:function(t){return new(t||lV)}}),lV),yV=((cV=g(function t(){f(this,t)})).\u0275mod=se({type:cV}),cV.\u0275inj=Ot({factory:function(t){return new(t||cV)},imports:[[UE,_E,lS,mV],_E,mV]}),cV),bV=["bbSizeInput"];function _V(t,e){if(1&t){var n=Qa();Ua(0,"div",5),Ua(1,"div",6),Ja("click",function(){return Qe(n),is(),ja(2).click()}),Ss(2,"Load"),qa(),Ua(3,"div",6),Ja("click",function(){return Qe(n),is().create()}),Ss(4,"New"),qa(),Ua(5,"div",6),Ja("click",function(){return Qe(n),is().edit()}),Ss(6,"Edit"),qa(),Ua(7,"div",6),Ja("click",function(){return Qe(n),is().export()}),Ss(8,"Save"),qa(),qa()}if(2&t){var i=is();so(5),gs("disabled",!i.hasCustomSim),so(2),gs("disabled",!i.hasCustomSim)}}function kV(t,e){if(1&t&&(Ua(0,"mat-option",40),Ss(1),qa()),2&t){var n=e.$implicit;Ha("value",n),so(1),Ms(n)}}function CV(t,e){if(1&t&&($a(0),Ss(1),tl(2,"number"),Ga()),2&t){var n=is().$implicit,i=is(2);so(1),Ts(" ",nl(2,1,i.numberOfRows(n.range),"2.")," rows ")}}function wV(t,e){if(1&t){var n=Qa();Ua(0,"div",41),Ja("click",function(){Qe(n);var t=is().index;return is(2).importRangeFromClipboard(t)}),Ss(1,"Import from clipboard"),qa()}}function xV(t,e){if(1&t){var n=Qa();Ua(0,"input",42),Ja("change",function(t){Qe(n);var e=is().index;return is(2).importRangeFromFile(t,e)}),qa(),Ua(1,"div",41),Ja("click",function(){Qe(n);var t=is().index;return is(2).openImportRangeFromFileSelector(t)}),Ss(2,"Import from file"),qa()}if(2&t){var i=is().index;Ha("id",is(2).dynamicFileUploadId(i))}}function PV(t,e){if(1&t){var n=Qa();Ua(0,"div",29),Ua(1,"mat-form-field",30),Ua(2,"mat-label"),Ss(3),qa(),Ua(4,"mat-select",31),Ja("valueChange",function(t){return e.$implicit.label=t}),Na(5,kV,2,2,"mat-option",26),qa(),qa(),Ua(6,"mat-form-field",32),Ua(7,"mat-label"),Ss(8,"Size"),qa(),Ua(9,"input",33),Ja("ngModelChange",function(t){return e.$implicit.amountLabel=t}),qa(),qa(),Ua(10,"div",34),Na(11,CV,3,4,"ng-container",35),qa(),Na(12,wV,2,0,"div",36),Na(13,xV,3,1,"ng-template",null,37,Ml),Ua(15,"div",38),Ja("click",function(){Qe(n);var t=e.index;return is(2).removeAction(t)}),Wa(16,"i",39),qa(),qa()}if(2&t){var i=e.$implicit,r=e.index,o=ja(14),a=is(2);so(3),Ts("Action "," "+(r+1),""),so(1),Ha("value",i.label),so(1),Ha("ngForOf",a.actionTypeOptions),so(1),gs("show",a.hasAmount(i)),so(3),Ha("ngModel",i.amountLabel),so(2),Ha("ngIf",(null==i.range?null:i.range.length)>0),so(1),Ha("ngIf",a.canImportFromClipboard)("ngIfElse",o),so(3),gs("hide",a.actions.length<=2)}}function OV(t,e){if(1&t&&(Ua(0,"mat-option",40),Ss(1),qa()),2&t){var n=e.$implicit;Ha("value",n),so(1),Ms(n)}}function SV(t,e){if(1&t){var n=Qa();Ua(0,"div",45),Ua(1,"mat-form-field",17),Ua(2,"mat-label"),Ss(3,"Position"),qa(),Ua(4,"input",33),Ja("ngModelChange",function(t){return e.$implicit.label=t}),qa(),qa(),Ua(5,"mat-form-field",17),Ua(6,"mat-label"),Ss(7,"Stack"),qa(),Ua(8,"input",46),Ja("ngModelChange",function(t){return e.$implicit.stack=t}),qa(),qa(),Ua(9,"mat-form-field",17),Ua(10,"mat-label"),Ss(11,"Bets"),qa(),Ua(12,"input",46),Ja("ngModelChange",function(t){return e.$implicit.bets=t}),qa(),qa(),Ua(13,"mat-checkbox",47),Ja("ngModelChange",function(t){return e.$implicit.isInHand=t}),Ss(14," In Hand "),qa(),Ua(15,"mat-checkbox",48),Ja("change",function(){Qe(n);var t=e.$implicit;return is(3).setActivePlayer(t)}),Ss(16," Active "),qa(),Ua(17,"mat-checkbox",49),Ss(18," Dealer "),qa(),qa()}if(2&t){var i=e.$implicit;so(4),Ha("ngModel",i.label),so(4),Ha("ngModel",i.stack),so(4),Ha("ngModel",i.bets),so(1),Ha("ngModel",i.isInHand)("checked",i.isInHand),so(2),Ha("checked",i.isActive),so(2),gs("show",i.isDealer),Ha("disabled",!0)("checked",!0)}}function MV(t,e){if(1&t&&(Ua(0,"div",43),Na(1,SV,19,10,"div",44),qa()),2&t){var n=is(2);so(1),Ha("ngForOf",n.players)}}function TV(t,e){if(1&t){var n=Qa();Ua(0,"div",7),Ua(1,"div",8),Ss(2," Create custom node "),qa(),Ua(3,"div",9),Ua(4,"mat-form-field",10),Ua(5,"mat-label"),Ss(6,"Label"),qa(),Ua(7,"input",11),Ja("ngModelChange",function(t){return Qe(n),is().label=t}),qa(),qa(),qa(),Ua(8,"div",12),Na(9,PV,17,11,"div",13),Ua(10,"div",14),Ja("click",function(){return Qe(n),is().addAction()}),Wa(11,"i",15),qa(),qa(),Ua(12,"div",16),Ua(13,"mat-form-field",17),Ua(14,"mat-label"),Ss(15,"Board"),qa(),Ua(16,"input",18),Ja("ngModelChange",function(t){return Qe(n),is().board=t}),qa(),qa(),Ua(17,"span"),Ss(18,"(Leave empty for preflop)"),qa(),qa(),Ua(19,"div",19),Ua(20,"mat-form-field",17),Ua(21,"mat-label"),Ss(22,"BB Size (Mchip)"),qa(),Ua(23,"input",20,21),Ja("ngModelChange",function(t){return Qe(n),is().bbSize=t}),qa(),qa(),qa(),Ua(25,"div",22),Ua(26,"mat-form-field",17),Ua(27,"mat-label"),Ss(28,"Pot"),qa(),Ua(29,"input",23),Ja("ngModelChange",function(t){return Qe(n),is().pot=t}),qa(),qa(),qa(),Ua(30,"div",24),Ua(31,"mat-form-field",17),Ua(32,"mat-label"),Ss(33,"Players"),qa(),Ua(34,"mat-select",25),Ja("valueChange",function(t){return Qe(n),is().numberOfPlayers=t})("selectionChange",function(t){return Qe(n),is().updatePlayers(t)}),Na(35,OV,2,2,"mat-option",26),qa(),qa(),qa(),Na(36,MV,2,1,"div",27),Ua(37,"div",5),Ua(38,"div",6),Ja("click",function(){return Qe(n),is().reset()}),Ss(39,"Cancel"),qa(),Ua(40,"div",28),Ja("click",function(){return Qe(n),is().import()}),Ss(41,"Confirm"),qa(),qa(),qa()}if(2&t){var i=is();so(7),Ha("ngModel",i.label),so(2),Ha("ngForOf",i.actions),so(1),gs("hide",4===i.actions.length),so(6),Ha("ngModel",i.board),so(7),Ha("ngModel",i.bbSize),so(6),Ha("ngModel",i.pot),so(5),Ha("value",i.numberOfPlayers),so(1),Ha("ngForOf",i.numberOfPlayerOptions),so(1),Ha("ngIf",i.numberOfPlayers>0),so(4),gs("disabled",!i.allowSave),Ha("matTooltip",i.allowSave?"":"Please fill out all fields")}}var EV,RV=((EV=function(){function e(t,n,i,r,o){f(this,e),this.router=t,this.customSimService=n,this.customSimTrainingService=i,this.dialog=r,this.snackbar=o,this._actions=[{label:null},{label:null}],this.bbSize=2e3}return g(e,[{key:"ngOnInit",value:function(){this.reset(),this.customSimTrainingService.reset()}},{key:"allowSave",get:function(){var t,e=function(t){return null!=t};return(null===(t=this.label)||void 0===t?void 0:t.length)>0&&e(this.pot)&&e(this.numberOfPlayers)&&this.bbSize>=1&&this.actions.length>=2&&this.actions.every(function(t){var e,n;return(null===(e=t.label)||void 0===e?void 0:e.length)>0&&(null===(n=t.range)||void 0===n?void 0:n.length)>0})}},{key:"hasCustomSim",get:function(){return this.customSimService.hasCustomSim}},{key:"creatingNewSim",get:function(){return this.customSimService.isCreatingOrEditingSim}},{key:"load",value:function(t){var e=t.target.files[0];this.router.navigate([""],{queryParams:{}}),this.customSimService.loadCustomSim(e)}},{key:"create",value:function(){this.reset(),this.customSimService.isCreatingOrEditingSim=!0}},{key:"edit",value:function(){var t=this.customSimService.currentSim;this.label=t.label,this._actions=t.actions,this.board=t.board,this.pot=t.setup.pot,this.numberOfPlayers=t.setup.numberOfPlayers,this.players=t.setup.players.map(function(t){return Object.assign({},t)}),this.bbSize=t.bbSize,this.customSimService.isCreatingOrEditingSim=!0}},{key:"export",value:function(){this.customSimService.exportCurrentSim()}},{key:"numberOfPlayerOptions",get:function(){return[2,3,4,5,6,8]}},{key:"actionTypeMapping",get:function(){return[{label:"Fold",type:s_.FOLD},{label:"Check",type:s_.CHECK},{label:"Call",type:s_.CALL},{label:"Bet",type:s_.RAISE},{label:"Raise",type:s_.RAISE,hasPrevBet:!0},{label:"All-In",type:s_.ALLIN}]}},{key:"actionTypeOptions",get:function(){return this.actionTypeMapping.map(function(t){return t.label})}},{key:"updatePlayers",value:function(t){var e=t.value;2===e?this.players=[{position:n_.SB,label:"SB",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:n_.BB,label:"BB",stack:100,bets:0,isInHand:!0}]:3===e?this.players=[{position:n_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:n_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:n_.BB,label:"BB",stack:100,bets:0,isInHand:!0}]:4===e?this.players=[{position:n_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:n_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:n_.BB,label:"BB",stack:100,bets:0,isInHand:!0},{position:n_.CO,label:"CO",stack:100,bets:0,isInHand:!0}]:5===e?this.players=[{position:n_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:n_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:n_.BB,label:"BB",stack:100,bets:0,isInHand:!0},{position:n_.MP,label:"MP",stack:100,bets:0,isInHand:!0},{position:n_.CO,label:"CO",stack:100,bets:0,isInHand:!0}]:6===e?this.players=[{position:n_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:n_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:n_.BB,label:"BB",stack:100,bets:0,isInHand:!0},{position:n_.EP,label:"EP",stack:100,bets:0,isInHand:!0},{position:n_.MP,label:"MP",stack:100,bets:0,isInHand:!0},{position:n_.CO,label:"CO",stack:100,bets:0,isInHand:!0}]:8===e&&(this.players=[{position:n_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:n_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:n_.BB,label:"BB",stack:100,bets:0,isInHand:!0},{position:n_.EP,label:"EP",stack:100,bets:0,isInHand:!0},{position:n_.EP1,label:"EP1",stack:100,bets:0,isInHand:!0},{position:n_.EP2,label:"EP2",stack:100,bets:0,isInHand:!0},{position:n_.MP,label:"MP",stack:100,bets:0,isInHand:!0},{position:n_.CO,label:"CO",stack:100,bets:0,isInHand:!0}])}},{key:"setActivePlayer",value:function(t){this.players.forEach(function(t){return t.isActive=!1}),this.players.find(function(e){return e.label===t.label}).isActive=!0}},{key:"actions",get:function(){return this._actions}},{key:"hasAmount",value:function(t){return!!t.label&&this.actionTypeMapping.find(function(e){return e.label===t.label}).type===s_.RAISE}},{key:"addAction",value:function(){this._actions.push({label:null,type:null})}},{key:"removeAction",value:function(t){this._actions=[].concat(C(this.actions.slice(0,t)),C(this.actions.slice(t+1)))}},{key:"canImportFromClipboard",get:function(){return!!navigator.clipboard.readText}},{key:"numberOfRows",value:function(t){if(t)return t.split("\n").length}},{key:"importRangeFromClipboard",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this._actions[e],!navigator.clipboard.readText){t.next=14;break}return t.prev=2,t.next=5,navigator.clipboard.readText();case 5:r=t.sent,i.range=r.replaceAll("\\n","\n"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Could not import range (readText)",t.t0),this.snackbar.open("Could not import range from clipboard",null,{duration:2e3});case 12:t.next=15;break;case 14:this.openImportRangeFromFileSelector(e);case 15:case"end":return t.stop()}},n,this,[[2,9]])}))}},{key:"dynamicFileUploadId",value:function(t){return"file-input-"+t}},{key:"openImportRangeFromFileSelector",value:function(t){var e=this.dynamicFileUploadId(t);document.getElementById(e).click()}},{key:"importRangeFromFile",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this._actions[n];try{o=e.target.files[0],(a=new FileReader).onloadend=function(){r.range=a.result},a.readAsText(o)}catch(i){console.error("Could not import range from file",i),this.snackbar.open("Could not import range from file",null,{duration:2e3})}case 2:case"end":return t.stop()}},i,this)}))}},{key:"import",value:function(){var t=this;if(this.allowSave)if(this.bbSize<500)this.dialog.open(NI,{data:{title:"Wrong bbSize",content:["Big blind size should be in Mchips and therefore not be < 500"],confirmLabel:"Ok",confirmOnly:!0}}).afterClosed().subscribe(function(){var e,n;null===(n=null===(e=t.bbSizeInput)||void 0===e?void 0:e.nativeElement)||void 0===n||n.focus()});else try{var e={numberOfPlayers:this.numberOfPlayers,pot:this.pot,players:this.players};this._actions.forEach(function(e){var n=t.actionTypeMapping.find(function(t){return t.label===e.label});e.type=n.type,e.hasPrevBet=!!n.hasPrevBet}),this.customSimService.importCustomSim(this.label,this.actions,this.bbSize,this.board,e)&&this.reset()}catch(n){console.error(n)}}},{key:"clearActions",value:function(){this._actions=[{label:null,type:null},{label:null,type:null}]}},{key:"reset",value:function(){this.label=null,this.numberOfPlayers=null,this.players=null,this.board=null,this.pot=null,this.bbSize=2e3,this.clearActions(),this.customSimService.isCreatingOrEditingSim=!1}}]),e}()).\u0275fac=function(t){return new(t||EV)(Va(Pm),Va(mN),Va(vN),Va(SR),Va(qB))},EV.\u0275cmp=ne({type:EV,selectors:[["app-custom-sim-selector"]],viewQuery:function(t,e){var n;1&t&&bl(bV,!0),2&t&&ml(n=xl())&&(e.bbSizeInput=n.first)},decls:5,vars:2,consts:[[1,"container"],["type","file","accept","application/json",1,"file-input",3,"change"],["fileUpload",""],["class","controls clickable",4,"ngIf"],["class","new-sim-dialog",4,"ngIf"],[1,"controls","clickable"],[1,"control",3,"click"],[1,"new-sim-dialog"],[1,"header"],[1,"label"],["color","accent"],["matInput","","type","text","placeholder","Label","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[1,"actions"],["class","action",4,"ngFor","ngForOf"],[1,"action","clickable",3,"click"],[1,"fas","fa-plus-circle"],[1,"board"],["color","accent",1,"narrow"],["matInput","","type","text","placeholder","Board","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[1,"bb-size"],["matInput","","type","number","placeholder","Board","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],["bbSizeInput",""],[1,"pot"],["matInput","","type","number","lang","en","placeholder","Pot","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[1,"number-players"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","players",4,"ngIf"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"control",3,"matTooltip","click"],[1,"action"],["color","accent",1,"action-label","narrow"],[3,"value","valueChange"],["color","accent",1,"action-label","narrow","hide"],["matInput","","type","text","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[1,"range-info"],[4,"ngIf"],["class","button",3,"click",4,"ngIf","ngIfElse"],["noClipboard",""],[1,"clickable",3,"click"],[1,"fas","fa-times-circle"],[3,"value"],[1,"button",3,"click"],["type","file","accept","text/csv",1,"file-input",3,"id","change"],[1,"players"],["class","player",4,"ngFor","ngForOf"],[1,"player"],["matInput","","type","number","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[3,"ngModel","checked","ngModelChange"],[3,"checked","change"],[1,"hide",3,"disabled","checked"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"input",1,2),Ja("change",function(t){return e.load(t)}),qa(),Na(3,_V,9,4,"div",3),Na(4,TV,42,13,"div",4),qa()),2&t&&(so(3),Ha("ngIf",!e.creatingNewSim),so(1),Ha("ngIf",e.creatingNewSim))},directives:[Kh,XF,qF,cI,OC,rw,ex,$h,sw,Fj,_A,eR,vV],pipes:[yd],styles:[".mat-select-panel.long-panel{max-height:300px}[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:100%}[_nghost-%COMP%]     .mat-form-field.narrow, [_nghost-%COMP%]     .mat-select-content.narrow{width:5rem}[_nghost-%COMP%]     .mat-checkbox-disabled .mat-checkbox-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     input, [_nghost-%COMP%]     textarea{font-size:1rem!important}  .mat-form-field-label{color:var(--text-color)!important}  .mat-form-field-ripple,   .mat-form-field-underline{background-color:var(--text-color)!important}  .mat-select-arrow{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-option{color:var(--text-color)!important}  .mat-option-disabled{color:var(--text-color-disabled)!important}  .mat-checkbox-inner-container{margin-right:2px!important}.hide.show[_ngcontent-%COMP%]{visibility:visible}.file-input[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{z-index:11;padding:.3175rem 0;position:relative;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);color:var(--text-color)}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;gap:1rem}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]{max-height:90vh;overflow-x:hidden;overflow-y:auto;padding:0 1rem;margin:1rem 5px 1rem 0}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:1.5rem}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;gap:.75rem}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]{width:6.5rem;text-align:right}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:1rem}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;height:2rem;gap:1rem}.control[_ngcontent-%COMP%]{font-size:1rem}.button[_ngcontent-%COMP%], .control[_ngcontent-%COMP%]{cursor:pointer;pointer-events:auto;display:flex;align-items:center;padding:1px 1.25rem;color:var(--link-color)}.button.disabled[_ngcontent-%COMP%], .control.disabled[_ngcontent-%COMP%]{cursor:not-allowed;color:var(--text-color-disabled)}.button[_ngcontent-%COMP%]:hover:not(.disabled), .control[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}.clickable[_ngcontent-%COMP%]{min-width:1rem;cursor:pointer}.clickable[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.hide[_ngcontent-%COMP%]{visibility:hidden}.icon[_ngcontent-%COMP%]{color:var(--fa-icon-color)}"]}),EV),FV=["preflopSelector"],IV=["postflopSelector"],AV=["customSelector"];function DV(t,e){if(1&t){var n=Qa();Ua(0,"app-preflop-tree-selector",3,4),Ja("selected",function(t){return Qe(n),is().loadPreflopTree(t)}),tl(2,"async"),qa()}if(2&t){var i=is();Ha("treesByCategory",el(2,2,i.preflopTreesByCategory$))("selectedTree",i.selectedTree)}}function LV(t,e){if(1&t){var n=Qa();Ua(0,"app-postflop-tree-selector",3,5),Ja("selected",function(t){return Qe(n),is().loadPostflopTree(t)}),tl(2,"async"),qa()}if(2&t){var i=is();Ha("treesByCategory",el(2,2,i.postflopTreesByCategory$))("selectedTree",i.selectedTree)}}function BV(t,e){1&t&&Wa(0,"app-custom-sim-selector",6,7)}var NV,jV=function(t){return t[t.Preflop=0]="Preflop",t[t.Postflop=1]="Postflop",t[t.Custom=2]="Custom",t}({}),VV=((NV=function(){function e(t,n,i,r){f(this,e),this.router=t,this.route=n,this.store=i,this.dialog=r,this.collapse=new ol,this.Tab=jV,this.selectedTree=null,this.expandedCategory=null,this.selectedTab=jV.Preflop}return g(e,[{key:"ngOnInit",value:function(){var t=this;this.preflopTreesByCategory$=this.store.pipe(ob(M_),W(function(t){return C(t).sort(function(t,e){return-1*t.label.localeCompare(e.label)})})),this.postflopTreesByCategory$=this.store.pipe(ob(T_),W(function(t){return C(t).sort(function(t,e){return-1*t.label.localeCompare(e.label)})})),this.currentTree$=this.store.pipe(ob(R_)),this.treeSubscription=this.store.pipe(ob(R_)).subscribe(function(e){e&&"custom"!=e.category.toLowerCase()?(t.selectedTree!==e.key&&t.showTree(e.type,e.profile,e.key),t.selectedTree=e.key):t.selectedTree=null})}},{key:"ngOnDestroy",value:function(){this.treeSubscription&&this.treeSubscription.unsubscribe()}},{key:"expandTreeSelection",value:function(){this.hasPreflopSelected?this.preflopSelector.expandTreePanel():this.postflopSelector.expandTreePanel()}},{key:"hasTrees",get:function(){return this.hasPreflopTrees||this.hasPostflopTrees}},{key:"hasPreflopTrees",get:function(){var t=w_(this.preflopTreesByCategory$);return t&&t.length>0}},{key:"hasPostflopTrees",get:function(){var t=w_(this.postflopTreesByCategory$);return t&&t.length>0}},{key:"hasPreflopSelected",get:function(){return this.selectedTab===jV.Preflop}},{key:"hasPostflopSelected",get:function(){return this.selectedTab===jV.Postflop}},{key:"hasCustomSelected",get:function(){return this.selectedTab===jV.Custom}},{key:"selectPreflop",value:function(){this.selectedTab=jV.Preflop}},{key:"selectPostflop",value:function(){this.selectedTab=jV.Postflop}},{key:"selectCustom",value:function(){this.selectedTab=jV.Custom}},{key:"showTree",value:function(t,e,n){t===h_.preflop?this.selectPreflop():this.selectPostflop()}},{key:"loadPreflopTree",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLocked){t.next=4;break}console.log("No access to preflop tree",e.key),t.next=12;break;case 4:if(this.selectedTree===e.key){t.next=12;break}return i={type:e.type,tree:e.key},t.next=8,this.router.navigate([],{relativeTo:this.route,queryParams:i});case 8:this.store.dispatch(Qb({key:e.key})),this.selectedTree=e.key,this.store.dispatch(B_()),this.store.dispatch(Tk());case 12:case"end":return t.stop()}},n,this)}))}},{key:"loadPostflopTree",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLocked){t.next=4;break}console.log("No access to postflop tree",e.key),t.next=12;break;case 4:if(this.selectedTree===e.key){t.next=12;break}return i={type:e.type,tree:e.key},t.next=8,this.router.navigate([],{relativeTo:this.route,queryParams:i});case 8:this.store.dispatch(Jb({tree:e})),this.selectedTree=e.key,this.store.dispatch(B_()),this.store.dispatch(Tk());case 12:case"end":return t.stop()}},n,this)}))}},{key:"emitCollapse",value:function(){this.collapse.emit()}}]),e}()).\u0275fac=function(t){return new(t||NV)(Va(Pm),Va(nv),Va(ib),Va(SR))},NV.\u0275cmp=ne({type:NV,selectors:[["app-tree-selection"]],viewQuery:function(t,e){var n;1&t&&(bl(FV,!0),bl(IV,!0),bl(AV,!0)),2&t&&(ml(n=xl())&&(e.preflopSelector=n.first),ml(n=xl())&&(e.postflopSelector=n.first),ml(n=xl())&&(e.customSelector=n.first))},outputs:{collapse:"collapse"},decls:4,vars:5,consts:[[1,"selection-container"],["class","tree-selector-container",3,"treesByCategory","selectedTree","selected",4,"ngIf"],["class","tree-selector-container",4,"ngIf"],[1,"tree-selector-container",3,"treesByCategory","selectedTree","selected"],["preflopSelector",""],["postflopSelector",""],[1,"tree-selector-container"],["customSelector",""]],template:function(t,e){1&t&&(Ua(0,"div",0),Na(1,DV,3,4,"app-preflop-tree-selector",1),Na(2,LV,3,4,"app-postflop-tree-selector",1),Na(3,BV,2,0,"app-custom-sim-selector",2),qa()),2&t&&(gs("hidden",!e.hasTrees),so(1),Ha("ngIf",e.hasPreflopSelected),so(1),Ha("ngIf",e.hasPostflopSelected),so(1),Ha("ngIf",e.hasCustomSelected))},directives:[Kh,uj,nV,RV],pipes:[gd],styles:[".selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative}.selection-container.hidden[_ngcontent-%COMP%]{visibility:hidden}.selection-container[_ngcontent-%COMP%]   .beta-text[_ngcontent-%COMP%]{position:absolute;top:1rem;left:0;display:none;color:#c46f6f;font-size:2rem;font-weight:600;opacity:.2}.selection-container[_ngcontent-%COMP%]   .category-selector[_ngcontent-%COMP%]{display:flex}.selection-container[_ngcontent-%COMP%]   .tab-selector[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:1rem}.selection-container[_ngcontent-%COMP%]   .tab-selector[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;cursor:pointer;width:8.125rem;height:3rem;font-size:1rem;font-weight:500;color:#b0b5bf}.selection-container[_ngcontent-%COMP%]   .tab-selector[_ngcontent-%COMP%]   .tab.selected[_ngcontent-%COMP%]{color:var(--tree-category-color-active);border-bottom:2px solid var(--app-color)}.selection-container[_ngcontent-%COMP%]   .tree-selector-container[_ngcontent-%COMP%]{width:100%}"]}),NV);function HV(t,e){if(1&t&&(Ua(0,"a",8),Ss(1),qa()),2&t){var n=is().$implicit;Ha("href",is().sanitize(n.substring(n.indexOf("href:")+"href:".length,n.indexOf("_caption:"))),dr),so(1),Ts(" ",n.substring(n.indexOf("_caption:")+"_caption:".length,n.length)," ")}}function zV(t,e){if(1&t&&(Ua(0,"div"),Ss(1),qa()),2&t){var n=is().$implicit;so(1),Ms(n)}}function UV(t,e){if(1&t&&(Ua(0,"div"),Na(1,HV,2,2,"a",6),Na(2,zV,2,1,"div",7),qa()),2&t){var n=e.$implicit;so(1),Ha("ngIf",n.indexOf("href")>=0),so(1),Ha("ngIf",-1===n.indexOf("href"))}}function qV(t,e){if(1&t){var n=Qa();Ua(0,"a",9),Ja("click",function(){return Qe(n),is().dismiss()}),Ss(1),qa()}if(2&t){var i=is();so(1),Ms(i.dismissLabel)}}var WV,$V=((WV=function(){function t(e,n,i){f(this,t),this.dialogRef=e,this.sanitizer=n,this.data=i}return g(t,[{key:"sanitize",value:function(t){return this.sanitizer.bypassSecurityTrustUrl(t)}},{key:"confirmLabel",get:function(){var t;return null!==(t=this.data.confirmLabel)&&void 0!==t?t:"Yes"}},{key:"dismissLabel",get:function(){var t;return null!==(t=this.data.dismissLabel)&&void 0!==t?t:"No"}},{key:"dismiss",value:function(){this.dialogRef.close(!1)}},{key:"confirm",value:function(){this.dialogRef.close(!0)}}]),t}()).\u0275fac=function(t){return new(t||WV)(Va(pR),Va(lf),Va(CR))},WV.\u0275cmp=ne({type:WV,selectors:[["app-confirmation-dialog"]],decls:8,vars:4,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[4,"ngFor","ngForOf"],["align","center"],[1,"confirm-link",3,"click"],["class","dismiss-link",3,"click",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],[4,"ngIf"],["target","_blank",3,"href"],[1,"dismiss-link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1),qa(),Ua(2,"mat-dialog-content",1),Na(3,UV,3,2,"div",2),qa(),Ua(4,"mat-dialog-actions",3),Ua(5,"a",4),Ja("click",function(){return e.confirm()}),Ss(6),qa(),Na(7,qV,2,1,"a",5),qa()),2&t&&(so(1),Ts(" ",e.data.title,""),so(2),Ha("ngForOf",e.data.content),so(3),Ts(" ",e.confirmLabel,""),so(1),Ha("ngIf",!e.data.confirmOnly))},directives:[ER,RR,$h,FR,Kh],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited{text-decoration:none;color:#00aa5a}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.confirm-link[_ngcontent-%COMP%]:hover, .dismiss-link[_ngcontent-%COMP%]:hover{padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),WV);function GV(t,e){1&t&&(Ua(0,"span",7),Wa(1,"i",8),qa())}function KV(t,e){if(1&t){var n=Qa();Ua(0,"a",5),Ja("click",function(){return Qe(n),is().startNodeTraining()}),Ss(1," Single Node Training "),Na(2,GV,2,0,"span",6),qa()}if(2&t){var i=is();gs("disabled",!i.data.allowNodeTraining),so(2),Ha("ngIf",!i.data.allowNodeTraining)}}function QV(t,e){1&t&&(Ua(0,"span",7),Wa(1,"i",8),qa())}function YV(t,e){if(1&t){var n=Qa();Ua(0,"a",5),Ja("click",function(){return Qe(n),is().startRandomBoardTraining()}),Ss(1," Random board Training "),Na(2,QV,2,0,"span",6),qa()}if(2&t){var i=is();gs("disabled",!i.data.allowRandomBoardTraining),so(2),Ha("ngIf",!i.data.allowRandomBoardTraining)}}function ZV(t,e){1&t&&(Ua(0,"span",7),Wa(1,"i",8),qa())}function JV(t,e){if(1&t){var n=Qa();Ua(0,"a",5),Ja("click",function(){return Qe(n),is().startGameTraining()}),Ss(1," Multi-street Training "),Na(2,ZV,2,0,"span",6),qa()}if(2&t){var i=is();gs("disabled",!i.data.allowMultiStreetTraining),so(2),Ha("ngIf",!i.data.allowMultiStreetTraining)}}var XV,tH=((XV=function(){function t(e,n,i){f(this,t),this.dialogRef=e,this.data=n,this.dialog=i,!n.allowNodeTraining||n.showRandomBoardTraining||n.showMultiStreetTraining||this.startNodeTraining()}return g(t,[{key:"cancel",value:function(){this.dialogRef.close(null)}},{key:"startNodeTraining",value:function(){this.dialogRef.close("node")}},{key:"startRandomBoardTraining",value:function(){this.data.allowRandomBoardTraining?this.dialogRef.close("random-board"):this.dialog.open(DA,{data:{featureText:"Random board training"}})}},{key:"startGameTraining",value:function(){this.data.allowMultiStreetTraining?this.dialogRef.close("game"):this.dialog.open(DA,{data:{featureText:"Multi-street training"}})}}]),t}()).\u0275fac=function(t){return new(t||XV)(Va(pR),Va(CR),Va(SR))},XV.\u0275cmp=ne({type:XV,selectors:[["app-training-setup-dialog"]],decls:9,vars:3,consts:[["mat-dialog-title",""],[1,"training-setup-dialog-content","mat-typography"],[1,"training-options"],["class","option",3,"disabled","click",4,"ngIf"],[1,"cancel",3,"click"],[1,"option",3,"click"],["class","icon",4,"ngIf"],[1,"icon"],[1,"fas","fa-lock"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1,"Select Training Mode"),qa(),Wa(2,"mat-dialog-content",1),Ua(3,"mat-dialog-actions",2),Na(4,KV,3,3,"a",3),Na(5,YV,3,3,"a",3),Na(6,JV,3,3,"a",3),Ua(7,"a",4),Ja("click",function(){return e.cancel()}),Ss(8,"Cancel"),qa(),qa()),2&t&&(so(4),Ha("ngIf",e.data.showNodeTraining),so(1),Ha("ngIf",e.data.showRandomBoardTraining),so(1),Ha("ngIf",e.data.showMultiStreetTraining))},directives:[ER,RR,FR,Kh],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.training-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.training-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:13rem}.training-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.75rem}.training-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;margin-bottom:.5rem;padding:0 .625rem;cursor:pointer;color:var(--text-color);border:1px solid transparent}.training-options[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{opacity:.35}.training-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}.training-options[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-top:1rem;align-self:flex-end}"]}),XV),eH={body:'MonkerVersion := "None"\r\rWinWait MonkerSolver 2.2.9,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "2.2.9"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver 2.2.2,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "2.2.2"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver 2,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "2"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver FREE,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "FREE"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver Version 10018,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "Version 10018"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver ,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := ""\r\tGoto MONKER_FOUND\r}\r\rMsgBox "No Monker window found! Please run it before the script."\rExitApp\r\rMONKER_FOUND:\r\rWinActivate\rCoordMode, Mouse, Client\rSetKeyDelay, 55\rClick, 10, 10, 2\r\rif (MonkerVersion = "2.2.9" or MonkerVersion = "2.2.2" or MonkerVersion = "2") {\r\tSend, {Tab}{Space}\r\tWinWait New tree \r\tWinGetPos, ,,W,H, New tree \r\tW2 := (W/9.9)\r\tW /= 2.28\r\tH /= 3.143\r\tClick, %W%, %H%\r\tSend, {Right}{Right}<%RIVER_RIGHT%>\r\tSend, {Tab}{Backspace}\r\t\r\tSend, <%PLAYERS_COUNT%>\r\t\r\tSend, {Tab}{Tab}{Tab}{Up}{Up}{Down}\r\tSend, {Tab}{Up}{Up}{Down}\r\tSend, {Enter}\r\tWinWait New tree \r\tWinActivate\r\t\r\tif (MonkerVersion = "2") {\r\t\tSend, {Tab}{Tab}{Ctrl Down}a{Ctrl Up}\r\t}\r\tif (MonkerVersion = "2.2.2" or MonkerVersion = "2.2.9") {\r\t\tSend, {Shift Down}{Tab}{Shift Up}{Ctrl Down}a{Ctrl Up}\r\t}\r\t\r\tSend, <%POT%>\r\t\r\tif (MonkerVersion = "2.2.2" or MonkerVersion = "2.2.9") {\r\t\tSend, {Tab}{Tab}{Tab}\r\t}\r\t\r\t;each stack:\r<%STACKS%>\r\t\r\tSend, {Enter}\r\tSend, {Enter}\r\t\r\tGoto INSERT_BOARD\r}\r\r\rif (MonkerVersion = "FREE" or MonkerVersion = "Version 10018" or MonkerVersion = "") {\r\tSend, {Tab}{Space}\r\tWinWait New tree \r\t\r\tif (MonkerVersion = "") {\r\t\tSend, {Tab}{Tab}{Tab}{Tab}{Tab}{Tab}{Tab}{Space}\r\t\tSleep, 500\r\t\tWinGetTitle, Title\r\t\tif (Title = "New tree") {      \r\t\t\tWinClose\r\t\t\tSend, {Space}\r\t\t\tWinWait New tree \r\t\t\tSend, {Tab}{Tab}{Up}{Up}{Down}\r\t\t\tWinGetPos, ,,W,H, New tree \r\t\t\tW2 := (W/15.625)\r\t\t\tW /= 2.1\r\t\t\tH /= 3.356\r\t\t} else {\r\t\t\tWinWait MonkerSolver\r\t\t\tWinActivate\r\t\t\tSend, {Space}\r\t\t\tWinWait New tree \r\t\t\tSend, {Tab}{Tab}{Up}{Up}{Down}\r\t\t\tWinGetPos, ,,W,H, New tree \r\t\t\tW2 := (W/4)\r\t\t\tW /= 2\r\t\t\tH /= 3.356\r\t\t}\r\t} else {\r\t\tSend, {Tab}{Tab}{Up}{Up}{Down}\r\t\tWinGetPos, ,,W,H, New tree \r\t\tif (MonkerVersion = "FREE") {\r\t\t\tW2 := (W/3.46)\r\t\t\tW /= 1.73\r\t\t\tH /= 3.356\r\t\t}\r\t\tif (MonkerVersion = "Version 10018") {\r\t\t\tW2 := (W/9.9)\r\t\t\tW /= 2\r\t\t\tH /= 3.356\r\t\t}\r\t}\r\t\r\tClick, %W%, %H%\r\tClick, %W2%, %H%\r\tSend, {Right}{Tab}\r\tSend, {Right}{Right}<%RIVER_RIGHT%>\r\tSend, {Tab}{Backspace}\r\tSend, <%PLAYERS_COUNT%>\r\t\r\tSend, {Enter}\r\tSend, <%MWAY_TAB%>{Tab}{Tab}{Tab}{Tab}{Ctrl Down}a{Ctrl Up}\r\t\r\tSend, <%POT%>\r\tSend, {Tab}{Tab}\r\t\r\t;each stack:\r<%STACKS%>\r\r\tSend, {Enter}\r\t\r\tGoto INSERT_BOARD\r}\r\r\rINSERT_BOARD:\r\rWinWait MonkerSolver\rSleep, 500\rSend, +{Tab}\rSleep, 100\rSend, {Right}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Ctrl Down}a{Ctrl Up} \rSleep, 100 \rSend, {BackSpace} \rSend, <%BOARD%>\rClick, 10, 10, 2\rSleep, 500\rSend, {Tab}{Tab}{Tab}{Tab}\rSend, {Space}\rWinWait Ranges\rWinActivate\r\r;ranges\r<%INSERT_RANGES%>\rClipboard := "" \rExitApp\rReturn',range:'<%INIT_RANGE_VARS%>Clipboard = <%APPLY_RANGE_VARS%>\rSleep, 1000\rSend, ^v\rClipboard := ""\rSend, {Tab}\r\r',stack:"\tSend, {Tab}{Ctrl Down}a{Ctrl Up}\r\tSend, <%STACK%>\r"};function nH(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function iH(t,e){if(1&t&&(Ua(0,"div",4),Ss(1),tl(2,"uppercase"),qa()),2&t){var n=e.$implicit,i=is(2);gs("small",i.small)("large",i.large)("medium",i.medium)("with-border",i.border),Ha("ngClass",i.getClasses(n)),so(1),Ts(" ",n&&n[0]?n[0]:el(2,10,"")," ")}}function rH(t,e){if(1&t&&($a(0),Na(1,iH,3,12,"div",3),Ga()),2&t){var n=is();so(1),Ha("ngForOf",n.sorted?n.sortedCards:n.cards)}}function oH(t,e){if(1&t&&Wa(0,"div"),2&t){var n=is(2);gs("large",n.large)("medium",n.medium)("is5card",n.isFiveCard)}}function aH(t,e){if(1&t&&(Ua(0,"div",5),Na(1,oH,1,6,"div",6),qa()),2&t){var n=is();so(1),Ha("ngForOf",n.cards)}}var sH,cH=((sH=function(){function t(){f(this,t),this.large=!1,this.medium=!1,this.small=!1,this.centered=!1,this.border=!1,this.sorted=!1,this.showHoleCards=!1,this.copyOnClick=!1}return g(t,[{key:"areHoleCards",get:function(){return this.showHoleCards&&this.cards&&this.cards.every(function(t){return!t[0]&&!t[1]})}},{key:"isFiveCard",get:function(){return!1}},{key:"sortedCards",get:function(){var t;return(null===(t=this.cards)||void 0===t?void 0:t.length)>0?this.cards.sort(LA.sortCard):[]}},{key:"getClasses",value:function(t){if(null==t)return"empty-card";switch(t[1]){case"c":return"clubs";case"d":return"diamonds";case"h":return"hearts";case"s":return"spades";default:return"no-suit"}}}]),t}()).\u0275fac=function(t){return new(t||sH)},sH.\u0275cmp=ne({type:sH,selectors:[["app-cards"]],inputs:{cards:"cards",large:"large",medium:"medium",small:"small",centered:"centered",border:"border",sorted:"sorted",showHoleCards:"showHoleCards",copyOnClick:"copyOnClick"},decls:3,vars:6,consts:[[1,"poker-cards"],[4,"ngIf"],["class","hole-cards",4,"ngIf"],["class","poker-card",3,"small","large","medium","with-border","ngClass",4,"ngFor","ngForOf"],[1,"poker-card",3,"ngClass"],[1,"hole-cards"],[3,"large","medium","is5card",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(Ua(0,"div",0),Na(1,rH,2,1,"ng-container",1),Na(2,aH,2,1,"div",2),qa()),2&t&&(gs("centered",e.centered)("clickable",e.copyOnClick),so(1),Ha("ngIf",!e.areHoleCards),so(1),Ha("ngIf",e.areHoleCards&&e.cards))},directives:[Kh,$h,qh],pipes:[vd],styles:[".poker-cards[_ngcontent-%COMP%]{display:flex;flex-direction:row}.poker-cards.clickable[_ngcontent-%COMP%]{cursor:pointer}.poker-cards.centered[_ngcontent-%COMP%]{justify-content:center}.hole-cards[_ngcontent-%COMP%]{display:flex;flex-direction:row}.hole-cards[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;height:3.1rem;border:2px solid #838d97;background:#d2d2d2}.hole-cards[_ngcontent-%COMP%]   div.medium[_ngcontent-%COMP%]{margin-right:-1.25rem;width:2.2rem}.hole-cards[_ngcontent-%COMP%]   div.large[_ngcontent-%COMP%]{margin-right:-1.6rem;width:2.5rem}.hole-cards[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-right:0}.hole-cards[_ngcontent-%COMP%]   img.medium[_ngcontent-%COMP%]{margin-right:-1.25rem;width:2.2rem}.hole-cards[_ngcontent-%COMP%]   img.large[_ngcontent-%COMP%]{margin-right:-1.6rem;width:2.5rem}.hole-cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:last-child{margin-right:0}.poker-card[_ngcontent-%COMP%]{height:1.8rem;width:1.2rem;margin-right:.2rem;line-height:30px;font-size:1.2rem;border-radius:.125rem;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.poker-card.with-border[_ngcontent-%COMP%]{border:1px solid #747474}.poker-card.medium[_ngcontent-%COMP%]{height:2.5rem;line-height:2.5rem;width:2rem;margin-right:.3rem;font-size:1.5rem;border-radius:.18rem}.poker-card.large[_ngcontent-%COMP%]{height:3.75rem;line-height:3.75rem;width:2.8rem;margin-right:.3rem;font-size:2.5rem;border-radius:.375rem;border:.1rem solid hsla(0,0%,100%,.3137254901960784)}.poker-card.small[_ngcontent-%COMP%]{height:1.875rem;line-height:1.875rem;width:1.6rem;margin-right:.15rem;border-radius:.18rem;font-size:1.25rem}.poker-card[_ngcontent-%COMP%]:last-child{margin-right:0}.poker-card.clubs[_ngcontent-%COMP%]{background-color:var(--clubs-background);color:var(--clubs-color)}.poker-card.diamonds[_ngcontent-%COMP%]{background-color:var(--diamonds-background);color:var(--diamonds-color)}.poker-card.hearts[_ngcontent-%COMP%]{background-color:var(--hearts-background);color:var(--hearts-color)}.poker-card.spades[_ngcontent-%COMP%]{background-color:var(--spades-background);color:var(--spades-color)}.poker-card.no-suit[_ngcontent-%COMP%]{background-color:grey}.poker-card.empty-card[_ngcontent-%COMP%]{border:1px dashed var(--app-color);background-color:#545454}"]}),sH);function lH(t,e){if(1&t&&(Ua(0,"div",18),Ua(1,"div",14),Ss(2),qa(),Ua(3,"div",15),Ss(4),tl(5,"number"),qa(),qa()),2&t){var n=e.$implicit;so(2),Ms(n.position),so(2),Ms(nl(5,2,n.amount,"2."))}}function uH(t,e){if(1&t){var n=Qa();$a(0),Ua(1,"div",10),Ja("click",function(){return Qe(n),is().togglePayouts()}),Ua(2,"div",11),Ss(3,"Payouts"),qa(),Ua(4,"div",12),Ua(5,"div",13),Ua(6,"div",14),Ss(7,"Rank"),qa(),Ua(8,"div",15),Ss(9,"USD"),qa(),qa(),Na(10,lH,6,5,"div",16),Ua(11,"div",17),Ua(12,"div",14),Ss(13,"Total"),qa(),Ua(14,"div",15),Ss(15),tl(16,"number"),qa(),qa(),Ua(17,"div",17),Ua(18,"div",14),Ss(19,"Chipvalue"),qa(),Ua(20,"div",15),Ss(21),tl(22,"number"),qa(),qa(),qa(),qa(),Ga()}if(2&t){var i=is();so(1),gs("mobile",i.isMobile)("expanded",i.showPayouts),so(9),Ha("ngForOf",i.payouts),so(5),Ms(nl(16,7,i.totalPayouts,"2.")),so(6),Ms(nl(22,10,i.chipValue,"2.0-1"))}}function hH(t,e){if(1&t){var n=Qa();Ua(0,"div",23),Ja("click",function(){return Qe(n),is(2).toggleFlopSelector()}),Wa(1,"app-cards",24),qa()}if(2&t){var i=is(2);gs("highlightable",!i.cardSelectorIsShown&&!i.disableSelectors),so(1),Ha("cards",i.board.flop)("large",!0)("border",i.isFiveCard)}}var dH=function(t){return[t]};function fH(t,e){if(1&t){var n=Qa();Ua(0,"div",25),Ja("click",function(){return Qe(n),is(2).toggleTurnSelector()}),Wa(1,"app-cards",24),qa()}if(2&t){var i=is(2);gs("highlightable",!i.cardSelectorIsShown&&!i.disableSelectors),so(1),Ha("cards",Yc(5,dH,i.board.turn.card))("large",!0)("border",i.isFiveCard)}}function pH(t,e){if(1&t){var n=Qa();Ua(0,"div",26),Ja("click",function(){return Qe(n),is(2).toggleRiverSelector()}),Wa(1,"app-cards",24),qa()}if(2&t){var i=is(2);gs("highlightable",!i.cardSelectorIsShown&&!i.disableSelectors),so(1),Ha("cards",Yc(5,dH,i.board.river.card))("large",!0)("border",i.isFiveCard)}}function gH(t,e){if(1&t&&(Ua(0,"div",19),Na(1,hH,2,5,"div",20),Na(2,fH,2,7,"div",21),Na(3,pH,2,7,"div",22),qa()),2&t){var n=is();so(1),Ha("ngIf",n.showFlop),so(1),Ha("ngIf",n.showTurn),so(1),Ha("ngIf",n.showRiver)}}function vH(t,e){if(1&t&&(Ua(0,"span",29),Ss(1),tl(2,"number"),qa()),2&t){var n=is(2);so(1),Es("Antes: ",nl(2,2,n.ante,"1.0-2"),"",n.currency,"")}}function mH(t,e){if(1&t&&(Ua(0,"div",27),Ua(1,"span"),Ss(2),tl(3,"number"),qa(),Na(4,vH,3,5,"span",28),qa()),2&t){var n=is();so(2),Es("Total pot: ",nl(3,3,n.totalPot,"1.0-2"),"",n.currency,""),so(2),Ha("ngIf",n.ante>0)}}function yH(t,e){if(1&t&&(Ua(0,"div",30),Ss(1),tl(2,"number"),qa()),2&t){var n=is();so(1),Es(" ",nl(2,2,n.pot,"1.0-2"),"",n.currency," ")}}function bH(t,e){if(1&t&&(Ua(0,"div",38),Ss(1),tl(2,"number"),qa()),2&t){var n=is().$implicit,i=is();gs("no-cards-above",i.hasFolded(n)||i.isTrainingAsPlayer(n)),Ha("ngClass",i.getPlayerPositionClass(n)),so(1),Es(" ",nl(2,5,i.getStakes(n),"1.0-2"),"",i.currency," ")}}function _H(t,e){if(1&t&&(Ua(0,"div",31),Ua(1,"div",32),Ua(2,"div",33),Ua(3,"span",14),Ss(4),qa(),Ua(5,"span",34),Ss(6),tl(7,"number"),qa(),qa(),Na(8,bH,3,8,"div",35),Ua(9,"div",36),Wa(10,"app-cards",37),qa(),qa(),qa()),2&t){var n=e.$implicit,i=is();Ha("ngClass",i.getPlayerPositionClass(n)),so(1),gs("folded",i.hasFolded(n))("active",i.isActivePlayer(n))("plo5",i.isFiveCard)("to-background",i.cardSelectorIsShown),so(1),gs("folded",i.hasFolded(n))("active",i.isActivePlayer(n)),so(2),Ms(i.getPositionLabel(n)),so(2),Es("",nl(7,27,i.getStackSize(n),"1.0-2"),"",i.currency,""),so(2),Ha("ngIf",!!i.getStakes(n)),so(1),gs("player-cards",i.isTrainingAsPlayer(n))("opponent-cards",!i.isTrainingAsPlayer(n)&&i.showCards(n)),so(1),Ha("cards",i.getHandForPlayer(n))("small",!i.isTrainingAsPlayer(n)&&i.showCards(n))("medium",!i.isTrainingAsPlayer(n)&&!i.showCards(n))("large",i.isTrainingAsPlayer(n))("showHoleCards",!0)("sorted",!0)}}var kH,CH=((kH=function(){function t(){f(this,t),this.cardSelectorIsShown=!1,this.disableSelectors=!1,this.training=!1,this.blindsConfig={bb:1},this.toggleFlop=new ol,this.toggleTurn=new ol,this.toggleRiver=new ol,this.showPayouts=!1,this.isMobile=ID()}return g(t,[{key:"togglePayouts",value:function(){this.isMobile&&(this.showPayouts=!this.showPayouts)}},{key:"isFiveCard",get:function(){return!1}},{key:"hasIcmInfo",get:function(){var t,e;return!!(null===(t=this.icmInfo)||void 0===t?void 0:t.payouts)&&!!(null===(e=this.icmInfo)||void 0===e?void 0:e.stacks)}},{key:"payouts",get:function(){var t=this;return Object.keys(this.icmInfo.payouts).map(function(e){return{position:e,amount:t.icmInfo.payouts[e]}})}},{key:"totalPayouts",get:function(){return Object.values(this.icmInfo.payouts).reduce(function(t,e){return t+e},0)}},{key:"chipValue",get:function(){var t=Object.values(this.icmInfo.stacks).reduce(function(t,e){return t+e},0);return this.totalPayouts/(t+this.ante)}},{key:"pot",get:function(){return this.convertAmount(this.chips.pot)}},{key:"totalPot",get:function(){return this.convertAmount(this.chips.totalPot+this.chips.ante)}},{key:"ante",get:function(){return this.convertAmount(this.chips.ante)}},{key:"numberOfPlayers",get:function(){return this.allPlayers.length}},{key:"currency",get:function(){return this.blindsConfig.currency||""}},{key:"showFlop",get:function(){return this.board&&this.board.flop&&this.board.flop.length>0}},{key:"showTurn",get:function(){return this.board&&!!this.board.turn}},{key:"showRiver",get:function(){return this.board&&!!this.board.river}},{key:"getHandForPlayer",value:function(t){var e=["","","",""];this.isFiveCard&&e.push("");var n=this.hands?this.hands[t]:null;return(null==n?void 0:n.show)?n.hand:this.hasFolded(t)?null:e}},{key:"getCurrentAction",value:function(t){var e;return(null===(e=this.lastActionAndPlayer)||void 0===e?void 0:e.player)===t?this.lastActionAndPlayer.action:null}},{key:"getFormattedAction",value:function(t){return nH(null==t?void 0:t.type)}},{key:"isTrainingAsPlayer",value:function(t){return this.training&&t===this.alignPositionsTo}},{key:"showCards",value:function(t){var e;return this.hands&&(null===(e=this.hands[t])||void 0===e?void 0:e.show)}},{key:"hasFolded",value:function(t){return!this.activePlayers.includes(t)}},{key:"isActivePlayer",value:function(t){return t===this.currentPlayer}},{key:"getPlayerPositionClass",value:function(t){return"pos-".concat(this.numberOfPlayers,"way-").concat(this.getPosition(t))}},{key:"getDealerPositionClass",value:function(){return this.getPlayerPositionClass(2===this.numberOfPlayers?n_.SB:n_.BTN)}},{key:"getStackSize",value:function(t){return this.convertAmount(this.chips.stacks[t])}},{key:"getStakes",value:function(t){return this.convertAmount(this.chips.stakes[t])}},{key:"toggleFlopSelector",value:function(){this.disableSelectors||this.toggleFlop.emit()}},{key:"toggleTurnSelector",value:function(){this.disableSelectors||this.toggleTurn.emit()}},{key:"toggleRiverSelector",value:function(){this.disableSelectors||this.toggleRiver.emit()}},{key:"getPositionLabel",value:function(t){return t===this.replaceWithStraddle?i_(!0):this.positionLabels?this.positionLabels[t]:t}},{key:"getPosition",value:function(t){if(2===this.numberOfPlayers){if(this.alignPositionsTo)return t===this.alignPositionsTo?"bottom-center":"top-center";switch(t){case n_.SB:return"bottom-center";case n_.BB:return"top-center"}}else if(3===this.numberOfPlayers){var e=[n_.BTN,n_.SB,n_.BB],n=e.indexOf(t),i=this.alignPositionsTo?e.indexOf(this.alignPositionsTo):e.length;switch((n+(e.length-i))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"top-left";case 2:return"top-right"}}else if(4===this.numberOfPlayers){var r=[n_.CO,n_.BTN,n_.SB,n_.BB],o=r.indexOf(t),a=this.alignPositionsTo?r.indexOf(this.alignPositionsTo):r.length;switch((o+(r.length-a))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"middle-left";case 2:return"top-center";case 3:return"middle-right"}}else if(5===this.numberOfPlayers){var s=[n_.CO,n_.BTN,n_.SB,n_.BB,n_.MP],c=s.indexOf(t),l=this.alignPositionsTo?s.indexOf(this.alignPositionsTo):s.length;switch((c+(s.length-l))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"middle-left";case 2:return"top-left";case 3:return"top-right";case 4:return"middle-right"}}else if(6===this.numberOfPlayers){var u=[n_.CO,n_.BTN,n_.SB,n_.BB,n_.EP,n_.MP],h=u.indexOf(t),d=this.alignPositionsTo?u.indexOf(this.alignPositionsTo):u.length;switch((h+(u.length-d))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"bottom-left";case 2:return"top-left";case 3:return"top-center";case 4:return"top-right";case 5:return"bottom-right"}}else if(7===this.numberOfPlayers){var f=[n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB,n_.EP,n_.EP1],p=f.indexOf(t),g=this.alignPositionsTo?f.indexOf(this.alignPositionsTo):f.length;switch((p+(f.length-g))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"bottom-left";case 2:return"middle-left";case 3:return"top-left";case 4:return"top-right";case 5:return"middle-right";case 6:return"bottom-right"}}else if(8===this.numberOfPlayers){var v=[n_.MP,n_.CO,n_.BTN,n_.SB,n_.BB,n_.EP,n_.EP1,n_.EP2],m=v.indexOf(t),y=this.alignPositionsTo?v.indexOf(this.alignPositionsTo):v.length;switch((m+(v.length-y))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"bottom-left";case 2:return"middle-left";case 3:return"top-left";case 4:return"top-center";case 5:return"top-right";case 6:return"middle-right";case 7:return"bottom-right"}}}},{key:"convertAmount",value:function(t){return t/2*this.blindsConfig.bb}}]),t}()).\u0275fac=function(t){return new(t||kH)},kH.\u0275cmp=ne({type:kH,selectors:[["app-poker-table"]],inputs:{allPlayers:"allPlayers",activePlayers:"activePlayers",currentPlayer:"currentPlayer",icmInfo:"icmInfo",chips:"chips",board:"board",showLargeCards:"showLargeCards",cardSelectorIsShown:"cardSelectorIsShown",disableSelectors:"disableSelectors",replaceWithStraddle:"replaceWithStraddle",hands:"hands",training:"training",alignPositionsTo:"alignPositionsTo",blindsConfig:"blindsConfig",lastActionAndPlayer:"lastActionAndPlayer",positionLabels:"positionLabels"},outputs:{toggleFlop:"toggleFlop",toggleTurn:"toggleTurn",toggleRiver:"toggleRiver"},decls:10,vars:9,consts:[[1,"poker-table"],[4,"ngIf"],[1,"table-img",3,"src"],[1,"poker-table-outer-line"],[1,"poker-table-inner-line"],["class","board",4,"ngIf"],["class","total-pot",4,"ngIf"],["class","pot",4,"ngIf"],["src","assets/svg/game/dealer.svg",1,"dealer-button",3,"ngClass"],["class","player-wrapper",3,"ngClass",4,"ngFor","ngForOf"],[1,"icm",3,"click"],[1,"control"],[1,"payouts"],[1,"payout","header"],[1,"position"],[1,"amount"],["class","payout",4,"ngFor","ngForOf"],[1,"payout","total"],[1,"payout"],[1,"board"],["class","cards flop",3,"highlightable","click",4,"ngIf"],["class","cards turn",3,"highlightable","click",4,"ngIf"],["class","cards river",3,"highlightable","click",4,"ngIf"],[1,"cards","flop",3,"click"],[3,"cards","large","border"],[1,"cards","turn",3,"click"],[1,"cards","river",3,"click"],[1,"total-pot"],["class","ante",4,"ngIf"],[1,"ante"],[1,"pot"],[1,"player-wrapper",3,"ngClass"],[1,"player"],[1,"player-text"],[1,"stack"],["class","player-stakes",3,"no-cards-above","ngClass",4,"ngIf"],[1,"cards"],[3,"cards","small","medium","large","showHoleCards","sorted"],[1,"player-stakes",3,"ngClass"]],template:function(t,e){1&t&&(Ua(0,"div",0),Na(1,uH,23,13,"ng-container",1),Wa(2,"img",2),Ua(3,"div",3),Wa(4,"div",4),qa(),Na(5,gH,4,3,"div",5),Na(6,mH,5,6,"div",6),Na(7,yH,3,5,"div",7),Wa(8,"img",8),Na(9,_H,11,30,"div",9),qa()),2&t&&(so(1),Ha("ngIf",e.hasIcmInfo),so(1),Ha("src",e.isFiveCard?"assets/svg/PT-5C_Logo-v2.svg":"assets/svg/PT-4C_Logo-v2.svg",dr),so(2),gs("plo5",e.isFiveCard),so(1),Ha("ngIf",e.board),so(1),Ha("ngIf",e.totalPot),so(1),Ha("ngIf",e.pot),so(1),Ha("ngClass",e.getDealerPositionClass()),so(1),Ha("ngForOf",e.allPlayers))},directives:[Kh,qh,$h,cH],pipes:[yd],styles:["[_ngcontent-%COMP%]:root{--eval-text-color:#161431;--eval-color-correct:rgba(91,231,146,0.8);--eval-color-low-freq:rgba(222,190,94,0.8);--eval-color-mistake:rgba(231,104,96,0.8);--green-correct-pale-brighter:rgba(67,227,110,0.4);--green-correct-pale:rgba(85,156,104,0.4);--yellow-incorrect-pale:rgba(244,212,96,0.45);--orange-incorrect-pale:rgba(242,143,91,0.45);--red-incorrect-pale:rgba(215,92,92,0.45);--app-color:#fff;--favorite-highlight-color:#ffe55c}[_nghost-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.icm[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1;cursor:pointer;width:8.15rem;padding:.25rem .5rem;border:1px solid var(--background-color);background-color:var(--background-color);box-shadow:inset 0 0 3rem 0 hsla(0,0%,100%,.06274509803921569)}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]{display:none}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;flex-direction:row}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{width:1.5rem;text-align:center;margin-right:1.5rem}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:100%;text-align:right}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout.header[_ngcontent-%COMP%]{margin-bottom:.25rem}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout.total[_ngcontent-%COMP%]{margin-top:.25rem}.icm.expanded[_ngcontent-%COMP%], .icm[_ngcontent-%COMP%]:hover:not(.mobile){padding:.25rem .5rem;border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow)}.icm.expanded[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%], .icm[_ngcontent-%COMP%]:hover:not(.mobile)   .control[_ngcontent-%COMP%]{margin-bottom:.5rem}.icm.expanded[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%], .icm[_ngcontent-%COMP%]:hover:not(.mobile)   .payouts[_ngcontent-%COMP%]{display:unset}.poker-table[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;text-align:center;width:100%;height:100%}.poker-table[_ngcontent-%COMP%]   .poker-table-outer-line[_ngcontent-%COMP%]{z-index:-2;position:absolute;top:12%;left:10%;width:80%;height:76%;padding:1.5rem;background-color:#26262a;border:2px solid #6c757c;display:flex;box-sizing:border-box;border-radius:10rem}.poker-table[_ngcontent-%COMP%]   .poker-table-outer-line[_ngcontent-%COMP%]   .poker-table-inner-line[_ngcontent-%COMP%]{z-index:-1;width:100%;height:100%;box-sizing:border-box;background:#397450;background:radial-gradient(ellipse,#397450 30%,#245432 100%);border-radius:10rem}.poker-table[_ngcontent-%COMP%]   .poker-table-outer-line[_ngcontent-%COMP%]   .poker-table-inner-line.plo5[_ngcontent-%COMP%]{background:#435986;background:radial-gradient(ellipse,#435986 30%,#293e5d 100%)}.poker-table[_ngcontent-%COMP%]   .table-img[_ngcontent-%COMP%]{width:40%;max-width:15rem;z-index:-1;opacity:.3}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{padding:2px}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards.river[_ngcontent-%COMP%], .poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards.turn[_ngcontent-%COMP%]{margin-left:calc(.3rem - 4px)}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards.highlightable[_ngcontent-%COMP%]{cursor:pointer}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards.highlightable[_ngcontent-%COMP%]:hover{padding:0;border:2px solid var(--app-color);border-radius:.375rem}.poker-table[_ngcontent-%COMP%]   .total-pot[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translateX(-50%) translateY(-50%);display:flex;flex-direction:column;color:#b9c5a0;font-size:.8rem}.poker-table[_ngcontent-%COMP%]   .total-pot[_ngcontent-%COMP%]   .ante[_ngcontent-%COMP%]{font-size:.8rem}.poker-table[_ngcontent-%COMP%]   .pot[_ngcontent-%COMP%]{position:absolute;top:62%;left:50%;transform:translateX(-50%) translateY(-50%);color:#fff;font-size:1rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]{position:absolute;transform:translateX(50%)}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-2way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-2way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-2way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-3way-top-left[_ngcontent-%COMP%]{transform:none;top:25%;left:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-3way-top-right[_ngcontent-%COMP%]{transform:none;top:25%;right:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-3way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-3way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-middle-left[_ngcontent-%COMP%]{transform:translateY(-50%);left:0;top:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-middle-right[_ngcontent-%COMP%]{transform:translateY(-50%);right:0;top:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-top-left[_ngcontent-%COMP%]{transform:none;top:15%;left:15%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-top-right[_ngcontent-%COMP%]{transform:none;top:15%;right:15%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-middle-left[_ngcontent-%COMP%]{transform:none;bottom:35%;left:0}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-middle-right[_ngcontent-%COMP%]{transform:none;bottom:35%;right:0}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-top-left[_ngcontent-%COMP%]{transform:none;top:25%;left:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-top-right[_ngcontent-%COMP%]{transform:none;top:25%;right:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-bottom-left[_ngcontent-%COMP%]{transform:none;bottom:25%;left:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-bottom-right[_ngcontent-%COMP%]{transform:none;bottom:25%;right:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-top-left[_ngcontent-%COMP%]{transform:none;top:10%;left:20%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-top-right[_ngcontent-%COMP%]{transform:none;top:10%;right:20%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-middle-left[_ngcontent-%COMP%]{transform:translateY(-50%);left:0;top:42%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-middle-right[_ngcontent-%COMP%]{transform:translateY(-50%);right:0;top:42%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-bottom-left[_ngcontent-%COMP%]{transform:none;bottom:21%;left:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-bottom-right[_ngcontent-%COMP%]{transform:none;bottom:21%;right:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-top-left[_ngcontent-%COMP%]{transform:none;top:21%;left:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-top-right[_ngcontent-%COMP%]{transform:none;top:21%;right:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-middle-left[_ngcontent-%COMP%]{transform:translateY(-50%);left:0;top:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-middle-right[_ngcontent-%COMP%]{transform:translateY(-50%);right:0;top:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-bottom-left[_ngcontent-%COMP%]{transform:none;bottom:21%;left:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-bottom-right[_ngcontent-%COMP%]{transform:none;bottom:21%;right:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{z-index:10;display:flex;flex-direction:column;justify-content:center;align-items:center;width:5.3rem;height:2.2rem;padding:0 .5rem;font-size:1rem;font-weight:500;background:#484848;color:var(--player-text-color);border:2px solid #838d97}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player.active[_ngcontent-%COMP%]{background:#485948;border-color:#30df7b;color:#30df7b}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player.active.plo5[_ngcontent-%COMP%]{background:#495573;border-color:#3ca7ff;color:#3ca7ff}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player.folded[_ngcontent-%COMP%]{opacity:.7}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-text[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;padding-top:2px;line-height:2.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-text[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-text[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]{font-size:1rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes[_ngcontent-%COMP%]{position:absolute;color:#fff;font-size:1rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-2way-top-center[_ngcontent-%COMP%]{bottom:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-2way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-2way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-3way-top-left[_ngcontent-%COMP%]{left:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-3way-top-right[_ngcontent-%COMP%]{right:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-3way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-3way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-top-center[_ngcontent-%COMP%]{bottom:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-middle-left[_ngcontent-%COMP%]{left:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-middle-right[_ngcontent-%COMP%]{right:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-top-left[_ngcontent-%COMP%]{left:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-top-right[_ngcontent-%COMP%]{right:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-middle-left[_ngcontent-%COMP%]{top:-.625rem;left:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-middle-right[_ngcontent-%COMP%]{top:-.625rem;right:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-top-left[_ngcontent-%COMP%]{left:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-top-center[_ngcontent-%COMP%]{bottom:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-top-right[_ngcontent-%COMP%]{right:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-bottom-left[_ngcontent-%COMP%]{top:-.625rem;left:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-bottom-right[_ngcontent-%COMP%]{top:-.625rem;right:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-top-left[_ngcontent-%COMP%]{left:5.5rem;bottom:-1.8rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-top-right[_ngcontent-%COMP%]{right:5.5rem;bottom:-1.8rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-middle-left[_ngcontent-%COMP%]{left:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-middle-right[_ngcontent-%COMP%]{right:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-bottom-left[_ngcontent-%COMP%]{top:-.625rem;left:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-bottom-right[_ngcontent-%COMP%]{top:-.625rem;right:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-top-left[_ngcontent-%COMP%]{left:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-top-center[_ngcontent-%COMP%]{bottom:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-top-right[_ngcontent-%COMP%]{right:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-middle-left[_ngcontent-%COMP%]{left:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-middle-right[_ngcontent-%COMP%]{right:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-bottom-left[_ngcontent-%COMP%]{top:-.625rem;left:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-bottom-right[_ngcontent-%COMP%]{top:-.625rem;right:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{z-index:-1;position:absolute;bottom:1rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .cards.player-cards[_ngcontent-%COMP%]{top:3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .cards.opponent-cards[_ngcontent-%COMP%]{bottom:3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player-action[_ngcontent-%COMP%]{position:absolute;top:2.5rem;left:50%;transform:translateX(-50%);padding:0 .3rem;background:var(--player-background);color:var(--player-text-color);border:var(--player-border);border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.poker-table[_ngcontent-%COMP%]   .dealer-button[_ngcontent-%COMP%]{position:absolute;transform:translateX(50%);width:1.2rem;height:1.2rem}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-2way-top-center[_ngcontent-%COMP%]{top:12%;right:50%;transform:translate(4.6rem,3rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-2way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-3way-top-left[_ngcontent-%COMP%]{top:25%;left:5%;transform:translateX(calc(50% + 7.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-3way-top-right[_ngcontent-%COMP%]{top:25%;right:5%;transform:translateX(calc(-50% - 7.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-3way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:52%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-4way-top-center[_ngcontent-%COMP%]{top:8%;right:50%;transform:translate(4.6rem,3rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-4way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-4way-middle-left[_ngcontent-%COMP%]{left:0;top:40%;transform:translateX(calc(50% + 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-4way-middle-right[_ngcontent-%COMP%]{right:0;top:40%;transform:translateX(calc(-50% - 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-top-left[_ngcontent-%COMP%]{top:27%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-top-right[_ngcontent-%COMP%]{top:27%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-middle-left[_ngcontent-%COMP%]{left:0;top:62%;transform:translateX(calc(50% + 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-middle-right[_ngcontent-%COMP%]{right:0;top:62%;transform:translateX(calc(-50% - 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:52%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-top-left[_ngcontent-%COMP%]{top:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-top-center[_ngcontent-%COMP%]{top:8%;right:50%;transform:translate(4.6rem,3rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-top-right[_ngcontent-%COMP%]{top:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-bottom-left[_ngcontent-%COMP%]{bottom:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-bottom-right[_ngcontent-%COMP%]{bottom:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-top-left[_ngcontent-%COMP%]{top:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-top-right[_ngcontent-%COMP%]{top:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-bottom-left[_ngcontent-%COMP%]{bottom:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-bottom-right[_ngcontent-%COMP%]{bottom:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-middle-left[_ngcontent-%COMP%]{left:0;top:33%;transform:translateX(calc(50% + 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-middle-right[_ngcontent-%COMP%]{right:0;top:33%;transform:translateX(calc(-50% - 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-top-left[_ngcontent-%COMP%]{top:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-top-center[_ngcontent-%COMP%]{top:8%;right:50%;transform:translate(4.6rem,3rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-top-right[_ngcontent-%COMP%]{top:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-bottom-left[_ngcontent-%COMP%]{bottom:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-bottom-right[_ngcontent-%COMP%]{bottom:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-middle-left[_ngcontent-%COMP%]{left:0;top:40%;transform:translateX(calc(50% + 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-middle-right[_ngcontent-%COMP%]{right:0;top:40%;transform:translateX(calc(-50% - 7rem))}"]}),kH);function wH(t,e){if(1&t){var n=Qa();Ua(0,"div",11),Ua(1,"app-cards",12),Ja("click",function(){Qe(n);var t=e.$implicit,i=is().$implicit;return is().selectCard(t,i)}),qa(),qa()}if(2&t){var i=e.$implicit,r=is().$implicit,o=is();so(1),gs("selectable",o.isSelectable(i,r)),Ha("cards",o.getCards(i,r))}}function xH(t,e){if(1&t&&(Ua(0,"div",9),Na(1,wH,2,3,"div",10),qa()),2&t){var n=is();so(1),Ha("ngForOf",n.faces)}}function PH(t,e){if(1&t){var n=Qa();Ua(0,"div",6),Ua(1,"a",7),Ja("click",function(){return Qe(n),is().getAHKscript()}),Ss(2,"Get AHK script"),qa(),qa()}}var OH,SH=((OH=function(){function t(){f(this,t),this.closed=new ol,this.selected=new ol,this.ahk=new ol,this.isMobileDevice=ID}return g(t,[{key:"suits",get:function(){return["s","h","d","c"]}},{key:"faces",get:function(){return["A","K","Q","J","T","9","8","7","6","5","4","3","2"]}},{key:"getCards",value:function(t,e){return[t+e]}},{key:"isSelectable",value:function(t,e){return!!this.selectable.find(function(n){return Object(LA.cardIsEqual)(n,t+e)})}},{key:"selectCard",value:function(t,e){this.isSelectable(t,e)?this.selected.emit(t+e):"Turn"===this.street&&this.ahk.emit(t+e)}},{key:"getAHKscript",value:function(){this.ahk.emit(null)}},{key:"loadRandomCard",value:function(){var t=wL(this.selectable);this.selected.emit(t)}},{key:"emitClosed",value:function(){this.allowClose&&this.closed.emit()}}]),t}()).\u0275fac=function(t){return new(t||OH)},OH.\u0275cmp=ne({type:OH,selectors:[["app-card-selector"]],inputs:{selectable:"selectable",street:"street",allowClose:"allowClose"},outputs:{closed:"closed",selected:"selected",ahk:"ahk"},decls:10,vars:5,consts:[["id","card-selection-container"],[1,"close-btn",3,"click"],[1,"icon","fas","fa-times-circle"],[1,"centered"],["class","row",4,"ngFor","ngForOf"],[1,"buttons_container"],[1,"rdm-link"],[3,"click"],["class","rdm-link",4,"ngIf"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card",3,"cards","click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"div",1),Ja("click",function(){return e.emitClosed()}),Wa(2,"i",2),qa(),Ua(3,"div",3),Na(4,xH,2,1,"div",4),Ua(5,"div",5),Ua(6,"div",6),Ua(7,"a",7),Ja("click",function(){return e.loadRandomCard()}),Ss(8),qa(),qa(),Na(9,PH,3,0,"div",8),qa(),qa(),qa()),2&t&&(so(1),gs("show",e.allowClose),so(3),Ha("ngForOf",e.suits),so(4),Ts("Load random ",e.street,""),so(1),Ha("ngIf",!e.isMobileDevice()))},directives:[$h,Kh,cH],styles:["#card-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:25.625rem;margin-top:.625rem;padding:.625rem;box-shadow:var(--box-shadow);border-radius:var(--border-radius);background-color:var(--background-color)}#card-selection-container[_ngcontent-%COMP%]   .buttons_container[_ngcontent-%COMP%]{display:flex;gap:2rem}#card-selection-container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:-.625rem;cursor:pointer;visibility:hidden}#card-selection-container[_ngcontent-%COMP%]   .close-btn.show[_ngcontent-%COMP%]{visibility:visible}#card-selection-container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;background-color:#000;border-radius:100%}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:.125rem .25rem}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{opacity:.1;cursor:default}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .card.selectable[_ngcontent-%COMP%]{cursor:pointer;opacity:1}#card-selection-container[_ngcontent-%COMP%]   .rdm-link[_ngcontent-%COMP%]{margin-top:.625rem;padding:1px .625rem;cursor:pointer;font-size:.875rem;color:var(--link-color)}#card-selection-container[_ngcontent-%COMP%]   .rdm-link[_ngcontent-%COMP%]:hover{padding:0 .5625rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"],changeDetection:0}),OH),MH=function(t,e){return t&&t>e?e:t};function TH(t,e){if(1&t&&(Ua(0,"div",10),Ss(1),qa()),2&t){var n=e.$implicit,i=is(2);Ha("ngClass",i.actionClasses(n)),so(1),Ts(" ",i.actionLabel(n)," ")}}function EH(t,e){if(1&t&&(Ua(0,"div",8),Na(1,TH,2,2,"div",9),qa()),2&t){var n=is();so(1),Ha("ngForOf",n.actions)}}function RH(t,e){1&t&&(Ua(0,"div",17),Ua(1,"div",18),Ss(2," Full range "),qa(),qa())}var FH=function(t){return{"width.%":t}};function IH(t,e){if(1&t&&(Ua(0,"div",19),Ua(1,"span"),Ss(2),tl(3,"percent"),qa(),qa()),2&t){var n=e.$implicit,i=is(2);Ha("ngClass",i.actionClasses(n))("ngStyle",Yc(9,FH,i.normalizedWidth(i.rangeValueForAction(n))))("matTooltip",i.rangeValueTooltip(n)),so(1),gs("hide-text",i.rangeValueForAction(n)<i.hideTextBelowFreq),so(1),Ms(nl(3,6,i.rangeValueForAction(n),"1.0-0"))}}function AH(t,e){if(1&t){var n=Qa();Ua(0,"div",20),Ja("click",function(){return Qe(n),is(2).emitOpenRange()}),Wa(1,"i",21),qa()}}function DH(t,e){if(1&t&&(Ua(0,"div",11),Ua(1,"div",12),Na(2,RH,3,0,"div",13),Ua(3,"div",14),Na(4,IH,4,11,"div",15),qa(),Na(5,AH,2,0,"div",16),qa(),qa()),2&t){var n=is();gs("border",n.showBorder),so(1),gs("compact",n.compact),so(1),Ha("ngIf",!n.hideLabel),so(2),Ha("ngForOf",n.actions),so(1),Ha("ngIf",n.showOpenRangeIcons)}}function LH(t,e){1&t&&Wa(0,"div",22)}function BH(t,e){if(1&t&&(Ua(0,"div",19),Ua(1,"span"),Ss(2),tl(3,"percent"),qa(),qa()),2&t){var n=e.$implicit,i=is(2);Ha("ngClass",i.actionClasses(n))("ngStyle",Yc(9,FH,i.normalizedWidth(i.valueForAction(i.bucketGroup,n))))("matTooltip",i.valueTooltip(i.bucketGroup,n)),so(1),gs("hide-text",i.valueForAction(i.bucketGroup,n)<i.hideTextBelowFreq),so(1),Ms(nl(3,6,i.valueForAction(i.bucketGroup,n),"1.0-0"))}}function NH(t,e){if(1&t){var n=Qa();Ua(0,"div",27),Ja("click",function(){return Qe(n),is(2).emitOpenRangeForBucket()}),Wa(1,"i",21),qa()}}function jH(t,e){if(1&t&&(Ua(0,"div",23),Ua(1,"div",12),Ua(2,"div",17),Ua(3,"div",24),Ss(4),Ua(5,"span",25),Ss(6),tl(7,"percent"),qa(),qa(),qa(),Ua(8,"div",14),Na(9,BH,4,11,"div",15),qa(),Na(10,NH,2,0,"div",26),qa(),qa()),2&t){var n=is();so(1),gs("compact",n.compact),so(3),Ts(" ",n.bucketGroup.label," "),so(2),Ts(" (",nl(7,6,n.bucketGroup.percentOfRangeInBucket,"1.0-2"),")"),so(3),Ha("ngForOf",n.actions),so(1),Ha("ngIf",n.showOpenRangeIcons)}}var VH,HH=((VH=function(){function t(e){f(this,t),this.percentPipe=e,this.hideLabel=!1,this.hideLegend=!1,this.compact=!1,this.showBorder=!1,this.width=400,this.showOpenRangeIcons=!1,this.openRange=new ol,this.openRangeForBucket=new ol}return g(t,[{key:"isFiveCard",get:function(){return!1}},{key:"hasRangeFrequencies",get:function(){var t;return(null===(t=this.rangeFrequencies)||void 0===t?void 0:t.length)>0&&!this.rangeFrequencies.every(function(t){return!t.overallFreq})}},{key:"hideTextBelowFreq",get:function(){return this.compact?.06:.04}},{key:"emitOpenRange",value:function(){this.openRange.emit()}},{key:"emitOpenRangeForBucket",value:function(){this.openRangeForBucket.emit()}},{key:"validGroups",value:function(t){return t.filter(function(t){return t.totalItems>0})}},{key:"actionLabel",value:function(t){var e,n;if(this.useRFIvalueForAction(t)){var i=this.getRFIValue();return MD(t,this.hasPrevBet||t.hasPrevBet,!this.isPostFlop,i?i+"x":null,null===(e=this.currentTree)||void 0===e?void 0:e.fixedRaiseSize)}return MD(t,this.hasPrevBet,!this.isPostFlop,null,null===(n=this.currentTree)||void 0===n?void 0:n.fixedRaiseSize)}},{key:"valueForAction",value:function(t,e){var n;return MH(null===(n=null==t?void 0:t.values.find(function(t){return SD(t.action,e)}))||void 0===n?void 0:n.overallFreq,1)}},{key:"rangeValueForAction",value:function(t){var e,n;return MH(null===(n=null===(e=this.rangeFrequencies)||void 0===e?void 0:e.find(function(e){return SD(e.action,t)}))||void 0===n?void 0:n.overallFreq,1)}},{key:"actionClasses",value:function(t){var e=function(t){return["BET","RAISE","RAISECHIP"].includes(t.type.toUpperCase())};if(e(t))switch(this.actions.filter(e).sort(function(t,e){return t.amount||e.amount?t.amount-e.amount:e.amountLabel.localeCompare(t.amountLabel)}).findIndex(function(e){return e.amount?e.amount===t.amount:e.amountLabel===t.amountLabel})){case 0:return"action raise0";case 1:return"action raise1";case 2:return"action raise2"}else switch(t.type.toUpperCase()){case s_.FOLD:return"action fold";case s_.CALL:return"action call";case s_.CHECK:return"action check";case"AI":case"ALL IN":case"ALL-IN":case"ALL_IN":case s_.ALLIN:return"action allin";case s_.MIN:case s_.MR:return"action min";default:return"action default"}}},{key:"normalizedWidth",value:function(t){return 100*t}},{key:"bucketTooltip",value:function(t){return t.label}},{key:"valueTooltip",value:function(t,e){var n=this.valueForAction(t,e);return"".concat(this.actionLabel(e),": ").concat(this.percentPipe.transform(n,"1.0-0"))}},{key:"rangeValueTooltip",value:function(t){var e=this.rangeValueForAction(t);return"".concat(this.actionLabel(t),": ").concat(this.percentPipe.transform(e,"1.0-0"))}},{key:"getBucketIndex",value:function(t,e){return bk(t,e)}},{key:"useRFIvalueForAction",value:function(t){return m_(t,this.currentTree,this.isPostFlop,this.isRFI)}},{key:"getRFIValue",value:function(){var t;return(null!==(t=this.currentTree.rfiValues)&&void 0!==t?t:{})[this.currentPosition]||this.currentTree.rfiValue}}]),t}()).\u0275fac=function(t){return new(t||VH)(Va(bd))},VH.\u0275cmp=ne({type:VH,selectors:[["app-strategy-chart"]],inputs:{currentTree:"currentTree",isPostFlop:"isPostFlop",isRFI:"isRFI",hasPrevBet:"hasPrevBet",currentPosition:"currentPosition",actions:"actions",rangeFrequencies:"rangeFrequencies",bucketGroup:"bucketGroup",hideLabel:"hideLabel",hideLegend:"hideLegend",compact:"compact",showBorder:"showBorder",width:"width",showOpenRangeIcons:"showOpenRangeIcons"},outputs:{openRange:"openRange",openRangeForBucket:"openRangeForBucket"},decls:8,vars:6,consts:[[1,"strategy-chart-container"],[1,"chart-wrapper"],[1,"top-row"],["class","legend",4,"ngIf"],[1,"chart"],["class","chart-group range-freq",3,"border",4,"ngIf"],["class","range-bucket-sep",4,"ngIf"],["class","chart-group",4,"ngIf"],[1,"legend"],["class","legend-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"legend-item",3,"ngClass"],[1,"chart-group","range-freq"],[1,"chart-row"],["class","chart-label",4,"ngIf"],[1,"freq-container"],["class","chart-value","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"ngClass","ngStyle","matTooltip",4,"ngFor","ngForOf"],["class","open-range-icon","matTooltip","Open full range in new tab","matTooltipPosition","below",3,"click",4,"ngIf"],[1,"chart-label"],[1,"label","bold"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"chart-value",3,"ngClass","ngStyle","matTooltip"],["matTooltip","Open full range in new tab","matTooltipPosition","below",1,"open-range-icon",3,"click"],[1,"fas","fa-external-link-alt"],[1,"range-bucket-sep"],[1,"chart-group"],[1,"label"],[1,"small"],["class","open-range-icon","matTooltip","Open range for bucket in new tab","matTooltipPosition","below",3,"click",4,"ngIf"],["matTooltip","Open range for bucket in new tab","matTooltipPosition","below",1,"open-range-icon",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"div",1),Ua(2,"div",2),Na(3,EH,2,1,"div",3),qa(),Ua(4,"div",4),Na(5,DH,6,7,"div",5),Na(6,LH,1,0,"div",6),Na(7,jH,11,9,"div",7),qa(),qa(),qa()),2&t&&(so(3),Ha("ngIf",!e.hideLegend),so(1),gs("no-scroll",e.compact),so(1),Ha("ngIf",e.hasRangeFrequencies),so(1),Ha("ngIf",!e.compact&&e.bucketGroup&&e.hasRangeFrequencies),so(1),Ha("ngIf",e.bucketGroup))},directives:[Kh,$h,qh,od,_A],pipes:[bd],styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:120px}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-frame{border-color:var(--checkbox-border)!important}[_nghost-%COMP%]     .mat-checkbox.mat-checkbox-disabled .mat-checkbox-frame{border-color:var(--checkbox-border-disabled)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option-disabled{color:var(--text-color-disabled)!important}.large-tooltip[_ngcontent-%COMP%]{font-size:18px}.strategy-chart-container[_ngcontent-%COMP%]{color:var(--text-color)}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;cursor:default;margin-left:30%;margin-bottom:5px;margin-top:20px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{margin:10px;padding:6px 12px;color:#fff;display:flex;flex-direction:row;align-items:center;border-radius:var(--border-radius)}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{max-height:750px;overflow-x:hidden;overflow-y:auto}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart.no-scroll[_ngcontent-%COMP%]{overflow-y:hidden}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .range-bucket-sep[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:12px;margin-right:10px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]{margin-bottom:10px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group.border[_ngcontent-%COMP%]{border-radius:var(--border-radius);overflow:hidden}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;overflow:hidden;height:100%;cursor:default}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.compact[_ngcontent-%COMP%]{height:100%;font-size:1rem}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.compact[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]{width:50%}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:flex-start}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]{width:50%;font-size:.8rem;display:flex;flex-direction:row;justify-content:space-between;margin-right:10px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.expandable[_ngcontent-%COMP%]{cursor:pointer}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .range-freq[_ngcontent-%COMP%]{padding-left:50px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{margin-left:5px;font-size:.6rem}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;color:#fff}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]   span.hide-text[_ngcontent-%COMP%]{visibility:hidden}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .open-range-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem;font-size:.875rem;color:#a4b4dd}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .open-range-icon[_ngcontent-%COMP%]:hover{color:#fff}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .range-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:30px;cursor:pointer}.default[_ngcontent-%COMP%]{background-color:var(--default-background);color:var(--default-color)!important}.min[_ngcontent-%COMP%], .raise0[_ngcontent-%COMP%]{background-color:var(--raise0-background);color:var(--raise0-color)!important}.raise1[_ngcontent-%COMP%]{background-color:var(--raise1-background);color:var(--raise1-color)!important}.allin[_ngcontent-%COMP%], .raise2[_ngcontent-%COMP%]{background-color:var(--raise2-background);color:var(--raise2-color)!important}.raise3[_ngcontent-%COMP%]{background-color:var(--raise3-background);color:var(--raise3-color)!important}.fold[_ngcontent-%COMP%]{background-color:var(--fold-background);color:var(--fold-color)!important}.call[_ngcontent-%COMP%], .check[_ngcontent-%COMP%]{background-color:var(--call-background);color:var(--call-color)!important}"],changeDetection:0}),VH);function zH(t,e){1&t&&(Ua(0,"span",4),as(1),qa())}function UH(t,e){if(1&t&&(Ua(0,"span",5),Ss(1),tl(2,"uppercase"),qa()),2&t){var n=is();so(1),Ms(el(2,1,n.hotkey))}}function qH(t,e){if(1&t&&(Ua(0,"span"),Ss(1),tl(2,"uppercase"),qa()),2&t){var n=is();so(1),Ms(el(2,1,n.label))}}function WH(t,e){if(1&t&&($a(0),Ua(1,"div",6),Ss(2),tl(3,"uppercase"),qa(),Ua(4,"div",6),Ss(5),tl(6,"uppercase"),qa(),Ga()),2&t){var n=is();so(2),Ms(el(3,2,n.label)),so(3),Ms(el(6,4,n.secondLabel))}}var $H,GH=["*"],KH=(($H=function(){function t(){f(this,t),this.icon=!1,this.useSmallFont=!1,this.usable=!0,this.ahk=!1,this.isSelected=!1,this.clicked=new ol}return g(t,[{key:"emitClick",value:function(){new ec(document.getElementById(this.btnId)).nativeElement.blur(),this.clicked.emit()}},{key:"btnId",get:function(){return"btn-"+this.label}},{key:"styles",get:function(){var t;return{usable:this.action&&this.usable,action:this.action,secondaryButton:this.secondaryButton,backOrExit:this.backOrExit,load:this.load,trainNode:this.trainNode,trainRandomBoard:this.trainRandomBoard,trainGame:this.trainGame,filter:this.filter,continue:this.continue,selected:this.isSelected,correct:!this.barelyVisible&&pB(this.result),inaccuracy:!this.barelyVisible&&this.result===uB.INACCURACY,mistake:!this.barelyVisible&&(t=this.result,[uB.FREQ_MISTAKE,uB.MISTAKE,uB.BLUNDER].includes(t)),smallFont:this.useSmallFont,roundButton:this.roundButton,responsive:this.responsive,barelyVisible:this.barelyVisible,ahk:this.ahk}}}]),t}()).\u0275fac=function(t){return new(t||$H)},$H.\u0275cmp=ne({type:$H,selectors:[["app-action-button"]],inputs:{label:"label",secondLabel:"secondLabel",icon:"icon",useSmallFont:"useSmallFont",disabled:"disabled",usable:"usable",secondaryButton:"secondaryButton",backOrExit:"backOrExit",load:"load",trainNode:"trainNode",trainRandomBoard:"trainRandomBoard",trainGame:"trainGame",filter:"filter",continue:"continue",action:"action",roundButton:"roundButton",ahk:"ahk",responsive:"responsive",barelyVisible:"barelyVisible",result:"result",hotkey:"hotkey",isSelected:"isSelected"},outputs:{clicked:"clicked"},ngContentSelectors:GH,decls:5,vars:7,consts:[["mat-flat-button","",1,"button",3,"id","ngClass","disabled","click"],["class","icon",4,"ngIf"],["class","hotkey",4,"ngIf"],[4,"ngIf"],[1,"icon"],[1,"hotkey"],[1,"multiline"]],template:function(t,e){1&t&&(os(),Ua(0,"button",0),Ja("click",function(){return e.emitClick()}),Na(1,zH,2,0,"span",1),Na(2,UH,3,3,"span",2),Na(3,qH,3,3,"span",3),Na(4,WH,7,6,"ng-container",3),qa()),2&t&&(Ha("id",e.btnId)("ngClass",e.styles)("disabled",e.disabled),so(1),Ha("ngIf",e.icon),so(1),Ha("ngIf",e.hotkey),so(1),Ha("ngIf",!e.secondLabel),so(1),Ha("ngIf",e.secondLabel))},directives:[pI,qh,Kh],pipes:[vd],styles:[".button[_ngcontent-%COMP%]{width:8.125rem;height:3.1rem;display:flex;align-items:center;justify-content:center;font-size:.9rem;font-weight:400}.button.responsive[_ngcontent-%COMP%]{width:100%}.button.ahk[_ngcontent-%COMP%]{opacity:.7}.button.smallFont[_ngcontent-%COMP%]{font-size:.75rem}.button[_ngcontent-%COMP%]   .multiline[_ngcontent-%COMP%]{line-height:1rem;height:1rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:var(--button-font-size);margin-right:.625rem}.button[_ngcontent-%COMP%]   .hotkey[_ngcontent-%COMP%]{font-size:.6rem;position:absolute;bottom:0;left:50%;transform:translateX(-50%);line-height:1rem;opacity:.8;font-weight:500}.button.barelyVisible[_ngcontent-%COMP%]{opacity:.15;cursor:default!important}.button.roundButton[_ngcontent-%COMP%]{width:3.1rem!important;font-size:1.2rem}.button.roundButton[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:0}.button.roundButton[_ngcontent-%COMP%]   .hotkey[_ngcontent-%COMP%]{opacity:.3}.button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.button.trainNode.filter[_ngcontent-%COMP%]{width:unset}.button.trainNode[_ngcontent-%COMP%]:enabled{color:var(--train-button-text);background-color:var(--train-button-color);border:var(--train-button-border)}.button.trainNode[_ngcontent-%COMP%]:disabled{color:var(--train-button-text-disabled);background-color:var(--train-button-color-disabled);border:var(--train-button-border-disabled)}.button.trainNode[_ngcontent-%COMP%]:hover:enabled{color:var(--train-button-text-hover);background-color:var(--train-button-color-hover);border:var(--train-button-border-hover)}.button.trainRandomBoard.filter[_ngcontent-%COMP%]{width:unset}.button.trainRandomBoard[_ngcontent-%COMP%]:enabled{color:var(--alt-train-button-text);background-color:var(--alt-train-button-color);border:var(--alt-train-button-border)}.button.trainRandomBoard[_ngcontent-%COMP%]:disabled{color:var(--alt-train-button-text-disabled);background-color:var(--alt-train-button-color-disabled);border:var(--alt-train-button-border-disabled)}.button.trainRandomBoard[_ngcontent-%COMP%]:hover:enabled{color:var(--alt-train-button-text-hover);background-color:var(--alt-train-button-color-hover);border:var(--alt-train-button-border-hover)}.button.trainGame.filter[_ngcontent-%COMP%]{width:unset}.button.trainGame[_ngcontent-%COMP%]:enabled{color:var(--game-train-button-text);background-color:var(--game-train-button-color);border:var(--game-train-button-border)}.button.trainGame[_ngcontent-%COMP%]:disabled{color:var(--game-train-button-text-disabled);background-color:var(--game-train-button-color-disabled);border:var(--game-train-button-border-disabled)}.button.trainGame[_ngcontent-%COMP%]:hover:enabled{color:var(--game-train-button-text-hover);background-color:var(--game-train-button-color-hover);border:var(--game-train-button-border-hover)}.button.secondaryButton[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border:var(--border-style)}.button.secondaryButton[_ngcontent-%COMP%]:enabled{color:var(--text-color);background-color:var(--background-color);box-shadow:inset 0 0 3rem 0 hsla(0,0%,100%,.06274509803921569)}.button.secondaryButton[_ngcontent-%COMP%]:hover:enabled{border:var(--border-style-bold)}.button.backOrExit[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.button.backOrExit[_ngcontent-%COMP%]:enabled{color:var(--back-button-text);background-color:var(--back-button-color);border:var(--back-button-border)}.button.backOrExit[_ngcontent-%COMP%]:disabled{color:var(--back-button-text-disabled);background-color:var(--back-button-color-disabled);border:var(--back-button-border-disabled)}.button.backOrExit[_ngcontent-%COMP%]:hover:enabled{color:var(--back-button-text-hover);background-color:var(--back-button-color-hover);border:var(--back-button-border-hover)}.button.load[_ngcontent-%COMP%]:enabled{color:var(--load-button-text);background-color:var(--load-button-color);border:var(--load-button-border)}.button.load[_ngcontent-%COMP%]:disabled{color:var(--load-button-text-disabled);background-color:var(--load-button-color-disabled);border:var(--load-button-border-disabled)}.button.load[_ngcontent-%COMP%]:hover:enabled{color:var(--load-button-text-hover);background-color:var(--load-button-color-hover);border:var(--load-button-border-hover)}.button.continue[_ngcontent-%COMP%]:enabled{color:var(--load-button-text);background-color:var(--load-button-color);border:var(--load-button-border)}.button.continue[_ngcontent-%COMP%]:disabled{color:var(--load-button-text-disabled);background-color:var(--load-button-color-disabled);border:var(--load-button-border-disabled)}.button.continue[_ngcontent-%COMP%]:hover:enabled{color:var(--load-button-text-hover);background-color:var(--load-button-color-hover);border:var(--load-button-border-hover)}.button.action[_ngcontent-%COMP%]{color:var(--btn-text-color);padding:2px}.button.action.usable[_ngcontent-%COMP%]:enabled{background-color:var(--action-button-color);border:var(--action-button-border)}.button.action.usable[_ngcontent-%COMP%]:disabled{opacity:.5;background-color:var(--action-button-color-disabled);border:var(--action-button-border-disabled)}.button.action.usable[_ngcontent-%COMP%]:hover:enabled{background-color:var(--action-button-color-hover);border:var(--action-button-border-hover)}.button.action.correct[_ngcontent-%COMP%]{background-color:var(--eval-color-correct);border:var(--border-style);pointer-events:none}.button.action.inaccuracy[_ngcontent-%COMP%]{background-color:var(--eval-color-low-freq);border:var(--border-style);pointer-events:none}.button.action.mistake[_ngcontent-%COMP%]{color:#fff;background-color:var(--eval-color-mistake);border:var(--border-style);pointer-events:none}.button.action.selected[_ngcontent-%COMP%]{border:.1875rem solid #fff}"]}),$H);function QH(t,e){if(1&t){var n=Qa();Ua(0,"div",14),Ua(1,"div",15),Ja("click",function(){return Qe(n),is(3).openSelector("flop")}),Ss(2,"FLOP"),qa(),qa()}}function YH(t,e){if(1&t){var n=Qa();$a(0),Ua(1,"div",14),Ua(2,"div",15),Ja("click",function(){Qe(n);var t=is().$implicit;return is(3).openSelector(t.action.type)}),Ss(3),tl(4,"uppercase"),qa(),qa(),Ga()}if(2&t){var i=is().$implicit;so(3),Ms(el(4,1,i.action.type))}}function ZH(t,e){if(1&t){var n=Qa();$a(0),Ua(1,"div",16),Ja("click",function(){Qe(n);var t=is().$implicit;return is(3).goToHistoryItem(t.idx)}),Ua(2,"div",17),Ss(3),qa(),Ua(4,"div",18),Ss(5),qa(),qa(),Ga()}if(2&t){var i=is().$implicit,r=is(3);so(1),Ha("ngClass",r.actionColorClass(i.action,i.allActions)),so(2),Ms(r.formatPlayer(i.player)),so(2),Ms(r.formatHistoryAction(i.action))}}function JH(t,e){if(1&t&&($a(0),Na(1,YH,5,3,"ng-container",0),Na(2,ZH,6,3,"ng-container",0),Ga()),2&t){var n=e.$implicit,i=is(3);so(1),Ha("ngIf",i.isDealerAction(n.action)),so(1),Ha("ngIf",!i.isDealerAction(n.action))}}function XH(t,e){if(1&t){var n=Qa();Ua(0,"app-flop-selector",19),Ja("selected",function(t){return Qe(n),is(3).updateSelectedFlop(t)})("closed",function(){return Qe(n),is(3).closeFlopSelector()}),qa()}if(2&t){var i=is(3);Ha("allowClose",!0)("flops",i.selectableFlops)}}function tz(t,e){if(1&t){var n=Qa();Ua(0,"app-card-selector",20),Ja("selected",function(t){return Qe(n),is(3).updateSelectedTurn(t)})("ahk",function(t){return Qe(n),is(3).ahkSelectedTurnRiver(t)})("closed",function(){return Qe(n),is(3).closeTurnSelector()}),qa()}if(2&t){var i=is(3);Ha("allowClose",!0)("selectable",i.selectableTurns)}}function ez(t,e){if(1&t){var n=Qa();Ua(0,"app-card-selector",21),Ja("selected",function(t){return Qe(n),is(3).updateSelectedRiver(t)})("ahk",function(t){return Qe(n),is(3).ahkSelectedTurnRiver(t)})("closed",function(){return Qe(n),is(3).closeRiverSelector()}),qa()}if(2&t){var i=is(3);Ha("allowClose",!0)("selectable",i.selectableRivers)}}function nz(t,e){if(1&t&&Wa(0,"app-strategy-chart",22),2&t){var n=e.ngIf,i=is(3);Ha("currentTree",i.treeMeta)("isPostFlop",i.isPostFlop)("isRFI",i.isRFI)("currentPosition",i.currentPlayer)("actions",i.getActions())("rangeFrequencies",n)("hasPrevBet",i.hasPrevBet)("compact",!0)("hideLegend",!0)("hideLabel",!0)("showBorder",!0)("width",700)}}function iz(t,e){if(1&t){var n=Qa();Ua(0,"app-action-button",28),Ja("clicked",function(){return Qe(n),is(4).goBack()}),Wa(1,"i",29),qa()}2&t&&Ha("disabled",is(4).disableBackButton)("secondaryButton",!0)("icon",!0)("roundButton",!0)}function rz(t,e){if(1&t){var n=Qa();Ua(0,"app-action-button",32),Ja("clicked",function(){Qe(n);var t=e.$implicit;return is(5).pickAction(t)}),qa()}if(2&t){var i=e.$implicit,r=is(5);ps("width",100/r.getActions().length,"%")("max-width","15rem"),Ha("disabled",r.isActionDisabled(i)&&!r.canContinueWithScript(i))("barelyVisible",i.barelyVisible)("action",!0)("label",r.getFormattedAction(i))("hotkey",r.canContinueWithScript(i)?"AHK script":null)("ahk",r.canContinueWithScript(i))("responsive",!0)}}function oz(t,e){if(1&t&&(Ua(0,"div",30),Na(1,rz,1,11,"app-action-button",31),qa()),2&t){var n=is(4);so(1),Ha("ngForOf",n.getActions())}}function az(t,e){if(1&t){var n=Qa();Ua(0,"app-action-button",33),Ja("clicked",function(){return Qe(n),is(4).load()}),Wa(1,"i",34),qa()}2&t&&Ha("disabled",is(4).disableLoadButton)("secondaryButton",!0)("hotkey","Show")("icon",!0)("roundButton",!0)}function sz(t,e){if(1&t){var n=Qa();Ua(0,"app-action-button",33),Ja("clicked",function(){return Qe(n),is(4).setupTraining()}),Wa(1,"i",35),qa()}2&t&&Ha("disabled",is(4).disableTrainButton)("secondaryButton",!0)("hotkey","Train")("icon",!0)("roundButton",!0)}function cz(t,e){if(1&t&&(Ua(0,"div",23),Na(1,iz,2,4,"app-action-button",24),Na(2,oz,2,1,"div",25),Ua(3,"div",26),Na(4,az,2,5,"app-action-button",27),Na(5,sz,2,5,"app-action-button",27),qa(),qa()),2&t){var n=is(3);so(1),Ha("ngIf",!n.flopSelectorIsShown),so(1),Ha("ngIf",!n.anySelectorIsShown),so(2),Ha("ngIf",!n.anySelectorIsShown&&!n.disableLoadButton),so(1),Ha("ngIf",n.allowTraining)}}function lz(t,e){1&t&&Wa(0,"div",23)}function uz(t,e){if(1&t){var n=Qa();Ua(0,"div",3),Ua(1,"div",4),Na(2,QH,3,0,"div",5),Na(3,JH,3,2,"ng-container",6),qa(),Ua(4,"app-poker-table",7),Ja("toggleFlop",function(){return Qe(n),is(2).toggleFlopSelector()})("toggleTurn",function(){return Qe(n),is(2).toggleTurnSelector()})("toggleRiver",function(){return Qe(n),is(2).toggleRiverSelector()}),qa(),Na(5,XH,1,2,"app-flop-selector",8),Na(6,tz,1,2,"app-card-selector",9),Na(7,ez,1,2,"app-card-selector",10),Ua(8,"div",11),Na(9,nz,1,12,"app-strategy-chart",12),tl(10,"async"),qa(),Na(11,cz,6,4,"div",13),Na(12,lz,1,0,"div",13),qa()}if(2&t){var i=is(2);so(2),Ha("ngIf",i.isPostFlop),so(1),Ha("ngForOf",i.history)("ngForTrackBy",i.trackHistoryItemBy),so(1),Ha("icmInfo",i.icmInfo)("replaceWithStraddle",i.replaceWithStraddle)("allPlayers",i.allPlayers)("activePlayers",i.activePlayers)("currentPlayer",i.currentPlayer)("chips",i.chipState)("cardSelectorIsShown",i.anySelectorIsShown)("board",i.showBoard?i.board:null)("showLargeCards",!1)("disableSelectors",i.disableBoardSelectors),so(1),Ha("ngIf",i.flopSelectorIsShown),so(1),Ha("ngIf",i.turnSelectorIsShown),so(1),Ha("ngIf",i.riverSelectorIsShown),so(2),Ha("ngIf",el(10,19,i.rangeFrequencies$)),so(2),Ha("ngIf",i.hasTreeLoaded),so(1),Ha("ngIf",i.hasTreeLoaded)}}function hz(t,e){if(1&t&&($a(0),Na(1,uz,13,21,"div",2),Ga()),2&t){var n=is();so(1),Ha("ngIf",n.hasTreeLoaded||n.flopSelectorIsShown)}}function dz(t,e){1&t&&(Ua(0,"div",36),Wa(1,"mat-spinner",37),qa())}var fz,pz=function(t){return null!=t?t:""},gz=((fz=function(){function e(t,n,i,r,o,a,s,c){var l=this;f(this,e),this.store=t,this.router=n,this.route=i,this.treeService=r,this.rangeService=o,this.feature=a,this.theme=s,this.dialog=c,this.nodeSelected=new ol,this.boardUpdated=new ol,this.flopSelectionAborted=new ol,this.$isLoading=new ap(!1),this._flopSelectorIsShown=!1,this._turnSelectorIsShown=!1,this._riverSelectorIsShown=!1,this.rangeService.isLoading$.subscribe(function(t){return l.isLoadingRange=t})}return g(e,[{key:"ngOnInit",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){var n=this;return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isLoadingTree$=this.store.pipe(ob(E_)),this.currentRangeFrequencies$=this.store.pipe(ob($_)),this.currentTreeSubscription=this.store.pipe(ob(R_)).subscribe(function(e){return Gm(n,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c,l;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||e.isCustom){t.next=17;break}return this._flopSelectorIsShown=!1,this._turnSelectorIsShown=!1,this._riverSelectorIsShown=!1,this.$isLoading.next(!0),i=this.route.snapshot.queryParams,r=i.node,o=i.loadRange,a=i.flop,s=i.turn,c=i.river,this.tree=new CL(this.treeService,e,r,a,s,c),this.tree.isPostFlop?this.clearLookups(!0,!1):this.clearLookups(!1,!0),t.next=6,this.tree.waitUntilLoaded();case 6:if((l=t.sent)?this.handleTreeNext(l):(this.tree.isPostFlop?a||(this._flopSelectorIsShown=!0):this._flopSelectorIsShown=!1,this.updateSelectedNode(this.currentNode)),this.emitCurrentBoard(),this.clearCurrentRange(),this.$isLoading.next(!1),t.t0=o,!t.t0){t.next=15;break}return t.next=15,this.load(!1);case 15:t.next=18;break;case 17:this.tree=null;case 18:case"end":return t.stop()}},n,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){this.currentTreeSubscription&&this.currentTreeSubscription.unsubscribe()}},{key:"icmInfo",get:function(){return this.treeMeta?{payouts:this.treeMeta.icmPayouts,stacks:this.treeMeta.icmStacks}:{payouts:null,stacks:null}}},{key:"rangeFrequencies$",get:function(){var t=this;return this.currentRangeFrequencies$.pipe(W(function(e){if(e){var n=e.tree,i=e.node,r=e.rangeFrequencies;if(n===t.tree.key&&i===t.tree.nodePath)return r}return null}))}},{key:"allowCloseFlopSelector",get:function(){var t;return(null===(t=this.board)||void 0===t?void 0:t.flop)&&3===this.board.flop.length&&this.board.flop.every(function(t){return!!t})}},{key:"allowCloseTurnSelector",get:function(){var t,e;return!!(null===(e=null===(t=this.board)||void 0===t?void 0:t.turn)||void 0===e?void 0:e.card)}},{key:"allowCloseRiverSelector",get:function(){var t,e;return!!(null===(e=null===(t=this.board)||void 0===t?void 0:t.river)||void 0===e?void 0:e.card)}},{key:"isLoading$",get:function(){return this.tree?hp([this.$isLoading.asObservable(),this.isLoadingTree$,this.tree.isLoading$]).pipe(W(function(t){var e=y(t,3),n=e[0],i=e[1],r=e[2];return n||i||r})):hp([this.$isLoading.asObservable(),this.isLoadingTree$]).pipe(W(function(t){var e=y(t,2),n=e[0],i=e[1];return n||i}))}},{key:"isFiveCard",get:function(){return!1}},{key:"isDarkTheme",get:function(){return this.theme.isDark}},{key:"trainLabel",get:function(){if("range"===this.activeTab){if(w_(this.store.pipe(ob(q_))))return{label:"train filter",useSmallFont:!0}}else if("chart"===this.activeTab&&w_(this.store.pipe(ob(Vk))))return{label:"train selection",useSmallFont:!0};return{label:"train",useSmallFont:!1}}},{key:"trainRandomBoardLabel",get:function(){var t,e;if(this.board)return(null===(t=this.board.river)||void 0===t?void 0:t.card)?"random river":(null===(e=this.board.turn)||void 0===e?void 0:e.card)?"random turn":"random flop"}},{key:"isRFI",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.isRFI}},{key:"treeTitle",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.title}},{key:"board",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.board}},{key:"isPostFlop",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.isPostFlop}},{key:"isHeadsUp",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.isHeadsUp}},{key:"replaceWithStraddle",get:function(){var t,e,n;return null===(n=null===(e=null===(t=this.tree)||void 0===t?void 0:t.currentTree)||void 0===e?void 0:e.setup)||void 0===n?void 0:n.replaceWithStraddle}},{key:"currentNode",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.currentNode}},{key:"currentNodeId",get:function(){var t;return[null===(t=this.tree)||void 0===t?void 0:t.key,x_(this.currentNode),this.currentBoard].filter(function(t){return!!t}).join("-")}},{key:"treeMeta",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.details}},{key:"allPlayers",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.allPlayers}},{key:"activePlayers",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.activePlayers}},{key:"currentPlayer",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.currentPlayer}},{key:"currentBoard",get:function(){var t,e;if(this.board)return[].concat(C(this.board.flop.map(pz)),[pz(null===(t=this.board.turn)||void 0===t?void 0:t.card),pz(null===(e=this.board.river)||void 0===e?void 0:e.card)]).join("")}},{key:"emitCurrentBoard",value:function(){var t,e;if(this.board){var n=[].concat(C(this.board.flop.map(pz)),[pz(null===(t=this.board.turn)||void 0===t?void 0:t.card),pz(null===(e=this.board.river)||void 0===e?void 0:e.card)]).join("");this.boardUpdated.emit(n)}}},{key:"allowTraining",get:function(){return this.feature.isAvailable(C_.NodeTraining)&&!this.anySelectorIsShown}},{key:"showGameTrainingButton",get:function(){return this.isPostFlop&&!this.anySelectorIsShown&&this.feature.isAvailable(C_.MultiStreetTraining)}},{key:"disableBoardSelectors",get:function(){return this.isLoadingRange}},{key:"disableLoadButton",get:function(){var t;return this.isLoadingRange||this.hasRangeLoadedForCurrentNode||this.anySelectorIsShown||!(null===(t=this.currentNode)||void 0===t?void 0:t.next)||0===this.currentNode.next.length}},{key:"disableTrainButton",get:function(){return this.isLoadingRange}},{key:"hasRangeLoadedForCurrentNode",get:function(){return this.currentNode&&this.currentNodeId===this.currentRangesLoadedForNode}},{key:"disableBackButton",get:function(){return this.isPostFlop?this.flopSelectorIsShown:this.tree.history&&0===this.tree.history.length}},{key:"showBoard",get:function(){return this.hasTreeLoaded&&this.isPostFlop}},{key:"anySelectorIsShown",get:function(){return this.flopSelectorIsShown||this.turnSelectorIsShown||this.riverSelectorIsShown}},{key:"flopSelectorIsShown",get:function(){return this._flopSelectorIsShown}},{key:"selectableTurns",get:function(){var t,e;return(null===(t=this._selectableTurns)||void 0===t?void 0:t.length)>0?this._selectableTurns:null===(e=this.tree)||void 0===e?void 0:e.availableTurns}},{key:"turnSelectorIsShown",get:function(){return this._turnSelectorIsShown}},{key:"selectableRivers",get:function(){var t,e;return(null===(t=this._selectableRivers)||void 0===t?void 0:t.length)>0?this._selectableRivers:null===(e=this.tree)||void 0===e?void 0:e.availableRivers}},{key:"riverSelectorIsShown",get:function(){return this._riverSelectorIsShown}},{key:"hasTreeLoaded",get:function(){return!!this.tree&&!!this.tree.currentNode}},{key:"chipState",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.chipState}},{key:"treeStackInChips",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.treeStackInChips}},{key:"selectableFlops",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.selectableFlops}},{key:"hasPrevBet",get:function(){return this.chipState&&this.chipState.prevBet>2}},{key:"history",get:function(){var t,e;return null===(e=null===(t=this.tree)||void 0===t?void 0:t.history)||void 0===e?void 0:e.map(function(t,e){return{idx:e,player:t.player,action:t.action,allActions:t.allActions}})}},{key:"hideHistory",get:function(){var t;return 0===(null===(t=this.history)||void 0===t?void 0:t.length)}},{key:"trackHistoryItemBy",value:function(t,e){return e.idx}},{key:"isDealerAction",value:function(t){return c_(t)}},{key:"firstOnStreet",value:function(t){return!(t>0)||this.isDealerAction(this.history[t-1].action)}},{key:"formatPlayer",value:function(t){var e,n;return t===(null===(n=null===(e=this.treeMeta)||void 0===e?void 0:e.setup)||void 0===n?void 0:n.replaceWithStraddle)?i_(!0):t}},{key:"formatHistoryAction",value:function(t){var e=u_(t,this.treeMeta.raiseSizeMapping);return TD(e,e.rfiLabel,this.treeMeta.fixedRaiseSize)}},{key:"actionColorClass",value:function(t,e){var n=function(t){return["BET","RAISE","RAISECHIP"].includes(t.type.toUpperCase())};if(n(t))switch(e.filter(n).sort(function(t,e){return t.amount||e.amount?t.amount-e.amount:0}).findIndex(function(e){return e.amount?e.amount===t.amount:e.amountLabel===t.amountLabel})){case 0:return"raise0";case 1:return"raise1";case 2:return"raise2"}else switch(t.type.toUpperCase()){case s_.FOLD:return"fold";case s_.CALL:return"call";case s_.CHECK:return"check";case"AI":case"ALL IN":case"ALL-IN":case"ALL_IN":case s_.ALLIN:return"allin";case s_.MIN:case s_.MR:return"min";default:return"default"}}},{key:"openSelector",value:function(t){switch(this.hideAllSelectors(),t){case s_.flop:this._flopSelectorIsShown=!0;break;case s_.turn:this._turnSelectorIsShown=!0;break;case s_.river:this._riverSelectorIsShown=!0}}},{key:"closeFlopSelector",value:function(){this.hideAllSelectors(),this.allowCloseFlopSelector||(this.store.dispatch(e_()),this.flopSelectionAborted.emit())}},{key:"closeTurnSelector",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hideAllSelectors(),t.t0=this.allowCloseTurnSelector,t.t0){t.next=5;break}return t.next=5,this.goBack();case 5:case"end":return t.stop()}},e,this)}))}},{key:"closeRiverSelector",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hideAllSelectors(),t.t0=this.allowCloseRiverSelector,t.t0){t.next=5;break}return t.next=5,this.goBack();case 5:case"end":return t.stop()}},e,this)}))}},{key:"goToHistoryItem",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.history.length-e,t.next=3,this.goBack(i);case 3:case"end":return t.stop()}},n,this)}))}},{key:"toggleFlopSelector",value:function(){this._turnSelectorIsShown||this._riverSelectorIsShown?this._flopSelectorIsShown=!1:this._flopSelectorIsShown?this.board&&this.board.flop&&this.board.flop.every(function(t){return!!t})&&(this._flopSelectorIsShown=!1):this._flopSelectorIsShown=!0}},{key:"toggleTurnSelector",value:function(){this._flopSelectorIsShown||this._riverSelectorIsShown?this._turnSelectorIsShown=!1:this._turnSelectorIsShown?this.board&&this.board.turn&&null!==this.board.turn.card&&(this._turnSelectorIsShown=!1):this._turnSelectorIsShown=!0}},{key:"toggleRiverSelector",value:function(){this._flopSelectorIsShown||this._turnSelectorIsShown?this._riverSelectorIsShown=!1:this._riverSelectorIsShown?this.board&&this.board.river&&null!==this.board.river&&(this._riverSelectorIsShown=!1):this._riverSelectorIsShown=!0}},{key:"getActions",value:function(){return this.tree.getActions()}},{key:"getActionButtonsNotRaises",value:function(){var t=this.tree.getActions(),e=[],n=0;return t.length>n&&t[n].type===s_.FOLD?(e.push(t[n]),n++):e.push({type:s_.FOLD,barelyVisible:!0,color:"colorFold"}),t.length>n&&(t[n].type===s_.CALL||t[n].type===s_.CHECK)?(e.push(t[n]),n++):e.push({type:s_.CALL,barelyVisible:!0,color:"colorCall"}),e}},{key:"getActionButtonsRaises",value:function(){var t=this.tree.getActions(),e=[],n=0;if(t.length>n&&t[n].type===s_.FOLD&&n++,t.length>n&&(t[n].type===s_.CALL||t[n].type===s_.CHECK)&&n++,n>=t.length)e.push({type:s_.RAISE,barelyVisible:!0,color:"colorRaise1"});else for(var i=n;i<t.length;i++)e.push(t[i]);return e}},{key:"getFormattedAction",value:function(t){return this.tree.getFormattedAction(t)}},{key:"isActionDisabled",value:function(t){var e,n;if(this.tree.details.isCustom)return!0;if(null===(e=this.currentNode)||void 0===e?void 0:e.next){var i=this.currentNode.next.find(function(e){return SD(e.action,t)});if((null===(n=null==i?void 0:i.next)||void 0===n?void 0:n.length)>0&&i.next[0].action.type===s_.turn){var r=this.tree.details,o=[].concat(C(this.tree.history.map(function(t){return t.action})),[t]),a=Object(LA.cardsToString)(this.board.flop,!0),s=Object(LA.cardsToString)(this.board.flop,!1),c=pL(o);return r.boards[a]?!r.boards[a][c]:!r.boards[s]||!r.boards[s][c]}return!i||!i.next||0===i.next.length}return!0}},{key:"canContinueWithScript",value:function(t){var e,n;if(this.tree.details.isCustom)return!1;var i=(null===(e=this.board)||void 0===e?void 0:e.flop)&&!(null===(n=this.board)||void 0===n?void 0:n.river),r=[s_.CALL,s_.CHECK].includes(t.type),o=t.type===s_.FOLD,a=this.activePlayers.length>=3,s=Object.values(this.tree.chipState.stacks).reduce(function(t,e){return t<e?t:e});return this.isActionDisabled(t)&&i&&(r||o&&a)&&s>0&&!ID()&&!0}},{key:"pickAction",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.canContinueWithScript(e)){t.next=5;break}return t.next=3,this.loadRangeAndRunScript(e);case 3:t.next=10;break;case 5:return this.clearCurrentRange(),t.next=8,this.tree.update(e);case 8:i=t.sent,this.updateUrl(),this.handleTreeNext(i);case 10:case"end":return t.stop()}},n,this)}))}},{key:"restart",value:function(){this.tree.restart(),this.hideAllSelectors(),this.isPostFlop&&(this._flopSelectorIsShown=!0),this.updateSelectedNode(this.currentNode),this.updateUrl()}},{key:"goBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearCurrentRange(),t.next=3,this.tree.prev(e);case 3:i=t.sent,this.handleTreeNext(i),this.updateUrl();case 5:case"end":return t.stop()}},n,this)}))}},{key:"handleTreeNext",value:function(t){this.hideAllSelectors(),t&&!t.continue?t.availableTurns?this.showTurnSelector(t.availableTurns):t.availableRivers?this.showRiverSelector(t.availableRivers):this.isPostFlop&&(this._flopSelectorIsShown=!0):this.updateSelectedNode(this.currentNode)}},{key:"load",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c,l,u,h,d,f,p,g,v,m,y,b,_,C,w,x,P=this;return t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&this.updateUrl(!0),!this.currentNode||!this.currentNode.next){n.next=39;break}(i=this.currentNode.next).find(function(t){return t.action.type===s_.CHECK})&&(i=i.filter(function(t){return t.action.type!==s_.CALL})),r=[],o=k(i),n.prev=5,s=t().mark(function e(){var n;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.value,r.find(function(t){return t.rangeId===n.rangeId})||r.push({action:n.action,rangeId:n.rangeId});case 2:case"end":return t.stop()}},e)}),o.s();case 8:if((a=o.n()).done){n.next=12;break}return n.delegateYield(s(),"t0",10);case 10:n.next=8;break;case 12:n.next=17;break;case 14:n.prev=14,n.t1=n.catch(5),o.e(n.t1);case 17:return n.prev=17,o.f(),n.finish(17);case 20:if(this.currentRangesLoadedForNode=this.currentNodeId,c=this.tree,l=c.key,u=c.board,h=c.currentNode,d=c.nodePath,f=c.turnStakes,p=c.currentPlayer,g=this.tree.details.multiplyEVBy,n.prev=22,!this.isPostFlop){n.next=30;break}return m=Object(LA.cardsToString)(u.flop,!1),y=u.turn&&u.turn.card?Object(LA.cardToString)(u.turn.card):null,b=u.river&&u.river.card?Object(LA.cardToString)(u.river.card):null,_=this.tree.details.modifyEV,C=_?y_(_,m,d):g,w=f?f[p]:null,x=!!y||!!b,n.next=27,this.rangeService.loadPostflopRanges(p,l,d,x_(h),r,{flop:m,turn:y,river:b},{isTurnOrRiver:x,evFactor:C,turnInvest:w});case 27:v=n.sent,n.next=33;break;case 30:return n.next=32,this.rangeService.loadPreflopRanges(p,l,d,x_(h),r,{isTurnOrRiver:!1,evFactor:g});case 32:v=n.sent;case 33:v.rangeFrequencies.every(function(t){return null!==t.overallFreq&&t.overallFreq>=0})||this.dialog.open(NI,{data:{title:"Empty node!",content:["The node you selected does not contain any ranges.","Please select a different action."],confirmOnly:!0,confirmLabel:"Ok"}}).afterClosed().subscribe(function(){return Gm(P,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearCurrentRange(),t.next=3,this.goBack();case 3:case"end":return t.stop()}},e,this)}))}),n.next=39;break;case 36:n.prev=36,n.t2=n.catch(22),this.currentRangesLoadedForNode=null;case 39:case"end":return n.stop()}},n,this,[[5,14,17,20],[22,36]])}))}},{key:"ahkSelectedTurnRiver",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!ID()){t.next=2;break}return t.abrupt("return");case 2:if(i=this.tree.board,r=Object(LA.cardsToString)(i.flop,!1),!((o=i.turn&&i.turn.card?Object(LA.cardToString)(i.turn.card):null)?r+o:r).includes(e)){t.next=7;break}console.log("Card is not possible!"),t.next=9;break;case 7:return t.next=9,this.loadRangeAndRunScript(void 0,e);case 9:case"end":return t.stop()}},n,this)}))}},{key:"loadRangeAndRunScript",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r=this;return t().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:this.currentNode&&this.currentNode.next&&this.dialog.open($V,{data:{title:"Generate AHK script"+(n?" for ".concat(n,"?"):"?"),content:["To use AHK script you need:","href:https://plomastermind.com/lessons/ahk-script/_caption:- Watch our Tutorial","href:https://javadl.oracle.com/webapps/download/AutoDL?BundleId=242060_3d5a2bb8f8d4428bbe94aed7ec7ae784_caption:- Install Java x64","href:https://www.monkerware.com/downloads/monkersolverfree-setup.exe_caption:- Install MonkerSolver Free version","href:https://www.autohotkey.com/download/ahk-install.exe_caption:- Install AutoHotkey v1","- Run MonkerSolver Free","- Run downloaded .ahk script"],confirmLabel:"Download script",dismissLabel:"Cancel"}}).afterClosed().subscribe(function(i){return Gm(r,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h,d,f,p,g,m,y,b,_,k,w,x,P,O,S,M,T,E=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}return t.abrupt("return");case 2:if(o=!1,a=this.tree.prepareDataForAHK(),console.log(a),e?(o=e.type===s_.FOLD,c=this.currentNode.next.find(function(t){return SD(t.action,e)}).rangeId,l=this.tree.activePlayers.filter(function(t){return t!==E.currentPlayer}),u=C(this.tree.history).reverse(),h={},l.map(function(t){return h[t]=u.find(function(e){return e.player===t}).rangeId}),s=Object.assign(o?{}:v({},this.currentPlayer,c),h)):(d=C(this.tree.history).reverse(),f={},this.tree.activePlayers.map(function(t){return f[t]=d.find(function(e){return e.player===t}).rangeId}),s=Object.assign({},f)),console.log(s),p=0,(g=a.allPlayers.length)>2)for(p=g-1;!s[a.allPlayers[p]]&&p>0;)p--;for(m=[],y=0;y<g;y++)b=(y+p)%g,s[a.allPlayers[b]]&&m.push(s[a.allPlayers[b]]);return console.log(m),_=this.tree,k=_.key,w=_.board,x=Object(LA.cardsToString)(w.flop,!1),P=w.turn&&w.turn.card?Object(LA.cardToString)(w.turn.card):null,O=w.river&&w.river.card?Object(LA.cardToString)(w.river.card):null,S=P?x+P:x,t.next=21,this.rangeService.loadPostflopActionRanges(k,"AHK",m.map(function(t){return{action:null,rangeId:t}}),{flop:x,turn:P,river:O});case 21:M=t.sent.map(function(t){return{player:Object.keys(s).find(function(e){return s[e]===t.key}),ppt:t.items.filter(function(t){return t[5]>=.005}).map(function(t){return t[0]+"@"+Math.round(100*t[5]).toFixed(0)}).join(","),totalWeight:t.totalWeight}}),T=!0,M.forEach(function(t){return 0===t.ppt.length?T=!1:void 0}),T?this.prepareAHKscript(M.length,S,n,M,a,o):this.dialog.open(NI,{data:{title:"Export is not possible",content:["One of the ranges is too narrow."],confirmLabel:"Confirm",confirmOnly:!0}});case 24:case"end":return t.stop()}},r,this)}))});case 1:case"end":return i.stop()}},i,this)}))}},{key:"prepareAHKscript",value:function(t,e,n,i,r,o){var a=Object.assign({},eH);if(a.body=a.body.replace(new RegExp("<%PLAYERS_COUNT%>","g"),t.toString()),a.body=a.body.replace(new RegExp("<%POT%>","g"),(r.pot/r.simBB).toFixed(1)),a.body=a.body.replace(new RegExp("<%BOARD%>","g"),n?e+n:e),t>2){var s=new Array(t-1).join("{Tab}");a.body=a.body.replace(new RegExp("<%MWAY_TAB%>","g"),s)}else a.body=a.body.replace(new RegExp("<%MWAY_TAB%>","g"),"");a.body=a.body.replace(new RegExp("<%RIVER_RIGHT%>","g"),e.length>6?"{Right}":""),console.log(i);for(var c="",l=0;l<t;l++){var u=a.range;u=u.replace(new RegExp("<%N%>","g"),(l+1).toString());var h=Math.max(100,Math.ceil(i[l].ppt.length/500));if(h>16e3)return void console.log("Range line too long!");for(var d=Math.ceil(i[l].ppt.length/h),f="",p=1;p<=d;p++)f+="r"+p.toString()+' := "'+i[l].ppt.substr((p-1)*h,h)+'"\r';u=u.replace(new RegExp("<%INIT_RANGE_VARS%>","g"),f);for(var g="",v=1;v<=d;v++)g+="%r"+v.toString()+"%";c+=u=u.replace(new RegExp("<%APPLY_RANGE_VARS%>","g"),g)}a.body=a.body.replace(new RegExp("<%INSERT_RANGES%>","g"),c),a.stack=a.stack.replace(new RegExp("<%STACK%>","g"),Math.round(r.stacks/r.simBB).toString());for(var m="",y=0;y<t;y++)m+=a.stack;a.body=a.body.replace(new RegExp("<%STACKS%>","g"),m);var b=new Blob([a.body],{type:"text/plain;charset=utf-8"}),_=r.simKey+"_"+e+"_"+i.map(function(t){return t.player}).join("vs")+"_"+r.nodePath+(o?"-F":"-C")+".ahk";XI.saveAs(b,_)}},{key:"updateUrl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.store.dispatch(Tk()),this.store.dispatch(D_());var e=this.getQueryParams(t);this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign({},e),queryParamsHandling:t?"merge":void 0})}},{key:"getQueryParams",value:function(t){var e,n=null===(e=this.tree)||void 0===e?void 0:e.nodePath,i=this.board&&this.board.flop&&this.board.flop.every(function(t){return!!t})?Object(LA.cardsToString)(this.board.flop,!1):void 0,r=this.board&&this.board.turn&&this.board.turn.card?Object(LA.cardToString)(this.board.turn.card):void 0,o=this.board&&this.board.river&&this.board.river.card?Object(LA.cardToString)(this.board.river.card):void 0;return{type:this.tree.type,tree:this.tree.key,flop:i,turn:r,river:o,node:n&&n.length>0?n:void 0,loadRange:!!t||void 0,filter:void 0}}},{key:"updateSelectedNode",value:function(t){this.rangeService.setCurrentNode(x_(t)),this.nodeSelected.emit(t)}},{key:"updateSelectedFlop",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r,o;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearLookups(!0,!0),this.clearCurrentRange(),this.$isLoading.next(!0),this._flopSelectorIsShown=!1,this._selectableTurns=null,this._selectableRivers=null,r=Object(LA.cardsToString)(e,!1),t.next=4,this.treeService.loadPostflopTree(this.tree.details,r).toPromise();case 4:return o=t.sent,this.tree=new CL(this.treeService,o,n,r),t.next=8,this.tree.waitUntilLoaded();case 8:this.updateSelectedNode(this.currentNode),this.updateUrl(),this.emitCurrentBoard(),this.$isLoading.next(!1);case 12:case"end":return t.stop()}},i,this)}))}},{key:"showTurnSelector",value:function(t){this._selectableTurns=t,this._turnSelectorIsShown=!0}},{key:"updateSelectedTurn",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearLookups(!0,!0),this.clearCurrentRange(),this._turnSelectorIsShown=!1,t.next=5,this.tree.update({type:s_.turn,card:e});case 5:this.updateSelectedNode(this.currentNode),this.updateUrl(),this.emitCurrentBoard();case 8:case"end":return t.stop()}},n,this)}))}},{key:"showRiverSelector",value:function(t){this._selectableRivers=t,this._riverSelectorIsShown=!0}},{key:"updateSelectedRiver",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearLookups(!0,!0),this.clearCurrentRange(),this._riverSelectorIsShown=!1,t.next=5,this.tree.update({type:s_.river,card:e});case 5:this.updateSelectedNode(this.currentNode),this.updateUrl(),this.emitCurrentBoard();case 8:case"end":return t.stop()}},n,this)}))}},{key:"setupTraining",value:function(t){var e=this;this.dialog.open(tH,{data:{filter:t,showNodeTraining:!0,showRandomBoardTraining:this.canStartTrainingRandomBoard,showMultiStreetTraining:this.canStartMultiStreetTraining,allowNodeTraining:this.allowTraining,allowRandomBoardTraining:this.canStartTrainingRandomBoard&&this.feature.isAvailableAndNotLocked(C_.RandomBoardTraining),allowMultiStreetTraining:this.allowGameTraining}}).afterClosed().subscribe(function(n){switch(n){case"node":e.startNodeTraining(t);break;case"random-board":e.startRandomBoardNodeTraining(t);break;case"game":e.startGameTraining(t)}})}},{key:"canStartTrainingRandomBoard",get:function(){return!(!this.isPostFlop||!this.allowTraining)&&!this.treeMeta.disableRandomBoardTraining&&this.feature.isAvailable(C_.RandomBoardTraining)}},{key:"allowGameTraining",get:function(){return!!this.showGameTrainingButton&&this.canStartMultiStreetTraining&&this.feature.isAvailableAndNotLocked(C_.MultiStreetTraining)}},{key:"canStartMultiStreetTraining",get:function(){var t,e,n;if(this.isPostFlop){var i=!(null===(t=this.board.turn)||void 0===t?void 0:t.card),r=!!(null===(e=this.board.turn)||void 0===e?void 0:e.card)||!!(null===(n=this.board.river)||void 0===n?void 0:n.card),o=this.tree.canReachTurn,a=this.treeMeta;return(i&&o||r)&&!a.disableMultiStreetTraining&&this.feature.isAvailable(C_.MultiStreetTraining)}return!1}},{key:"startNodeTraining",value:function(t){var e=this.getTrainingQueryParams(!!this.route.snapshot.queryParams.loadRange,t);this.store.dispatch(sD({queryParams:e}))}},{key:"startGameTraining",value:function(t){if(this.allowGameTraining){var e=this.getTrainingQueryParams(!!this.route.snapshot.queryParams.loadRange,t);this.store.dispatch(lD({queryParams:e}))}}},{key:"startRandomBoardNodeTraining",value:function(t){var e=this;if(this.isPostFlop){var n=function(){if(e.board.turn){var n=e.getTrainingQueryParams(!1,t);e.store.dispatch(cD({queryParams:n}))}else{var i=e.tree.nodePath,r=e.tree.selectableFlops;if(e.tree.pathToFlop){var o=e.tree.pathToFlop[i].map(function(t){return Object(LA.parseCards)(t)});r=e.tree.selectableFlops.filter(function(t){return o.some(function(e){return Object(LA.cardsAreEqual)(e,t.cards)})})}e.dialog.open(aB,{data:r}).afterClosed().subscribe(function(n){if(n.start){var i=n.filter,r=e.getTrainingQueryParams(!1,t);e.store.dispatch(cD({boardFilter:i,queryParams:r}))}})}},i=this.getFilterSyntaxForTraining(t);this.getAllClassificationsForFilter(i,!0).length>0?this.dialog.open(NI,{data:{title:"Continue?",content:["Random board training with non-card filters will be very slow","Are you sure you want to continue?"],confirmLabel:"Continue",dismissLabel:"Cancel"}}).afterClosed().subscribe(function(t){t&&n()}):n()}}},{key:"getAllClassificationsForFilter",value:function(t,e){if(!t||0===t.trim().length)return[];try{var n=Object(LA.parseFilterSyntax)(t,!1,[],e);return Object(LA.getClassificationsForFilter)(n)}catch(i){return[]}}},{key:"getTrainingQueryParams",value:function(t,e){var n,i=this.getQueryParams(t),r=this.getFilterSyntaxForTraining(e);return Object.assign(Object.assign({},i),{user:null===(n=this.tree)||void 0===n?void 0:n.currentPlayer,filter:r})}},{key:"getFilterSyntaxForTraining",value:function(t){return t||w_(this.store.pipe(ob("chart"===this.activeTab?Hk(this.isPostFlop):U_)))}},{key:"hideAllSelectors",value:function(){this._flopSelectorIsShown=!1,this._turnSelectorIsShown=!1,this._riverSelectorIsShown=!1}},{key:"clearCurrentRange",value:function(){this.currentRangesLoadedForNode=null,this.store.dispatch(B_())}},{key:"clearLookups",value:function(t,e){t&&(this.rangeService.clearPreflopClassificationLookup(),this.store.dispatch(Ek())),e&&(this.rangeService.clearPostflopClassificationLookup(),this.store.dispatch(Rk()))}}]),e}()).\u0275fac=function(t){return new(t||fz)(Va(ib),Va(Pm),Va(nv),Va(xB),Va(OD),Va(aF),Va(lF),Va(SR))},fz.\u0275cmp=ne({type:fz,selectors:[["app-node-selector"]],inputs:{treeSelectionCollapsed:"treeSelectionCollapsed",activeTab:"activeTab"},outputs:{nodeSelected:"nodeSelected",boardUpdated:"boardUpdated",flopSelectionAborted:"flopSelectionAborted"},decls:4,vars:6,consts:[[4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","node-selection-container",4,"ngIf"],[1,"node-selection-container"],[1,"action-history"],["class","grid-item",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"icmInfo","replaceWithStraddle","allPlayers","activePlayers","currentPlayer","chips","cardSelectorIsShown","board","showLargeCards","disableSelectors","toggleFlop","toggleTurn","toggleRiver"],["class","selector",3,"allowClose","flops","selected","closed",4,"ngIf"],["class","selector","street","Turn",3,"allowClose","selectable","selected","ahk","closed",4,"ngIf"],["class","selector","street","River",3,"allowClose","selectable","selected","ahk","closed",4,"ngIf"],[1,"range-frequencies"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","hasPrevBet","compact","hideLegend","hideLabel","showBorder","width",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"grid-item"],[1,"street-separator","clickable",3,"click"],[1,"history-item","clickable",3,"ngClass","click"],[1,"player"],[1,"action"],[1,"selector",3,"allowClose","flops","selected","closed"],["street","Turn",1,"selector",3,"allowClose","selectable","selected","ahk","closed"],["street","River",1,"selector",3,"allowClose","selectable","selected","ahk","closed"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","hasPrevBet","compact","hideLegend","hideLabel","showBorder","width"],[1,"buttons"],[3,"disabled","secondaryButton","label","icon","roundButton","clicked",4,"ngIf"],["class","action-buttons",4,"ngIf"],[1,"right-icons-panel"],[3,"disabled","secondaryButton","hotkey","icon","roundButton","clicked",4,"ngIf"],[3,"disabled","secondaryButton","label","icon","roundButton","clicked"],[1,"fas","fa-angle-left"],[1,"action-buttons"],[3,"width","max-width","disabled","barelyVisible","action","label","hotkey","ahk","responsive","clicked",4,"ngFor","ngForOf"],[3,"disabled","barelyVisible","action","label","hotkey","ahk","responsive","clicked"],[3,"disabled","secondaryButton","hotkey","icon","roundButton","clicked"],[1,"fas","fa-eye"],[1,"fas","fa-dumbbell"],[1,"spinner-container"],["color","accent"]],template:function(t,e){1&t&&(Na(0,hz,2,1,"ng-container",0),tl(1,"async"),Na(2,dz,2,0,"div",1),tl(3,"async")),2&t&&(Ha("ngIf",!el(1,2,e.isLoading$)),so(2),Ha("ngIf",el(3,4,e.isLoading$)))},directives:[Kh,$h,CH,qh,QL,SH,HH,KH,XR],pipes:[gd,vd],styles:[".spinner-container[_ngcontent-%COMP%]{height:20rem;margin:10px;justify-content:center}.node-selection-container[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.node-selection-container[_ngcontent-%COMP%]{position:relative;justify-content:flex-start;height:100%}app-poker-table[_ngcontent-%COMP%]{width:100%}.range-frequencies[_ngcontent-%COMP%]{height:calc(1.25rem + 2px);width:100%;z-index:2}.action-history[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;display:grid;grid-template-columns:repeat(auto-fit,minmax(2.75rem,max-content));grid-gap:.5rem;width:100%;min-height:3rem;margin:.3rem 0}.action-history.hide[_ngcontent-%COMP%]{visibility:hidden}.action-history[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{padding:1px;border:var(--border-style);border-radius:var(--border-radius);cursor:pointer}.action-history[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]:hover{padding:0;border:2px solid #fff}.action-history[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]{height:2.75rem;width:2.75rem}.action-history[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%], .action-history[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .street-separator[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.action-history[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .street-separator[_ngcontent-%COMP%]{font-size:.75rem;width:2.5rem;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3)}.action-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:2.7rem;height:2.7rem;box-sizing:border-box;border:var(--border-style);border-radius:var(--border-radius)}.action-history[_ngcontent-%COMP%]   .history-item.default[_ngcontent-%COMP%]{background-color:var(--default-background);color:var(--default-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.min[_ngcontent-%COMP%], .action-history[_ngcontent-%COMP%]   .history-item.raise0[_ngcontent-%COMP%]{background-color:var(--raise0-background);color:var(--raise0-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.raise1[_ngcontent-%COMP%]{background-color:var(--raise1-background);color:var(--raise1-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.allin[_ngcontent-%COMP%], .action-history[_ngcontent-%COMP%]   .history-item.raise2[_ngcontent-%COMP%]{background-color:var(--raise2-background);color:var(--raise2-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.raise3[_ngcontent-%COMP%]{background-color:var(--raise3-background);color:var(--raise3-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.fold[_ngcontent-%COMP%]{background-color:var(--fold-background);color:var(--fold-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.call[_ngcontent-%COMP%], .action-history[_ngcontent-%COMP%]   .history-item.check[_ngcontent-%COMP%]{background-color:var(--call-background);color:var(--call-color)!important}.selector[_ngcontent-%COMP%]{position:absolute;top:18.75rem;z-index:3}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:1rem;width:100%}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;width:70%;justify-content:center;gap:.5rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:row;gap:.5rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]{width:calc(30% - 2px);border:var(--action-button-border);border-radius:1.8rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:calc(50% - .25rem)}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:.6rem}.buttons[_ngcontent-%COMP%]   .right-icons-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.buttons.right[_ngcontent-%COMP%]{justify-content:flex-end}.buttons.controls[_ngcontent-%COMP%]{margin-top:30px}.buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),fz);function vz(t,e){if(1&t&&Wa(0,"app-strategy-chart",14),2&t){var n=e.ngIf,i=is(3);Ha("currentTree",i.treeMeta)("isPostFlop",i.isPostFlop)("isRFI",!1)("currentPosition",i.currentPlayer)("actions",i.actions)("rangeFrequencies",n.rangeFrequencies)("hasPrevBet",!1)("compact",!0)("hideLegend",!0)("hideLabel",!0)("showBorder",!0)("width",700)}}function mz(t,e){if(1&t&&(Ua(0,"div",12),Na(1,vz,1,12,"app-strategy-chart",13),tl(2,"async"),qa()),2&t){var n=is(2);so(1),Ha("ngIf",el(2,1,n.rangeFrequencies$))}}function yz(t,e){if(1&t){var n=Qa();Ua(0,"app-action-button",15),Ja("clicked",function(){Qe(n);var t=e.$implicit;return is(2).pickAction(t)}),tl(1,"async"),tl(2,"async"),qa()}if(2&t){var i=e.$implicit,r=is(2);ps("width",100/r.getActions().length,"%")("max-width","15rem"),Ha("disabled",!r.isTraining)("barelyVisible",i.barelyVisible)("action",!0)("label",r.getFormattedAction(i))("responsive",!0)("usable",!el(1,11,r.isFinished$))("result",el(2,13,r.isFinished$)?r.getResult(i):null)}}function bz(t,e){if(1&t){var n=Qa();Ua(0,"div",8),Ua(1,"div",16),Ua(2,"app-action-button",17),Ja("clicked",function(){return Qe(n),is(2).trainFilterOrSelection()}),qa(),qa(),qa()}if(2&t){var i=is(2);so(2),Ha("trainNode",!0)("label",i.restartLabel.firstLine)("secondLabel",i.restartLabel.secondLine)("useSmallFont",!!i.restartLabel.secondLine)}}function _z(t,e){if(1&t&&(Ua(0,"div",1),Ua(1,"div",2),Ss(2),qa(),Ua(3,"div",3),Ua(4,"div"),Ua(5,"span",4),Ss(6,"Accuracy:"),qa(),Ua(7,"span",5),Ss(8),tl(9,"percent"),qa(),qa(),qa(),Wa(10,"app-poker-table",6),tl(11,"async"),Na(12,mz,3,3,"div",7),Ua(13,"div",8),Ua(14,"div",9),Na(15,yz,3,15,"app-action-button",10),qa(),qa(),Na(16,bz,3,4,"div",11),qa()),2&t){var n=is();so(2),Ms(n.title),so(2),gs("show",n.isTraining&&n.trainingTotalHands>0),so(4),Rs("",nl(9,22,n.trainingAccuracy,"1.0-0")," (",n.trainingTotalCorrect,"/",n.trainingTotalHands,")"),so(2),Ha("alignPositionsTo",n.currentPlayer)("allPlayers",n.allPlayers)("activePlayers",n.activePlayers)("currentPlayer",n.currentPlayer)("chips",n.chipState)("cardSelectorIsShown",!1)("board",n.board)("hands",n.isTraining?el(11,25,n.currentTrainingHand$):null)("training",n.isTraining)("disableSelectors",!0)("positionLabels",n.positionLabels),so(2),Ha("ngIf",!n.isTraining),so(1),gs("training",n.isTraining),so(2),Ha("ngForOf",n.getActions()),so(1),Ha("ngIf",n.showApplyFilterAndRestartButton)}}var kz,Cz=((kz=function(){function e(t,n,i,r){var o=this;f(this,e),this.customSimService=t,this.trainingService=n,this.store=i,this.dialog=r,this.startTraining=new ol,this.exitTraining=new ol,this.$isLoading=new ap(!1),this.rangeFrequencies$=this.store.pipe(ob($_)),this.trainingService.onExit=function(){o.exitTraining.emit()}}return g(e,[{key:"ngOnInit",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){var n=this;return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.currentTreeSubscription=this.store.pipe(ob(R_)).subscribe(function(t){if(null==t?void 0:t.isCustom){if(n.tree=t,n._board=null,t.type===h_.postflop){var e=t.board;if(e.length>2){var i=Object(LA.parseCards)(e.slice(0,6)),r=e.length>=8?e.slice(6,8):null,o=e.length>=10?e.slice(8):null;n._board={flop:i,turn:r?{card:r}:null,river:r&&o?{card:o}:null}}}}else n.tree=null}),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe(),this.keyPressSubscription=Sx(document,"keyup").subscribe(function(e){return Gm(n,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isTraining||this.dialog.openDialogs&&0!==this.dialog.openDialogs.length||this.customSimService.isCreatingOrEditingSim){t.next=18;break}t.t0=e.key,t.next="1"===t.t0?4:"2"===t.t0?7:"3"===t.t0?10:"4"===t.t0?13:"5"===t.t0?16:18;break;case 4:return t.next=6,this.pickActionByIndex(0);case 6:return t.abrupt("break",18);case 7:return t.next=9,this.pickActionByIndex(1);case 9:return t.abrupt("break",18);case 10:return t.next=12,this.pickActionByIndex(2);case 12:return t.abrupt("break",18);case 13:return t.next=15,this.pickActionByIndex(3);case 15:return t.abrupt("break",18);case 16:return t.next=18,this.pickActionByIndex(4);case 18:case"end":return t.stop()}},n,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){this.currentTreeSubscription&&this.currentTreeSubscription.unsubscribe()}},{key:"isFiveCard",get:function(){return!1}},{key:"isPostFlop",get:function(){var t;return(null===(t=this.tree)||void 0===t?void 0:t.type)===h_.postflop}},{key:"treeMeta",get:function(){return this.tree}},{key:"setup",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.customSimSetup}},{key:"hasSetup",get:function(){return!!this.setup}},{key:"title",get:function(){var t;return null===(t=this.customSimService.currentSim)||void 0===t?void 0:t.label}},{key:"positionLabels",get:function(){var t,e={};return null===(t=this.setup)||void 0===t||t.players.forEach(function(t){var n=t.position,i=t.label;e[n]=i}),e}},{key:"allPlayers",get:function(){var t;return null===(t=this.setup)||void 0===t?void 0:t.players.map(function(t){return t.position})}},{key:"activePlayers",get:function(){var t;return null===(t=this.setup)||void 0===t?void 0:t.players.filter(function(t){return t.isInHand}).map(function(t){return t.position})}},{key:"currentPlayer",get:function(){var t;return null===(t=this.setup)||void 0===t?void 0:t.players.find(function(t){return t.isActive}).position}},{key:"chipState",get:function(){var t={},e={};this.setup.players.forEach(function(n){t[n.position]=2*n.stack,e[n.position]=2*n.bets});var n=2*this.setup.pot;return this.isPostFlop?{pot:n,totalPot:n,stacks:t,stakes:e,ante:0,prevBet:0}:{pot:null,totalPot:n,stacks:t,stakes:e,ante:0,prevBet:0}}},{key:"actions",get:function(){return this.tree.root.next.map(function(t){return t.action})}},{key:"board",get:function(){return this._board}},{key:"hasTreeLoaded",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.isCustom}},{key:"isTraining",get:function(){return"training"===this.activeTab}},{key:"showApplyFilterAndRestartButton",get:function(){var t=function(t,e){return(null==t?void 0:t.length)>0?t!==e:(null==e?void 0:e.length)>0};if("chart"!==this.activeTab){if("range"===this.activeTab){var e=w_(this.store.pipe(ob(U_)));return t(this.trainingService.filter,e)}return!1}var n=w_(this.store.pipe(ob(Hk(this.isPostFlop))));if((null==n?void 0:n.length)>0)return t(this.trainingService.filter,n)}},{key:"restartLabel",get:function(){var t;if((null===(t=this.trainingService.results)||void 0===t?void 0:t.length)>0)switch(this.activeTab){case"training":return{firstLine:"Restart",secondLine:null};case"range":return{firstLine:"Restart training",secondLine:"w/ new filter"};case"chart":return{firstLine:"Restart training",secondLine:"w/ new selection"}}else switch(this.activeTab){case"training":return{firstLine:"Train",secondLine:null};case"range":return{firstLine:"Train",secondLine:"current filter"};case"chart":return{firstLine:"Train",secondLine:"current selection"}}}},{key:"currentTrainingHand$",get:function(){var t=this;return this.trainingService.currentHand$.pipe(W(function(e){if(e)return v({},t.currentPlayer,{hand:e.hand,show:!0})}))}},{key:"isFinished$",get:function(){return this.trainingService.isFinished$}},{key:"trainingTotalHands",get:function(){var t;return null===(t=this.trainingService.results)||void 0===t?void 0:t.length}},{key:"trainingTotalCorrect",get:function(){var t;return null===(t=this.trainingService.results)||void 0===t?void 0:t.filter(function(t){return t.isCorrect}).length}},{key:"trainingAccuracy",get:function(){return this.trainingTotalHands>0?this.trainingTotalCorrect/this.trainingTotalHands:null}},{key:"trainFilterOrSelection",value:function(){this.startTraining.emit()}},{key:"getResult",value:function(t){return this.trainingService.getResult(t)}},{key:"actionColorClass",value:function(t){return t.type.toLowerCase()}},{key:"getActions",value:function(){return this.tree.root.next.map(function(t){return t.action})}},{key:"getFormattedAction",value:function(t){return t.type===s_.RAISE?t.hasPrevBet?"Raise "+t.amountLabel:"Bet "+t.amountLabel:t.type}},{key:"pickActionByIndex",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.getActions()[e],t.t0=i,!t.t0){t.next=5;break}return t.next=5,this.pickAction(i);case 5:case"end":return t.stop()}},n,this)}))}},{key:"pickAction",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.isTraining,!t.t0){t.next=6;break}return t.next=4,this.trainingService.pickAction(e);case 4:return t.next=6,this.trainingService.next();case 6:case"end":return t.stop()}},n,this)}))}}]),e}()).\u0275fac=function(t){return new(t||kz)(Va(mN),Va(vN),Va(ib),Va(SR))},kz.\u0275cmp=ne({type:kz,selectors:[["app-custom-sim-controls"]],inputs:{activeTab:"activeTab"},outputs:{startTraining:"startTraining",exitTraining:"exitTraining"},decls:1,vars:1,consts:[["class","custom-sim-controls-container",4,"ngIf"],[1,"custom-sim-controls-container"],[1,"title"],[1,"performance"],[1,"label"],[1,"value"],[3,"alignPositionsTo","allPlayers","activePlayers","currentPlayer","chips","cardSelectorIsShown","board","hands","training","disableSelectors","positionLabels"],["class","range-frequencies",4,"ngIf"],[1,"buttons"],[1,"action-buttons"],[3,"width","max-width","disabled","barelyVisible","action","label","responsive","usable","result","clicked",4,"ngFor","ngForOf"],["class","buttons",4,"ngIf"],[1,"range-frequencies"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","hasPrevBet","compact","hideLegend","hideLabel","showBorder","width",4,"ngIf"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","hasPrevBet","compact","hideLegend","hideLabel","showBorder","width"],[3,"disabled","barelyVisible","action","label","responsive","usable","result","clicked"],[1,"train-button"],[3,"trainNode","label","secondLabel","useSmallFont","clicked"]],template:function(t,e){1&t&&Na(0,_z,17,27,"div",0),2&t&&Ha("ngIf",e.hasSetup)},directives:[Kh,CH,$h,HH,KH],pipes:[bd,gd],styles:[".spinner-container[_ngcontent-%COMP%]{height:20rem;justify-content:center}.custom-sim-controls-container[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.custom-sim-controls-container[_ngcontent-%COMP%]{position:relative;justify-content:flex-start;height:100%;margin:0 auto}.custom-sim-controls-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.custom-sim-controls-container[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]{height:calc(1.25rem + 2px);width:100%;z-index:2}.performance[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-end}.performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;visibility:hidden}.performance[_ngcontent-%COMP%]   div.show[_ngcontent-%COMP%]{visibility:visible}.performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-right:.625rem}.performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500}.board[_ngcontent-%COMP%]{margin-bottom:3rem}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:center;gap:1rem;margin-top:1rem;width:100%}.buttons.training[_ngcontent-%COMP%]{margin-top:4rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;width:70%}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:row;gap:.5rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]{width:calc(30% - 2px);border:var(--action-button-border);border-radius:1.8rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:calc(50% - .25rem)}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:.6rem}.buttons[_ngcontent-%COMP%]   .right-icons-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.buttons.right[_ngcontent-%COMP%]{justify-content:flex-end}.buttons.controls[_ngcontent-%COMP%]{margin-top:30px}.buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),kz);function wz(t,e){1&t&&as(0)}var xz=["*"];function Pz(t,e){}var Oz=function(t){return{animationDuration:t}},Sz=function(t,e){return{value:t,params:e}},Mz=["tabBodyWrapper"],Tz=["tabHeader"];function Ez(t,e){}function Rz(t,e){1&t&&Na(0,Ez,0,0,"ng-template",9),2&t&&Ha("cdkPortalOutlet",is().$implicit.templateLabel)}function Fz(t,e){1&t&&Ss(0),2&t&&Ms(is().$implicit.textLabel)}function Iz(t,e){if(1&t){var n=Qa();Ua(0,"div",6),Ja("click",function(){Qe(n);var t=e.$implicit,i=e.index,r=is(),o=ja(1);return r._handleClick(t,o,i)}),Ua(1,"div",7),Na(2,Rz,1,1,"ng-template",8),Na(3,Fz,1,1,"ng-template",8),qa(),qa()}if(2&t){var i=e.$implicit,r=e.index,o=is();gs("mat-tab-label-active",o.selectedIndex==r),Ha("id",o._getTabLabelId(r))("disabled",i.disabled)("matRippleDisabled",i.disabled||o.disableRipple),La("tabIndex",o._getTabIndex(i,r))("aria-posinset",r+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(r))("aria-selected",o.selectedIndex==r)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),so(2),Ha("ngIf",i.templateLabel),so(1),Ha("ngIf",!i.templateLabel)}}function Az(t,e){if(1&t){var n=Qa();Ua(0,"mat-tab-body",10),Ja("_onCentered",function(){return Qe(n),is()._removeTabBodyWrapperHeight()})("_onCentering",function(t){return Qe(n),is()._setTabBodyWrapperHeight(t)}),qa()}if(2&t){var i=e.$implicit,r=e.index,o=is();gs("mat-tab-body-active",o.selectedIndex==r),Ha("id",o._getTabContentId(r))("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",o.animationDuration),La("aria-labelledby",o._getTabLabelId(r))}}var Dz,Lz,Bz,Nz,jz,Vz,Hz,zz,Uz,qz,Wz,$z,Gz=["tabListContainer"],Kz=["tabList"],Qz=["nextPaginator"],Yz=["previousPaginator"],Zz=new ci("MatInkBarPositioner",{providedIn:"root",factory:function(){return function(t){return{left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"}}}}),Jz=((Dz=function(){function t(e,n,i,r){f(this,t),this._elementRef=e,this._ngZone=n,this._inkBarPositioner=i,this._animationMode=r}return g(t,[{key:"alignToElement",value:function(t){var e=this;this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return e._setStyles(t)})}):this._setStyles(t)}},{key:"show",value:function(){this._elementRef.nativeElement.style.visibility="visible"}},{key:"hide",value:function(){this._elementRef.nativeElement.style.visibility="hidden"}},{key:"_setStyles",value:function(t){var e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}]),t}()).\u0275fac=function(t){return new(t||Dz)(Va(ec),Va(Yl),Va(Zz),Va(dE,8))},Dz.\u0275dir=le({type:Dz,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&gs("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),Dz),Xz=new ci("MatTabContent"),tU=new ci("MatTabLabel"),eU=kE(g(function t(){f(this,t)})),nU=new ci("MAT_TAB_GROUP"),iU=((Lz=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this))._viewContainerRef=t,r._closestTabGroup=i,r.textLabel="",r._contentPortal=null,r._stateChanges=new z,r.position=null,r.origin=null,r.isActive=!1,r}return g(n,[{key:"templateLabel",get:function(){return this._templateLabel},set:function(t){this._setTemplateLabelInput(t)}},{key:"content",get:function(){return this._contentPortal}},{key:"ngOnChanges",value:function(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"ngOnInit",value:function(){this._contentPortal=new tO(this._explicitContent||this._implicitContent,this._viewContainerRef)}},{key:"_setTemplateLabelInput",value:function(t){t&&(this._templateLabel=t)}}]),n}(eU)).\u0275fac=function(t){return new(t||Lz)(Va(Lc),Va(nU))},Lz.\u0275cmp=ne({type:Lz,selectors:[["mat-tab"]],contentQueries:function(t,e,n){var i;1&t&&(kl(n,tU,!0),Cl(n,Xz,!0,Ec)),2&t&&(ml(i=xl())&&(e.templateLabel=i.first),ml(i=xl())&&(e._explicitContent=i.first))},viewQuery:function(t,e){var n;1&t&&yl(Ec,!0),2&t&&ml(n=xl())&&(e._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[wa,Pe],ngContentSelectors:xz,decls:1,vars:0,template:function(t,e){1&t&&(os(),Na(0,wz,1,0,"ng-template"))},encapsulation:2}),Lz),rU={translateTab:qS("translateTab",[KS("center, void, left-origin-center, right-origin-center",GS({transform:"none"})),KS("left",GS({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),KS("right",GS({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),QS("* => left, * => right, left => center, right => center",WS("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),QS("void => left-origin-center",[GS({transform:"translate3d(-100%, 0, 0)"}),WS("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),QS("void => right-origin-center",[GS({transform:"translate3d(100%, 0, 0)"}),WS("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},oU=((jz=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,t,i,o))._host=r,a._centeringSub=M.EMPTY,a._leavingSub=M.EMPTY,a}return g(n,[{key:"ngOnInit",value:function(){var t=this;r(d(n.prototype),"ngOnInit",this).call(this),this._centeringSub=this._host._beforeCentering.pipe(Bp(this._host._isCenterPosition(this._host._position))).subscribe(function(e){e&&!t.hasAttached()&&t.attach(t._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(function(){t.detach()})}},{key:"ngOnDestroy",value:function(){r(d(n.prototype),"ngOnDestroy",this).call(this),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}]),n}(rO)).\u0275fac=function(t){return new(t||jz)(Va(Zs),Va(Lc),Va(Ct(function(){return sU})),Va(Ru))},jz.\u0275dir=le({type:jz,selectors:[["","matTabBodyHost",""]],features:[wa]}),jz),aU=((Nz=function(){function t(e,n,i){var r=this;f(this,t),this._elementRef=e,this._dir=n,this._dirChangeSubscription=M.EMPTY,this._translateTabComplete=new z,this._onCentering=new ol,this._beforeCentering=new ol,this._afterLeavingCenter=new ol,this._onCentered=new ol(!0),this.animationDuration="500ms",n&&(this._dirChangeSubscription=n.change.subscribe(function(t){r._computePositionAnimationState(t),i.markForCheck()})),this._translateTabComplete.pipe(cy(function(t,e){return t.fromState===e.fromState&&t.toState===e.toState})).subscribe(function(t){r._isCenterPosition(t.toState)&&r._isCenterPosition(r._position)&&r._onCentered.emit(),r._isCenterPosition(t.fromState)&&!r._isCenterPosition(r._position)&&r._afterLeavingCenter.emit()})}return g(t,[{key:"position",set:function(t){this._positionIndex=t,this._computePositionAnimationState()}},{key:"ngOnInit",value:function(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}},{key:"ngOnDestroy",value:function(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}},{key:"_onTranslateTabStarted",value:function(t){var e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_isCenterPosition",value:function(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}},{key:"_computePositionAnimationState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getLayoutDirection();this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}},{key:"_computePositionFromOrigin",value:function(t){var e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}]),t}()).\u0275fac=function(t){return new(t||Nz)(Va(ec),Va(vP,8),Va(xc))},Nz.\u0275dir=le({type:Nz,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Nz),sU=((Bz=function(t){a(n,t);var e=c(n);function n(t,i,r){return f(this,n),e.call(this,t,i,r)}return g(n)}(aU)).\u0275fac=function(t){return new(t||Bz)(Va(ec),Va(vP,8),Va(xc))},Bz.\u0275cmp=ne({type:Bz,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var n;1&t&&bl(oO,!0),2&t&&ml(n=xl())&&(e._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[wa],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){var n,i,r;1&t&&(Ua(0,"div",0,1),Ja("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),Na(2,Pz,0,0,"ng-template",2),qa()),2&t&&Ha("@translateTab",(n=Sz,i=e._position,r=Yc(1,Oz,e.animationDuration),Xc(Ge(),rn(),3,n,i,r,void 0)))},directives:[oU],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[rU.translateTab]}}),Bz),cU=new ci("MAT_TABS_CONFIG"),lU=0,uU=g(function t(){f(this,t)}),hU=CE(wE(g(function t(e){f(this,t),this._elementRef=e})),"primary"),dU=((Hz=function(t){a(n,t);var e=c(n);function n(t,i,r,o){var a;return f(this,n),(a=e.call(this,t))._changeDetectorRef=i,a._animationMode=o,a._tabs=new sl,a._indexToSelect=0,a._tabBodyWrapperHeight=0,a._tabsSubscription=M.EMPTY,a._tabLabelSubscription=M.EMPTY,a._selectedIndex=null,a.headerPosition="above",a.selectedIndexChange=new ol,a.focusChange=new ol,a.animationDone=new ol,a.selectedTabChange=new ol(!0),a._groupId=lU++,a.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",a.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,a.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,a}return g(n,[{key:"dynamicHeight",get:function(){return this._dynamicHeight},set:function(t){this._dynamicHeight=Cx(t)}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){this._indexToSelect=wx(t,null)}},{key:"animationDuration",get:function(){return this._animationDuration},set:function(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){var e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t}},{key:"ngAfterContentChecked",value:function(){var t=this,e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){var n=null==this._selectedIndex;n||this.selectedTabChange.emit(this._createChangeEvent(e)),Promise.resolve().then(function(){t._tabs.forEach(function(t,n){return t.isActive=n===e}),n||t.selectedIndexChange.emit(e)})}this._tabs.forEach(function(n,i){n.position=i-e,null==t._selectedIndex||0!=n.position||n.origin||(n.origin=e-t._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}},{key:"ngAfterContentInit",value:function(){var t=this;this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(function(){if(t._clampTabIndex(t._indexToSelect)===t._selectedIndex)for(var e=t._tabs.toArray(),n=0;n<e.length;n++)if(e[n].isActive){t._indexToSelect=t._selectedIndex=n;break}t._changeDetectorRef.markForCheck()})}},{key:"_subscribeToAllTabChanges",value:function(){var t=this;this._allTabs.changes.pipe(Bp(this._allTabs)).subscribe(function(e){t._tabs.reset(e.filter(function(e){return e._closestTabGroup===t})),t._tabs.notifyOnChanges()})}},{key:"ngOnDestroy",value:function(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}},{key:"realignInkBar",value:function(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}},{key:"_focusChanged",value:function(t){this.focusChange.emit(this._createChangeEvent(t))}},{key:"_createChangeEvent",value:function(t){var e=new uU;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}},{key:"_subscribeToTabLabels",value:function(){var t=this;this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=lt.apply(void 0,C(this._tabs.map(function(t){return t._stateChanges}))).subscribe(function(){return t._changeDetectorRef.markForCheck()})}},{key:"_clampTabIndex",value:function(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}},{key:"_getTabLabelId",value:function(t){return"mat-tab-label-".concat(this._groupId,"-").concat(t)}},{key:"_getTabContentId",value:function(t){return"mat-tab-content-".concat(this._groupId,"-").concat(t)}},{key:"_setTabBodyWrapperHeight",value:function(t){if(this._dynamicHeight&&this._tabBodyWrapperHeight){var e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}}},{key:"_removeTabBodyWrapperHeight",value:function(){var t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}},{key:"_handleClick",value:function(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}},{key:"_getTabIndex",value:function(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}]),n}(hU)).\u0275fac=function(t){return new(t||Hz)(Va(ec),Va(xc),Va(cU,8),Va(dE,8))},Hz.\u0275dir=le({type:Hz,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[wa]}),Hz),fU=((Vz=function(t){a(n,t);var e=c(n);function n(t,i,r,o){return f(this,n),e.call(this,t,i,r,o)}return g(n)}(dU)).\u0275fac=function(t){return new(t||Vz)(Va(ec),Va(xc),Va(cU,8),Va(dE,8))},Vz.\u0275cmp=ne({type:Vz,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){var i;1&t&&kl(n,iU,!0),2&t&&ml(i=xl())&&(e._allTabs=i)},viewQuery:function(t,e){var n;1&t&&(bl(Mz,!0),bl(Tz,!0)),2&t&&(ml(n=xl())&&(e._tabBodyWrapper=n.first),ml(n=xl())&&(e._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&gs("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Ks([{provide:nU,useExisting:Vz}]),wa],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(Ua(0,"mat-tab-header",0,1),Ja("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),Na(2,Iz,4,14,"div",2),qa(),Ua(3,"div",3,4),Na(5,Az,1,8,"mat-tab-body",5),qa()),2&t&&(Ha("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),so(2),Ha("ngForOf",e._tabs),so(1),gs("_mat-animation-noopable","NoopAnimations"===e._animationMode),so(2),Ha("ngForOf",e._tabs))},directives:function(){return[bU,$h,gU,zE,jS,Kh,rO,sU]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),Vz),pU=kE(g(function t(){f(this,t)})),gU=((zz=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this)).elementRef=t,i}return g(n,[{key:"focus",value:function(){this.elementRef.nativeElement.focus()}},{key:"getOffsetLeft",value:function(){return this.elementRef.nativeElement.offsetLeft}},{key:"getOffsetWidth",value:function(){return this.elementRef.nativeElement.offsetWidth}}]),n}(pU)).\u0275fac=function(t){return new(t||zz)(Va(ec))},zz.\u0275dir=le({type:zz,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(La("aria-disabled",!!e.disabled),gs("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[wa]}),zz),vU=uP({passive:!0}),mU=(($z=function(){function t(e,n,i,r,o,a,s){var c=this;f(this,t),this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=i,this._dir=r,this._ngZone=o,this._platform=a,this._animationMode=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new z,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new z,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ol,this.indexFocused=new ol,o.runOutsideAngular(function(){Sx(e.nativeElement,"mouseleave").pipe(Gx(c._destroyed)).subscribe(function(){c._stopInterval()})})}return g(t,[{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){t=wx(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}},{key:"ngAfterViewInit",value:function(){var t=this;Sx(this._previousPaginator.nativeElement,"touchstart",vU).pipe(Gx(this._destroyed)).subscribe(function(){t._handlePaginatorPress("before")}),Sx(this._nextPaginator.nativeElement,"touchstart",vU).pipe(Gx(this._destroyed)).subscribe(function(){t._handlePaginatorPress("after")})}},{key:"ngAfterContentInit",value:function(){var t=this,e=this._dir?this._dir.change:pf(null),n=this._viewportRuler.change(150),i=function(){t.updatePagination(),t._alignInkBarToSelectedTab()};this._keyManager=new bS(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),lt(e,n,this._items.changes).pipe(Gx(this._destroyed)).subscribe(function(){Promise.resolve().then(i),t._keyManager.withHorizontalOrientation(t._getLayoutDirection())}),this._keyManager.change.pipe(Gx(this._destroyed)).subscribe(function(e){t.indexFocused.emit(e),t._setTabFocus(e)})}},{key:"ngAfterContentChecked",value:function(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}},{key:"_handleKeydown",value:function(t){if(!uO(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}},{key:"_onContentChanges",value:function(){var t=this,e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(function(){t.updatePagination(),t._alignInkBarToSelectedTab(),t._changeDetectorRef.markForCheck()}))}},{key:"updatePagination",value:function(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}},{key:"focusIndex",get:function(){return this._keyManager?this._keyManager.activeItemIndex:0},set:function(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}},{key:"_isValidIndex",value:function(t){if(!this._items)return!0;var e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}},{key:"_setTabFocus",value:function(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();var e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_updateTabScrollPosition",value:function(){if(!this.disablePagination){var t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform="translateX(".concat(Math.round(e),"px)"),(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}}},{key:"scrollDistance",get:function(){return this._scrollDistance},set:function(t){this._scrollTo(t)}},{key:"_scrollHeader",value:function(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}},{key:"_handlePaginatorClick",value:function(t){this._stopInterval(),this._scrollHeader(t)}},{key:"_scrollToLabel",value:function(t){if(!this.disablePagination){var e=this._items?this._items.toArray()[t]:null;if(e){var n,i,r=this._tabListContainer.nativeElement.offsetWidth,o=e.elementRef.nativeElement,a=o.offsetLeft,s=o.offsetWidth;"ltr"==this._getLayoutDirection()?i=(n=a)+s:n=(i=this._tabList.nativeElement.offsetWidth-a)-s;var c=this.scrollDistance,l=this.scrollDistance+r;n<c?this.scrollDistance-=c-n+60:i>l&&(this.scrollDistance+=i-l+60)}}}},{key:"_checkPaginationEnabled",value:function(){if(this.disablePagination)this._showPaginationControls=!1;else{var t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}},{key:"_checkScrollingControls",value:function(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}},{key:"_getMaxScrollDistance",value:function(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}},{key:"_alignInkBarToSelectedTab",value:function(){var t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}},{key:"_stopInterval",value:function(){this._stopScrolling.next()}},{key:"_handlePaginatorPress",value:function(t,e){var n=this;e&&null!=e.button&&0!==e.button||(this._stopInterval(),qx(650,100).pipe(Gx(lt(this._stopScrolling,this._destroyed))).subscribe(function(){var e=n._scrollHeader(t),i=e.maxScrollDistance,r=e.distance;(0===r||r>=i)&&n._stopInterval()}))}},{key:"_scrollTo",value:function(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};var e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}]),t}()).\u0275fac=function(t){return new(t||$z)(Va(ec),Va(xc),Va(jP),Va(vP,8),Va(Yl),Va(aP),Va(dE,8))},$z.\u0275dir=le({type:$z,inputs:{disablePagination:"disablePagination"}}),$z),yU=((Wz=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s,c){var l;return f(this,n),(l=e.call(this,t,i,r,o,a,s,c))._disableRipple=!1,l}return g(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Cx(t)}},{key:"_itemSelected",value:function(t){t.preventDefault()}}]),n}(mU)).\u0275fac=function(t){return new(t||Wz)(Va(ec),Va(xc),Va(jP),Va(vP,8),Va(Yl),Va(aP),Va(dE,8))},Wz.\u0275dir=le({type:Wz,inputs:{disableRipple:"disableRipple"},features:[wa]}),Wz),bU=((qz=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s,c){return f(this,n),e.call(this,t,i,r,o,a,s,c)}return g(n)}(yU)).\u0275fac=function(t){return new(t||qz)(Va(ec),Va(xc),Va(jP),Va(vP,8),Va(Yl),Va(aP),Va(dE,8))},qz.\u0275cmp=ne({type:qz,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){var i;1&t&&kl(n,gU,!1),2&t&&ml(i=xl())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(yl(Jz,!0),yl(Gz,!0),yl(Kz,!0),bl(Qz,!0),bl(Yz,!0)),2&t&&(ml(n=xl())&&(e._inkBar=n.first),ml(n=xl())&&(e._tabListContainer=n.first),ml(n=xl())&&(e._tabList=n.first),ml(n=xl())&&(e._nextPaginator=n.first),ml(n=xl())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&gs("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[wa],ngContentSelectors:xz,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(os(),Ua(0,"div",0,1),Ja("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),Wa(2,"div",2),qa(),Ua(3,"div",3,4),Ja("keydown",function(t){return e._handleKeydown(t)}),Ua(5,"div",5,6),Ja("cdkObserveContent",function(){return e._onContentChanges()}),Ua(7,"div",7),as(8),qa(),Wa(9,"mat-ink-bar"),qa(),qa(),Ua(10,"div",8,9),Ja("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),Wa(12,"div",2),qa()),2&t&&(gs("mat-tab-header-pagination-disabled",e._disableScrollBefore),Ha("matRippleDisabled",e._disableScrollBefore||e.disableRipple),so(5),gs("_mat-animation-noopable","NoopAnimations"===e._animationMode),so(5),gs("mat-tab-header-pagination-disabled",e._disableScrollAfter),Ha("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[zE,cS,Jz],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),qz),_U=((Uz=g(function t(){f(this,t)})).\u0275mod=se({type:Uz}),Uz.\u0275inj=Ot({factory:function(t){return new(t||Uz)},imports:[[xd,_E,sO,UE,lS,HS],_E]}),Uz),kU=["minInput"],CU=["maxInput"];function wU(t,e){1&t&&(Ua(0,"span",16),Ss(1,"%\xa0"),qa())}function xU(t,e){if(1&t){var n=Qa();Ua(0,"button",17),Ja("touchstart",function(){return Qe(n),is().negateMin()}),Ss(1,"Neg"),qa()}}function PU(t,e){if(1&t){var n=Qa();Ua(0,"button",17),Ja("touchstart",function(){return Qe(n),is().negateMax()}),Ss(1,"Neg"),qa()}}var OU={minFrequency:null,minWeight:null,evSpread:null};function SU(t){return!t.evSpread&&t.minFrequency===OU.minFrequency&&t.minWeight===OU.minWeight}var MU,TU,EU,RU,FU=((MU=function(){function t(e,n){f(this,t),this.dialogRef=e,this.data=n,this.settings=n}return g(t,[{key:"isFrozen",get:function(){return this.settings.frozen}},{key:"isValid",get:function(){var t=this.settings.evSpread;return this.settings.minFrequency>=0&&this.settings.minWeight>=0&&this.settings.minWeight<=1&&(!t||null!==t.min&&null!==t.max||null===t.min&&null===t.max)}},{key:"hasValue",value:function(t){return null!=t&&!isNaN(t)&&t>=0}},{key:"changeEvSpread",value:function(t,e){this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),v({},t,e))})}},{key:"resetToDefault",value:function(){this.isFrozen||(this.settings={minFrequency:null,minWeight:null,evSpread:null})}},{key:"isMobile",value:function(){return ID()}},{key:"negateMin",value:function(){var t=this.MinInputElement.nativeElement.value;this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),{min:-1*t})})}},{key:"negateMax",value:function(){var t=this.MaxInputElement.nativeElement.value;this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),{max:-1*t})})}},{key:"exit",value:function(){this.dialogRef.close(null)}},{key:"confirm",value:function(){this.isValid&&!this.isFrozen&&this.dialogRef.close(this.settings)}}]),t}()).\u0275fac=function(t){return new(t||MU)(Va(pR),Va(CR))},MU.\u0275cmp=ne({type:MU,selectors:[["app-range-settings-dialog"]],viewQuery:function(t,e){var n;1&t&&(yl(kU,!0),yl(CU,!0)),2&t&&(ml(n=xl())&&(e.MinInputElement=n.first),ml(n=xl())&&(e.MaxInputElement=n.first))},decls:39,vars:15,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"horizontal"],["color","accent"],["matInput","","type","number","min","0","max","100","step","5","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["class","freq-percent-suffix","matSuffix","",4,"ngIf"],["matInput","","type","number","min","0","max","1","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],[1,"heading"],[1,"number-container"],["class","on-input-focus",3,"touchstart",4,"ngIf"],["matInput","","type","number","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","value","change"],["minInput",""],["maxInput",""],[1,"link",3,"click"],["align","center"],["matSuffix","",1,"freq-percent-suffix"],[1,"on-input-focus",3,"touchstart"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"Range settings"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div"),Ua(5,"div",3),Ua(6,"mat-form-field",4),Ua(7,"mat-label"),Ss(8,"Min. Frequency"),qa(),Ua(9,"input",5),Ja("ngModelChange",function(t){return e.settings.minFrequency=t}),qa(),Na(10,wU,2,0,"span",6),qa(),Ua(11,"mat-form-field",4),Ua(12,"mat-label"),Ss(13,"Min. Weight"),qa(),Ua(14,"input",7),Ja("ngModelChange",function(t){return e.settings.minWeight=t}),qa(),qa(),qa(),Ua(15,"div",8),Ss(16," EV Spread "),qa(),Ua(17,"div",3),Ua(18,"mat-form-field",4),Ua(19,"mat-label"),Ss(20,"Min. EV"),qa(),Ua(21,"div",9),Na(22,xU,2,0,"button",10),Ua(23,"input",11,12),Ja("change",function(t){return e.changeEvSpread("min",t.target.value)}),qa(),qa(),qa(),Ua(25,"mat-form-field",4),Ua(26,"mat-label"),Ss(27,"Max. EV"),qa(),Ua(28,"div",9),Na(29,PU,2,0,"button",10),Ua(30,"input",11,13),Ja("change",function(t){return e.changeEvSpread("max",t.target.value)}),qa(),qa(),qa(),qa(),Ua(32,"a",14),Ja("click",function(){return e.resetToDefault()}),Ss(33,"Use default"),qa(),qa(),qa(),Ua(34,"mat-dialog-actions",15),Ua(35,"a",14),Ja("click",function(){return e.confirm()}),Ss(36,"Confirm"),qa(),Ua(37,"a",14),Ja("click",function(){return e.exit()}),Ss(38,"Cancel"),qa(),qa()),2&t&&(so(9),Ha("disabled",e.isFrozen)("ngModel",e.settings.minFrequency),so(1),Ha("ngIf",e.hasValue(e.settings.minFrequency)),so(4),Ha("disabled",e.isFrozen)("ngModel",e.settings.minWeight),so(8),Ha("ngIf",e.isMobile()),so(1),Ha("disabled",e.isFrozen)("value",null==e.settings.evSpread?null:e.settings.evSpread.min),so(6),Ha("ngIf",e.isMobile()),so(1),Ha("disabled",e.isFrozen)("value",null==e.settings.evSpread?null:e.settings.evSpread.max),so(2),gs("disabled",e.isFrozen||!e.isValid),so(3),gs("disabled",e.isFrozen||!e.isValid))},directives:[ER,RR,XF,qF,cI,sw,OC,rw,ex,Kh,FR,KF],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-form-field-infix{width:8.75rem!important}[_nghost-%COMP%]     .freq-percent-suffix{position:absolute;left:-6.75rem;top:-.875rem;font-size:1rem}  .mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-button-toggle-label-content{line-height:2.75rem!important}  .mat-button-toggle{background-color:#999!important}  .mat-button-toggle.mat-button-toggle-checked{background-color:#e0e0e0!important}.title[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:center}.title[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{display:flex}div[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start}div.heading[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.3125rem}div.horizontal[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;gap:1rem;margin-bottom:1.5625rem}div.horizontal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;margin-right:.5rem;border:none;border-radius:.1rem;color:var(--link-color);background:transparent;cursor:pointer;opacity:.5}div.number-container[_ngcontent-%COMP%]{flex-direction:row}.on-input-focus[_ngcontent-%COMP%]{display:none}.number-container[_ngcontent-%COMP%]:focus-within   button[_ngcontent-%COMP%]{display:block!important}.link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--link-color)}.link.disabled[_ngcontent-%COMP%]{cursor:unset;color:#888}.link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),MU),IU=function(){function t(e,n,i,r,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:PD,c=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0;f(this,t),this.isPostFlop=e,this.nodeId=n,this.pos=i,this.adjustEvBy=a,this.bucketMacros=l,this.bucketLookups=u,this._percentOfRangeFiltered=1,this._hasEvDiff=!1,this.$onUpdate=new ap(null),this._filterItems=r,this.rangesSortedByAction=o.sort(function(t,e){return FD(t.action,e.action)}),this.currentSorting=s.sortBy,this.currentSortDirection=s.sortDir,this.currentFilter=null!=c?c:"",this.hideBelowFrequency=s.hideZeroPercentItems?.005:0;var h=this.isFiveCard&&this.isPostFlop;this._sessionId=YI(),this.update(!!c,!h)}return g(t,[{key:"macros",get:function(){return this.isPostFlop?[]:this.bucketMacros}},{key:"onUpdate$",get:function(){return this.$onUpdate.asObservable()}},{key:"sessionId",get:function(){return this._sessionId}},{key:"isFiveCard",get:function(){return!1}},{key:"position",get:function(){return this.pos}},{key:"ranges",get:function(){return this.rangesSortedByAction}},{key:"actions",get:function(){return this.rangesSortedByAction.map(function(t){return t.action})}},{key:"sorting",get:function(){return this.currentSorting}},{key:"sortDirection",get:function(){return this.currentSortDirection}},{key:"percentOfRangeFiltered",get:function(){return this._percentOfRangeFiltered}},{key:"filter",get:function(){return this.currentFilter}},{key:"filteredCombos",get:function(){return this._filteredCombos}},{key:"hasEvDiff",get:function(){return this._hasEvDiff}},{key:"filterItems",get:function(){return this._filterItems}},{key:"hasFilterItemsWithClassifications",value:function(){return this._filterItems.some(function(t){var e;return(null===(e=t[1])||void 0===e?void 0:e.length)>0})}},{key:"updateFilterItems",value:function(t){this._filterItems=t}},{key:"hasBucketLookups",value:function(){var t;return(null===(t=this.bucketLookups)||void 0===t?void 0:t.length)>0}},{key:"updateBucketLookups",value:function(t){this.bucketLookups=t}},{key:"addEvDiff",value:function(){this.hasEvDiff||(this.addEvDiffToRange(this.rangesSortedByAction),this._hasEvDiff=!0)}},{key:"addEvDiffToRange",value:function(t){var e=t.length;console.time("[BLOCKING] ev diff");for(var n={},i=0;i<e;i++){var r,o=t[i],a=o.action.type===s_.FOLD,s=k(o.items);try{for(s.s();!(r=s.n()).done;){var c=r.value,l=NA(c);n[l]||(n[l]=new Array(e)),n[l][i]=BA(HA(c),this.adjustEvBy,a)}}catch(g){s.e(g)}finally{s.f()}}for(var u=function(){var t=d[h],e=n[t],i=Math.max.apply(Math,C(e.filter(function(t){return!isNaN(t)}))),r=e.map(function(t,n){var r=[].concat(C(e.slice(0,n)),C(e.slice(n+1))).filter(function(t){return!isNaN(t)});return t<i?t-i:(null==r?void 0:r.length)>0?i-Math.max.apply(Math,C(r)):null});n[t]=r},h=0,d=Object.keys(n);h<d.length;h++)u();for(var f=function(e){t[e].items.forEach(function(t){t[7]=n[NA(t)][e]})},p=0;p<e;p++)f(p);console.timeEnd("[BLOCKING] ev diff")}},{key:"getActionRange",value:function(t){var e=this._header.find(function(e){return SD(e.action,t)}).overallFreq,n=this._ranges.find(function(e){return SD(e.action,t)}).items;return{action:t,overallFreq:e,items:n}}},{key:"updateSettings",value:function(t){this.currentSettings=t,this.update()}},{key:"setSortingAndDirection",value:function(t,e){this.currentSorting=t,this.currentSortDirection=e,this.update()}},{key:"setFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t!==this.currentFilter&&(this.currentFilter=t,this.update())}},{key:"setHideZeroPercentItems",value:function(t){this.hideBelowFrequency=t?.005:0,this.update()}},{key:"update",value:function(){var t,e,n,i=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.currentSettings&&!SU(this.currentSettings);if(r&&(null===(t=this.currentFilter)||void 0===t?void 0:t.length)>0||a){var s=gD(this.currentSorting,this.currentSortDirection),c=Object(LA.filterItems)(this.isPostFlop,this.filterItems,null!==(e=this.currentFilter)&&void 0!==e?e:"",null,this.bucketLookups,this.bucketMacros),l=c.items,u=new Set(l.map(function(t){return t[2]}));if(this._filteredCombos=this.currentFilter?Array.from(u):null,a){var h=this.currentSettings,d=h.minFrequency,f=h.minWeight,p=h.evSpread,g=k_(this.rangesSortedByAction.map(function(t){return t.items.filter(function(t){return u.has(NA(t))}).map(function(e){return[e,t.action.type]})})),v=QA(g),m=g.filter(function(t){var e=v[NA(t[0])];if(d&&Math.max.apply(Math,C(e.map(function(t){return VA(t[0])})))<d/100)return!1;if(f&&e.map(function(t){return UA(t[0])}).reduce(function(t,e){return t+e},0)<f)return!1;if(p&&(null!==p.min||null!==p.max)){var n=p.min||Number.MIN_SAFE_INTEGER,r=p.max||Number.MAX_SAFE_INTEGER;if(e.some(function(t){return[s_.RAISE,s_.ALLIN,s_.MIN].includes(t[1])})){if(!e.filter(function(t){return[s_.RAISE,s_.ALLIN,s_.MIN].includes(t[1])}).map(function(t){return BA(HA(t[0]),i.adjustEvBy,!1)}).some(function(t){return t>=n&&t<=r}))return!1}else if(!e.map(function(t){return BA(HA(t[0]),i.adjustEvBy,!1)}).every(function(t){return t>=n&&t<=r}))return!1}return!0});u=new Set(m.map(function(t){return NA(t[0])})),this._filteredCombos=Array.from(u)}n=this.rangesSortedByAction.map(function(t){var e=t.items.filter(function(t){return u.has(NA(t))}),n=o?e.sort(s):e;return Object.assign(Object.assign({},t),{items:n})})}else if(o){var y=gD(this.currentSorting,this.currentSortDirection);n=this.rangesSortedByAction.map(function(t){return Object.assign(Object.assign({},t),{items:t.items.sort(y)})})}else n=this.rangesSortedByAction.map(function(t){return Object.assign(Object.assign({},t),{items:t.items})});this.currentFilter&&0!==this.currentFilter.trim().length||(this._filteredCombos=null);var b=function(t){return qA(t)*UA(t)},_=this.countTotal(this.rangesSortedByAction,b),k=this.countTotal(n,b);return this._percentOfRangeFiltered=k/_,this._ranges=this.getVisibleItems(n,this.hideBelowFrequency),this.updateAggregatedValuesForHeader(n),this.$onUpdate.next(),this._percentOfRangeFiltered>0}},{key:"countTotal",value:function(t,e){return t.map(function(t){return xD(t).map(e).reduce(function(t,e){return t+e},0)}).reduce(function(t,e){return t+e},0)}},{key:"updateAggregatedValuesForHeader",value:function(t){var e=t.map(function(t){return xD(t).map(function(t){return qA(t)*UA(t)}).reduce(function(t,e){return t+e},0)}).reduce(function(t,e){return t+e},0);this._header=t.map(function(t){var n=xD(t).map(function(t){return qA(t)*UA(t)}).reduce(function(t,e){return t+e},0),i=xD(t).map(function(t){return qA(t)}).reduce(function(t,e){return t+e},0);return{action:t.action,overallFreq:n/e,averageWeight:n/i}})}},{key:"getVisibleItems",value:function(t,e){return C(t.map(function(t){return{action:t.action,items:(n=t.items,n.filter(function(t){return VA(t)>=e}))};var n}))}}]),t}(),AU=((TU=function(){function t(e){f(this,t),this.dialogRef=e}return g(t,[{key:"confirm",value:function(){this.dialogRef.close(!0)}}]),t}()).\u0275fac=function(t){return new(t||TU)(Va(pR))},TU.\u0275cmp=ne({type:TU,selectors:[["app-daily-export-limit-dialog"]],decls:12,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"Daily Export Limit"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div"),Ua(5,"p"),Ss(6,"You've reached the limit of exporting 100 ranges per day."),qa(),Ua(7,"p"),Ss(8,"Come back tomorrow to export additional ranges."),qa(),qa(),qa(),Ua(9,"mat-dialog-actions",3),Ua(10,"a",4),Ja("click",function(){return e.confirm()}),Ss(11,"Close"),qa(),qa())},directives:[ER,RR,FR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),TU),DU=function(){function t(e,n){f(this,t),this._document=n;var i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,this._document.body.appendChild(i)}return g(t,[{key:"copy",value:function(){var t=this._textarea,e=!1;try{if(t){var n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch(GJ){}return e}},{key:"destroy",value:function(){var t=this._textarea;t&&(t.parentNode&&t.parentNode.removeChild(t),this._textarea=void 0)}}]),t}(),LU=((EU=function(){function t(e){f(this,t),this._document=e}return g(t,[{key:"copy",value:function(t){var e=this.beginCopy(t),n=e.copy();return e.destroy(),n}},{key:"beginCopy",value:function(t){return new DU(t,this._document)}}]),t}()).\u0275fac=function(t){return new(t||EU)(Ti(Ru))},EU.\u0275prov=Pt({factory:function(){return new EU(Ti(Ru))},token:EU,providedIn:"root"}),EU),BU=function(t){return t.CSV="CSV",t.PPT="PPT",t}({}),NU=function(t){return t.FILE="FILE",t.CLIPBOARD="CLIPBOARD",t}({}),jU=((RU=function(){function e(t,n,i,r,o){f(this,e),this.http=t,this.dialog=n,this.fileSaverService=i,this.snackBar=r,this.clipboardService=o,this.$isExporting=new ap(null)}return g(e,[{key:"isExporting$",get:function(){return this.$isExporting.asObservable()}},{key:"exportPreflopRanges",value:function(e,n,i,r,o,a,s,c){return Gm(this,void 0,void 0,t().mark(function l(){var u,h,d,f,p,g,v;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$isExporting.next(1),u=this.snackBar.open("Exporting range..."),t.prev=2,h={node:i,rangeId:r,format:o,combos:c||void 0},t.next=6,this.http.postText("".concat(Su,"/preflop/tree/").concat(n,"/range/export"),h);case 6:if(d=t.sent,f=new Blob([d]),a!==NU.FILE){t.next=13;break}p="".concat(n).concat("ROOT"===i||"FLOP"===i?"":"_"+i,"_").concat(e),g=s?"_"+s:"",v=p+"_"+r.split("_")[1]+g+this.getExportFileEnding(o),this.fileSaverService.save(f,v),t.next=15;break;case 13:return t.next=15,this.copyToClipboard(d);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),429===t.t0.status?0===this.dialog.openDialogs.length&&this.dialog.open(AU):console.error(t.t0);case 20:return t.prev=20,this.$isExporting.next(null),u.dismiss(),t.finish(20);case 23:case"end":return t.stop()}},l,this,[[2,17,20,23]])}))}},{key:"exportPostflopRanges",value:function(e,n,i,r,o,a,s,c,l,u){return Gm(this,void 0,void 0,t().mark(function h(){var d,f,p,g,v,m,y,b;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$isExporting.next(1),d=this.snackBar.open("Exporting range..."),t.prev=2,f={node:i,rangeId:o,board:r,format:a,turnInvest:c,combos:u||void 0},t.next=6,this.http.postText("".concat(Su,"/postflop/tree/").concat(n,"/range/export"),f);case 6:if(p=t.sent,g=new Blob([p]),s!==NU.FILE){t.next=13;break}v=[r.flop,r.turn,r.river].filter(function(t){return!!t}).join(""),m="".concat(n,"_").concat(v).concat("ROOT"===i||"FLOP"===i?"":"_"+i,"_").concat(e),y=l?"_"+l:"",b=m+"_"+o.split("_")[1]+y+this.getExportFileEnding(a),this.fileSaverService.save(g,b),t.next=15;break;case 13:return t.next=15,this.copyToClipboard(p);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),429===t.t0.status?0===this.dialog.openDialogs.length&&this.dialog.open(AU):console.error(t.t0);case 20:return t.prev=20,this.$isExporting.next(null),d.dismiss(),t.finish(20);case 23:case"end":return t.stop()}},h,this,[[2,17,20,23]])}))}},{key:"copyToClipboard",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.clipboardService.beginCopy(e),r=0;case 2:if(!(r<200)){t.next=10;break}if(!i.copy()){t.next=5;break}return t.abrupt("return",(this.snackBar.open("Range copied to clipboard","Ok",{duration:3e3}),void i.destroy()));case 5:return t.next=7,kx(25);case 7:r++,t.next=2;break;case 10:i.destroy(),this.snackBar.open("Could not copy range clipboard","Ok",{duration:3e3});case 11:case"end":return t.stop()}},n,this)}))}},{key:"getExportFileEnding",value:function(t){switch(t){case BU.CSV:return".csv";case BU.PPT:return".txt"}}}]),e}()).\u0275fac=function(t){return new(t||RU)(Ti(kD),Ti(SR),Ti(tA),Ti(qB),Ti(LU))},RU.\u0275prov=Pt({token:RU,factory:RU.\u0275fac,providedIn:"root"}),RU);function VU(t,e){if(1&t){var n=Qa();Ua(0,"a",8),Ja("click",function(){return Qe(n),is().copyToClipboard()}),Ss(1,"Copy to clipboard"),qa()}}var HU,zU=((HU=function(){function t(e,n){f(this,t),this.dialogRef=e,this.data=n,this.selectedFormat=BU.PPT,this.RangeExportFormat=BU}return g(t,[{key:"numberOfRanges",get:function(){return this.data.numberOfRanges}},{key:"hasFilter",get:function(){return this.data.hasFilter}},{key:"saveAsFile",value:function(){this.dialogRef.close({format:this.selectedFormat,mode:NU.FILE})}},{key:"copyToClipboard",value:function(){this.dialogRef.close({format:this.selectedFormat,mode:NU.CLIPBOARD})}}]),t}()).\u0275fac=function(t){return new(t||HU)(Va(pR),Va(CR))},HU.\u0275cmp=ne({type:HU,selectors:[["app-export-format-dialog"]],decls:17,vars:5,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"selector"],["color","accent","appearance","fill"],[3,"value","valueChange"],[3,"value"],["align","center"],[1,"link",3,"click"],["class","link",3,"click",4,"ngIf"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div",3),Ua(5,"mat-form-field",4),Ua(6,"mat-label"),Ss(7,"Format"),qa(),Ua(8,"mat-select",5),Ja("valueChange",function(t){return e.selectedFormat=t}),Ua(9,"mat-option",6),Ss(10,"CSV"),qa(),Ua(11,"mat-option",6),Ss(12,"PPT"),qa(),qa(),qa(),qa(),qa(),Ua(13,"mat-dialog-actions",7),Ua(14,"a",8),Ja("click",function(){return e.saveAsFile()}),Ss(15,"Save as file"),qa(),Na(16,VU,2,0,"a",9),qa()),2&t&&(so(2),Ms(e.hasFilter?"Export filtered range":"Export range"),so(6),Ha("value",e.selectedFormat),so(1),Ha("value",e.RangeExportFormat.CSV),so(2),Ha("value",e.RangeExportFormat.PPT),so(5),Ha("ngIf",1===e.numberOfRanges))},directives:[ER,RR,XF,qF,Fj,eR,FR,Kh],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-form-field,   .mat-select-content{width:100px}  .mat-select-value-text{color:var(--text-color)!important}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}p[_ngcontent-%COMP%]{text-align:center}.selector[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),HU),UU=dy("[Tracking] Track range activity",{_as:"props",_p:void 0});function qU(t,e){if(1&t){var n=Qa();Ua(0,"mat-dialog-actions",4),Ua(1,"a",5),Ja("click",function(){return Qe(n),is(2).dismiss()}),Ss(2,"Confirm"),qa(),qa()}}function WU(t,e){if(1&t&&($a(0),Ua(1,"h2",1),Ss(2," Warning "),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div"),Ss(5,"You can't use classifications in the filter on mobile devices yet. Please use only card filters for now. "),qa(),qa(),Na(6,qU,3,0,"mat-dialog-actions",3),Ga()),2&t){var n=is();so(6),Ha("ngIf",!n.isWaiting)}}function $U(t,e){1&t&&(Ua(0,"div"),Ss(1," You are using classifications in your filter. Big amount of data needs to be loaded from the server. Continue? "),qa())}function GU(t,e){1&t&&(Ua(0,"div"),Wa(1,"mat-spinner",6),qa())}function KU(t,e){if(1&t){var n=Qa();Ua(0,"mat-dialog-actions",4),Ua(1,"a",7),Ja("click",function(){return Qe(n),is(2).confirm()}),Ss(2,"Continue"),qa(),Ua(3,"a",5),Ja("click",function(){return Qe(n),is(2).dismiss()}),Ss(4,"Cancel"),qa(),qa()}}function QU(t,e){if(1&t&&($a(0),Ua(1,"h2",1),Ss(2),qa(),Ua(3,"mat-dialog-content",2),Na(4,$U,2,0,"div",0),Na(5,GU,2,0,"div",0),qa(),Na(6,KU,5,0,"mat-dialog-actions",3),Ga()),2&t){var n=is();so(2),Ts(" ",n.isWaiting?"Please wait":"Warning"," "),so(2),Ha("ngIf",!n.isWaiting),so(1),Ha("ngIf",n.isWaiting),so(1),Ha("ngIf",!n.isWaiting)}}var YU,ZU=((YU=function(){function e(t,n,i,r,o){f(this,e),this.dialogRef=t,this.data=n,this.rangeService=i,this.bucketService=r,this.storage=o,this.isWaiting=!1,this.isMobile=!1,this.isMobile=ID()}return g(e,[{key:"ngOnInit",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=ID(),t.t0){t.next=6;break}if(t.t1="true"===this.storage.get("CONFIRMED-LOAD-CLASSIFICATIONS"),!t.t1){t.next=6;break}return t.next=6,this.loadAndCloseDialog();case 6:case"end":return t.stop()}},e,this)}))}},{key:"confirm",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.storage.set("CONFIRMED-LOAD-CLASSIFICATIONS","true"),t.next=3,this.loadAndCloseDialog();case 3:case"end":return t.stop()}},e,this)}))}},{key:"loadAndCloseDialog",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){var n,i,r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isWaiting=!0,!this.data.board){t.next=5;break}return t.next=3,this.rangeService.loadPostflopClassificationLookup(this.data.board);case 3:t.next=14;break;case 5:if(n=this.data,i=n.loadClassifications,r=n.loadBuckets,t.t0=i,!t.t0){t.next=10;break}return t.next=10,this.rangeService.loadPreflopClassificationLookup();case 10:if(t.t1=r,!t.t1){t.next=14;break}return t.next=14,this.bucketService.loadPreflopBucketLookup();case 14:this.dialogRef.close(!0);case 15:case"end":return t.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.dialogRef.close(!1)}}]),e}()).\u0275fac=function(t){return new(t||YU)(Va(pR),Va(CR),Va(OD),Va(PB),Va(iF))},YU.\u0275cmp=ne({type:YU,selectors:[["app-load-classifications-dialog"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center",4,"ngIf"],["align","center"],[1,"dismiss-link",3,"click"],["color","accent"],[1,"confirm-link",3,"click"]],template:function(t,e){1&t&&(Na(0,WU,7,1,"ng-container",0),Na(1,QU,7,4,"ng-container",0)),2&t&&(Ha("ngIf",e.isMobile),so(1),Ha("ngIf",!e.isMobile))},directives:[Kh,ER,RR,FR,XR],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--text-color)}.confirm-link[_ngcontent-%COMP%]:hover, .dismiss-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),YU),JU=["cardfilter"];function XU(t,e){1&t&&(Ua(0,"div",3),Ua(1,"p"),Ss(2,"Loading range, this can take a while..."),qa(),Wa(3,"mat-spinner",4),qa())}function tq(t,e){if(1&t){var n=Qa();Ua(0,"app-action-range-view",16),Ja("exportClicked",function(t){return Qe(n),is(2).exportRangeForAction(t)})("updateSorting",function(t){return Qe(n),is(2).updateSorting(t)}),qa()}if(2&t){var i=is(2);gs("one",1===i.actionRanges.length)("two",2===i.actionRanges.length)("three",3===i.actionRanges.length)("four",4===i.actionRanges.length),Ha("range",i.actionRanges[0].first)("isIcm",i.isIcm)("adjustEvBy",i.adjustEvBy)("hideEvDifference",i.hideEvDifference)("showExport",i.showExport)("allowExport",i.allowExport)("isExporting",i.isExporting)}}function eq(t,e){if(1&t){var n=Qa();Ua(0,"app-action-range-view",16),Ja("exportClicked",function(t){return Qe(n),is(2).exportRangeForAction(t)})("updateSorting",function(t){return Qe(n),is(2).updateSorting(t)}),qa()}if(2&t){var i=is(2);gs("one",1===i.actionRanges.length)("two",2===i.actionRanges.length)("three",3===i.actionRanges.length)("four",4===i.actionRanges.length),Ha("range",i.actionRanges[1].first)("isIcm",i.isIcm)("adjustEvBy",i.adjustEvBy)("hideEvDifference",i.hideEvDifference)("showExport",i.showExport)("allowExport",i.allowExport)("isExporting",i.isExporting)}}function nq(t,e){if(1&t){var n=Qa();Ua(0,"app-action-range-view",16),Ja("exportClicked",function(t){return Qe(n),is(3).exportRangeForAction(t)})("updateSorting",function(t){return Qe(n),is(3).updateSorting(t)}),qa()}if(2&t){var i=is(3);Ha("range",i.actionRanges[2].first)("isIcm",i.isIcm)("adjustEvBy",i.adjustEvBy)("hideEvDifference",i.hideEvDifference)("showExport",i.showExport)("allowExport",i.allowExport)("isExporting",i.isExporting)}}function iq(t,e){if(1&t){var n=Qa();Ua(0,"app-action-range-view",16),Ja("exportClicked",function(t){return Qe(n),is(3).exportRangeForAction(t)})("updateSorting",function(t){return Qe(n),is(3).updateSorting(t)}),qa()}if(2&t){var i=is(3);Ha("range",i.actionRanges[3].first)("isIcm",i.isIcm)("adjustEvBy",i.adjustEvBy)("hideEvDifference",i.hideEvDifference)("showExport",i.showExport)("allowExport",i.allowExport)("isExporting",i.isExporting)}}function rq(t,e){if(1&t&&(Ua(0,"div",17),Na(1,nq,1,7,"app-action-range-view",18),Na(2,iq,1,7,"app-action-range-view",18),qa()),2&t){var n=is(2);gs("one",1===n.actionRanges.length)("two",2===n.actionRanges.length)("three",3===n.actionRanges.length)("four",4===n.actionRanges.length),so(1),Ha("ngIf",n.actionRanges.length>=3),so(1),Ha("ngIf",n.actionRanges.length>=4)}}function oq(t,e){if(1&t){var n=Qa();Ua(0,"div",5),Ua(1,"div",6),Na(2,tq,1,15,"app-action-range-view",7),Na(3,eq,1,15,"app-action-range-view",7),Na(4,rq,3,10,"div",8),qa(),Ua(5,"div",9),Ua(6,"div",10),Ua(7,"app-card-filter",11,12),Ja("filter",function(t){return Qe(n),is().updateFilter(t)}),qa(),qa(),Ua(9,"div",13),Ua(10,"mat-checkbox",14),Ja("ngModelChange",function(t){return Qe(n),is().hideZeroPercentItems=t})("change",function(t){return Qe(n),is().setHideZeroPercentItems(t)}),Ss(11,"Hide 0% combos"),qa(),Ua(12,"mat-checkbox",15),Ja("change",function(t){return Qe(n),is().setHideEvDifference(t)}),Ss(13,"Hide EV difference"),qa(),qa(),qa(),qa()}if(2&t){var i=is();so(2),Ha("ngIf",i.actionRanges.length>=1),so(1),Ha("ngIf",i.actionRanges.length>=2),so(1),Ha("ngIf",i.actionRanges.length>=3),so(3),Ha("label",i.searchLabel)("initialValue",i.initialFilter),so(3),Ha("ngModel",i.hideZeroPercentItems),so(2),Ha("checked",i.hideEvDifference)}}var aq,sq=((aq=function(){function e(n,i,r,o,a,s,c,l,u,h,d){var p=this;f(this,e),this.rangeService=n,this.rangeExportService=i,this.toPercent=r,this.store=o,this.feature=a,this.bucketService=s,this.route=c,this.router=l,this.dialog=u,this.snackBar=h,this.cdr=d,this.updateUrlOnFilterChange=!1,this.isReady=new ol,this.RangeSorting=fD,this.hideZeroPercentItems=!0,this.hideEvDifference=!0,this.initialFilter="",this._settings=Object.assign({},OU),this.sortingOptions=[{value:fD.Frequency,viewValue:"Frequency"},{value:fD.EV,viewValue:"EV"},{value:fD.EVDiff,viewValue:"EV difference"},{value:fD.Weight,viewValue:"Weight"}],this.sortDirectionOptions=[{value:pD.Desc,viewValue:"Descending"},{value:pD.Asc,viewValue:"Ascending"}],this.unsubscribe(),this.rangeSubscription=hp([this.store.pipe(ob(W_)),this.store.pipe(ob(R_),vf(function(t){return!!t}))]).subscribe(function(e){var n=y(e,2),i=n[0],r=n[1];return Gm(p,void 0,void 0,t().mark(function e(){var n,o,a,s,c,l=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isReady.emit(!1),n=this.getSettings(this.route.snapshot.queryParams),this._settings=this.replaceDefaultSettingsWithUrlSettings(OU,n),this.hideEvDifference=!0,this.rangeService.rangeSortingOptions.sortBy===fD.EVDiff&&this.rangeService.setSortingAndDirection(fD.Frequency,pD.Desc),this.currentTree=r,this.isPostFlop=r.type===h_.postflop,o=this.rangeService.getRange(i),this.currentRangeKey=null==o?void 0:o.rangeKey,this.turnInvest=null==o?void 0:o.turnInvest,!(null==o?void 0:o.rangeFrequencies.every(function(t){return!t.overallFreq||0===t.overallFreq}))){t.next=7;break}return a=o.ranges.map(function(t){return{action:t.action,items:[]}}),t.abrupt("return",(this.range=new IU(this.isPostFlop,o.nodeId,o.position,[],a,o.adjustEvBy,this.rangeService.rangeSortingOptions),this.updateActionRanges(),void this.isReady.emit(!0)));case 7:o&&o.position?(this.adjustEvBy=o.adjustEvBy,console.time("create range"),this.isPostFlop?this.range=new IU(this.isPostFlop,o.nodeId,o.position,o.filterItems,o.ranges,o.adjustEvBy,this.rangeService.rangeSortingOptions):(s=w_(this.store.pipe(ob(Bk))),this.range=new IU(this.isPostFlop,o.nodeId,o.position,o.filterItems,o.ranges,o.adjustEvBy,this.rangeService.rangeSortingOptions,null,s)),this.range.updateSettings(this._settings),console.timeEnd("create range"),this.isReady.emit(!0),this.updateSubscription=this.range.onUpdate$.subscribe(function(){console.time("updateActionRanges"),l.updateActionRanges(),console.timeEnd("updateActionRanges")}),console.time("initialFilter"),this.initialFilter=w_(this.store.pipe(ob(U_))),(c=this.route.snapshot.queryParams).filter&&c.filter!==this.initialFilter&&(this.store.dispatch(A_({filter:c.filter})),this.initialFilter=c.filter),this.initialFilter?this.updateFilter(this.initialFilter,!1):this.resetFilter(),console.timeEnd("initialFilter"),this.trackRange(!0,this.initialFilter)):this.range=null;case 8:case"end":return t.stop()}},e,this)}))})}return g(e,[{key:"ngOnInit",value:function(){var t=this.rangeService.rangeSortingOptions,e=t.hideZeroPercentItems,n=t.hideEvDifference;this.hideZeroPercentItems=e,this.hideEvDifference=n}},{key:"update",value:function(){this.updateActionRanges()}},{key:"isIcm",get:function(){return!!this.currentTree.icmPayouts&&!!this.currentTree.icmStacks}},{key:"trackRange",value:function(t,e){var n;if(this.isPostFlop){var i=this.currentTree;n=[i.flop,i.turn,i.river].filter(function(t){return!!t}).join("")}this.store.dispatch(UU({activity:{initial:t,tree:this.currentTree.key,board:n,node:this.route.snapshot.queryParams.node,sessionId:this.range.sessionId,filter:e}}))}},{key:"ngOnDestroy",value:function(){this.range=null,this.unsubscribe()}},{key:"showExport",get:function(){return!this.currentTree.customSimSetup&&this.feature.isAvailable(C_.RangeExport)}},{key:"allowExport",get:function(){return this.showExport&&!this.feature.isLocked(C_.RangeExport)}},{key:"isExporting",get:function(){return w_(this.rangeExportService.isExporting$.pipe(W(function(t){return t&&t>0})))}},{key:"hasCustomSettings",get:function(){return!SU(this._settings)}},{key:"settings",get:function(){return this._settings}},{key:"openSettings",value:function(){var t=this;this.dialog.open(FU,{data:this._settings}).afterClosed().pipe(Ip(1)).subscribe(function(e){if(e){if(t._settings=Object.assign({},e),!t.range.filterItems||0===t.range.filterItems.length){var n=t.rangeService.assembleFilterItems(t.range.ranges,t.currentRangeKey);t.range.updateFilterItems(n)}t.range.updateSettings(t._settings)}})}},{key:"exportRangeForAction",value:function(t){var e,n,i=this;if(this.allowExport){if(!this.isExporting){var r=null===(e=this.currentNode.next.find(function(e){return SD(e.action,t)}))||void 0===e?void 0:e.rangeId,o=(null===(n=this.route.snapshot.queryParams)||void 0===n?void 0:n.node)||"",a=this.range.getActionRange(t),s=this.range.filter,c=null;a.items.length!==this.range.ranges.find(function(e){return SD(e.action,t)}).items.length&&(c=a.items.map(NA)),this.dialog.open(zU,{data:{numberOfRanges:1,hasFilter:!!c}}).afterClosed().pipe(Ip(1)).subscribe(function(t){t&&i.exportRanges(o,r,t.format,t.mode,s,c)})}}else this.dialog.open(DA,{data:{featureText:"Exporting ranges"}})}},{key:"exportRanges",value:function(t,e,n,i,r,o){if(this.isPostFlop){var a=this.currentTree.key,s=this.board.slice(0,6),c=this.board.length>6?this.board.slice(6,8):null,l=this.board.length>8?this.board.slice(8):null;this.rangeExportService.exportPostflopRanges(this.positionLabel,a,t,{flop:s,turn:c,river:l},e,n,i,this.turnInvest,r,o)}else this.rangeExportService.exportPreflopRanges(this.positionLabel,this.currentTree.key,t,e,n,i,r,o)}},{key:"unsubscribe",value:function(){this.rangeSubscription&&this.rangeSubscription.unsubscribe(),this.updateSubscription&&this.updateSubscription.unsubscribe()}},{key:"isLoading$",get:function(){return this.rangeService.isLoading$}},{key:"hasRange",get:function(){return!!this.range}},{key:"position",get:function(){return this.range.position}},{key:"positionLabel",get:function(){var t;return(null===(t=this.currentTree.setup)||void 0===t?void 0:t.replaceWithStraddle)==this.range.position?i_(!1):this.range.position}},{key:"actions",get:function(){var t;return null===(t=this.range)||void 0===t?void 0:t.actions}},{key:"updateActionRanges",value:function(){var t;if((null===(t=this.actions)||void 0===t?void 0:t.length)>0){var e=[{first:this.getActionRange(this.actions[0])}];this.actions.length>=2&&e.push({first:this.getActionRange(this.actions[1])}),this.actions.length>=3&&e.push({first:this.getActionRange(this.actions[2])}),this.actions.length>=4&&e.push({first:this.getActionRange(this.actions[3])}),this.actionRanges=e,this.cdr.markForCheck()}}},{key:"getActionRange",value:function(t){var e=this.getFormattedAction(t),n=this.range.getActionRange(t);return{action:t,label:e,overallFreq:n.overallFreq,items:n.items}}},{key:"updateSorting",value:function(t){var e=this,n=t.sorting,i=t.direction;n===fD.EVDiff?this.addEvDiff().then(function(){e.rangeService.setSortingAndDirection(n,i),e.range.setSortingAndDirection(n,i),e.hideEvDifference=!1}):(this.rangeService.setSortingAndDirection(n,i),this.range.setSortingAndDirection(n,i))}},{key:"currentSorting",get:function(){return this.range.sorting}},{key:"currentSortdirection",get:function(){var t;return null!==(t=this.range.sortDirection)&&void 0!==t?t:pD.Desc}},{key:"searchLabel",get:function(){var t=this.hasRange?this.toPercent.transform(this.range.percentOfRangeFiltered,"1.0-2"):null;return t?"Filter (".concat(t,")"):"Filter"}},{key:"addEvDiff",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){var n;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.range.hasEvDiff){t.next=6;break}return n=this.snackBar.open("Calculating EV difference ..."),t.next=4,kx(5);case 4:this.range.addEvDiff(),n.dismiss();case 6:case"end":return t.stop()}},e,this)}))}},{key:"rangeHasEvDifference",get:function(){return this.range.hasEvDiff}},{key:"hasEvDifference",value:function(t){return!isNaN(WA(t))}},{key:"useRFIvalueForAction",value:function(t){return m_(t,this.currentTree,this.isPostFlop,this.isRFI)}},{key:"getFormattedAction",value:function(t){var e,n=u_(t,null===(e=this.currentTree)||void 0===e?void 0:e.raiseSizeMapping);if(this.useRFIvalueForAction(n)){var i=this.getRFIValue();return MD(n,n.hasPrevBet,!this.isPostFlop,i?i+"x":null,this.currentTree.fixedRaiseSize)}return MD(n,n.hasPrevBet,!this.isPostFlop,null,this.currentTree.fixedRaiseSize)}},{key:"setFilter",value:function(t){this.cardFilter.setValue(t),this.updateFilter(t)}},{key:"updateFilter",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.range){if(!this.range.filterItems||0===this.range.filterItems.length){var i=this.rangeService.assembleFilterItems(this.range.ranges,this.currentRangeKey);this.range.updateFilterItems(i)}if(t!==this.range.filter){var r=this.getAllClassificationsForFilter(t,this.range.macros,this.isPostFlop),o=this.isPostFlop?[]:this.getAllBucketsForFilter(t,this.range.macros,this.isPostFlop);if(r.length>0||o.length>0){var a=this.requiresLoadingClassifications(r),s=this.requiresLoadingBuckets(o);if(a||s)this.dialog.open(ZU,{data:{board:this.board,loadClassifications:a,loadBuckets:s}}).afterClosed().pipe(Ip(1)).subscribe(function(i){if(i){if(a){var r=e.isPostFlop?e.rangeService.updatePostflopFilterItems(e.range.filterItems,e.board):e.rangeService.updatePreflopFilterItems(e.range.filterItems);e.range.updateFilterItems(r)}if(s){var o=e.bucketService.getPreflopLookup();e.range.updateBucketLookups(o)}e.applyFilter(t,n)}else e.cardFilter.focus()});else{if((null==o?void 0:o.length)>0&&!this.range.hasBucketLookups()){var c=this.bucketService.getPreparedPreflopLookup();this.range.updateBucketLookups(c)}if(!this.range.hasFilterItemsWithClassifications()){var l=this.isPostFlop?this.rangeService.updatePostflopFilterItems(this.range.filterItems,this.board):this.rangeService.updatePreflopFilterItems(this.range.filterItems);this.range.updateFilterItems(l)}this.applyFilter(t,n)}}else this.applyFilter(t,n)}}}},{key:"getAllClassificationsForFilter",value:function(t,e,n){if(!t||0===t.trim().length)return[];try{var i=Object(LA.parseFilterSyntax)(t,!1,e,n);return Object(LA.getClassificationsForFilter)(i)}catch(r){return console.error(r),[]}}},{key:"requiresLoadingClassifications",value:function(t){return t.length>0&&(this.isPostFlop?!this.rangeService.hasPostflopClassifications(t,this.board):!this.rangeService.hasPreflopClassifications(t))}},{key:"getAllBucketsForFilter",value:function(t,e,n){if(!t||0===t.trim().length)return[];try{var i=Object(LA.parseFilterSyntax)(t,!1,e,n);return Object(LA.getBucketsForFilter)(i)}catch(r){return[]}}},{key:"requiresLoadingBuckets",value:function(t){return 0!==t.length&&!this.isPostFlop&&!this.bucketService.hasPreflopBucketLookup(t)}},{key:"applyFilter",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(null===(e=this.range)||void 0===e?void 0:e.setFilter(t))&&(this.store.dispatch(A_({filter:t})),n&&this.trackRange(!1,t),this.updateUrlOnFilterChange&&this.router.navigate([],{queryParams:{filter:(null==t?void 0:t.length)>0?t:void 0},queryParamsHandling:"merge"}))}},{key:"setHideZeroPercentItems",value:function(t){this.rangeService.setHideZeroPercentItems(t.checked),this.range.setHideZeroPercentItems(t.checked),window.dispatchEvent(new Event("resize"))}},{key:"setHideEvDifference",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.checked){t.next=4;break}this.currentSorting===fD.EVDiff&&this.updateSorting({sorting:fD.EV,direction:pD.Desc}),t.next=6;break;case 4:return t.next=6,this.addEvDiff();case 6:this.hideEvDifference=e.checked,this.cdr.markForCheck(),this.rangeService.setHideEvDifference(e.checked);case 9:case"end":return t.stop()}},n,this)}))}},{key:"resetFilter",value:function(){this.store.dispatch(D_())}},{key:"getRFIValue",value:function(){var t;return(null!==(t=this.currentTree.rfiValues)&&void 0!==t?t:{})[this.position]||this.currentTree.rfiValue}},{key:"getSettings",value:function(t){var e=+t.minFrequency,n=+t.minWeight,i=+t.minEV,r=+t.maxEV,o=!!t.freeze,a=null;return isNaN(i)&&isNaN(r)||(a={min:i,max:r}),{minFrequency:e,minWeight:n,evSpread:a,frozen:o}}},{key:"replaceDefaultSettingsWithUrlSettings",value:function(t,e){var n=function(t){return isNaN(t)||null==t};return{minFrequency:n(e.minFrequency)?t.minFrequency:e.minFrequency,minWeight:n(e.minWeight)?t.minWeight:e.minWeight,evSpread:e.evSpread?e.evSpread:t.evSpread,frozen:e.frozen}}}]),e}()).\u0275fac=function(t){return new(t||aq)(Va(OD),Va(jU),Va(bd),Va(ib),Va(aF),Va(PB),Va(nv),Va(Pm),Va(SR),Va(qB),Va(xc))},aq.\u0275cmp=ne({type:aq,selectors:[["app-range-overview"]],viewQuery:function(t,e){var n;1&t&&bl(JU,!0),2&t&&ml(n=xl())&&(e.cardFilter=n.first)},inputs:{isRFI:"isRFI",currentNode:"currentNode",updateUrlOnFilterChange:"updateUrlOnFilterChange",board:"board"},outputs:{isReady:"isReady"},decls:4,vars:4,consts:[[1,"range-overview-container"],["class","spinner",4,"ngIf"],["class","range",4,"ngIf"],[1,"spinner"],["color","accent"],[1,"range"],[1,"action-ranges"],[3,"range","one","two","three","four","isIcm","adjustEvBy","hideEvDifference","showExport","allowExport","isExporting","exportClicked","updateSorting",4,"ngIf"],["class","multi-ranges-container",3,"one","two","three","four",4,"ngIf"],[1,"options"],[1,"filter-options"],["placeholder","",3,"label","initialValue","filter"],["cardfilter",""],[1,"checkboxes"],[1,"hide-freq","checkbox",3,"ngModel","ngModelChange","change"],[1,"show-evtobest","checkbox",3,"checked","change"],[3,"range","isIcm","adjustEvBy","hideEvDifference","showExport","allowExport","isExporting","exportClicked","updateSorting"],[1,"multi-ranges-container"],[3,"range","isIcm","adjustEvBy","hideEvDifference","showExport","allowExport","isExporting","exportClicked","updateSorting",4,"ngIf"]],template:function(t,e){1&t&&(Ua(0,"div",0),Na(1,XU,4,0,"div",1),tl(2,"async"),Na(3,oq,14,7,"div",2),qa()),2&t&&(so(1),Ha("ngIf",el(2,2,e.isLoading$)||!e.hasRange),so(2),Ha("ngIf",e.hasRange))},styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:9rem}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option-disabled{color:var(--text-color-disabled)!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.range-overview-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;height:100%}.range-overview-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;padding:.3rem .625rem;width:calc(100% - 1.375rem - 2px);height:100%;color:var(--text-color)}.range-overview-container[_ngcontent-%COMP%]   .range.outdated[_ngcontent-%COMP%]{opacity:.25;border:1px solid red}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{cursor:pointer}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]{margin-left:5px;font-size:.8rem}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:1rem 0 .625rem;font-weight:400}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-weight:500;width:100%;text-align:center}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:.5rem;height:100%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]{width:50%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .two[_ngcontent-%COMP%]{width:49.5%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .four[_ngcontent-%COMP%], .range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .three[_ngcontent-%COMP%]{width:32.8%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .multi-ranges-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:stretch;gap:.5rem}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .multi-ranges-container[_ngcontent-%COMP%]   app-action-range-view[_ngcontent-%COMP%]{width:100%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .multi-ranges-container.four[_ngcontent-%COMP%]   app-action-range-view[_ngcontent-%COMP%]{height:50%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .multi-ranges-container.three[_ngcontent-%COMP%]   app-action-range-view[_ngcontent-%COMP%]{height:100%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;margin-top:1rem}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .filter-options[_ngcontent-%COMP%]{width:70%;flex-grow:1}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .checkboxes[_ngcontent-%COMP%]{margin-left:1rem;display:flex;flex-direction:column;justify-content:flex-start}"],changeDetection:0}),aq),cq=function(){function t(e,n){f(this,t),this.delay=e,this.scheduler=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new lq(t,this.delay,this.scheduler))}}]),t}(),lq=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return g(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new uq(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(ey.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(ey.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(R),uq=g(function t(e,n){f(this,t),this.time=e,this.notification=n});function hq(t,e){1&t&&(Ua(0,"div",3),Wa(1,"mat-spinner",4),qa())}function dq(t,e){if(1&t&&(Ua(0,"mat-option",19),Ss(1),qa()),2&t){var n=e.$implicit;Ha("value",n.value),so(1),Ts(" ",n.viewValue," ")}}function fq(t,e){if(1&t){var n=Qa();Ua(0,"div",15),Ua(1,"mat-form-field",16),Ua(2,"mat-label"),Ss(3,"Sort by"),qa(),Ua(4,"mat-select",17),Ja("valueChange",function(t){return Qe(n),is(2).currentSorting=t}),Na(5,dq,2,2,"mat-option",18),qa(),qa(),qa()}if(2&t){var i=is(2);so(4),Ha("value",i.currentSorting)("disabled",!i.hasRangeFrequencies),so(1),Ha("ngForOf",i.sortingOptions)}}function pq(t,e){if(1&t){var n=Qa();Ua(0,"div",20),Ja("click",function(){Qe(n);var t=e.$implicit;return is(2).sortByAction(t)}),Ss(1),qa()}if(2&t){var i=e.$implicit,r=is(2);gs("selected",r.isSelectedForSorting(i)),Ha("ngClass",r.actionClasses(i)),so(1),Ts(" ",r.actionLabel(i)," ")}}function gq(t,e){if(1&t){var n=Qa();Ua(0,"div",21),Ua(1,"div",22),Ua(2,"div",23),Ja("click",function(){return Qe(n),is(2).emitTrainRandomBoardsForSelection()}),Wa(3,"i",24),qa(),Ua(4,"div",25),Ja("click",function(){return Qe(n),is(2).emitTrainSelection()}),Wa(5,"i",26),qa(),qa(),Ua(6,"div",22),Ua(7,"div",27),Ja("click",function(){return Qe(n),is(2).emitShowRangeForSelection()}),Wa(8,"i",28),qa(),Ua(9,"div",29),Ja("click",function(){return Qe(n),is(2).clearSelection()}),Wa(10,"i",30),qa(),qa(),qa()}if(2&t){var i=is(2);so(2),gs("disabled",!i.hasSelection||!i.allowFilterOrTraining)("hidden",!i.allowTrainingRandomBoards),so(2),gs("disabled",!i.hasSelection||!i.allowFilterOrTraining),so(3),gs("disabled",!i.hasSelection||!i.allowFilterOrTraining),so(2),gs("disabled",!i.hasSelection)}}var vq=function(t){return{"width.%":t}};function mq(t,e){if(1&t&&(Ua(0,"div",37),Ua(1,"span"),Ss(2),tl(3,"percent"),qa(),qa()),2&t){var n=e.$implicit,i=is(3);Ha("ngClass",i.actionClasses(n))("ngStyle",Yc(9,vq,i.normalizedWidth(i.rangeValueForAction(n))))("matTooltip",i.rangeValueTooltip(n)),so(1),gs("hide-text",i.rangeValueForAction(n)<.05),so(1),Ms(nl(3,6,i.rangeValueForAction(n),"1.0-0"))}}function yq(t,e){if(1&t&&(Ua(0,"div",31),Ua(1,"div",32),Ua(2,"div",33),Ua(3,"div",34),Ss(4," Full range "),qa(),qa(),Ua(5,"div",35),Na(6,mq,4,11,"div",36),qa(),qa(),qa()),2&t){var n=is(2);so(5),gs("desktop",!n.isMobile),so(1),Ha("ngForOf",n.actions)}}function bq(t,e){1&t&&(Ua(0,"span"),Wa(1,"i",47),qa())}function _q(t,e){1&t&&(Ua(0,"span"),Wa(1,"i",48),qa())}function kq(t,e){if(1&t&&(Ua(0,"div",46),Na(1,bq,2,0,"span",45),Na(2,_q,2,0,"span",45),qa()),2&t){var n=is().$implicit,i=is(2);so(1),Ha("ngIf",i.isExpanded(n)),so(1),Ha("ngIf",!i.isExpanded(n))}}function Cq(t,e){if(1&t&&(Ua(0,"div",37),Ua(1,"span"),Ss(2),tl(3,"percent"),qa(),qa()),2&t){var n=e.$implicit,i=is().$implicit,r=is(2);Ha("ngClass",r.actionClasses(n))("ngStyle",Yc(9,vq,r.normalizedWidth(r.valueForAction(i,n))))("matTooltip",r.valueTooltip(i,n)),so(1),gs("hide-text",r.valueForAction(i,n)<.05),so(1),Ms(nl(3,6,r.valueForAction(i,n),"1.0-0"))}}function wq(t,e){if(1&t){var n=Qa();Ua(0,"div",49),Ua(1,"mat-checkbox",50),Ja("change",function(t){Qe(n);var e=is().$implicit;return is(2).updateBucketGroupSelection(t,e)}),qa(),qa()}if(2&t){var i=is().$implicit,r=is(2);so(1),Ha("disabled",r.isMobile)("checked",r.isSelectedBucketGroup(i))}}function xq(t,e){1&t&&(Ua(0,"span"),Wa(1,"i",47),qa())}function Pq(t,e){1&t&&(Ua(0,"span"),Wa(1,"i",48),qa())}function Oq(t,e){if(1&t&&(Ua(0,"div",46),Na(1,xq,2,0,"span",45),Na(2,Pq,2,0,"span",45),qa()),2&t){var n=is().$implicit,i=is(5);so(1),Ha("ngIf",i.isExpanded(n)),so(1),Ha("ngIf",!i.isExpanded(n))}}function Sq(t,e){if(1&t&&(Ua(0,"div",55),Ua(1,"span"),Ss(2),tl(3,"percent"),qa(),qa()),2&t){var n=e.$implicit,i=is().$implicit,r=is(5);Ha("ngClass",r.actionClasses(n))("ngStyle",Yc(9,vq,r.normalizedWidth(r.valueForAction(i,n))))("matTooltip",r.valueTooltip(i,n)),so(1),gs("hide-text",r.valueForAction(i,n)<.05),so(1),Ms(nl(3,6,r.valueForAction(i,n),"1.0-0"))}}function Mq(t,e){if(1&t){var n=Qa();Ua(0,"div",49),Ua(1,"mat-checkbox",50),Ja("change",function(t){Qe(n);var e=is().$implicit;return is(5).updateBucketGroupSelection(t,e)}),qa(),qa()}if(2&t){var i=is().$implicit,r=is(3).$implicit,o=is(2);so(1),Ha("disabled",o.isMobile||o.isSelectedBucketGroup(r))("checked",o.isSelectedBucketGroup(i))}}function Tq(t,e){if(1&t&&(Ua(0,"div",60),Ua(1,"span"),Ss(2),tl(3,"percent"),qa(),qa()),2&t){var n=e.$implicit,i=is().$implicit,r=is(7);Ha("ngClass",r.actionClasses(n))("ngStyle",Yc(9,vq,r.normalizedWidth(r.valueForAction(i,n))))("matTooltip",r.valueTooltip(i,n)),so(1),gs("hide-text",r.valueForAction(i,n)<.05),so(1),Ms(nl(3,6,r.valueForAction(i,n),"1.0-0"))}}function Eq(t,e){if(1&t){var n=Qa();Ua(0,"div",49),Ua(1,"mat-checkbox",50),Ja("change",function(t){Qe(n);var e=is().$implicit;return is(7).updateBucketSelection(t,e)}),qa(),qa()}if(2&t){var i=is().$implicit,r=is(2).$implicit,o=is(3).$implicit,a=is(2);so(1),Ha("disabled",a.isMobile||a.isSelectedBucketGroup(o)||a.isSelectedBucketGroup(r))("checked",a.isSelectedBucket(i))}}function Rq(t,e){if(1&t&&(Ua(0,"div",57),Ua(1,"div",58),Ua(2,"div",40),Ss(3),Ua(4,"span",41),Ss(5),tl(6,"percent"),qa(),qa(),qa(),Ua(7,"div",43),Na(8,Tq,4,11,"div",59),qa(),Na(9,Eq,2,2,"div",44),qa()),2&t){var n=e.$implicit,i=is(7);so(1),gs("shift",i.horizontalShift),so(2),Ts(" ",n.label," "),so(2),Ts(" (",nl(6,6,n.percentOfRangeInBucket,"1.0-2"),")"),so(3),Ha("ngForOf",i.actions),so(1),Ha("ngIf",!i.hidePanel&&!i.isMobile)}}function Fq(t,e){if(1&t&&(Ua(0,"div"),Na(1,Rq,10,9,"div",56),qa()),2&t){var n=is().$implicit;so(1),Ha("ngForOf",n.buckets)}}function Iq(t,e){if(1&t){var n=Qa();Ua(0,"div"),Ua(1,"div",52),Ua(2,"div",53),Ja("click",function(){Qe(n);var t=e.$implicit;return is(5).expandOrCollapse(t)}),Ua(3,"div",40),Ss(4),Ua(5,"span",41),Ss(6),tl(7,"percent"),qa(),qa(),Na(8,Oq,3,2,"div",42),qa(),Ua(9,"div",43),Na(10,Sq,4,11,"div",54),qa(),Na(11,Mq,2,2,"div",44),qa(),Na(12,Fq,2,1,"div",45),qa()}if(2&t){var i=e.$implicit,r=is(5);so(2),gs("expandable",i.canExpand)("shift",r.horizontalShift),so(2),Ts(" ",i.label," "),so(2),Ts(" (",nl(7,10,i.percentOfRangeInBucket,"1.0-2"),")"),so(2),Ha("ngIf",i.canExpand),so(2),Ha("ngForOf",r.actions),so(1),Ha("ngIf",!r.hidePanel&&!r.isMobile),so(1),Ha("ngIf",r.isExpanded(i))}}function Aq(t,e){if(1&t&&($a(0),Na(1,Iq,13,13,"div",51),Ga()),2&t){var n=is(2).$implicit,i=is(2);so(1),Ha("ngForOf",i.validGroups(n.children))}}function Dq(t,e){if(1&t&&(Ua(0,"div",55),Ua(1,"span"),Ss(2),tl(3,"percent"),qa(),qa()),2&t){var n=e.$implicit,i=is().$implicit,r=is(6);Ha("ngClass",r.actionClasses(n))("ngStyle",Yc(9,vq,r.normalizedWidth(r.valueForAction(i,n))))("matTooltip",r.valueTooltip(i,n)),so(1),gs("hide-text",r.valueForAction(i,n)<.05),so(1),Ms(nl(3,6,r.valueForAction(i,n),"1.0-0"))}}function Lq(t,e){if(1&t){var n=Qa();Ua(0,"div",49),Ua(1,"mat-checkbox",50),Ja("change",function(t){Qe(n);var e=is().$implicit;return is(6).updateBucketSelection(t,e)}),qa(),qa()}if(2&t){var i=is().$implicit,r=is(4).$implicit,o=is(2);so(1),Ha("disabled",o.isMobile||o.isSelectedBucketGroup(r))("checked",o.isSelectedBucket(i))}}function Bq(t,e){if(1&t&&(Ua(0,"div",52),Ua(1,"div",62),Ua(2,"div",40),Ss(3),Ua(4,"span",41),Ss(5),tl(6,"percent"),qa(),qa(),qa(),Ua(7,"div",43),Na(8,Dq,4,11,"div",54),qa(),Na(9,Lq,2,2,"div",44),qa()),2&t){var n=e.$implicit,i=is(6);so(1),gs("shift",i.horizontalShift),so(2),Ts(" ",n.label," "),so(2),Ts(" (",nl(6,6,n.percentOfRangeInBucket,"1.0-2"),")"),so(3),Ha("ngForOf",i.actions),so(1),Ha("ngIf",!i.hidePanel&&!i.isMobile)}}function Nq(t,e){if(1&t&&(Ua(0,"div"),Na(1,Bq,10,9,"div",61),qa()),2&t){var n=is(3).$implicit;so(1),Ha("ngForOf",n.buckets)}}function jq(t,e){if(1&t&&($a(0),Na(1,Nq,2,1,"div",45),Ga()),2&t){var n=is(2).$implicit,i=is(2);so(1),Ha("ngIf",i.isExpanded(n))}}function Vq(t,e){if(1&t&&(Ua(0,"div"),Na(1,Aq,2,1,"ng-container",45),Na(2,jq,2,1,"ng-container",45),qa()),2&t){var n=is().$implicit;so(1),Ha("ngIf",n.children),so(1),Ha("ngIf",n.buckets)}}function Hq(t,e){if(1&t){var n=Qa();Ua(0,"div",31),Ua(1,"div",38),Ua(2,"div",39),Ja("click",function(){Qe(n);var t=e.$implicit;return is(2).expandOrCollapse(t)}),Ua(3,"div",40),Ss(4),Ua(5,"span",41),Ss(6),tl(7,"percent"),qa(),qa(),Na(8,kq,3,2,"div",42),qa(),Ua(9,"div",43),Na(10,Cq,4,11,"div",36),qa(),Na(11,wq,2,2,"div",44),qa(),Na(12,Vq,3,2,"div",45),qa()}if(2&t){var i=e.$implicit,r=is(2);so(2),gs("expandable",i.canExpand)("shift",r.horizontalShift),so(2),Ts(" ",i.label," "),so(2),Ts(" (",nl(7,10,i.percentOfRangeInBucket,"1.0-2"),")"),so(2),Ha("ngIf",i.canExpand),so(2),Ha("ngForOf",r.actions),so(1),Ha("ngIf",!r.hidePanel&&!r.isMobile),so(1),Ha("ngIf",r.isExpanded(i))}}function zq(t,e){if(1&t){var n=Qa();Ua(0,"div",5),Ua(1,"div",6),Na(2,fq,6,3,"div",7),Ua(3,"mat-checkbox",8),Ja("ngModelChange",function(t){return Qe(n),is().horizontalShift=t})("change",function(t){return Qe(n),is().setHorizontalShift(t)}),Ss(4,"Shift subs"),qa(),Ua(5,"div",9),Na(6,pq,2,4,"div",10),qa(),Na(7,gq,11,10,"div",11),qa(),Ua(8,"div",12),Na(9,yq,7,3,"div",13),Na(10,Hq,13,13,"div",14),qa(),qa()}if(2&t){var i=is();so(2),Ha("ngIf",!i.hidePanel),so(1),Ha("ngModel",i.horizontalShift),so(2),gs("bar-centered",i.hidePanel),so(1),Ha("ngForOf",i.actions),so(1),Ha("ngIf",!i.hidePanel),so(2),Ha("ngIf",i.hasRangeFrequencies),so(1),Ha("ngForOf",i.validGroups(i.bucketGroups))}}var Uq,qq=function(t){return t[t.Strength=0]="Strength",t[t.Weight=1]="Weight",t}({}),Wq=function(t,e){return t.id-e.id},$q=function(t,e){return e.percentOfRangeInBucket-t.percentOfRangeInBucket},Gq=((Uq=function(){function e(t,n,i,r,o,a){f(this,e),this.store=t,this.rangeService=n,this.bucketService=i,this.feature=r,this.percentPipe=o,this.storage=a,this.hidePanel=!1,this.disableTrainRandomBoards=!1,this.updateSelection=new ol,this.showRangeForSelection=new ol,this.trainSelection=new ol,this.trainRandomBoardsForSelection=new ol,this.isReady=new ol,this.SHIFT_SUBS_KEY="shift_subs",this.isCalculatingBuckets=!1,this.horizontalShift=!0,this._shiftSubs=!0,this.bucketGroups=[],this.CategorySorting=qq,this.sorting=qq.Strength,this.sortingOptions=[{value:qq.Strength,viewValue:"Default"},{value:qq.Weight,viewValue:"Weight"}],this.bucketSelection=[],this.bucketGroupSelection=[],this.subscriptions=[],this.isMobile=ID(),this._shiftSubs=!0,"false"===this.storage.get(this.SHIFT_SUBS_KEY)&&(this._shiftSubs=!1),this.horizontalShift=this._shiftSubs}return g(e,[{key:"ngOnInit",value:function(){var e;return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s=this;return t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.unsubscribe(),this.subscriptions.push(this.store.pipe(ob(jk)).subscribe(function(t){s.bucketSelection=t.buckets,s.bucketGroupSelection=t.groups})),this.subscriptions.push(this.rangeService.isLoading$.subscribe(function(t){return s.isLoadingRange=t})),this.subscriptions.push(this.store.pipe(ob(R_)).subscribe(function(t){s.currentTree=t})),!this.isFiveCard){n.next=19;break}if(this.isReady.emit(!1),this.isCalculatingBuckets=!0,!this.isPostFlop){n.next=8;break}return n.next=5,this.bucketService.segmentPostflopRange(this.board,null);case 5:n.t0=n.sent,n.next=11;break;case 8:return n.next=10,this.bucketService.segmentPreflopRange(null);case 10:n.t0=n.sent;case 11:if(i=n.t0,r=i.tree,o=i.node,a=i.bucketGroups,this.bucketGroups=a,!((null===(e=this.bucketGroups)||void 0===e?void 0:e.length)>0)){n.next=17;break}return n.abrupt("return",(this.actions=this.bucketGroups[0].values.map(function(t){return t.action}).sort(FD),this.expandedGroups={},this.rangeFrequencies=this.calculateRangeFrequenciesFromBuckets(this.actions,this.bucketGroups),this.store.dispatch(N_({tree:r,node:o,rangeFrequencies:this.rangeFrequencies})),this.isCalculatingBuckets=!1,void this.isReady.emit(!0)));case 17:if(!this.isPostFlop){n.next=19;break}return n.abrupt("return");case 19:this.subscriptions.push(this.store.pipe(ob(W_),function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vx,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new cq(i,n))}}(250)).subscribe(function(e){return Gm(s,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isReady.emit(!1),this.isCalculatingBuckets=!0,!(i=this.rangeService.getRange(e))){t.next=17;break}if(this.actions=i.ranges.map(function(t){return t.action}).sort(FD),this.rangeFrequencies=C(i.rangeFrequencies).sort(function(t,e){return FD(t.action,e.action)}),!this.isPostFlop){t.next=11;break}return t.next=8,this.bucketService.segmentPostflopRange(this.board,i,this.hand);case 8:t.t0=t.sent,t.next=14;break;case 11:return t.next=13,this.bucketService.segmentPreflopRange(i);case 13:t.t0=t.sent;case 14:r=t.t0,a=(o=r).tree,s=o.node,c=o.bucketGroups,this.bucketGroups=c,this.expandedGroups={},this.rangeFrequencies||(this.rangeFrequencies=this.calculateRangeFrequenciesFromBuckets(this.actions,this.bucketGroups),this.store.dispatch(N_({tree:a,node:s,rangeFrequencies:this.rangeFrequencies}))),this.isCalculatingBuckets=!1,this.isReady.emit(!0);case 17:case"end":return t.stop()}},n,this)}))}));case 20:case"end":return n.stop()}},n,this)}))}},{key:"calculateRangeFrequenciesFromBuckets",value:function(t,e){return t.map(function(t){var n=e.map(function(e){var n;return e.percentOfRangeInBucket*(null===(n=e.values.find(function(e){return SD(t,e.action)}))||void 0===n?void 0:n.overallFreq)}).reduce(function(t,e){return t+e},0);return{action:t,overallFreq:n}}).filter(function(t){return t.overallFreq>=0})}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){var t,e=k(this.subscriptions);try{for(e.s();!(t=e.n()).done;){var n=t.value;n&&n.unsubscribe()}}catch(i){e.e(i)}finally{e.f()}}},{key:"setHorizontalShift",value:function(t){this.toggleShiftSubs()}},{key:"isValid",get:function(){return this.bucketGroups.length>0}},{key:"allowTrainingRandomBoards",get:function(){var t;return!this.disableTrainRandomBoards&&(null===(t=this.board)||void 0===t?void 0:t.length)>0&&this.feature.isAvailable(C_.RandomBoardTraining)}},{key:"allowFilterOrTraining",get:function(){return!this.isMobile||!this.isLoadingRange}},{key:"isFiveCard",get:function(){return!1}},{key:"currentSorting",get:function(){return this.sorting},set:function(t){this.sorting=t,this.sortBuckets()}},{key:"isPostFlop",get:function(){var t;return(null===(t=this.board)||void 0===t?void 0:t.length)>=6}},{key:"hasSelection",get:function(){return this.bucketSelection.length>0||this.bucketGroupSelection.length>0}},{key:"hasRangeFrequencies",get:function(){var t;return(null===(t=this.rangeFrequencies)||void 0===t?void 0:t.length)>0&&!this.rangeFrequencies.some(function(t){return!t.overallFreq})}},{key:"shiftSubs",get:function(){return this._shiftSubs}},{key:"toggleShiftSubs",value:function(){this._shiftSubs=!this._shiftSubs,this.storage.set(this.SHIFT_SUBS_KEY,this._shiftSubs?"true":"false")}},{key:"isSelectedBucket",value:function(t){return!!this.bucketSelection.find(function(e){return e.id===t.id})}},{key:"isSelectedBucketGroup",value:function(t){return!!this.bucketGroupSelection.find(function(e){return e.key===t.key})}},{key:"clearSelection",value:function(){this.store.dispatch(Sk({buckets:[]})),this.store.dispatch(Mk({groups:[]}))}},{key:"updateBucketSelection",value:function(t,e){if(t.checked){var n=[].concat(C(this.bucketSelection.filter(function(t){return t.id!==e.id})),[e]);this.store.dispatch(Sk({buckets:n}))}else{var i=this.bucketSelection.filter(function(t){return t.id!==e.id});this.store.dispatch(Sk({buckets:i}))}}},{key:"updateBucketGroupSelection",value:function(t,e){if(t.checked){var n=[].concat(C(this.bucketGroupSelection.filter(function(t){return t.key!==e.key})),[e]);this.store.dispatch(Mk({groups:n}))}else{var i=this.bucketGroupSelection.filter(function(t){return t.key!==e.key});this.store.dispatch(Mk({groups:i}))}}},{key:"validGroups",value:function(t){return t.filter(function(t){return t.totalItems>0})}},{key:"expandOrCollapse",value:function(t){t.canExpand&&(this.expandedGroups[t.key]=!this.expandedGroups[t.key])}},{key:"isExpanded",value:function(t){return t&&!!this.expandedGroups[t.key]}},{key:"isSelectedForSorting",value:function(t){return this.sortAction&&SD(t,this.sortAction)}},{key:"sortBuckets",value:function(){var t=this;this.sorting===qq.Strength?(this.bucketGroups.sort(Wq),this.bucketGroups.forEach(function(e){return t.sortBucketGroup(e,Wq)})):(this.bucketGroups.sort($q),this.bucketGroups.forEach(function(e){return t.sortBucketGroup(e,$q)}))}},{key:"sortBucketGroup",value:function(t,e){var n=this;t.buckets?t.buckets.sort(e):(t.children.sort(e),t.children.forEach(function(t){return n.sortBucketGroup(t,e)}))}},{key:"sortByAction",value:function(t){var e=this;if(this.sortAction&&SD(t,this.sortAction))this.sortAction=null,this.sortBuckets();else{this.sortAction=t;var n=function(t){return function(n,i){var r=e.valueForAction(n,t),o=e.valueForAction(i,t);return r!==o?o-r:function(t,e){return t.id-e.id}(n,i)}}(t);this.bucketGroups.sort(n),this.bucketGroups.forEach(function(t){return e.sortBucketGroup(t,n)})}}},{key:"actionLabel",value:function(t){var e,n,i,r=u_(t,null===(e=this.currentTree)||void 0===e?void 0:e.raiseSizeMapping);if(this.useRFIvalueForAction(r)){var o=this.getRFIValue();return MD(r,r.hasPrevBet,!this.isPostFlop,o?o+"x":null,null===(n=this.currentTree)||void 0===n?void 0:n.fixedRaiseSize)}return MD(r,r.hasPrevBet,!this.isPostFlop,null,null===(i=this.currentTree)||void 0===i?void 0:i.fixedRaiseSize)}},{key:"valueForAction",value:function(t,e){var n;return MH(null===(n=null==t?void 0:t.values.find(function(t){return SD(t.action,e)}))||void 0===n?void 0:n.overallFreq,1)}},{key:"rangeValueForAction",value:function(t){var e,n;return MH(null===(n=null===(e=this.rangeFrequencies)||void 0===e?void 0:e.find(function(e){return SD(e.action,t)}))||void 0===n?void 0:n.overallFreq,1)}},{key:"actionClasses",value:function(t){var e=function(t){return["BET","RAISE","RAISECHIP"].includes(t.type.toUpperCase())};if(e(t))switch(this.actions.filter(e).sort(function(t,e){return t.amount||e.amount?t.amount-e.amount:e.amountLabel.localeCompare(t.amountLabel)}).findIndex(function(e){return e.amount?e.amount===t.amount:e.amountLabel===t.amountLabel})){case 0:return"action raise0";case 1:return"action raise1";case 2:return"action raise2"}else switch(t.type.toUpperCase()){case s_.FOLD:return"action fold";case s_.CALL:return"action call";case s_.CHECK:return"action check";case"AI":case"ALL IN":case"ALL-IN":case"ALL_IN":case s_.ALLIN:return"action allin";case s_.MIN:case s_.MR:return"action min";default:return"action default"}}},{key:"normalizedWidth",value:function(t){return 100*t}},{key:"bucketTooltip",value:function(t){return t.label}},{key:"valueTooltip",value:function(t,e){var n=this.valueForAction(t,e);return"".concat(this.actionLabel(e),": ").concat(this.percentPipe.transform(n,"1.0-0"))}},{key:"rangeValueTooltip",value:function(t){var e=this.rangeValueForAction(t);return"".concat(this.actionLabel(t),": ").concat(this.percentPipe.transform(e,"1.0-0"))}},{key:"getBucketIndex",value:function(t,e){return bk(t,e)}},{key:"emitUpdatedSelection",value:function(){var t=this.getSyntaxForSelection();this.updateSelection.emit(t)}},{key:"emitTrainSelection",value:function(){if(this.allowFilterOrTraining&&this.hasSelection){var t=this.getSyntaxForSelection();this.trainSelection.emit(t)}}},{key:"emitTrainRandomBoardsForSelection",value:function(){if(this.allowFilterOrTraining&&this.hasSelection&&this.allowTrainingRandomBoards){var t=this.getSyntaxForSelection();this.trainRandomBoardsForSelection.emit(t)}}},{key:"emitShowRangeForSelection",value:function(){if(this.allowFilterOrTraining&&this.hasSelection){var t=this.getSyntaxForSelection();this.showRangeForSelection.emit(t)}}},{key:"getSyntaxForSelection",value:function(){return w_(this.store.pipe(ob(Hk(this.isPostFlop))))}},{key:"useRFIvalueForAction",value:function(t){return m_(t,this.currentTree,this.isPostFlop,this.isRFI)}},{key:"getRFIValue",value:function(){var t;return(null!==(t=this.currentTree.rfiValues)&&void 0!==t?t:{})[this.currentPosition]||this.currentTree.rfiValue}}]),e}()).\u0275fac=function(t){return new(t||Uq)(Va(ib),Va(OD),Va(PB),Va(aF),Va(bd),Va(iF))},Uq.\u0275cmp=ne({type:Uq,selectors:[["app-bucket-chart"]],inputs:{board:"board",isRFI:"isRFI",currentPosition:"currentPosition",hand:"hand",hidePanel:"hidePanel",disableTrainRandomBoards:"disableTrainRandomBoards"},outputs:{updateSelection:"updateSelection",showRangeForSelection:"showRangeForSelection",trainSelection:"trainSelection",trainRandomBoardsForSelection:"trainRandomBoardsForSelection",isReady:"isReady"},decls:3,vars:4,consts:[[1,"bucket-chart-container"],["class","spinner",4,"ngIf"],["class","chart-wrapper",4,"ngIf"],[1,"spinner"],["color","accent"],[1,"chart-wrapper"],[1,"top-row"],["class","sort",4,"ngIf"],[1,"sub-shift","checkbox",3,"ngModel","ngModelChange","change"],[1,"legend"],["class","legend-item",3,"selected","ngClass","click",4,"ngFor","ngForOf"],["class","filter-add",4,"ngIf"],[1,"chart"],["class","chart-group",4,"ngIf"],["class","chart-group",4,"ngFor","ngForOf"],[1,"sort"],["color","accent","appearance","fill"],[3,"value","disabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"legend-item",3,"ngClass","click"],[1,"filter-add"],[1,"row"],["matTooltip","Train random boards for selection","matTooltipPosition","left","matTooltipClass","large-tooltip",3,"click"],[1,"fas","fa-dice"],["matTooltip","Train selection","matTooltipPosition","left","matTooltipClass","large-tooltip",3,"click"],[1,"fas","fa-dumbbell"],["matTooltip","Show range for selection","matTooltipPosition","left","matTooltipClass","large-tooltip",3,"click"],[1,"fas","fa-filter"],["matTooltip","Clear selection","matTooltipPosition","left","matTooltipClass","large-tooltip",3,"click"],[1,"fas","fa-trash"],[1,"chart-group"],[1,"chart-row","header"],[1,"chart-label"],[1,"label","bold"],[1,"freq-container"],["class","chart-value","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"ngClass","ngStyle","matTooltip",4,"ngFor","ngForOf"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"chart-value",3,"ngClass","ngStyle","matTooltip"],[1,"chart-row"],[1,"chart-label",3,"click"],[1,"label"],[1,"small"],["class","expand-collapse-icon",4,"ngIf"],[1,"freq-container","width-50"],["class","range-icon",4,"ngIf"],[4,"ngIf"],[1,"expand-collapse-icon"],[1,"fas","fa-angle-down"],[1,"fas","fa-angle-right"],[1,"range-icon"],[3,"disabled","checked","change"],[4,"ngFor","ngForOf"],[1,"chart-row","sub-1"],[1,"chart-label","sub-1",3,"click"],["class","chart-value sub-1","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"ngClass","ngStyle","matTooltip",4,"ngFor","ngForOf"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"chart-value","sub-1",3,"ngClass","ngStyle","matTooltip"],["class","chart-row sub-2",4,"ngFor","ngForOf"],[1,"chart-row","sub-2"],[1,"chart-label","sub-2"],["class","chart-value sub-2","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"ngClass","ngStyle","matTooltip",4,"ngFor","ngForOf"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"chart-value","sub-2",3,"ngClass","ngStyle","matTooltip"],["class","chart-row sub-1",4,"ngFor","ngForOf"],[1,"chart-label","sub-1"]],template:function(t,e){1&t&&(Ua(0,"div",0),Na(1,hq,2,0,"div",1),Na(2,zq,11,8,"div",2),qa()),2&t&&(gs("panel",!e.hidePanel),so(1),Ha("ngIf",e.isCalculatingBuckets),so(1),Ha("ngIf",!e.isCalculatingBuckets))},directives:[Kh,XR,vV,rw,ex,$h,XF,qF,Fj,eR,qh,_A,od],pipes:[bd],styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:7.5rem}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-frame{border-color:var(--checkbox-border)!important}[_nghost-%COMP%]     .mat-checkbox.mat-checkbox-disabled .mat-checkbox-frame{border-color:var(--checkbox-border-disabled)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option-disabled{color:var(--text-color-disabled)!important}.large-tooltip[_ngcontent-%COMP%]{font-size:1.2rem}.bucket-chart-container[_ngcontent-%COMP%]{display:inline-block;color:var(--text-color)}.bucket-chart-container.panel[_ngcontent-%COMP%]{margin-top:calc(1rem - 2px);padding:.3125rem .625rem 1.25rem;width:calc(100% - 1.375rem - 2px);height:calc(100% - 2.5625rem);overflow:hidden}.bucket-chart-container.outdated[_ngcontent-%COMP%]{opacity:.25;border:1px solid red}.bucket-chart-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:100%;justify-content:center;align-items:center}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%], .bucket-chart-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]{min-width:9rem;margin-left:1rem;margin-top:.625rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{margin:.625rem 0 1.25rem;width:100%;display:flex;flex-direction:row;justify-content:center;cursor:default}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend.bar-centered[_ngcontent-%COMP%]{margin-left:20.625rem;margin-bottom:.3125rem;margin-top:1.25rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{margin:.625rem;padding:.3125rem .75rem;color:#fff;display:flex;flex-direction:row;align-items:center;border-radius:var(--border-radius);cursor:pointer}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-item.selected[_ngcontent-%COMP%]{padding:.3125rem .625rem;border:2px solid #fff}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin:.3125rem 0;height:100%}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;width:1.25rem;margin-right:.625rem;cursor:pointer}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-right:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:unset}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hidden[_ngcontent-%COMP%]{visibility:hidden}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .range-bucket-sep[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:.75rem;margin-left:1rem;margin-right:.3125rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:stretch;align-items:center;margin-bottom:.3rem;height:2.5rem;cursor:default}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.header[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,100%,.18823529411764706)}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.header[_ngcontent-%COMP%]   .freq-container.desktop[_ngcontent-%COMP%]{padding-right:1.875rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.sub-1[_ngcontent-%COMP%]{background-color:var(--highlight-color-half);margin-bottom:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.sub-2[_ngcontent-%COMP%]{background-color:var(--highlight-color);margin-bottom:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]{width:40%;max-width:20rem;min-width:15rem;display:flex;flex-direction:row;justify-content:space-between;margin-right:.625rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.expandable[_ngcontent-%COMP%]{cursor:pointer}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .range-freq[_ngcontent-%COMP%]{padding-left:3.125rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{min-width:1.5625rem;margin-right:.625rem;text-align:right;font-weight:500}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{margin-left:.3125rem;font-size:.75rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-1[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:1.5rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-1.shift[_ngcontent-%COMP%]{margin-left:1.5rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-1.shift[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-2[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:3rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-2.shift[_ngcontent-%COMP%]{margin-left:3rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-2.shift[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{margin:auto 1rem auto .625rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;width:60%}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]{height:1.875rem;display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;color:#fff}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value.sub-1[_ngcontent-%COMP%], .bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value.sub-2[_ngcontent-%COMP%]{height:1.5rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]:last-child{margin-right:.625rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]   span.hide-text[_ngcontent-%COMP%]{visibility:hidden}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .range-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:1.875rem;cursor:pointer}.default[_ngcontent-%COMP%]{background-color:var(--default-background);color:var(--default-color)!important}.min[_ngcontent-%COMP%], .raise0[_ngcontent-%COMP%]{background-color:var(--raise0-background);color:var(--raise0-color)!important}.raise1[_ngcontent-%COMP%]{background-color:var(--raise1-background);color:var(--raise1-color)!important}.allin[_ngcontent-%COMP%], .raise2[_ngcontent-%COMP%]{background-color:var(--raise2-background);color:var(--raise2-color)!important}.raise3[_ngcontent-%COMP%]{background-color:var(--raise3-background);color:var(--raise3-color)!important}.fold[_ngcontent-%COMP%]{background-color:var(--fold-background);color:var(--fold-color)!important}.call[_ngcontent-%COMP%], .check[_ngcontent-%COMP%]{background-color:var(--call-background);color:var(--call-color)!important}"]}),Uq);function Kq(t,e){if(1&t&&(Ua(0,"div",7),Ua(1,"div",8),Ua(2,"div",9),Ss(3),qa(),Ua(4,"div",10),Ss(5),qa(),qa(),Ua(6,"div",11),Ss(7),qa(),qa()),2&t){var n=e.$implicit,i=is();so(1),Ha("ngClass",i.getResultClass(n)),so(2),Ts("",n.label,":"),so(2),Ms(n.description),so(2),Ts(" ",n.details," ")}}var Qq,Yq=((Qq=function(){function t(e){f(this,t),this.dialogRef=e,this._results=[{value:uB.MUSTMOVE,label:vB(uB.MUSTMOVE),description:"correct, huge EV diff",details:"EV loss = 0, EV diff > 5% of the pot"},{value:uB.CORRECT,label:vB(uB.CORRECT),description:"correct, the highest EV action",details:"EV loss = 0"},{value:uB.INACCURACY,label:vB(uB.INACCURACY),description:"incorrect, small EV loss",details:"EV loss <= 1.5% of the pot"},{value:uB.MISTAKE,label:vB(uB.MISTAKE),description:"incorrect, considerable EV loss",details:"EV loss <= 3% of the pot"},{value:uB.BLUNDER,label:vB(uB.BLUNDER),description:"incorrect, huge EV loss",details:"EV loss > 3% of the pot"}]}return g(t,[{key:"results",get:function(){return this._results}},{key:"getResultClass",value:function(t){return t.value.toLowerCase()}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Qq)(Va(pR))},Qq.\u0275cmp=ne({type:Qq,selectors:[["app-result-info-dialog"]],decls:9,vars:1,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"results-table"],["class","result",4,"ngFor","ngForOf"],["align","center"],[1,"link",3,"click"],[1,"result"],[1,"header",3,"ngClass"],[1,"label"],[1,"description"],[1,"details"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"h2",1),Ss(2,"Results description"),qa(),qa(),Ua(3,"mat-dialog-content",2),Ua(4,"div",3),Na(5,Kq,8,4,"div",4),qa(),qa(),Ua(6,"mat-dialog-actions",5),Ua(7,"a",6),Ja("click",function(){return e.close()}),Ss(8,"Close"),qa(),qa()),2&t&&(so(5),Ha("ngForOf",e.results))},directives:[ER,RR,$h,FR,qh],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container{background:#262a2c!important}.results-table[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;gap:.5rem;margin:1rem 0}.results-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;padding:0 .5rem;line-height:1.75rem}.results-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:6rem;font-weight:700}.results-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding-left:1.75rem}.mustmove[_ngcontent-%COMP%]{background-color:var(--green-correct-pale-brighter)}.correct[_ngcontent-%COMP%]{background-color:var(--green-correct-pale)}.inaccuracy[_ngcontent-%COMP%]{background-color:var(--yellow-incorrect-pale)}.mistake[_ngcontent-%COMP%]{background-color:var(--orange-incorrect-pale)}.blunder[_ngcontent-%COMP%]{background-color:var(--red-incorrect-pale)}.link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--link-color)}.link.disabled[_ngcontent-%COMP%]{cursor:unset;color:#888}.link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),Qq);function Zq(t,e){if(1&t&&(Ua(0,"span",22),Ss(1),qa()),2&t){var n=is();so(1),Ts(" (",n.filter,")")}}function Jq(t,e){1&t&&(Ua(0,"div",24),Wa(1,"i",25),qa())}function Xq(t,e){1&t&&(Ua(0,"div",26),Wa(1,"i",27),qa())}function tW(t,e){if(1&t){var n=Qa();Ua(0,"div",23),Ja("click",function(){return Qe(n),is().sortByBoard()}),Na(1,Jq,2,0,"div",9),Na(2,Xq,2,0,"div",10),Ua(3,"div"),Ss(4,"Board"),qa(),qa()}if(2&t){var i=is();so(1),Ha("ngIf",i.sortedByBoard&&i.sortedAscending),so(1),Ha("ngIf",i.sortedByBoard&&i.sortedDescending)}}function eW(t,e){1&t&&(Ua(0,"div",24),Wa(1,"i",25),qa())}function nW(t,e){1&t&&(Ua(0,"div",26),Wa(1,"i",27),qa())}function iW(t,e){1&t&&(Ua(0,"div",24),Wa(1,"i",25),qa())}function rW(t,e){1&t&&(Ua(0,"div",26),Wa(1,"i",27),qa())}function oW(t,e){1&t&&(Ua(0,"div",24),Wa(1,"i",25),qa())}function aW(t,e){1&t&&(Ua(0,"div",26),Wa(1,"i",27),qa())}function sW(t,e){if(1&t){var n=Qa();Ua(0,"div",34),Ua(1,"app-cards",35),Ja("click",function(){Qe(n);var t=is().$implicit;return is().openRange(t)}),qa(),qa()}if(2&t){var i=is().$implicit,r=is();so(1),Ha("cards",i.board)("matTooltip",r.getBoardTooltip(i))}}function cW(t,e){1&t&&(Ua(0,"span"),Wa(1,"i",36),qa())}function lW(t,e){1&t&&(Ua(0,"span"),Wa(1,"i",37),qa())}function uW(t,e){if(1&t&&($a(0),Ua(1,"div",48),Ss(2),tl(3,"percent"),qa(),Ua(4,"div",49),Ss(5),tl(6,"number"),qa(),Ga()),2&t){var n=e.ngIf,i=is(4);so(2),Ms(i.isDefined(n.overallFreq)?nl(3,2,n.overallFreq,"1.0-0"):"n/a"),so(3),Ms(i.isDefined(n.ev)?nl(6,5,n.ev,"1.2-2"):"n/a")}}function hW(t,e){1&t&&($a(0),Wa(1,"div",48),Wa(2,"div",49),Ga())}function dW(t,e){if(1&t&&(Ua(0,"div",11),Ua(1,"div",46),Ss(2),qa(),Ua(3,"div",47),Na(4,uW,7,8,"ng-container",21),Na(5,hW,3,0,"ng-container",21),qa(),qa()),2&t){var n=e.$implicit,i=is(2).$implicit,r=is();so(2),Ms(r.getFormattedAction(n)),so(2),Ha("ngIf",r.getActionFrequency(i,n)),so(1),Ha("ngIf",!r.getActionFrequency(i,n))}}function fW(t,e){if(1&t){var n=Qa();Ua(0,"div",50),Ua(1,"app-strategy-chart",51),Ja("openRange",function(){Qe(n);var t=is(2).$implicit;return is().openRange(t)})("openRangeForBucket",function(){Qe(n);var t=is(2).$implicit;return is().openRangeForBucket(t)}),qa(),qa()}if(2&t){var i=is(2).$implicit,r=is();gs("flop",r.isFlop(i))("turn",r.isTurn(i)),so(1),Ha("currentTree",r.tree)("isPostFlop",r.isPostFlop)("hasPrevBet",r.hasPrevBet)("isRFI",!!r.rfiLabel)("currentPosition",r.position)("actions",r.actions)("rangeFrequencies",i.rangeValues)("bucketGroup",i.bucket)("hideLegend",!0)("compact",!0)("showOpenRangeIcons",r.canOpenRange)}}function pW(t,e){if(1&t&&(Ua(0,"div",38),Ua(1,"div",39),Ua(2,"div",40),Ua(3,"div",41),Ss(4,"EV Diff"),qa(),Ua(5,"div",42),Ss(6),tl(7,"number"),qa(),qa(),Ua(8,"div",43),Na(9,dW,6,3,"div",44),qa(),qa(),Na(10,fW,2,15,"div",45),qa()),2&t){var n=is().$implicit,i=is();so(2),gs("with-board",i.showBoard),so(4),Ms(i.isDefined(n.evDiff)?nl(7,5,n.evDiff,"1.2-2"):"n/a"),so(3),Ha("ngForOf",i.actionsWithDetailsForResult(n)),so(1),Ha("ngIf",n.rangeValues&&n.bucket)}}function gW(t,e){if(1&t){var n=Qa();Ua(0,"div",28),Ua(1,"div",29),Ja("click",function(){Qe(n);var t=e.index;return is().showDetails(t)}),Ua(2,"div",6),Na(3,sW,2,2,"div",30),Ua(4,"div",31),Ua(5,"app-cards",32),Ja("click",function(t){Qe(n);var i=e.$implicit;return is().copyToClipboard(i.hand,t)}),qa(),qa(),Ua(6,"div",11),Ss(7),qa(),Ua(8,"div",13),Ss(9),qa(),qa(),Ua(10,"div",16),Na(11,cW,2,0,"span",21),Na(12,lW,2,0,"span",21),qa(),qa(),Na(13,pW,11,8,"div",33),qa()}if(2&t){var i=e.$implicit,r=e.index,o=is();so(1),Ha("ngClass",o.getResultClass(i)),so(2),Ha("ngIf",o.showBoard),so(2),Ha("cards",i.hand)("copyOnClick",!0),so(2),Ms(o.getFormattedAction(i.action)),so(2),Ms(o.getResultLabel(i)),so(2),Ha("ngIf",o.hasDetailsShown(r)),so(1),Ha("ngIf",!o.hasDetailsShown(r)),so(1),Ha("ngIf",o.hasDetailsShown(r))}}function vW(t,e){if(1&t&&(Ua(0,"span"),Ss(1),qa()),2&t){var n=is();so(1),Ts(" / ",n.maxHands,"")}}function mW(t,e){if(1&t){var n=Qa();Ua(0,"div"),Ua(1,"a",52),Ja("click",function(){return Qe(n),is().retryMistakes()}),Ss(2," Retry mistakes "),qa(),qa()}}var yW,bW,_W=function(t){return t[t.Sequence=0]="Sequence",t[t.Board=1]="Board",t[t.Action=2]="Action",t[t.Result=3]="Result",t}({}),kW=((bW=function(){function t(e,n,i,r){f(this,t),this.dialog=e,this.clipboard=n,this.snackBar=i,this.percentPipe=r,this.retry=new ol,this.sortDirection=pD.Desc,this.currentSorting=_W.Sequence}return g(t,[{key:"ngOnChanges",value:function(t){t.results&&(this.showDetailsFor=0)}},{key:"canOpenRange",get:function(){return!!this.tree}},{key:"positionLabel",get:function(){var t,e;return this.position===(null===(e=null===(t=this.tree)||void 0===t?void 0:t.setup)||void 0===e?void 0:e.replaceWithStraddle)?i_(!1):this.position}},{key:"sortedActions",get:function(){return this.actions.sort(FD)}},{key:"actionsWithDetailsForResult",value:function(t){return this.showBoard?this.actions.filter(function(e){return t.frequencies.some(function(t){return SD(t.action,e)})}):this.actions}},{key:"totalHands",get:function(){return this.results.length}},{key:"totalCorrect",get:function(){return this.results.filter(function(t){return t.isCorrect}).length}},{key:"totalEvLoss",get:function(){return this.results.filter(function(t){return!t.isCorrect}).map(function(t){return t.evLoss}).filter(function(t){return null!=t&&!isNaN(t)}).reduce(function(t,e){return t+e},0)}},{key:"avgEvLoss",get:function(){var t=this.results.filter(function(t){return null!=t.evLoss&&!isNaN(t.evLoss)}).length;return t>0?this.totalEvLoss/t:0}},{key:"accuracy",get:function(){return this.totalHands>0?this.totalCorrect/this.totalHands:0}},{key:"sortedResults",get:function(){var t=this.sortDirection===pD.Desc?1:-1,e=function(t){return function(e,n){var i=hB.indexOf(e.result),r=hB.indexOf(n.result),o=isNaN(e.evDiff)?0:e.evDiff,a=isNaN(n.evDiff)?0:n.evDiff;return i===r?t*(o-a):t*(r-i)}};return this.currentSorting===_W.Sequence?this.sortDirection===pD.Desc?this.results:C(this.results).reverse():this.currentSorting===_W.Board?C(this.results).sort(function(n,i){var r=t*Object(LA.sortCards)(n.board,i.board);return 0===r?e(1)(n,i):r}):this.currentSorting===_W.Result?C(this.results).sort(e(t)):this.currentSorting===_W.Action?C(this.results).sort(function(n,i){var r=t*FD(n.action,i.action);return 0===r?e(1)(n,i):r}):void 0}},{key:"hasCustomSettings",get:function(){return!((t=this.settings).minFrequency===fN.minFrequency&&t.minWeight===fN.minWeight&&t.selectBalanced===fN.selectBalanced&&t.evDiff===fN.evDiff&&(!t.evSpread||t.evSpread.min===fN.evSpread.min&&t.evSpread.max===fN.evSpread.max));var t}},{key:"sortBySequence",value:function(){this.sortedBySequence?this.sortDirection=this.sortDirection===pD.Asc?pD.Desc:pD.Asc:(this.currentSorting=_W.Sequence,this.sortDirection=pD.Desc)}},{key:"sortByBoard",value:function(){this.sortedByBoard?this.sortDirection=this.sortDirection===pD.Asc?pD.Desc:pD.Asc:(this.currentSorting=_W.Board,this.sortDirection=pD.Desc)}},{key:"sortByAction",value:function(){this.sortedByAction?this.sortDirection=this.sortDirection===pD.Asc?pD.Desc:pD.Asc:(this.currentSorting=_W.Action,this.sortDirection=pD.Desc)}},{key:"sortByResult",value:function(){this.sortedByResult?this.sortDirection=this.sortDirection===pD.Asc?pD.Desc:pD.Asc:(this.currentSorting=_W.Result,this.sortDirection=pD.Desc)}},{key:"sortedBySequence",get:function(){return this.currentSorting===_W.Sequence}},{key:"sortedByBoard",get:function(){return this.currentSorting===_W.Board}},{key:"sortedByAction",get:function(){return this.currentSorting===_W.Action}},{key:"sortedByResult",get:function(){return this.currentSorting===_W.Result}},{key:"sortedAscending",get:function(){return this.sortDirection===pD.Asc}},{key:"sortedDescending",get:function(){return this.sortDirection===pD.Desc}},{key:"hasDetails",value:function(t){return!!t.rangeValues&&!!t.bucket}},{key:"showDetails",value:function(t){this.showDetailsFor=this.showDetailsFor===t?null:t}},{key:"hasDetailsShown",value:function(t){return this.showDetailsFor===t}},{key:"sortingUpdated",value:function(){this.showDetailsFor=null}},{key:"getBoardTooltip",value:function(t){var e=this;return C(t.rangeValues).sort(function(t,e){return FD(t.action,e.action)}).map(function(t){return"".concat(e.getFormattedAction(t.action)," ").concat(e.percentPipe.transform(t.overallFreq,"1.0-1"))}).join(" | ")}},{key:"getActionFrequency",value:function(t,e){return t.frequencies.find(function(t){return SD(t.action,e)})}},{key:"isDefined",value:function(t){return null!=t&&!isNaN(t)&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY}},{key:"isFlop",value:function(t){var e;return this.showBoard&&3===(null===(e=t.board)||void 0===e?void 0:e.length)}},{key:"isTurn",value:function(t){var e;return this.showBoard&&4===(null===(e=t.board)||void 0===e?void 0:e.length)}},{key:"copyToClipboard",value:function(t,e){e.preventDefault(),e.stopImmediatePropagation();var n=t.map(LA.cardToString).join("");this.clipboard.copy(n),this.snackBar.open("Hand '".concat(n,"' copied to clipboard"),"Ok",{duration:3e3})}},{key:"retryMistakes",value:function(){this.allowRetry&&this.retry.emit()}},{key:"getFormattedAction",value:function(t){var e,n;if(t){var i=Object.assign(Object.assign({},t),{rfiLabel:this.rfiLabel}),r=u_(i,null===(e=this.tree)||void 0===e?void 0:e.raiseSizeMapping);return MD(r,r.hasPrevBet||this.hasPrevBet,!this.isPostFlop,r.rfiLabel,null===(n=this.tree)||void 0===n?void 0:n.fixedRaiseSize)}return null}},{key:"isCorrect",value:function(t){return pB(t.result)}},{key:"isActionCorrect",value:function(t){return t.overallFreq>0}},{key:"getResultLabel",value:function(t){return vB(t.result)}},{key:"getResultClass",value:function(t){return t.result.toLowerCase()}},{key:"showResultInfo",value:function(){this.dialog.open(Yq)}},{key:"openRangeForBucket",value:function(t){this.openRange(t,this.isPostFlop?t.bucket.syntax:t.bucket.key)}},{key:"openRange",value:function(t,e){var n,i,r;if(this.canOpenRange){var o=["type="+(this.isPostFlop?"postflop":"preflop"),"tree="+this.tree.key];if(this.isPostFlop){var a=null===(n=t.board)||void 0===n?void 0:n.slice(0,3),s=(null===(i=t.board)||void 0===i?void 0:i.length)>3?t.board[3]:null,c=(null===(r=t.board)||void 0===r?void 0:r.length)>4?t.board[4]:null;o.push("flop="+Object(LA.cardsToString)(a,!1)),s&&(o.push("turn="+Object(LA.cardToString)(s)),c&&o.push("river="+Object(LA.cardToString)(c)))}this.node&&o.push("node="+this.node),(null==e?void 0:e.length)>0&&o.push("filter=(".concat(e,")")),o.push("loadRange=true");var l="".concat(window.location.origin,"/?").concat(o.join("&"));window.open(l)}}}]),t}()).\u0275fac=function(t){return new(t||bW)(Va(SR),Va(LU),Va(qB),Va(bd))},bW.\u0275cmp=ne({type:bW,selectors:[["app-training-summary"]],inputs:{tree:"tree",node:"node",actions:"actions",hasPrevBet:"hasPrevBet",position:"position",filter:"filter",maxHands:"maxHands",isPostFlop:"isPostFlop",showBoard:"showBoard",rfiLabel:"rfiLabel",results:"results",settings:"settings",allowRetry:"allowRetry"},outputs:{retry:"retry"},features:[Pe],decls:51,vars:25,consts:[[1,"training-summary"],[1,"header"],[1,"top-row"],[1,"position"],["class","filter",4,"ngIf"],[1,"row"],[1,"main-info"],["class","board with-sort-icon",3,"click",4,"ngIf"],[1,"hand","with-sort-icon",3,"click"],["class","sort-icon up",4,"ngIf"],["class","sort-icon down",4,"ngIf"],[1,"action"],[1,"with-sort-icon",3,"click"],[1,"result"],[1,"icon",3,"click"],[1,"fas","fa-info-circle"],[1,"expand-collapse"],[1,"rows"],["rows",""],["class","row-container",4,"ngFor","ngForOf"],[1,"footer"],[4,"ngIf"],[1,"filter"],[1,"board","with-sort-icon",3,"click"],[1,"sort-icon","up"],[1,"fas","fa-sort-up"],[1,"sort-icon","down"],[1,"fas","fa-sort-down"],[1,"row-container"],[1,"row",3,"ngClass","click"],["class","board",4,"ngIf"],[1,"hand"],[3,"cards","copyOnClick","click"],["class","expand-panel",4,"ngIf"],[1,"board"],["matTooltipPosition","right","matTooltipClass","large-tooltip",3,"cards","matTooltip","click"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],[1,"expand-panel"],[1,"details"],[1,"ev-diff"],[1,"ev-diff-label"],[1,"ev-diff-value"],[1,"action-summary"],["class","action",4,"ngFor","ngForOf"],["class","chart",3,"flop","turn",4,"ngIf"],[1,"action-label"],[1,"action-values"],[1,"action-percent"],[1,"action-ev"],[1,"chart"],[3,"currentTree","isPostFlop","hasPrevBet","isRFI","currentPosition","actions","rangeFrequencies","bucketGroup","hideLegend","compact","showOpenRangeIcons","openRange","openRangeForBucket"],[1,"link",3,"click"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"div",1),Ua(2,"div",2),Ua(3,"div",3),Ua(4,"span"),Ss(5),qa(),Na(6,Zq,2,1,"span",4),qa(),qa(),Ua(7,"div",5),Ua(8,"div",6),Na(9,tW,5,2,"div",7),Ua(10,"div",8),Ja("click",function(){return e.sortBySequence()}),Na(11,eW,2,0,"div",9),Na(12,nW,2,0,"div",10),Ua(13,"div"),Ss(14,"Hand"),qa(),qa(),Ua(15,"div",11),Ua(16,"div",12),Ja("click",function(){return e.sortByAction()}),Na(17,iW,2,0,"div",9),Na(18,rW,2,0,"div",10),Ua(19,"div"),Ss(20,"Action"),qa(),qa(),qa(),Ua(21,"div",13),Ua(22,"div",12),Ja("click",function(){return e.sortByResult()}),Na(23,oW,2,0,"div",9),Na(24,aW,2,0,"div",10),Ua(25,"div"),Ss(26,"Result"),qa(),qa(),Ua(27,"div",14),Ja("click",function(){return e.showResultInfo()}),Wa(28,"i",15),qa(),qa(),qa(),Wa(29,"div",16),qa(),qa(),Ua(30,"div",17,18),Na(32,gW,14,9,"div",19),qa(),Ua(33,"div",20),Ua(34,"div"),Ua(35,"span"),Ss(36),qa(),Na(37,vW,2,1,"span",21),qa(),Ua(38,"div"),Ua(39,"span"),Ss(40),tl(41,"percent"),qa(),qa(),Ua(42,"div"),Ua(43,"span"),Ss(44),tl(45,"number"),qa(),qa(),Ua(46,"div"),Ua(47,"span"),Ss(48),tl(49,"number"),qa(),qa(),Na(50,mW,3,0,"div",21),qa(),qa()),2&t&&(so(5),Ms(e.positionLabel),so(1),Ha("ngIf",(null==e.filter?null:e.filter.length)>0),so(3),Ha("ngIf",e.showBoard),so(2),Ha("ngIf",e.sortedBySequence&&e.sortedAscending),so(1),Ha("ngIf",e.sortedBySequence&&e.sortedDescending),so(5),Ha("ngIf",e.sortedByAction&&e.sortedAscending),so(1),Ha("ngIf",e.sortedByAction&&e.sortedDescending),so(5),Ha("ngIf",e.sortedByResult&&e.sortedAscending),so(1),Ha("ngIf",e.sortedByResult&&e.sortedDescending),so(8),Ha("ngForOf",e.sortedResults),so(4),Ts("Hands: ",e.totalHands,""),so(1),Ha("ngIf",e.maxHands>0),so(3),Ts("Acc: ",nl(41,16,e.accuracy,"1.0-0"),""),so(4),Ts("EV Loss: ",nl(45,19,e.totalEvLoss,"1.0-2"),""),so(4),Ts("Avg. EV Loss: ",nl(49,22,e.avgEvLoss,"1.0-2"),""),so(2),Ha("ngIf",e.totalCorrect<e.totalHands&&e.allowRetry))},styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:120px}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}.training-summary[_ngcontent-%COMP%]{color:var(--text-color);display:inline-block;height:calc(100% - 2rem - 2px);margin:0;padding:1rem;width:calc(100% - 2rem - 2px)}.training-summary[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{margin-bottom:.625rem;height:3.125rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:.3125rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:500;margin-bottom:.625rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{font-weight:400}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;height:2rem;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;border-bottom:1px solid rgba(0,0,0,.3);background-color:var(--highlight-color);color:#fff}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row.expand-collapse[_ngcontent-%COMP%]{width:1.875rem;margin-left:auto;color:var(--fa-icon-color)}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding-left:.25rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.board[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{width:7rem;margin-right:1rem;justify-content:flex-start}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{display:flex;align-items:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.action[_ngcontent-%COMP%]{width:6.25rem;margin:0 .625rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.ev-diff[_ngcontent-%COMP%]{width:4.75rem;display:flex;align-items:center;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]{width:100%;padding-right:30px;display:flex;flex-direction:row;align-items:center;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:.5rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;flex-grow:1}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]:not(.hideCollapse){padding-right:1.875rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   .action-percent[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.3)}.training-summary[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-evenly;margin-top:.3125rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;height:calc(100% - 6rem);overflow-y:auto;overflow-x:hidden}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;padding:.15rem 0;border-bottom:1px solid var(--highlight-color);color:#fff;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.mustmove[_ngcontent-%COMP%]{background-color:var(--green-correct-pale-brighter)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.correct[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.freq_correct[_ngcontent-%COMP%]{background-color:var(--green-correct-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.inaccuracy[_ngcontent-%COMP%]{background-color:var(--yellow-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.mistake[_ngcontent-%COMP%]{background-color:var(--orange-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.blunder[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.freq_mistake[_ngcontent-%COMP%]{background-color:var(--red-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding-left:.25rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{line-height:2rem;text-align:center}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{width:7rem;margin-right:1rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.board[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;width:7rem;margin-right:1rem;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.action[_ngcontent-%COMP%]{width:6.25rem;margin:0 .625rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.ev-diff[_ngcontent-%COMP%]{width:4.75rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]{width:100%}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]{height:100%;line-height:2rem;display:flex;align-items:center;flex-grow:1;justify-content:space-between}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   .action-percent[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.3)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   .action-ev.correct[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   .action-percent.correct[_ngcontent-%COMP%]{background-color:var(--highlight-color)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .expand-collapse[_ngcontent-%COMP%]{width:1.875rem;color:var(--fa-icon-color)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .expand-collapse[_ngcontent-%COMP%], .with-sort-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer}.with-sort-icon[_ngcontent-%COMP%]{flex-direction:row;gap:.25rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:1.25rem;min-width:1.25rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon.up[_ngcontent-%COMP%]{padding-top:.65rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon.down[_ngcontent-%COMP%]{margin-top:-.5rem}.expand-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:.5rem;background-color:#262a2c}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;padding:0 1rem;margin-top:.5rem;line-height:1.5rem}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .ev-diff[_ngcontent-%COMP%]{width:6.25rem;text-align:center}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .ev-diff[_ngcontent-%COMP%]   .ev-diff-label[_ngcontent-%COMP%]{border-bottom:1px solid #fff}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .action-summary[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:2rem;width:100%}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .action-summary[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:6.25rem}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .action-summary[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .action-label[_ngcontent-%COMP%]{text-align:center;border-bottom:1px solid #fff}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .action-summary[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .action-values[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.expand-panel[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{padding:.625rem;display:flex;flex-direction:row;justify-content:flex-start}.expand-panel[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   app-strategy-chart[_ngcontent-%COMP%]{width:calc(100% - 2rem)}.expand-panel[_ngcontent-%COMP%]   .chart.flop[_ngcontent-%COMP%]{margin-left:1.875rem}.expand-panel[_ngcontent-%COMP%]   .chart.turn[_ngcontent-%COMP%]{margin-left:1.25rem}.link[_ngcontent-%COMP%]{margin-left:5px;padding:1px 10px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{padding:0 9px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),bW),CW=((yW=function(){function t(e,n,i){f(this,t),this.store=e,this.trainingService=n,this.dialog=i}return g(t,[{key:"ngOnInit",value:function(){var t=this;this._settings=w_(this.store.pipe(ob(hC),W(function(e){var n;return Object.assign(Object.assign(Object.assign({},fN),e),{evSpread:null===(n=t.settings)||void 0===n?void 0:n.evSpread})})))}},{key:"results",get:function(){return this.trainingService.results}},{key:"actionsForSummary",get:function(){return this.trainingService.actionsForSummary}},{key:"nodePath",get:function(){return""}},{key:"position",get:function(){return"Hero"}},{key:"filter",get:function(){return this.trainingService.filter}},{key:"isPostFlop",get:function(){return this.trainingService.isPostFlop}},{key:"settings",get:function(){return this._settings}},{key:"isRetryingMistakes",get:function(){return this.trainingService.isRetryingMistakes}},{key:"retryMistakes",value:function(){this.trainingService.retryMistakes()}}]),t}()).\u0275fac=function(t){return new(t||yW)(Va(ib),Va(vN),Va(SR))},yW.\u0275cmp=ne({type:yW,selectors:[["app-custom-sim-training"]],decls:2,vars:10,consts:[[1,"custom-sim-training-container"],[3,"node","actions","hasPrevBet","results","position","filter","isPostFlop","showBoard","settings","allowRetry","retry"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"app-training-summary",1),Ja("retry",function(){return e.retryMistakes()}),qa(),qa()),2&t&&(so(1),Ha("node",e.nodePath)("actions",e.actionsForSummary)("hasPrevBet",!1)("results",e.results)("position",e.position)("filter",e.filter)("isPostFlop",e.isPostFlop)("showBoard",!1)("settings",e.settings)("allowRetry",!e.isRetryingMistakes))},directives:[kW],styles:[".custom-sim-training-container[_ngcontent-%COMP%]{height:100%}"]}),yW),wW=["range"],xW=["tabs"],PW=["nodeSelector"],OW=["treeSelector"];function SW(t,e){if(1&t){var n=Qa();Ua(0,"app-node-selector",16,17),Ja("nodeSelected",function(t){return Qe(n),is().updateSelectedNode(t)})("flopSelectionAborted",function(){return Qe(n),is().expandTreeSelection()}),qa()}2&t&&Ha("activeTab",is().activeTab)}function MW(t,e){if(1&t){var n=Qa();Ua(0,"app-custom-sim-controls",18,19),Ja("startTraining",function(){return Qe(n),is().trainFilterOrSelectionForCustomSim()})("exitTraining",function(){return Qe(n),is().switchToRangeView()}),qa()}2&t&&Ha("activeTab",is().activeTab)}function TW(t,e){if(1&t&&Wa(0,"mat-tab",25),2&t){var n=is(2);Ha("label","Training")("disabled",n.disableCustomSimTrainingTab)}}function EW(t,e){if(1&t){var n=Qa();Ua(0,"mat-tab-group",20,21),Ja("selectedTabChange",function(t){return Qe(n),is().onTabChanged(t)}),Wa(2,"mat-tab",22),Wa(3,"mat-tab",23),Na(4,TW,1,2,"mat-tab",24),qa()}if(2&t){var i=is();Ha("selectedIndex",i.selectedIndex),so(3),Ha("label",i.isPostFlop?"Strength Buckets":"Categories"),so(1),Ha("ngIf",i.showCustomSimTrainingTab)}}function RW(t,e){if(1&t){var n=Qa();Ua(0,"div",26),Ja("click",function(){return Qe(n),is().createOrDeleteFavorite()}),tl(1,"async"),Wa(2,"i",27),Wa(3,"i",28),qa()}2&t&&gs("is-favorite",el(1,2,is().isFavorite$))}function FW(t,e){if(1&t){var n=Qa();Ua(0,"div",29),Ja("click",function(){return Qe(n),is().openSettings()}),Wa(1,"i",30),qa()}}function IW(t,e){if(1&t){var n=Qa();Ua(0,"div",31),Ua(1,"app-range-overview",32,33),Ja("isReady",function(t){return Qe(n),is().updateRangeIsReady(t)}),qa(),qa()}if(2&t){var i=is();gs("hide",0!==i.selectedIndex),so(1),Ha("board",i.currentBoard)("updateUrlOnFilterChange",!i.hasCustomTabSelected)("initialFilter",i.initialFilter)("isRFI",i.isRFI)("hasStraddle",i.hasStraddle)("currentNode",i.currentNode)("currentNodeId",i.currentNodeId)}}function AW(t,e){if(1&t){var n=Qa();Ua(0,"div",31),Ua(1,"app-bucket-chart",34),Ja("trainSelection",function(t){return Qe(n),is().trainBucketSelection(t)})("trainRandomBoardsForSelection",function(t){return Qe(n),is().trainRandomBoardsForBucketSelection(t)})("showRangeForSelection",function(t){return Qe(n),is().showRangeForBucketSelection(t)})("isReady",function(t){return Qe(n),is().updateChartIsReady(t)}),qa(),qa()}if(2&t){var i=is();gs("hide",1!==i.selectedIndex),so(1),Ha("disableTrainRandomBoards",i.hasCustomTabSelected)("board",i.currentBoard)("isRFI",i.isRFI)("currentPosition",i.currentPosition)}}function DW(t,e){1&t&&(Ua(0,"div",31),Wa(1,"app-custom-sim-training"),qa()),2&t&&gs("hide",2!==is().selectedIndex)}var LW,BW,NW,jW=((BW=function(){function e(t,n,i,r,o,a,s,c){f(this,e),this.route=t,this.store=n,this.treeService=i,this.rangeService=r,this.feature=o,this.dialog=a,this.customSimService=s,this.customTrainingService=c,this.activeTab="range",this._selectedIndex=this.isFiveCard?1:0,this.autoSelectTab=!0,this.rangeIsReady=!1,this.chartIsReady=!1,this._hideTable=!1}return g(e,[{key:"ngOnInit",value:function(){var e;return Gm(this,void 0,void 0,t().mark(function n(){var i,r=this;return t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.user$=this.store.pipe(ob(ak)),(i=this.route.snapshot.queryParams).filter&&this.store.dispatch(A_({filter:i.filter})),!i.type||!i.tree){n.next=7;break}i.type===h_.preflop?(this.unsubscribe(),this.subscription=this.store.pipe(ob(M_),vf(function(t){return t.length>0}),W(function(t){return t||[]}),W(function(t){return k_(k_(t.map(function(t){return t.profiles})).map(function(t){return t.trees}))}),W(function(t){return t.find(function(t){return t.key===i.tree})})).subscribe(function(e){return Gm(r,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||e.isLocked){t.next=4;break}this.store.dispatch(Qb({key:e.key})),t.next=6;break;case 4:return t.next=6,this.loadDefaultTree();case 6:case"end":return t.stop()}},n,this)}))})):(this.unsubscribe(),this.subscription=this.store.pipe(ob(T_),vf(function(t){return t.length>0}),W(function(t){return t||[]}),W(function(t){return k_(t.map(function(t){return t.trees}))}),W(function(t){return t.find(function(t){return t.key===i.tree})})).subscribe(function(e){return Gm(r,void 0,void 0,t().mark(function n(){var r,o,a,s;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||e.isLocked){t.next=5;break}r=i.flop,o=i.turn,a=i.river,s=i.node,this.store.dispatch(Jb({tree:e,flop:r,turn:o,river:a,transition:a?s:null})),t.next=7;break;case 5:return t.next=7,this.loadDefaultTree();case 7:case"end":return t.stop()}},n,this)}))})),n.next=9;break;case 7:return n.next=9,this.loadDefaultTree();case 9:i.type&&i.tree&&this.treeService.goToNode(null!==(e=i.node)&&void 0!==e?e:"",i.flop,i.turn,i.river);case 10:case"end":return n.stop()}},n,this)}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}},{key:"hasCustomTabSelected",get:function(){var t;return null===(t=this.treeSelector)||void 0===t?void 0:t.hasCustomSelected}},{key:"showCustomSimTrainingTab",get:function(){return this.hasCustomTabSelected&&this.customTrainingService.isReady}},{key:"disableCustomSimTrainingTab",get:function(){return this.showCustomSimTrainingTab&&this.customSimService.currentSim.disableTraining}},{key:"showSettingsIcon",get:function(){return"range"===this.activeTab||this.hasCustomTabSelected&&"training"===this.activeTab}},{key:"showFavoritesIcon",get:function(){return this.feature.isAvailable(C_.Favorites)&&!this.hasCustomTabSelected}},{key:"openSettings",value:function(){"range"===this.activeTab?this.rangeOverview.openSettings():"training"===this.activeTab&&this.customTrainingService.openSettings()}},{key:"createOrDeleteFavorite",value:function(){var t,e,n=(null===(t=this.route.snapshot.url)||void 0===t?void 0:t.length)>0?this.route.snapshot.url[0].path:"",i=mB(this.route.snapshot.queryParams,null===(e=this.rangeOverview)||void 0===e?void 0:e.settings);if(w_(this.isFavorite$)){var r=w_(this.store.pipe(ob(vk(n,i))));this.store.dispatch(uk({key:r}))}else this.dialog.open(cB,{data:{path:n,queryParams:i}})}},{key:"isFavorite$",get:function(){var t=this;return hp([this.route.queryParams,this.route.url]).pipe(Ep(function(e){var n,i=y(e,2),r=i[0],o=i[1],a=(null==o?void 0:o.length)>0?o[0].path:"",s=mB(r,null===(n=t.rangeOverview)||void 0===n?void 0:n.settings);return t.store.pipe(ob(mk(a,s)))}))}},{key:"selectModule",value:function(t){switch(t){case WN.preflop:this.treeSelector.selectPreflop();break;case WN.postflop:this.treeSelector.selectPostflop();break;case WN.custom:this._selectedIndex=0,this.treeSelector.selectCustom()}}},{key:"expandTreeSelection",value:function(){this.treeSelector.expandTreeSelection()}},{key:"switchToRangeView",value:function(){this._selectedIndex=0}},{key:"updateRangeIsReady",value:function(t){this.rangeIsReady=t,this.updateTab()}},{key:"updateChartIsReady",value:function(t){this.chartIsReady=t,this.updateTab()}},{key:"updateTab",value:function(){if(this.hasCustomTabSelected)this._selectedIndex=0;else{if(!this.rangeIsReady&&!this.chartIsReady)return this._selectedIndex=this.isFiveCard?1:0,void(this.autoSelectTab=!0);this.autoSelectTab&&(this.rangeIsReady?(this.autoSelectTab=!1,this._selectedIndex=0):this.chartIsReady&&(this.autoSelectTab=!1,this._selectedIndex=1)),this.scrollToBottom()}}},{key:"onTabChanged",value:function(t){switch(this._selectedIndex=t.index,t.index){case 2:this.activeTab="training",this.customTrainingService.inProgress||this.customTrainingService.next();break;case 1:this.activeTab="chart";break;case 0:default:this.activeTab="range"}this.scrollToBottom()}},{key:"scrollToBottom",value:function(){window.scrollTo(0,document.body.scrollHeight)}},{key:"hideTable",get:function(){return this._hideTable}},{key:"selectedIndex",get:function(){return this._selectedIndex}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isFiveCard",get:function(){return!1}},{key:"isPostFlop",get:function(){var t=w_(this.store.pipe(ob(R_)));return t&&t.type===h_.postflop}},{key:"currentNode",get:function(){return this._currentNode}},{key:"currentNodeId",get:function(){return this._currentNodeId}},{key:"currentBoard",get:function(){var t,e;return this.hasCustomTabSelected?null===(t=this.customSimService.currentSim)||void 0===t?void 0:t.board:null===(e=this.nodeSelector)||void 0===e?void 0:e.currentBoard}},{key:"isRFI",get:function(){var t;return null===(t=this.nodeSelector)||void 0===t?void 0:t.isRFI}},{key:"currentPosition",get:function(){var t;return null===(t=this.nodeSelector)||void 0===t?void 0:t.currentPlayer}},{key:"showInfoPanel$",get:function(){var t=this,e=this.nodeSelector?this.nodeSelector.isLoading$:pf(!1);return hp([this.rangeService.isLoading$,e,this.store.pipe(ob(W_)),this.store.pipe(ob(R_))]).pipe(W(function(e){var n=y(e,4),i=n[0],r=n[1],o=n[2],a=n[3];return!r&&(!!i||!(!a||!o)&&t.rangeService.hasRange(o))}))}},{key:"toggleMobileInfoFullscreen",value:function(){this._hideTable=!this._hideTable}},{key:"updateSelectedNode",value:function(t){var e=x_(t);e!==this._currentNodeId&&this.store.dispatch(Tk()),this._currentNodeId=e,this._currentNode=t}},{key:"showRangeForBucketSelection",value:function(t){this.rangeOverview.setFilter(t),this.tabs.selectedIndex=0}},{key:"trainFilterOrSelectionForCustomSim",value:function(){if(0===this.tabs.selectedIndex)this.customTrainingService.updateFilterAndRestart(this.rangeOverview.cardFilter.value),this.tabs.selectedIndex=2;else if(1===this.tabs.selectedIndex){var t=w_(this.store.pipe(ob(Hk(this.isPostFlop))));this.customTrainingService.updateFilterAndRestart(t),this.tabs.selectedIndex=2}}},{key:"trainBucketSelection",value:function(t){this.hasCustomTabSelected?(this.customTrainingService.updateFilterAndRestart(t),this.tabs.selectedIndex=2):this.nodeSelector.startNodeTraining(t)}},{key:"trainRandomBoardsForBucketSelection",value:function(t){this.nodeSelector.startRandomBoardNodeTraining(t)}},{key:"loadDefaultTree",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.feature.defaultTreeKey){t.next=5;break}return t.next=3,kx(250);case 3:t.next=0;break;case 5:this.store.dispatch(Qb({key:this.feature.defaultTreeKey}));case 6:case"end":return t.stop()}},e,this)}))}}]),e}()).\u0275fac=function(t){return new(t||BW)(Va(nv),Va(ib),Va(xB),Va(OD),Va(aF),Va(SR),Va(mN),Va(vN))},BW.\u0275cmp=ne({type:BW,selectors:[["app-browser"]],viewQuery:function(t,e){var n;1&t&&(bl(wW,!0),bl(xW,!0),bl(PW,!0),bl(OW,!0)),2&t&&(ml(n=xl())&&(e.rangeOverview=n.first),ml(n=xl())&&(e.tabs=n.first),ml(n=xl())&&(e.nodeSelector=n.first),ml(n=xl())&&(e.treeSelector=n.first))},decls:23,vars:26,consts:[[3,"selected"],[1,"layout-container"],[1,"table-container"],[1,"tree-selection-container"],["treeSelector",""],["class","app-node-selector-container",3,"activeTab","nodeSelected","flopSelectionAborted",4,"ngIf"],["class","app-custom-sim-controls",3,"activeTab","startTraining","exitTraining",4,"ngIf"],[1,"info-container"],["preserveContent","","animationDuration","0ms","class","no-border-bottom",3,"selectedIndex","selectedTabChange",4,"ngIf"],[1,"icon-bar"],[1,"control","toggle-info-fullscreen",3,"click"],[1,"fas","fa-angle-double-up"],[1,"fas","fa-angle-double-down"],["class","control create-favorite",3,"is-favorite","click",4,"ngIf"],["class","control settings",3,"click",4,"ngIf"],["class","tab-content",3,"hide",4,"ngIf"],[1,"app-node-selector-container",3,"activeTab","nodeSelected","flopSelectionAborted"],["nodeSelector",""],[1,"app-custom-sim-controls",3,"activeTab","startTraining","exitTraining"],["customSimControls",""],["preserveContent","","animationDuration","0ms",1,"no-border-bottom",3,"selectedIndex","selectedTabChange"],["tabs",""],["label","Range"],[3,"label"],[3,"label","disabled",4,"ngIf"],[3,"label","disabled"],[1,"control","create-favorite",3,"click"],[1,"icon","regular","far","fa-star"],[1,"icon","highlight","fas","fa-star"],[1,"control","settings",3,"click"],[1,"fas","fa-cog"],[1,"tab-content"],[3,"board","updateUrlOnFilterChange","initialFilter","isRFI","hasStraddle","currentNode","currentNodeId","isReady"],["range",""],[3,"disableTrainRandomBoards","board","isRFI","currentPosition","trainSelection","trainRandomBoardsForSelection","showRangeForSelection","isReady"]],template:function(t,e){1&t&&(Ua(0,"app-status-bar",0),Ja("selected",function(t){return e.selectModule(t)}),qa(),Ua(1,"div",1),Ua(2,"div",2),Wa(3,"app-tree-selection",3,4),Na(5,SW,2,1,"app-node-selector",5),Na(6,MW,2,1,"app-custom-sim-controls",6),qa(),Ua(7,"div",7),tl(8,"async"),Na(9,EW,5,3,"mat-tab-group",8),tl(10,"async"),Ua(11,"div",9),Ua(12,"div",10),Ja("click",function(){return e.toggleMobileInfoFullscreen()}),Wa(13,"i",11),Wa(14,"i",12),qa(),Na(15,RW,4,4,"div",13),Na(16,FW,2,0,"div",14),qa(),Na(17,IW,3,9,"div",15),tl(18,"async"),Na(19,AW,2,6,"div",15),tl(20,"async"),Na(21,DW,2,2,"div",15),tl(22,"async"),qa(),qa()),2&t&&(so(2),gs("hide",e.hideTable),so(3),Ha("ngIf",!e.hasCustomTabSelected),so(1),Ha("ngIf",e.hasCustomTabSelected),so(1),gs("show",el(8,16,e.showInfoPanel$))("fullscreen",e.hideTable),so(2),Ha("ngIf",el(10,18,e.showInfoPanel$)),so(3),gs("is-fullscreen",e.hideTable),so(3),Ha("ngIf",e.showFavoritesIcon),so(1),Ha("ngIf",e.showSettingsIcon),so(1),Ha("ngIf",el(18,20,e.showInfoPanel$)),so(2),Ha("ngIf",el(20,22,e.showInfoPanel$)),so(2),Ha("ngIf",el(22,24,e.showCustomSimTrainingTab&&e.showInfoPanel$)))},directives:[$N,VV,Kh,gz,Cz,fU,iU,sq,Gq,CW],pipes:[gd],styles:["[_ngcontent-%COMP%]:root{--border-color:hsla(0,0%,100%,0.25098039215686274);--border-style:1px solid var(--border-color);--border-style-bold:2px solid var(--border-color);--border-radius:0;--highlight-color-half:rgba(0,0,0,0.08235294117647059);--highlight-color:rgba(0,0,0,0.18823529411764706);--box-shadow:0 0 0.5rem var(--highlight-color);--link-border-radius:0;--navbar-size:3.5rem}[_nghost-%COMP%]     .mat-tab-label{font-size:1rem;width:8.125rem!important;min-width:8.125rem!important}[_nghost-%COMP%]     .mat-tab-body, [_nghost-%COMP%]     .mat-tab-body .mat-tab-body-content{overflow-y:hidden!important}[_nghost-%COMP%]     .mat-tab-group{overflow:hidden}[_nghost-%COMP%]     div[role=tab]{color:var(--text-color);height:3rem}[_nghost-%COMP%]     div[role=tab].mat-tab-label-active{color:var(--tree-category-color-active)}[_nghost-%COMP%]     div[role=tab].mat-tab-disabled{color:var(--tree-category-color-disabled)}[_nghost-%COMP%]     div[role=tab]:hover:not(.mat-tab-disabled){color:var(--tree-category-color-hover)}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header{border-bottom:none}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-labels{margin-left:50px}.tree-selection-container[_ngcontent-%COMP%]{width:100%;position:absolute;height:7rem}.app-node-selector-container[_ngcontent-%COMP%]{padding-top:3rem;width:100%;height:100%}.app-custom-sim-controls[_ngcontent-%COMP%]{padding-top:6rem;width:100%;height:100%}.tab-content[_ngcontent-%COMP%]{padding-bottom:10px;height:calc(100% - 3.3rem - 10px)}div[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{display:none}.table-container[_ngcontent-%COMP%]{width:35%;flex-shrink:0;padding-top:1rem}.info-container[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;position:relative;overflow:hidden;height:100%}.info-container[_ngcontent-%COMP%]{visibility:hidden;width:65%}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]{position:absolute;top:0;right:1rem;margin:.75rem .5rem .5rem;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1rem;line-height:2rem}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:block;justify-content:center;align-items:center;z-index:14;cursor:pointer;color:var(--scrollbar-color);font-size:1.5rem;height:100%}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite.is-favorite[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite.is-favorite[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{display:block;color:var(--favorite-highlight-color)}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen[_ngcontent-%COMP%]{display:none}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen[_ngcontent-%COMP%]   .fa-angle-double-up[_ngcontent-%COMP%]{display:block}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen[_ngcontent-%COMP%]   .fa-angle-double-down[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen.is-fullscreen[_ngcontent-%COMP%]   .fa-angle-double-up[_ngcontent-%COMP%]{display:none}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen.is-fullscreen[_ngcontent-%COMP%]   .fa-angle-double-down[_ngcontent-%COMP%]{display:block}.info-container[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]{width:100%;height:3.3rem}.info-container[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   .mat-tab-body-wrapper[_ngcontent-%COMP%]{height:calc(100% - 3rem)!important}.info-container.show[_ngcontent-%COMP%]{visibility:visible}app-mobile-warning[_ngcontent-%COMP%]{display:none}"]}),BW),VW=((LW=function(){function e(t,n){f(this,e),this.store=t,this.router=n}return g(e,[{key:"canActivate",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!w_(this.store.pipe(ob(rk)))){t.next=2;break}return t.abrupt("return",!0);case 2:return i=Object.assign({redirectTo:e.url.length>0?e.url:void 0},e.queryParams),t.abrupt("return",(this.router.navigate(["/login"],{queryParams:i}),!1));case 4:case"end":return t.stop()}},n,this)}))}}]),e}()).\u0275fac=function(t){return new(t||LW)(Ti(ib),Ti(Pm))},LW.\u0275prov=Pt({token:LW,factory:LW.\u0275fac,providedIn:"root"}),LW),HW=[.85,.86,.87],zW={minFrequency:85,minWeight:.5,evSpread:null,selectBalanced:!0},UW=((NW=function(){function e(t,n,i,r,o){f(this,e),this.treeService=t,this.rangeService=n,this.bucketService=i,this.snackBar=r,this.store=o}return g(e,[{key:"currentSituation",get:function(){return PL(this.tree)}},{key:"history",get:function(){return this.tree.history}},{key:"isPostFlop",get:function(){return!0}},{key:"hands",get:function(){return this._hands}},{key:"highlightFrom",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.startHistoryIndex}},{key:"initPostflopGame",value:function(e,n,i,r,o){return Gm(this,void 0,void 0,t().mark(function a(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.reset(),t.next=3,this.treeService.loadPostflopTree(e,i,r,o).toPromise();case 3:this.baseTree=t.sent,this.basePath=n,this.store.dispatch(Xb({tree:this.baseTree}));case 6:case"end":return t.stop()}},a,this)}))}},{key:"startGame",value:function(e,n){return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s,c,l,u,h,d,f;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.resetHands(),r=this.baseTree,o=r.flop,a=r.turn,s=r.river,c=[o,a,s].filter(function(t){return!!t}).join(""),this.tree=new CL(this.treeService,this.baseTree,this.basePath,o,a,s,this._cachedTrees),t.next=5,this.tree.waitUntilLoaded();case 5:if(this._cachedTrees=this.tree.cachedTrees,this.userPlayer=this.tree.currentPlayer,this.baseRange){t.next=18;break}return t.next=10,this.loadRangeForSituation(this.currentSituation,this.basePath);case 10:if(this.baseRange=t.sent,this.baseRange.filterItems=this.rangeService.assembleFilterItems(this.baseRange.ranges,this.baseRange.rangeKey),l=this.getAllClassificationsForFilter(e),!this.requiresLoadingClassifications(l,c)){t.next=18;break}return t.next=16,this.rangeService.loadPostflopClassificationLookup(c);case 16:u=this.rangeService.updatePostflopFilterItems(this.baseRange.filterItems,c),this.baseRange=Object.assign(Object.assign({},this.baseRange),{filterItems:u});case 18:if(h=SL(this.isPostFlop,0,this.baseRange.ranges,this.baseRange.adjustEvBy,this.baseRange.filterItems,e,n,null,null,HW),!(d=h.hand)){t.next=24;break}return t.next=22,this.getBucketValues(d.hand,this.baseRange.ranges,this.tree.nodePath);case 22:return f=t.sent,t.abrupt("return",(d.bucket=f,this._hands[this.currentSituation.currentPlayer]={hand:d.hand,show:!0},d));case 24:return t.abrupt("return",(this.snackBar.open("Can not select hand for your current settings!",null,{duration:5e3}),null));case 25:case"end":return t.stop()}},i,this)}))}},{key:"next",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h,d,f,p;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tree.update(e,n.rangeValues,n.bucket,i);case 2:if((o=t.sent).continue){t.next=12;break}if(!o.availableTurns&&!o.availableRivers){t.next=10;break}return t.next=7,this.handleTurnOrRiver(o);case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0={finished:!0};case 11:return t.abrupt("return",t.t0);case 12:return t.next=14,this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);case 14:if(a=t.sent,!this._hands[this.currentSituation.currentPlayer]){t.next=21;break}return t.next=18,this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,a.ranges,a.adjustEvBy);case 18:s=t.sent,t.next=23;break;case 21:c=Object.values(this._hands).flatMap(function(t){return t.hand}),l=SL(this.isPostFlop,0,a.ranges,a.adjustEvBy,a.filterItems,"",zW,null,c,HW),u=l.hand,s=Object.assign({},u),this._hands[this.currentSituation.currentPlayer]={hand:u.hand,show:!1};case 23:return h=Math.max.apply(Math,C(Object.values(s.actionValues).map(function(t){return t.freq}))),d=Object.values(s.actionValues).find(function(t){return t.freq===h}),t.next=27,this.tree.update(d,s.rangeValues,s.bucket);case 27:if(!(f=t.sent).continue){t.next=36;break}return t.next=31,this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);case 31:return p=t.sent,t.next=34,this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,p.ranges,p.adjustEvBy);case 34:return t.t1=t.sent,t.abrupt("return",{updatedHand:t.t1});case 36:if(!f.availableTurns&&!f.availableRivers){t.next=42;break}return t.next=39,this.handleTurnOrRiver(f);case 39:t.t2=t.sent,t.next=43;break;case 42:t.t2={finished:!0};case 43:return t.abrupt("return",t.t2);case 44:case"end":return t.stop()}},r,this)}))}},{key:"handleTurnOrRiver",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c,l,u,h,d,f,p;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object.values(this._hands).flatMap(function(t){return t.hand}),!e.availableTurns){t.next=7;break}return r=wL(e.availableTurns.filter(function(t){return!i.some(function(e){return Object(LA.cardIsEqual)(t,e)})})),t.next=5,this.tree.update({type:s_.turn,card:r});case 5:t.next=10;break;case 7:return o=wL(e.availableRivers.filter(function(t){return!i.some(function(e){return Object(LA.cardIsEqual)(t,e)})})),t.next=10,this.tree.update({type:s_.river,card:o});case 10:if(this.currentSituation.currentPlayer!==this.userPlayer){t.next=18;break}return t.next=13,this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);case 13:return a=t.sent,t.next=16,this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,a.ranges,a.adjustEvBy);case 16:return t.t0=t.sent,t.abrupt("return",{updatedHand:t.t0});case 18:return t.next=20,this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);case 20:if(s=t.sent,!this._hands[this.currentSituation.currentPlayer]){t.next=27;break}return t.next=24,this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,s.ranges,s.adjustEvBy);case 24:c=t.sent,t.next=29;break;case 27:l=Object.values(this._hands).flatMap(function(t){return t.hand}),u=SL(this.isPostFlop,0,s.ranges,s.adjustEvBy,s.filterItems,"",zW,null,l,HW),h=u.hand,c=Object.assign({},h),this._hands[this.currentSituation.currentPlayer]={hand:h.hand,show:!1};case 29:return d=Math.max.apply(Math,C(Object.values(c.actionValues).map(function(t){return t.freq}))),f=Object.values(c.actionValues).find(function(t){return t.freq===d}),t.next=32,this.tree.update(f,c.rangeValues,c.bucket);case 32:return t.next=34,this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);case 34:return p=t.sent,t.next=37,this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,p.ranges,p.adjustEvBy);case 37:return t.t1=t.sent,t.abrupt("return",{updatedHand:t.t1});case 39:case"end":return t.stop()}},n,this)}))}},{key:"updateHandFromRange",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h,d,f,p,g,v;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=Object(LA.cardsToString)(e,!1),a=Object(LA.cardsToString)(e,!0),s={},c=k(n);try{for(c.s();!(l=c.n()).done;)u=l.value,h="".concat(u.action.type).concat(u.action.amount?"_"+u.action.amount:""),d=u.items.find(function(t){return NA(t)===o||NA(t)===a}),f=u.action.type===s_.FOLD,d&&(p={type:u.action.type,amount:u.action.amount,weight:zA(d),freq:VA(d),ev:BA(HA(d),i,f),variations:qA(d)},s[h]=p)}catch(r){c.e(r)}finally{c.f()}return g=RL(n),t.next=6,this.getBucketValues(e,n,this.tree.nodePath);case 6:return v=t.sent,t.abrupt("return",{hand:e,combo:o,actionValues:s,rangeValues:g,bucket:v});case 8:case"end":return t.stop()}},r,this)}))}},{key:"reset",value:function(){this.baseTree=null,this.baseRange=null,this.tree=null,this.resetHands()}},{key:"resetHands",value:function(){this._hands={}}},{key:"loadRangeForSituation",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s,c,l,u,h,d,f,p,g,v,m,y,b,_,C,w,x,P,O;return t().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r=e.currentNode)||!r.next){i.next=40;break}(o=r.next).find(function(t){return t.action.type===s_.CHECK})&&(o=o.filter(function(t){return t.action.type!==s_.CALL})),a=[],s=k(o),i.prev=6,l=t().mark(function e(){var n;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=c.value,a.find(function(t){return t.rangeId===n.rangeId})||a.push({action:n.action,rangeId:n.rangeId});case 2:case"end":return t.stop()}},e)}),s.s();case 9:if((c=s.n()).done){i.next=13;break}return i.delegateYield(l(),"t0",11);case 11:i.next=9;break;case 13:i.next=18;break;case 15:i.prev=15,i.t1=i.catch(6),s.e(i.t1);case 18:return i.prev=18,s.f(),i.finish(18);case 21:if(i.prev=21,h=e.currentTree,d=e.currentPlayer,f=e.turnStakes,p=e.flopCards,g=e.turnCard,v=e.riverCard,m=this.tree.details.multiplyEVBy,!this.isPostFlop){i.next=30;break}return y=p.map(LA.cardToString).join(""),b=g?Object(LA.cardToString)(g):null,_=v?Object(LA.cardToString)(v):null,C=h.modifyEV,w=C?y_(C,y,n):m,x=f?f[d]:null,P=!!b||!!_,i.next=27,this.rangeService.loadPostflopRanges(d,h.key,n,x_(r),a,{flop:y,turn:b,river:_},{isTurnOrRiver:P,evFactor:w,turnInvest:x});case 27:u=i.sent,i.next=33;break;case 30:return i.next=32,this.rangeService.loadPreflopRanges(d,h.key,n,x_(r),a,{isTurnOrRiver:!1,evFactor:m});case 32:u=i.sent;case 33:return O=this.rangeService.assembleFilterItems(u.ranges),i.abrupt("return",Object.assign(Object.assign({},u),{filterItems:O}));case 37:i.prev=37,i.t2=i.catch(21),console.error(i.t2);case 40:case"end":return i.stop()}},i,this,[[6,15,18,21],[21,37]])}))}},{key:"getBucketValues",value:function(e,n,i){return Gm(this,void 0,void 0,t().mark(function r(){var o,a,s,c,l,u,h;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.tree,a=o.flop,s=o.turn,c=o.river,l=[].concat(C(a),[s,c]).filter(function(t){return!!t}).map(LA.cardToString).join(""),t.next=7,this.bucketService.segmentPostflopRange(l,{ranges:n},e,i);case 7:return u=t.sent,h=u.bucketGroups,t.abrupt("return",h[0]);case 10:case"end":return t.stop()}},r,this)}))}},{key:"getAllClassificationsForFilter",value:function(t){if(!t||0===t.trim().length)return[];try{var e=Object(LA.parseFilterSyntax)(t,!1,[],!0);return Object(LA.getClassificationsForFilter)(e)}catch(n){return[]}}},{key:"requiresLoadingClassifications",value:function(t,e){return t.length>0&&(this.isPostFlop?!this.rangeService.hasPostflopClassifications(t,e):!this.rangeService.hasPreflopClassifications(t))}}]),e}()).\u0275fac=function(t){return new(t||NW)(Ti(xB),Ti(OD),Ti(PB),Ti(qB),Ti(ib))},NW.\u0275prov=Pt({token:NW,factory:NW.\u0275fac,providedIn:"root"}),NW);function qW(t,e){if(1&t&&(Ua(0,"div",14),Ss(1),qa()),2&t){var n=is(2).$implicit,i=is(2);so(1),Ts(" ",i.getResultLabel(n)," ")}}function WW(t,e){if(1&t){var n=Qa();Ua(0,"app-strategy-chart",15),Ja("openRange",function(){Qe(n);var t=is(2).index;return is(2).openRange(t)})("openRangeForBucket",function(){Qe(n);var t=is(2).index;return is(2).openRangeForBucket(t)}),qa()}if(2&t){var i=is(2).$implicit,r=is(2);Ha("currentTree",r.tree)("isPostFlop",!0)("isRFI",!0)("currentPosition",i.player)("actions",r.getActions(i))("rangeFrequencies",i.rangeValues)("bucketGroup",i.handBucket)("hideLegend",!0)("compact",!0)("showOpenRangeIcons",!0)}}function $W(t,e){if(1&t){var n=Qa();Ua(0,"div",16),Ua(1,"div",17),Ja("click",function(){Qe(n);var t=is(2).index;return is(2).openRange(t)}),Wa(2,"i",18),qa(),qa()}}function GW(t,e){if(1&t&&($a(0),Ua(1,"div",8),Ua(2,"div",9),Ss(3),qa(),Na(4,qW,2,1,"div",10),qa(),Ua(5,"div",11),Na(6,WW,1,10,"app-strategy-chart",12),Na(7,$W,3,0,"div",13),qa(),Ga()),2&t){var n=is().$implicit,i=is(2);so(1),Ha("ngClass",i.actionClasses(n)),so(2),Ts(" ",(i.isHero(n)?"Hero":"Villain")+" "+i.getFormattedAction(n.action)," "),so(1),Ha("ngIf",i.isHero(n)),so(2),Ha("ngIf",n.rangeValues&&i.isHero(n)),so(1),Ha("ngIf",!i.isHero(n))}}function KW(t,e){if(1&t&&(Ua(0,"div",23),Ss(1),qa()),2&t){var n=is(3).$implicit,i=is(2);so(1),Ts(" ",i.getStreetLabel(n)," ")}}function QW(t,e){if(1&t&&Wa(0,"app-cards",24),2&t){var n=is(3).$implicit;Ha("cards",is(2).getCards(n))("small",!0)("centered",!0)}}function YW(t,e){if(1&t&&(Ua(0,"div",20),Na(1,KW,2,1,"div",21),Na(2,QW,1,3,"app-cards",22),qa()),2&t){var n=is(4);gs("with-cards",n.showCards),so(1),Ha("ngIf",!n.showCards),so(1),Ha("ngIf",n.showCards)}}function ZW(t,e){if(1&t&&($a(0),Na(1,YW,3,4,"div",19),Ga()),2&t){var n=is().$implicit,i=is(2);so(1),Ha("ngIf",i.hasCards(n))}}function JW(t,e){if(1&t&&(Ua(0,"div",6),Na(1,GW,8,5,"ng-container",7),Na(2,ZW,2,1,"ng-container",7),qa()),2&t){var n=e.$implicit,i=e.index;gs("highlighted",is(2).isHighlighted(i)),so(1),Ha("ngIf",n.player),so(1),Ha("ngIf",!n.player)}}function XW(t,e){if(1&t&&(Ua(0,"div",1),Ua(1,"div",2),Ua(2,"div",3),Ss(3,"Action"),qa(),Ua(4,"div",4),Ss(5,"Frequencies"),qa(),qa(),Na(6,JW,3,4,"div",5),qa()),2&t){var n=is();so(6),Ha("ngForOf",n.fullHistory)}}var t$,e$=((t$=function(){function t(){f(this,t),this.showCards=!0,this.highlightFrom=0}return g(t,[{key:"ngOnInit",value:function(){var t=C(this.history);this.isPostFlop&&!t.some(function(t){return t.action.type===s_.flop})&&(t=[{action:{type:s_.flop}}].concat(C(this.history))),this._fullHistory=t.filter(function(t){return t.action.type!==s_.root})}},{key:"fullHistory",get:function(){return this._fullHistory}},{key:"isHero",value:function(t){return t.player===this.hero}},{key:"isHighlighted",value:function(t){return t>this.highlightFrom+(this.showCards?1:0)}},{key:"getResultLabel",value:function(t){return vB(t.result)}},{key:"actionClasses",value:function(t){var e;return null===(e=t.result)||void 0===e?void 0:e.toLowerCase()}},{key:"getActions",value:function(t){return t.rangeValues.map(function(t){return t.action}).sort(FD)}},{key:"getFormattedAction",value:function(t){return MD(t,t.hasPrevBet,!this.isPostFlop,null,this.tree.fixedRaiseSize)}},{key:"getFormattedRangeValues",value:function(t){var e=this;return(null==t?void 0:t.length)>0?t.sort(function(t,e){return FD(t.action,e.action)}).map(function(t){return{action:""+e.getFormattedAction(t.action),freq:t.overallFreq}}):null}},{key:"getStreetLabel",value:function(t){return nH(t.action.type)}},{key:"hasCards",value:function(t){var e,n;switch(t.action.type){case s_.flop:return 3===this.board.flop.length&&this.board.flop.every(function(t){return!!t});case s_.turn:return!!(null===(e=this.board.turn)||void 0===e?void 0:e.card);case s_.river:return!!(null===(n=this.board.river)||void 0===n?void 0:n.card)}}},{key:"getCards",value:function(t){var e,n;switch(t.action.type){case s_.flop:return this.board.flop;case s_.turn:return[null===(e=this.board.turn)||void 0===e?void 0:e.card];case s_.river:return[null===(n=this.board.river)||void 0===n?void 0:n.card]}}},{key:"openRangeForBucket",value:function(t){this.openRange(t,this.fullHistory[t].handBucket.syntax)}},{key:"openRange",value:function(t,e){if(this.canOpenRange(t)){var n=this.fullHistory.slice(0,t).map(function(t){return t.action}),i=n.filter(function(t){return!c_(t)}),r=this.board,o=r.flop,a=r.turn,s=r.river,c=["type=postflop","tree="+this.tree.key,"flop="+Object(LA.cardsToString)(o,!1)];(null==a?void 0:a.card)&&n.some(function(t){return t.type===s_.turn})&&(c.push("turn="+Object(LA.cardToString)(a.card)),(null==s?void 0:s.card)&&n.some(function(t){return t.type===s_.river})&&c.push("river="+Object(LA.cardToString)(s.card))),i.length>0&&c.push("node="+pL(i)),(null==e?void 0:e.length)>0&&c.push("filter=(".concat(e,")")),c.push("loadRange=true");var l="".concat(window.location.origin,"/?").concat(c.join("&"));window.open(l)}}},{key:"canOpenRange",value:function(t){return!c_(this.fullHistory[t].action)}}]),t}()).\u0275fac=function(t){return new(t||t$)},t$.\u0275cmp=ne({type:t$,selectors:[["app-action-history"]],inputs:{hero:"hero",tree:"tree",board:"board",history:"history",showCards:"showCards",isPostFlop:"isPostFlop",highlightFrom:"highlightFrom"},decls:1,vars:1,consts:[["class","history",4,"ngIf"],[1,"history"],[1,"header"],[1,"action"],[1,"range-frequencies"],["class","history-item",3,"with-border","highlighted",4,"ngFor","ngForOf"],[1,"history-item",3,"with-border"],[4,"ngIf"],[1,"action",3,"ngClass"],[1,"label"],["class","result",4,"ngIf"],[1,"chart"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","bucketGroup","hideLegend","compact","showOpenRangeIcons","openRange","openRangeForBucket",4,"ngIf"],["class","open-range-icons",4,"ngIf"],[1,"result"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","bucketGroup","hideLegend","compact","showOpenRangeIcons","openRange","openRangeForBucket"],[1,"open-range-icons"],["matTooltip","Open range in new tab","matTooltipPosition","below",1,"open-range",3,"click"],[1,"fas","fa-external-link-alt"],["class","street",3,"with-cards",4,"ngIf"],[1,"street"],["class","street-separator",4,"ngIf"],[3,"cards","small","centered",4,"ngIf"],[1,"street-separator"],[3,"cards","small","centered"]],template:function(t,e){1&t&&Na(0,XW,7,1,"div",0),2&t&&Ha("ngIf",e.fullHistory.length>0)},directives:[Kh,$h,qh,HH,_A,cH],styles:[".history[_ngcontent-%COMP%]{color:var(--text-color);padding:.625rem}.history[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:.3125rem;padding-bottom:.3125rem;border-bottom:.125rem solid #898787}.history[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{width:30%;text-align:center;padding-left:.125rem;margin:auto .5rem}.history[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]{min-width:23.4375rem;width:100%;text-align:center;border-left:1px solid #898787}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;color:#898787;padding-bottom:.25rem;margin-bottom:.25rem;border-bottom:1px solid #898787}.history[_ngcontent-%COMP%]   .history-item.clickable[_ngcontent-%COMP%]{cursor:pointer}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:none}.history[_ngcontent-%COMP%]   .history-item.highlighted[_ngcontent-%COMP%]{color:var(--text-color)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;height:100%;width:30%;padding-left:.125rem;margin:auto .5rem auto 0;line-height:1.5rem;color:#fff}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.mustmove[_ngcontent-%COMP%]{background-color:var(--green-correct-pale-brighter)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.correct[_ngcontent-%COMP%], .history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.freq_correct[_ngcontent-%COMP%]{background-color:var(--green-correct-pale)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.inaccuracy[_ngcontent-%COMP%]{background-color:var(--yellow-incorrect-pale)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.mistake[_ngcontent-%COMP%]{background-color:var(--orange-incorrect-pale)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.blunder[_ngcontent-%COMP%], .history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.freq_mistake[_ngcontent-%COMP%]{background-color:var(--red-incorrect-pale)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]{min-width:23.4375rem;display:flex;flex-direction:row}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]   .range-frequency[_ngcontent-%COMP%]{width:7.8125rem}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]   .range-frequency[_ngcontent-%COMP%]   .freq[_ngcontent-%COMP%]{color:#a4b4dd}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;margin-top:.3125rem;overflow:hidden;width:calc(100% - 3rem);padding-left:.625rem;border-left:1px solid #898787}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   app-strategy-chart[_ngcontent-%COMP%]{width:100%}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]   .open-range[_ngcontent-%COMP%]{cursor:pointer;color:#a4b4dd}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .street[_ngcontent-%COMP%]{width:100%;text-align:center}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .street[_ngcontent-%COMP%]   .street-separator[_ngcontent-%COMP%], .history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .street.with-cards[_ngcontent-%COMP%]{margin:.3125rem 0}"]}),t$);function n$(t,e){if(1&t&&(Ua(0,"span",22),Ss(1),qa()),2&t){var n=is();so(1),Ts(" (",n.filter,")")}}function i$(t,e){1&t&&(Ua(0,"div",23),Wa(1,"i",24),qa())}function r$(t,e){1&t&&(Ua(0,"div",25),Wa(1,"i",26),qa())}function o$(t,e){1&t&&(Ua(0,"div",23),Wa(1,"i",24),qa())}function a$(t,e){1&t&&(Ua(0,"div",25),Wa(1,"i",26),qa())}function s$(t,e){if(1&t){var n=Qa();Ua(0,"app-cards",30),Ja("click",function(t){Qe(n);var e=is().$implicit;return is().copyToClipboard(e.opponentHand,t)}),qa()}2&t&&Ha("cards",is().$implicit.opponentHand)("copyOnClick",!0)}var c$=function(t){return[t]};function l$(t,e){if(1&t&&(Ua(0,"div",41),Wa(1,"app-cards",36),qa()),2&t){var n=is().$implicit;so(1),Ha("cards",Yc(1,c$,n.card))}}function u$(t,e){if(1&t&&(Ua(0,"div",42),Ss(1),qa()),2&t){var n=is(),i=n.$implicit,r=n.index,o=is().$implicit,a=is();so(1),Ts(" ",a.getFormattedAction(i.action)+(a.hasReaction(r,a.getHistoryItems(o))?"-":"")," ")}}function h$(t,e){if(1&t&&(Ua(0,"div",34),Na(1,l$,2,3,"div",39),Na(2,u$,2,1,"div",40),qa()),2&t){var n=e.$implicit;so(1),Ha("ngIf",n.card),so(1),Ha("ngIf",!n.card)}}function d$(t,e){1&t&&(Ua(0,"span"),Wa(1,"i",43),qa())}function f$(t,e){1&t&&(Ua(0,"span"),Wa(1,"i",44),qa())}function p$(t,e){if(1&t&&(Ua(0,"div",45),Wa(1,"app-action-history",46),qa()),2&t){var n=is().$implicit,i=is();so(1),Ha("hero",i.position)("tree",i.tree)("board",i.getBoard(n))("history",i.getHistoryItems(n))("showCards",!1)("isPostFlop",i.isPostFlop)("highlightFrom",i.highlightFrom)}}function g$(t,e){if(1&t){var n=Qa();Ua(0,"div",27),Ua(1,"div",28),Ja("click",function(){Qe(n);var t=e.index;return is().showDetails(t)}),Ua(2,"div",29),Ua(3,"app-cards",30),Ja("click",function(t){Qe(n);var i=e.$implicit;return is().copyToClipboard(i.hand,t)}),qa(),qa(),Ua(4,"div",9),Na(5,s$,1,2,"app-cards",31),qa(),Ua(6,"div",32),Ss(7),qa(),Ua(8,"div",33),Ss(9),tl(10,"number"),qa(),Ua(11,"div",15),Ua(12,"div",34),Ua(13,"div",35),Wa(14,"app-cards",36),qa(),qa(),Na(15,h$,3,2,"div",37),qa(),Ua(16,"div",16),Na(17,d$,2,0,"span",21),Na(18,f$,2,0,"span",21),qa(),qa(),Na(19,p$,2,7,"div",38),qa()}if(2&t){var i=e.$implicit,r=e.index,o=is();so(3),Ha("cards",i.hand)("copyOnClick",!0),so(2),Ha("ngIf",i.opponentHand),so(1),Ha("ngClass",o.getResultClass(i)),so(1),Ms(o.getResultLabel(i)),so(2),Ms(nl(10,11,i.evLoss,"1.0-2")),so(5),Ha("cards",o.flop),so(1),Ha("ngForOf",o.getHistoryItems(i)),so(2),Ha("ngIf",o.hasDetailsShown(r)),so(1),Ha("ngIf",!o.hasDetailsShown(r)),so(1),Ha("ngIf",o.hasDetailsShown(r))}}function v$(t,e){if(1&t&&(Ua(0,"span"),Ss(1),qa()),2&t){var n=is();so(1),Es("\xa0(",n.totalHands," / ",n.maxHands," hands)")}}var m$,y$=function(t){return t[t.Sequence=0]="Sequence",t[t.Result=1]="Result",t[t.EVLoss=2]="EVLoss",t}({}),b$=((m$=function(){function t(e,n,i){f(this,t),this.dialog=e,this.clipboard=n,this.snackBar=i,this.sortDirection=pD.Desc,this.currentSorting=y$.Sequence}return g(t,[{key:"ngOnChanges",value:function(t){t.results&&(this.showDetailsFor=0)}},{key:"positionLabel",get:function(){var t,e;return this.position===(null===(e=null===(t=this.tree)||void 0===t?void 0:t.setup)||void 0===e?void 0:e.replaceWithStraddle)?i_(!1):this.position}},{key:"allDecisions",get:function(){var t,e=this;return(null===(t=this.results)||void 0===t?void 0:t.flatMap(function(t){return t.history.slice(e.highlightFrom).filter(function(t){return t.player===e.position})}))||[]}},{key:"allDecisionsWithEvLoss",get:function(){var t,e=this;return(null===(t=this.results)||void 0===t?void 0:t.filter(function(t){return null!=t.evLoss&&!isNaN(t.evLoss)}).flatMap(function(t){return t.history.slice(e.highlightFrom).filter(function(t){return t.player===e.position})}))||[]}},{key:"totalDecisions",get:function(){return this.allDecisions.length}},{key:"totalDecisionsWithEvLoss",get:function(){return this.allDecisionsWithEvLoss.length}},{key:"totalCorrect",get:function(){return this.allDecisions.filter(function(t){return!t.isMistake}).length}},{key:"accuracy",get:function(){return this.totalDecisions>0?this.totalCorrect/this.totalDecisions:null}},{key:"totalEvLoss",get:function(){return this.results?this.results.filter(function(t){return!t.isCorrect}).map(function(t){return t.evLoss}).filter(function(t){return null!=t&&!isNaN(t)}).reduce(function(t,e){return t+e},0):0}},{key:"avgEvLoss",get:function(){return this.totalDecisionsWithEvLoss>0?this.totalEvLoss/this.totalDecisionsWithEvLoss:0}},{key:"sortBySequence",value:function(){this.sortedBySequence?this.sortDirection=this.sortDirection===pD.Asc?pD.Desc:pD.Asc:(this.currentSorting=y$.Sequence,this.sortDirection=pD.Desc)}},{key:"sortByResult",value:function(){this.sortedByResult?this.sortDirection=this.sortDirection===pD.Asc?pD.Desc:pD.Asc:(this.currentSorting=y$.Result,this.sortDirection=pD.Desc)}},{key:"sortByEVLoss",value:function(){this.sortedByEVLoss?this.sortDirection=this.sortDirection===pD.Asc?pD.Desc:pD.Asc:(this.currentSorting=y$.EVLoss,this.sortDirection=pD.Desc)}},{key:"sortedBySequence",get:function(){return this.currentSorting===y$.Sequence}},{key:"sortedByResult",get:function(){return this.currentSorting===y$.Result}},{key:"sortedByEVLoss",get:function(){return this.currentSorting===y$.EVLoss}},{key:"sortedAscending",get:function(){return this.sortDirection===pD.Asc}},{key:"sortedDescending",get:function(){return this.sortDirection===pD.Desc}},{key:"sortedResults",get:function(){var t=this.sortDirection===pD.Desc?1:-1;return this.currentSorting===y$.Sequence?this.sortDirection===pD.Desc?this.results:C(this.results).reverse():this.currentSorting===y$.Result?C(this.results).sort(function(e,n){var i=hB.indexOf(e.result),r=hB.indexOf(n.result),o=isNaN(e.evDiff)?0:e.evDiff,a=isNaN(n.evDiff)?0:n.evDiff;return i===r?t*(o-a):t*(r-i)}):this.currentSorting===y$.EVLoss?C(this.results).sort(function(e,n){var i=isNaN(e.evLoss)?0:e.evLoss,r=isNaN(n.evLoss)?0:n.evLoss;return t*(i-r)}):void 0}},{key:"getBoard",value:function(t){var e=t.board.slice(0,3),n=t.board.length>=4?t.board[3]:null,i=t.board.length>=5?t.board[4]:null;return{flop:e,turn:n?{card:n}:null,river:i?{card:i}:null}}},{key:"showDetails",value:function(t){this.showDetailsFor=this.showDetailsFor===t?null:t}},{key:"hasDetailsShown",value:function(t){return this.showDetailsFor===t}},{key:"getHistoryItems",value:function(t){return t.history.map(function(e,n){return Object.assign(Object.assign({},e),{result:t.historyIdxToResult[n]})})}},{key:"isHighlighted",value:function(t){return t>=this.highlightFrom}},{key:"isDefined",value:function(t){return null!=t}},{key:"copyToClipboard",value:function(t,e){e.preventDefault(),e.stopImmediatePropagation();var n=t.map(LA.cardToString).join("");this.clipboard.copy(n),this.snackBar.open("Hand '".concat(n,"' copied to clipboard"),"Ok",{duration:3e3})}},{key:"getFormattedAction",value:function(t){var e;return t?TD(u_(t,null===(e=this.tree)||void 0===e?void 0:e.raiseSizeMapping),null,this.tree.fixedRaiseSize):null}},{key:"hasReaction",value:function(t,e){var n=e[t+1];return n&&!n.card}},{key:"getResultLabel",value:function(t){return vB(t.result)}},{key:"getResultClass",value:function(t){return t.result.toLowerCase()}},{key:"showResultInfo",value:function(){this.dialog.open(Yq)}}]),t}()).\u0275fac=function(t){return new(t||m$)(Va(SR),Va(LU),Va(qB))},m$.\u0275cmp=ne({type:m$,selectors:[["app-game-training-summary"]],inputs:{tree:"tree",position:"position",filter:"filter",isPostFlop:"isPostFlop",flop:"flop",hasPrevBet:"hasPrevBet",rfiLabel:"rfiLabel",highlightFrom:"highlightFrom",results:"results",settings:"settings",maxHands:"maxHands"},features:[Pe],decls:49,vars:21,consts:[[1,"training-summary"],[1,"header"],[1,"top-row"],[1,"position"],["class","filter",4,"ngIf"],[1,"row"],[1,"hand","with-sort-icon",3,"click"],["class","sort-icon up",4,"ngIf"],["class","sort-icon down",4,"ngIf"],[1,"hand","bot"],[1,"result"],[1,"with-sort-icon",3,"click"],[1,"icon",3,"click"],[1,"fas","fa-info-circle"],[1,"ev-loss","with-sort-icon"],[1,"history"],[1,"expand-collapse"],[1,"rows"],["rows",""],["class","row-container",4,"ngFor","ngForOf"],[1,"footer"],[4,"ngIf"],[1,"filter"],[1,"sort-icon","up"],[1,"fas","fa-sort-up"],[1,"sort-icon","down"],[1,"fas","fa-sort-down"],[1,"row-container"],[1,"row",3,"click"],[1,"hand"],[3,"cards","copyOnClick","click"],[3,"cards","copyOnClick","click",4,"ngIf"],[1,"result",3,"ngClass"],[1,"ev-loss"],[1,"history-item"],[1,"card","first"],[3,"cards"],["class","history-item",4,"ngFor","ngForOf"],["class","history-details",4,"ngIf"],["class","card",4,"ngIf"],["class","action",4,"ngIf"],[1,"card"],[1,"action"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],[1,"history-details"],[3,"hero","tree","board","history","showCards","isPostFlop","highlightFrom"]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"div",1),Ua(2,"div",2),Ua(3,"div",3),Ua(4,"span"),Ss(5),qa(),Na(6,n$,2,1,"span",4),qa(),qa(),Ua(7,"div",5),Ua(8,"div",6),Ja("click",function(){return e.sortBySequence()}),Na(9,i$,2,0,"div",7),Na(10,r$,2,0,"div",8),Ua(11,"div"),Ss(12,"Hero"),qa(),qa(),Ua(13,"div",9),Ss(14,"Villain"),qa(),Ua(15,"div",10),Ua(16,"div",11),Ja("click",function(){return e.sortByResult()}),Na(17,o$,2,0,"div",7),Na(18,a$,2,0,"div",8),Ua(19,"div"),Ss(20,"Result"),qa(),qa(),Ua(21,"div",12),Ja("click",function(){return e.showResultInfo()}),Wa(22,"i",13),qa(),qa(),Ua(23,"div",14),Ua(24,"div"),Ss(25,"EV Loss"),qa(),qa(),Ua(26,"div",15),Ss(27,"Actions"),qa(),Wa(28,"div",16),qa(),qa(),Ua(29,"div",17,18),Na(31,g$,20,14,"div",19),qa(),Ua(32,"div",20),Ua(33,"div"),Ua(34,"span"),Ss(35),qa(),Na(36,v$,2,2,"span",21),qa(),Ua(37,"div"),Ua(38,"span"),Ss(39),tl(40,"percent"),qa(),qa(),Ua(41,"div"),Ua(42,"span"),Ss(43),tl(44,"number"),qa(),qa(),Ua(45,"div"),Ua(46,"span"),Ss(47),tl(48,"number"),qa(),qa(),qa(),qa()),2&t&&(so(5),Ms(e.positionLabel),so(1),Ha("ngIf",(null==e.filter?null:e.filter.length)>0),so(3),Ha("ngIf",e.sortedBySequence&&e.sortedAscending),so(1),Ha("ngIf",e.sortedBySequence&&e.sortedDescending),so(7),Ha("ngIf",e.sortedByResult&&e.sortedAscending),so(1),Ha("ngIf",e.sortedByResult&&e.sortedDescending),so(13),Ha("ngForOf",e.sortedResults),so(4),Ts("Total decisions: ",e.totalDecisions,""),so(1),Ha("ngIf",e.maxHands>0),so(3),Ts("Accuracy: ",nl(40,12,e.accuracy,"1.0-0"),""),so(4),Ts("Total EV Loss: ",nl(44,15,e.totalEvLoss,"1.0-2"),""),so(4),Ts("Avg. EV Loss: ",nl(48,18,e.avgEvLoss,"1.0-2"),""))},directives:[Kh,$h,cH,qh,e$],pipes:[bd,yd],styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:7.5rem}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}.training-summary[_ngcontent-%COMP%]{color:var(--text-color);display:inline-block;height:calc(100% - 2rem - 2px);width:100%}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:0 1rem .3125rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:500;margin-bottom:.625rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{font-weight:400}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;height:2rem;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;border-bottom:1px solid rgba(0,0,0,.3);background-color:var(--highlight-color);color:#fff}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{width:6.875rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hand.bot[_ngcontent-%COMP%]{padding:0 .625rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]{width:5.5rem;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:unset;margin-left:.5rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.ev-loss[_ngcontent-%COMP%]{width:6.5rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]{justify-content:flex-start;min-width:9.375rem;margin-left:.625rem}.training-summary[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-evenly;margin:.3125rem 1rem 0}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;height:calc(100% - 6rem);max-height:calc(100% - 6rem);margin:0 1rem;overflow-y:auto;overflow-x:hidden}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin-bottom:.625rem;border-bottom:1px solid var(--highlight-color);cursor:pointer}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{line-height:1.875rem;text-align:center}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.board[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;width:7.5rem;margin-right:1.875rem;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{width:6.875rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hand.bot[_ngcontent-%COMP%]{padding:0 .625rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]{width:5.5rem;color:#fff}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.mustmove[_ngcontent-%COMP%]{background-color:var(--green-correct-pale-brighter)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.correct[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.freq_correct[_ngcontent-%COMP%]{background-color:var(--green-correct-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.inaccuracy[_ngcontent-%COMP%]{background-color:var(--yellow-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.mistake[_ngcontent-%COMP%]{background-color:var(--orange-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.blunder[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.freq_mistake[_ngcontent-%COMP%]{background-color:var(--red-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.ev-loss[_ngcontent-%COMP%]{width:6.5rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]{min-width:9.375rem;margin-left:.625rem;display:flex;flex-direction:row;justify-content:flex-start}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0 .625rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .card.first[_ngcontent-%COMP%]{margin-left:.3125rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{width:30%;color:var(--text-color)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{width:calc(70% - 2rem)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.expand-collapse[_ngcontent-%COMP%]{width:2rem;margin-left:auto;color:var(--fa-icon-color)}.with-sort-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:.25rem;cursor:pointer}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:1.25rem;min-width:1.25rem;max-width:1.25rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon.up[_ngcontent-%COMP%]{padding-top:.65rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon.down[_ngcontent-%COMP%]{margin-top:-.5rem}.history-details[_ngcontent-%COMP%]{margin-top:-.625rem;margin-bottom:.625rem;background-color:#262a2c}.link[_ngcontent-%COMP%]{margin-left:.3125rem;padding:1px .625rem;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{padding:0 .5625rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),m$);function _$(t,e){1&t&&(Ua(0,"div",10),Ua(1,"p"),Ss(2,"Loading range for training, this can take a while..."),qa(),Wa(3,"mat-spinner",11),qa())}function k$(t,e){1&t&&Wa(0,"mat-spinner",28),2&t&&Ha("diameter",30)}function C$(t,e){if(1&t){var n=Qa();Ua(0,"app-action-button",30),Ja("clicked",function(){Qe(n);var t=e.$implicit;return is(3).pickAction(t)}),qa()}if(2&t){var i=e.$implicit,r=e.index,o=is(3);Ha("action",!0)("barelyVisible",i.barelyVisible)("label",o.getFormattedAction(i))("hotkey",o.isFinished&&!i.barelyVisible?o.getFormattedActionValues(i):(r+1).toString())("responsive",!0)("usable",!o.isFinished&&!o.disableKeybinds)("result",o.getResult(i))("isSelected",o.isSelected(i))}}function w$(t,e){if(1&t&&($a(0),Na(1,C$,1,8,"app-action-button",29),Ga()),2&t){var n=is(2);so(1),Ha("ngForOf",n.actions)}}function x$(t,e){if(1&t){var n=Qa();Ua(0,"app-action-button",31),Ja("clicked",function(){return Qe(n),is(2).retry()}),qa()}2&t&&Ha("trainNode",!0)("label","Retry")("hotkey","Space")("responsive",!0)}function P$(t,e){if(1&t){var n=Qa();$a(0),Ua(1,"app-strategy-chart",32),Ja("openRange",function(){return Qe(n),is(2).openCurrentRange()})("openRangeForBucket",function(){return Qe(n),is(2).openRangeForBucket()}),qa(),Ga()}if(2&t){var i=is(2);so(1),Ha("currentTree",i.tree)("isPostFlop",!0)("isRFI",i.isRFI)("currentPosition",i._userPlayer)("actions",i.actions)("rangeFrequencies",i.currentHand.rangeValues)("bucketGroup",i.currentHand.bucket)("hasPrevBet",i.hasPrevBet)("showOpenRangeIcons",!0)}}function O$(t,e){if(1&t){var n=Qa();Ua(0,"div",12),Ua(1,"div",13),Ua(2,"span"),Ss(3),qa(),qa(),Wa(4,"app-poker-table",14),Ua(5,"div",15),Ua(6,"div",16),Ua(7,"app-action-button",17),Ja("clicked",function(){return Qe(n),is().confirmExit()}),Wa(8,"i",18),qa(),qa(),Ua(9,"div",19),Na(10,k$,1,1,"mat-spinner",20),Na(11,w$,2,1,"ng-container",21),qa(),Ua(12,"app-action-button",22),Wa(13,"i",23),qa(),qa(),Ua(14,"div",24),Ua(15,"div",19),Na(16,x$,1,4,"app-action-button",25),Ua(17,"app-action-button",26),Ja("clicked",function(){Qe(n);var t=is();return t.waitForNext?t.next():t.nextHand()}),qa(),qa(),qa(),Ua(18,"div",27),Na(19,P$,2,9,"ng-container",21),qa(),qa()}if(2&t){var i=is();so(3),Ms(i.treeTitle),so(1),Ha("icmInfo",i.icmInfo)("replaceWithStraddle",i.replaceWithStraddle)("allPlayers",i.allPlayers)("activePlayers",i.activePlayers)("currentPlayer",i.currentPlayer)("chips",i.chipState)("board",i.board)("training",!0)("alignPositionsTo",i.userPlayer)("disableSelectors",!0)("showLargeCards",!0)("hands",i.assignedHands)("lastActionAndPlayer",i.lastActionAndPlayer),so(3),Ha("show",i.isUsersTurn&&i.hasPickedUserHand)("secondaryButton",!0)("hotkey","Esc")("roundButton",!0)("icon",!0),so(3),Ha("ngIf",i.showActionSpinner),so(1),Ha("ngIf",i.isUsersTurn&&i.hasPickedUserHand),so(1),Ha("disabled",!0)("barelyVisible",!0)("icon",!0)("roundButton",!0),so(3),gs("hidden",!i.showNextButton)("show",i.showNextButton),so(1),Ha("ngIf",i.canRetry),so(1),Ha("continue",!0)("label",i.nextOrContinueLabel)("hotkey","Enter")("responsive",!0),so(1),gs("hidden",!i.showNextButton)("show",i.showNextButton),so(1),Ha("ngIf",i.showActionChart)}}function S$(t,e){if(1&t){var n=Qa();Ua(0,"div",33),Ja("click",function(){return Qe(n),is().createOrDeleteFavorite()}),tl(1,"async"),Wa(2,"i",34),Wa(3,"i",35),qa()}2&t&&gs("highlight",el(1,2,is().isFavorite$))}var M$,T$,E$,R$,F$,I$,A$,D$=[{path:"",component:jW,canActivate:[VW]},{path:"train",component:gN,canActivate:[VW]},{path:"game",component:(M$=function(){function e(n,i,r,o,a,s,c){var l=this;f(this,e),this.feature=n,this.route=i,this.router=r,this.store=o,this.trainingService=a,this.dialog=s,this.percentPipe=c,this.isLoadingTurnOrRiver=!1,this.disableKeybinds=!1,this._filter="",this._isUsersTurn=!1,this._hasFinishedHand=!1,this._historyIdxToResult={},this.store.pipe(ob(hC)).subscribe(function(e){return Gm(l,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.settings=Object.assign(Object.assign({},e),{evSpread:null===(i=this.settings)||void 0===i?void 0:i.evSpread});case 1:case"end":return t.stop()}},n,this)}))})}return g(e,[{key:"ngOnInit",value:function(){var e;return Gm(this,void 0,void 0,t().mark(function n(){var i,r=this;return t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.feature.isDisabled(C_.MultiStreetTraining)&&this.router.navigate([""]),this.unsubscribeAll(),(i=this.route.snapshot.queryParams).user&&(this._userPlayer=i.user),this._filter=null!==(e=i.filter)&&void 0!==e?e:"",this._filter&&this.store.dispatch(A_({filter:this._filter})),"preflop"===i.type&&i.tree?this.treeSubscription=this.store.pipe(ob(M_),vf(function(t){return t.length>0}),W(function(t){return t||[]}),W(function(t){return k_(k_(t.map(function(t){return t.profiles})).map(function(t){return t.trees}))}),W(function(t){return t.find(function(t){return t.key===i.tree})}),Ip(1)).subscribe(function(e){return Gm(r,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.router.navigate([""]);case 1:case"end":return t.stop()}},e,this)}))}):"postflop"===i.type&&i.tree&&i.flop?this.treeSubscription=this.store.pipe(ob(T_),vf(function(t){return t.length>0}),W(function(t){return t||[]}),W(function(t){return k_(t.map(function(t){return t.trees}))}),W(function(t){return t.find(function(t){return t.key===i.tree})}),Ip(1)).subscribe(function(e){return Gm(r,void 0,void 0,t().mark(function n(){var r,o,a;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||e.isLocked){t.next=8;break}return r=i.flop,o=i.turn,a=i.river,t.next=4,this.trainingService.initPostflopGame(e,this.nodePath,r,o,a);case 4:return t.next=6,this.startTraining();case 6:t.next=9;break;case 8:this.router.navigate([""]);case 9:case"end":return t.stop()}},n,this)}))}):this.router.navigate([""]),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe(),this.keyPressSubscription=Sx(document,"keyup").subscribe(function(e){return Gm(r,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.disableKeybinds||this.dialog.openDialogs&&0!==this.dialog.openDialogs.length){t.next=27;break}t.t0=e.key,t.next="Escape"===t.t0?4:"Enter"===t.t0?6:" "===t.t0?16:"1"===t.t0?18:"2"===t.t0?20:"3"===t.t0?22:"4"===t.t0?24:"5"===t.t0?26:27;break;case 4:return this.confirmExit(),t.abrupt("break",27);case 6:if(!this.hasFinishedHand){t.next=11;break}return t.next=9,this.nextHand();case 9:t.next=15;break;case 11:if(t.t1=this.waitForNext,!t.t1){t.next=15;break}return t.next=15,this.next();case 15:return t.abrupt("break",27);case 16:return this.canRetry&&this.retry(),t.abrupt("break",27);case 18:return this.pickActionByIndex(0),t.abrupt("break",27);case 20:return this.pickActionByIndex(1),t.abrupt("break",27);case 22:return this.pickActionByIndex(2),t.abrupt("break",27);case 24:return this.pickActionByIndex(3),t.abrupt("break",27);case 26:this.pickActionByIndex(4);case 27:case"end":return t.stop()}},n,this)}))});case 3:case"end":return n.stop()}},n,this)}))}},{key:"ngOnDestroy",value:function(){this.unsubscribeAll()}},{key:"createOrDeleteFavorite",value:function(){var t,e=(null===(t=this.route.snapshot.url)||void 0===t?void 0:t.length)>0?this.route.snapshot.url[0].path:"",n=yB(this.route.snapshot.queryParams,this.settings);if(w_(this.isFavorite$)){var i=w_(this.store.pipe(ob(vk(e,n))));this.store.dispatch(uk({key:i}))}else this.dialog.open(cB,{data:{path:e,queryParams:n}})}},{key:"showFavoritesIcon",get:function(){return this.feature.isAvailable(C_.Favorites)}},{key:"isFavorite$",get:function(){var t=this;return hp([this.route.queryParams,this.route.url]).pipe(Ep(function(e){var n=y(e,2),i=n[0],r=n[1],o=(null==r?void 0:r.length)>0?r[0].path:"",a=yB(i,t.settings);return t.store.pipe(ob(mk(o,a)))}))}},{key:"waitForNext",get:function(){return!!this._actionForNext}},{key:"hasFinishedHand",get:function(){return this._hasFinishedHand}},{key:"canRetry",get:function(){return this.hasFinishedHand&&gB(this._evaluation)}},{key:"showNextButton",get:function(){return this.hasFinishedHand||this.waitForNext}},{key:"nextOrContinueLabel",get:function(){return this.waitForNext&&this._actionForNext.type!==s_.FOLD?"Continue":"Next hand"}},{key:"showActionChart",get:function(){return this.showNextButton&&!!this._isUsersTurn}},{key:"isFiveCard",get:function(){return!1}},{key:"nodePath",get:function(){return this.route.snapshot.queryParams.node||""}},{key:"situation",get:function(){return this.trainingService.currentSituation}},{key:"userPlayer",get:function(){var t;return this._userPlayer||(null===(t=this.situation)||void 0===t?void 0:t.currentPlayer)}},{key:"tree",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.currentTree}},{key:"replaceWithStraddle",get:function(){var t,e;return null===(e=null===(t=this.tree)||void 0===t?void 0:t.setup)||void 0===e?void 0:e.replaceWithStraddle}},{key:"treeKey",get:function(){var t;return null===(t=this.tree)||void 0===t?void 0:t.key}},{key:"currentNode",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.currentNode}},{key:"board",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.board}},{key:"boardCards",get:function(){var t,e;return[].concat(C(this.board.flop),[null===(t=this.board.turn)||void 0===t?void 0:t.card,null===(e=this.board.river)||void 0===e?void 0:e.card]).filter(function(t){return!!t})}},{key:"handForChart",get:function(){return this.currentHand.hand}},{key:"flop",get:function(){var t;return null===(t=this.board)||void 0===t?void 0:t.flop}},{key:"allPlayers",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.allPlayers}},{key:"activePlayers",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.activePlayers}},{key:"chipState",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.chipState}},{key:"hasPrevBet",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.hasPrevBet}},{key:"isRFI",get:function(){var t;return null===(t=this.situation)||void 0===t?void 0:t.isRFI}},{key:"rfiValue",get:function(){return this.situation.rfiValue}},{key:"rfiLabel",get:function(){if(this.isRFI)return this.rfiValue?this.rfiValue+"x":null}},{key:"icmInfo",get:function(){return this.tree?{payouts:this.tree.icmPayouts,stacks:this.tree.icmStacks}:{payouts:null,stacks:null}}},{key:"highlightFrom",get:function(){return this.trainingService.highlightFrom}},{key:"results",get:function(){return this._results}},{key:"showActionSpinner",get:function(){var t;return this.isUsersTurn?!this.hasPickedUserHand&&(null===(t=this.actions)||void 0===t?void 0:t.length)>0:!this._evaluation}},{key:"maxHands",get:function(){var t;return null===(t=this.remainingHands)||void 0===t?void 0:t.maxDailyHands}},{key:"hasRemainingHands",get:function(){return!this.remainingHands||this.remainingHands.remainingHands>0}},{key:"useRFIvalueForAction",value:function(t){return this.isRFI&&!!this.rfiValue&&t.type===s_.RAISE&&t.amount===this.tree.replaceAmountWithRfiValue}},{key:"openSettings",value:function(){var e=this;this.disableKeybinds=!0,this.dialog.open(iL,{data:this.settings}).afterClosed().pipe(Ip(1)).subscribe(function(n){return Gm(e,void 0,void 0,t().mark(function e(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return this.settings=Object.assign({},n),i=Object.assign(Object.assign({},this.settings),{evSpread:{min:null,max:null}}),this.store.dispatch(aC({training:i})),this._assignedHands={},t.next=7,this.loadNextHandForCurrentPlayer();case 7:this.disableKeybinds=!1;case 8:case"end":return t.stop()}},e,this)}))})}},{key:"unsubscribeAll",value:function(){this.remainingHandsSubscription&&!this.remainingHandsSubscription.closed&&this.remainingHandsSubscription.unsubscribe(),this.treeSubscription&&!this.treeSubscription.closed&&this.treeSubscription.unsubscribe(),this.currentTreeSubscription&&!this.currentTreeSubscription.closed&&this.currentTreeSubscription.unsubscribe(),this.statsSubscription&&!this.statsSubscription.closed&&this.statsSubscription.unsubscribe(),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe()}},{key:"confirmExit",value:function(){var t=this;this.dialog.open(NI,{data:{title:"Exit training",content:["Are you sure you want to quit the training?"]}}).afterClosed().pipe(Ip(1)).subscribe(function(e){e&&t.exit()})}},{key:"exit",value:function(){var t;this.currentRange=null,this.store.dispatch(B_()),this.router.navigate([""],{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{user:void 0,filter:(null===(t=this.filter)||void 0===t?void 0:t.length)>0?this.filter:void 0,hands:void 0,randomBoard:void 0,boards:void 0,minFrequency:void 0,minWeight:void 0,minEV:void 0,maxEV:void 0,selection:void 0,freeze:void 0})})}},{key:"nextHand",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.isFinished,!t.t0){t.next=4;break}return t.next=4,this.loadNextHandForCurrentPlayer();case 4:case"end":return t.stop()}},e,this)}))}},{key:"startTraining",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._evaluation=null,this._actionResults=null,this._historyIdxToResult={},this._assignedHands={},this._results=[],t.t0=this.assignedHands[this.userPlayer],t.t0){t.next=9;break}return t.next=9,this.loadNextHandForCurrentPlayer();case 9:case"end":return t.stop()}},e,this)}))}},{key:"loadNextHandForCurrentPlayer",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){var n;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasRemainingHands){t.next=2;break}return t.abrupt("return",void this.showMaxDailyHandsReached());case 2:return this._evaluation=null,this._actionResults=null,this._assignedHands={},this._isUsersTurn=!1,this._hasFinishedHand=!1,t.next=5,this.trainingService.startGame(this._filter,this.settings);case 5:n=t.sent,this._isUsersTurn=!0,n?(this.currentHand=n,this._assignedHands=this.trainingService.hands):this.openSettings();case 7:case"end":return t.stop()}},e,this)}))}},{key:"currentNodeId",get:function(){var t;return null===(t=this.currentRange)||void 0===t?void 0:t.nodeId}},{key:"filter",get:function(){return this._filter}},{key:"hasTreeLoaded",get:function(){return!!this.tree}},{key:"treeTitle",get:function(){if(this.hasTreeLoaded){if(this.tree.type===h_.preflop){var t=2===this.tree.players?"Heads Up":this.tree.players+"-max";if(this.tree.label){var e=""+(this.isFiveCard?"":g_(this.tree.profile));return"".concat(e?e+" - ":"").concat(this.tree.label," - ").concat(t)}return"".concat(this.isFiveCard?"":g_(this.tree.profile)+" - ").concat(this.tree.stack,"bb - ").concat(t)}var n=this.tree;if(v_(n.category))return"".concat(this.isFiveCard?"":g_(this.tree.profile)+" - ").concat(this.tree.stack,"bb - ").concat(n.multiwayLabel);var i=a_(n.activePlayers).join(" vs. ");return"".concat(this.isFiveCard?"":g_(this.tree.profile)+" - ").concat(this.tree.stack,"bb - ").concat(i," - ").concat(n.preflop.type.toUpperCase())}return null}},{key:"isPostFlop",get:function(){return this.tree&&this.tree.type===h_.postflop}},{key:"assignedHands",get:function(){return this._assignedHands}},{key:"isUsersTurn",get:function(){return this._isUsersTurn}},{key:"hasPickedUserHand",get:function(){return this.assignedHands&&!!this.assignedHands[this.userPlayer]}},{key:"isFinished",get:function(){return!this.hasActions||!!this.evaluation}},{key:"evaluation",get:function(){return this._evaluation}},{key:"history",get:function(){return this.trainingService.history}},{key:"historyToResult",get:function(){return this._historyIdxToResult}},{key:"actions",get:function(){if(this.situation.currentPlayer===this.userPlayer&&this.currentNode&&this.currentNode.next&&this.currentNode.next.length>0){var t=this.currentNode.next.map(function(t){return t.action});t.find(function(t){return t.type===s_.CHECK})&&(t=t.filter(function(t){return t.type!==s_.CALL})),t=t.filter(function(t){return![s_.turn,s_.river].includes(t.type)});var e,n=[],i=k(t);try{var r=function(){var t=e.value;n.find(function(e){return SD(e,t)})||n.push(t)};for(i.s();!(e=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}return n.sort(FD)}return[]}},{key:"getActionButtonsNotRaises",value:function(){var t=this.actions,e=[],n=0;return t.length>n&&t[n].type===s_.FOLD?(e.push(t[n]),n++):e.push({type:s_.FOLD,barelyVisible:!0}),t.length>n&&(t[n].type===s_.CALL||t[n].type===s_.CHECK)?(e.push(t[n]),n++):e.push({type:s_.CALL,barelyVisible:!0}),e}},{key:"getActionButtonsRaises",value:function(){var t=this.actions,e=[],n=0;if(t.length>n&&t[n].type===s_.FOLD&&n++,t.length>n&&(t[n].type===s_.CALL||t[n].type===s_.CHECK)&&n++,n>=t.length)e.push({type:s_.RAISE,barelyVisible:!0});else for(var i=n;i<t.length;i++)e.push(t[i]);return e}},{key:"hasActions",get:function(){return this.actions&&this.actions.length>0}},{key:"lastActionAndPlayer",get:function(){var t=this.history.slice(-1)[0];return(null==t?void 0:t.player)?{action:t.action,player:t.player}:null}},{key:"getFormattedAction",value:function(t){return this.useRFIvalueForAction(t)?MD(t,this.hasPrevBet,!this.isPostFlop,this.rfiValue?this.rfiValue+"x":null,this.tree.fixedRaiseSize):MD(t,this.hasPrevBet,!this.isPostFlop,null,this.tree.fixedRaiseSize)}},{key:"isCorrect",value:function(t){return lB(this.getActionFrequency(t),this.getCurrentActionFrequencies())}},{key:"isMistake",value:function(t){return!this.isCorrect(t)}},{key:"isSelected",value:function(t){return this._selectedAction&&SD(t,this._selectedAction)}},{key:"getFrequency",value:function(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.overallFreq}},{key:"getEV",value:function(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.ev}},{key:"getResult",value:function(t){var e;return this.isFinished?null===(e=this._actionResults.find(function(e){return SD(e.action,t)}))||void 0===e?void 0:e.result:null}},{key:"openRangeForBucket",value:function(){var t=this.currentHand.bucket;this.openCurrentRange(t.syntax)}},{key:"openCurrentRange",value:function(t){var e=this.history.map(function(t){return t.action}),n=e.filter(function(t){return!c_(t)}),i=this.board,r=i.flop,o=i.turn,a=i.river,s=["type=postflop","tree="+this.tree.key,"flop="+Object(LA.cardsToString)(r,!1)];(null==o?void 0:o.card)&&e.some(function(t){return t.type===s_.turn})&&(s.push("turn="+Object(LA.cardToString)(o.card)),(null==a?void 0:a.card)&&e.some(function(t){return t.type===s_.river})&&s.push("river="+Object(LA.cardToString)(a.card))),n.length>0&&s.push("node="+pL(n)),(null==t?void 0:t.length)>0&&s.push("filter=(".concat(t,")")),s.push("loadRange=true");var c="".concat(window.location.origin,"/?").concat(s.join("&"));window.open(c)}},{key:"pickActionByIndex",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.actions[e],t.t0=i&&!this.isFinished,!t.t0){t.next=5;break}return t.next=5,this.pickAction(i);case 5:case"end":return t.stop()}},n,this)}))}},{key:"pickAction",value:function(e){var n;return Gm(this,void 0,void 0,t().mark(function i(){var r,o,a,s,c,l,u,h,d,f,p,g,v,m=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.getCurrentActionFrequencies(),o=Object.keys(this.trainingService.hands).find(function(t){return t!==m.userPlayer}),a=o?null===(n=this.trainingService.hands[o])||void 0===n?void 0:n.hand:null,s=this.trainingService.currentSituation,c=s.chipState,l=s.simBB,u=c.totalPot/l,h=this.getEvaluation(e,u),d=h.isCorrectAnswer,f=h.result,p=h.evLoss,g=h.evDiff,this._actionResults=this.actions.map(function(t){return{action:t,result:m.getEvaluation(t,u).result}}),this._selectedAction=e,this._evaluation=f,!d){t.next=5;break}this._actionForNext=e,t.next=10;break;case 5:return v=[].concat(C(this.trainingService.history),[{action:Object.assign(Object.assign({},e),{hasPrevBet:this.hasPrevBet}),player:this.userPlayer,rangeValues:this.currentHand.rangeValues,handBucket:this.currentHand.bucket,isMistake:!0}]),this._historyIdxToResult[v.length-1]=f,this._results=[Object.assign(Object.assign({},this.currentHand),{opponentHand:a,isCorrect:d,result:f,evLoss:p,evDiff:g,frequencies:r,history:v,historyIdxToResult:Object.assign({},this._historyIdxToResult),board:this.boardCards})].concat(C(this._results)),t.next=10,this.finishHand(!1);case 10:case"end":return t.stop()}},i,this)}))}},{key:"retry",value:function(){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._hasFinishedHand=!1,this._actionForNext=null,this._selectedAction=null,this._isUsersTurn=!0,this._evaluation=null,this._actionResults=null,this._historyIdxToResult=Object.assign({},this._historyIdxToResult);case 1:case"end":return t.stop()}},e,this)}))}},{key:"next",value:function(){var e;return Gm(this,void 0,void 0,t().mark(function n(){var i,r,o,a,s,c,l,u,h,d,f,p,g,v,m,y,b,_,k=this;return t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=this._actionForNext,this._actionForNext=null,this._selectedAction=null,this._historyIdxToResult[this.history.length]=this._evaluation,r=this.trainingService.currentSituation,o=r.chipState,a=r.simBB,s=o.totalPot/a,c=this.getEvaluation(i,s),l=c.isCorrectAnswer,u=c.result,h=c.evLoss,d=c.evDiff,n.next=5,kx(50);case 5:return f=this.getCurrentActionFrequencies(),p=this.getFrequency(i),this._isUsersTurn=!1,this._evaluation=null,n.next=9,this.trainingService.next(i,this.currentHand,p);case 9:if(g=n.sent,v=g.updatedHand,(m=g.finished)||!v||!Object.values(v.actionValues).every(function(t){return isNaN(t.freq)||0===t.freq})){n.next=17;break}y=Object(LA.cardToString)(this.board.turn.card),this.dialog.open(NI,{data:{title:"Hand does not continue",content:["This hand is not part of the turn simulations for ".concat(y," anymore.")],confirmOnly:!0,confirmLabel:"Next hand"}}).afterClosed().subscribe(function(){return Gm(k,void 0,void 0,t().mark(function e(){var n,i,r,o=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object.keys(this.trainingService.hands).find(function(t){return t!==o.userPlayer}),r=i?null===(n=this.trainingService.hands[i])||void 0===n?void 0:n.hand:null,this._evaluation=u,this._results=[Object.assign(Object.assign({},this.currentHand),{opponentHand:r,isCorrect:l,result:u,evLoss:h,evDiff:d,frequencies:f,history:C(this.trainingService.history),historyIdxToResult:Object.assign({},this._historyIdxToResult),board:this.boardCards})].concat(C(this._results)),t.next=5,this.finishHand();case 5:return t.next=7,this.nextHand();case 7:case"end":return t.stop()}},e,this)}))}),n.next=30;break;case 17:if(b=Object.keys(this.trainingService.hands).find(function(t){return t!==k.userPlayer}),_=b?null===(e=this.trainingService.hands[b])||void 0===e?void 0:e.hand:null,!m){n.next=29;break}return this._evaluation=u,this._results=[Object.assign(Object.assign({},this.currentHand),{opponentHand:_,isCorrect:l,result:u,evLoss:h,evDiff:d,frequencies:f,history:C(this.trainingService.history),historyIdxToResult:Object.assign({},this._historyIdxToResult),board:this.boardCards})].concat(C(this._results)),n.next=23,this.finishHand();case 23:if(n.t0=i.type===s_.FOLD,!n.t0){n.next=27;break}return n.next=27,this.nextHand();case 27:n.next=30;break;case 29:this.currentHand=v,this._isUsersTurn=!0;case 30:case"end":return n.stop()}},n,this)}))}},{key:"finishHand",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Gm(this,void 0,void 0,t().mark(function n(){var i=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._hasFinishedHand=!0,this._assignedHands=this.trainingService.hands,e&&Object.keys(this._assignedHands).forEach(function(t){return i._assignedHands[t].show=!0});case 1:case"end":return t.stop()}},n,this)}))}},{key:"getFormattedActionValues",value:function(t){var e=this.getActionFrequency(t),n=e.overallFreq,i=e.ev;if(n>=0)return"".concat(this.percentPipe.transform(n)," | ").concat(null!=i?i.toFixed(2):"n/a")}},{key:"getActionFrequency",value:function(t){return this.getCurrentActionFrequencies().find(function(e){return e.action.type===t.type&&e.action.amount===t.amount})||{action:t,overallFreq:null,ev:null}}},{key:"getCurrentActionFrequencies",value:function(){if(this.currentHand){var t=Object.values(this.currentHand.actionValues).map(function(t){return{action:{type:t.type,amount:t.amount},overallFreq:t.freq,ev:t.ev}});return this.actions.map(function(e){var n=t.find(function(t){return SD(e,t.action)});return{action:e,overallFreq:null==n?void 0:n.overallFreq,ev:null==n?void 0:n.ev}})}return[]}},{key:"getEvaluation",value:function(t,e){var n=function(t){return+t.toFixed(3)},i=this.isCorrect(t),r=n(this.getEV(t)),o=function(t){return null!=t.ev&&!isNaN(t.ev)},a=r-Math.max.apply(Math,C(Object.values(this.currentHand.actionValues).filter(o).map(function(t){return t.ev}).map(n)));isNaN(a)&&(a=0);var s=r-Math.max.apply(Math,C(Object.values(this.currentHand.actionValues).filter(function(e){return!SD(e,t)}).filter(o).map(function(t){return t.ev}).map(n)));return{isCorrectAnswer:i,result:dB(Math.abs(a)/e*100,s/e*100,i),evLoss:a,evDiff:s}}},{key:"showMaxDailyHandsReached",value:function(){var t=this;this.dialog.openDialogs.some(function(t){return t.componentInstance instanceof _B})||this.dialog.open(_B,{data:{maxHands:this.remainingHands.maxDailyHands}}).afterClosed().subscribe(function(){t.exit()})}}]),e}(),M$.\u0275fac=function(t){return new(t||M$)(Va(aF),Va(nv),Va(Pm),Va(ib),Va(UW),Va(SR),Va(bd))},M$.\u0275cmp=ne({type:M$,selectors:[["app-game-training"]],decls:12,vars:14,consts:[[1,"layout-container"],["class","spinner-container",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"info-container","show"],[1,"icon-bar"],["class","control create-favorite",3,"highlight","click",4,"ngIf"],[1,"control","settings",3,"click"],[1,"fas","fa-cog"],[1,"tab-content"],[3,"tree","hasPrevBet","rfiLabel","highlightFrom","results","position","filter","isPostFlop","flop","settings","maxHands","settingsClicked"],[1,"spinner-container"],["color","accent"],[1,"table-container"],[1,"table-title"],[3,"icmInfo","replaceWithStraddle","allPlayers","activePlayers","currentPlayer","chips","board","training","alignPositionsTo","disableSelectors","showLargeCards","hands","lastActionAndPlayer"],[1,"controls","top"],[1,"buttons"],[3,"show","secondaryButton","label","hotkey","roundButton","icon","clicked"],[1,"fas","fa-times-circle"],[1,"buttons","right"],["color","accent",3,"diameter",4,"ngIf"],[4,"ngIf"],[3,"disabled","barelyVisible","label","icon","roundButton"],[1,"fas","fa-eye"],[1,"controls"],[3,"trainNode","label","hotkey","responsive","clicked",4,"ngIf"],[3,"continue","label","hotkey","responsive","clicked"],[1,"chart"],["color","accent",3,"diameter"],[3,"action","barelyVisible","label","hotkey","responsive","usable","result","isSelected","clicked",4,"ngFor","ngForOf"],[3,"action","barelyVisible","label","hotkey","responsive","usable","result","isSelected","clicked"],[3,"trainNode","label","hotkey","responsive","clicked"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","bucketGroup","hasPrevBet","showOpenRangeIcons","openRange","openRangeForBucket"],[1,"control","create-favorite",3,"click"],[1,"icon","regular","far","fa-star"],[1,"icon","highlight","fas","fa-star"]],template:function(t,e){1&t&&(Wa(0,"app-status-bar"),Ua(1,"div",0),Na(2,_$,4,0,"div",1),Na(3,O$,20,39,"div",2),Ua(4,"div",3),Ua(5,"div",4),Na(6,S$,4,4,"div",5),Ua(7,"div",6),Ja("click",function(){return e.openSettings()}),Wa(8,"i",7),qa(),qa(),Ua(9,"div",8),Ua(10,"app-game-training-summary",9),Ja("settingsClicked",function(){return e.openSettings()}),qa(),qa(),qa(),qa(),Wa(11,"app-mobile-warning")),2&t&&(so(2),Ha("ngIf",!e.hasTreeLoaded||!e.hasPickedUserHand),so(1),Ha("ngIf",e.hasTreeLoaded&&e.hasPickedUserHand),so(3),Ha("ngIf",e.showFavoritesIcon),so(4),Ha("tree",e.tree)("hasPrevBet",e.hasPrevBet)("rfiLabel",e.rfiLabel)("highlightFrom",e.highlightFrom)("results",e.results)("position",e.userPlayer)("filter",e.filter)("isPostFlop",e.isPostFlop)("flop",e.flop)("settings",e.settings)("maxHands",e.maxHands))},directives:[$N,Kh,b$,vI,XR,CH,KH,$h,HH],pipes:[gd],styles:["[_nghost-%COMP%]     .mat-tab-label{font-size:1rem;width:8.125rem!important;min-width:8.125rem!important}[_nghost-%COMP%]     .mat-tab-body{min-width:43.75rem}[_nghost-%COMP%]     div[role=tab]{color:var(--text-color)}[_nghost-%COMP%]     div[role=tab].mat-tab-label-active{color:var(--tree-category-color-active)}[_nghost-%COMP%]     div[role=tab].mat-tab-disabled{color:var(--tree-category-color-disabled)}[_nghost-%COMP%]     div[role=tab]:hover{color:var(--tree-category-color-hover)}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header{border-bottom:none}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-labels{margin-left:3.125rem}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:.5rem;margin-bottom:.5rem;line-height:1.25rem;font-size:1.25rem;font-weight:500;border-radius:.3125rem;padding:.3125rem .625rem;color:var(--text-color)}.table-container[_ngcontent-%COMP%]   .table-title.hidden[_ngcontent-%COMP%]{visibility:hidden}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:.125rem}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;margin-right:1.125rem}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img.expand[_ngcontent-%COMP%]{transform:rotate(180deg)}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:inline}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]{display:inline}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-end;visibility:hidden}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;min-width:9.375rem}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div.hide[_ngcontent-%COMP%]{visibility:hidden}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-right:.625rem}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500}@media screen and (max-width:1245px){.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]{visibility:visible}}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:1rem;width:100%}.controls.top[_ngcontent-%COMP%]{align-items:flex-start;margin-top:4rem}.chart[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.chart.hidden[_ngcontent-%COMP%]{visibility:hidden}.chart.show[_ngcontent-%COMP%]{visibility:visible}.chart[_ngcontent-%COMP%]   app-strategy-chart[_ngcontent-%COMP%]{width:100%}.chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;height:100%;margin-left:.625rem;gap:1.5rem}.chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]   .open-range[_ngcontent-%COMP%]{cursor:pointer;color:#a4b4dd}.chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]   .open-range[_ngcontent-%COMP%]:hover{color:#fff}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.buttons.right[_ngcontent-%COMP%]{width:70%;justify-content:center;align-items:flex-start;gap:.5rem}.buttons.right[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:30%}.buttons.right[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.buttons.next[_ngcontent-%COMP%], .buttons.right[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:100%}.buttons.hidden[_ngcontent-%COMP%]{visibility:hidden}.buttons.show[_ngcontent-%COMP%]{width:100%;justify-content:center;visibility:visible}.info-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.info-container[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:1rem 0}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;gap:1rem;width:100%;height:3rem;min-height:3rem;border-bottom:var(--border-style)}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;z-index:14;cursor:pointer;color:var(--scrollbar-color);font-size:1.5rem;height:100%}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]:last-child{margin-right:1rem}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control.create-favorite[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control.create-favorite.highlight[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control.create-favorite.highlight[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{display:unset;color:var(--favorite-highlight-color)}"]}),M$),canActivate:[VW]},{path:"login",component:PI},{path:"**",redirectTo:""}],L$=((A$=g(function t(){f(this,t)})).\u0275mod=se({type:A$}),A$.\u0275inj=Ot({factory:function(t){return new(t||A$)},imports:[[Bm.forRoot(D$,{relativeLinkResolution:"legacy"})],Bm]}),A$),B$=((I$=function(){function t(){f(this,t)}return g(t,[{key:"nativeWindow",get:function(){return"undefined"!=typeof window?window:void 0}}]),t}()).\u0275fac=function(t){return new(t||I$)},I$.\u0275prov=Pt({token:I$,factory:I$.\u0275fac}),I$),N$=((F$=g(function t(){f(this,t),this.enabled=!0,this.whitelistPage=[],this.blacklistPage=[]})).\u0275fac=function(t){return new(t||F$)},F$.\u0275prov=Pt({token:F$,factory:F$.\u0275fac}),F$),j$=((R$=function(){function t(e,n){f(this,t),this.popupOpenSource=new z,this.popupCloseSource=new z,this.initializeSource=new z,this.statusChangeSource=new z,this.revokeChoiceSource=new z,this.noCookieLawSource=new z,this.popupOpen$=this.popupOpenSource.asObservable(),this.popupClose$=this.popupCloseSource.asObservable(),this.initialize$=this.initializeSource.asObservable(),this.statusChange$=this.statusChangeSource.asObservable(),this.revokeChoice$=this.revokeChoiceSource.asObservable(),this.noCookieLaw$=this.noCookieLawSource.asObservable(),this.window=e.nativeWindow,this.init(n)}return g(t,[{key:"checkPopupInstantiated",value:function(t){if(null==this.popupInstance)throw new Error("Cookie popup has not yet been instantiated. Cannot invoke ".concat(t,"()"))}},{key:"init",value:function(t){var e=this;this.window&&(this.cookieconsent=this.window.cookieconsent,this.config=t,this.config.onPopupOpen=function(){return e.popupOpenSource.next()},this.config.onPopupClose=function(){return e.popupCloseSource.next()},this.config.onInitialise=function(t){return e.initializeSource.next({status:t})},this.config.onStatusChange=function(t,n){e.statusChangeSource.next({status:t,chosenBefore:n})},this.config.onRevokeChoice=function(){return e.revokeChoiceSource.next()},this.config.onNoCookieLaw=function(t,n){e.noCookieLawSource.next({countryCode:t,country:n})},this.cookieconsent.initialise(this.config,function(t){return e.popupInstance=t}))}},{key:"getConfig",value:function(){return this.config}},{key:"getStatus",value:function(){return this.cookieconsent.status}},{key:"getTransition",value:function(){return this.cookieconsent.hasTransition}},{key:"clearStatus",value:function(){return this.checkPopupInstantiated("clearStatus"),this.popupInstance.clearStatus()}},{key:"open",value:function(){return this.checkPopupInstantiated("open"),this.popupInstance.open()}},{key:"close",value:function(t){return this.checkPopupInstantiated("close"),this.popupInstance.close(t)}},{key:"destroy",value:function(){this.checkPopupInstantiated("destroy"),this.popupInstance.destroy()}},{key:"fadeIn",value:function(){this.checkPopupInstantiated("fadeIn"),this.popupInstance.fadeIn()}},{key:"fadeOut",value:function(){this.checkPopupInstantiated("fadeOut"),this.popupInstance.fadeOut()}},{key:"isOpen",value:function(){return this.checkPopupInstantiated("isOpen"),this.popupInstance.isOpen()}},{key:"toggleRevokeButton",value:function(t){this.checkPopupInstantiated("toggleRevokeButton"),this.popupInstance.toggleRevokeButton(t)}},{key:"hasAnswered",value:function(){return this.checkPopupInstantiated("hasAnswered"),this.popupInstance.hasAnswered()}},{key:"hasConsented",value:function(){return this.checkPopupInstantiated("hasConsented"),this.popupInstance.hasConsented()}}]),t}()).\u0275fac=function(t){return new(t||R$)(Ti(B$),Ti(N$))},R$.\u0275prov=Pt({token:R$,factory:R$.\u0275fac}),R$),V$=((E$=function(){function t(){f(this,t)}return g(t,null,[{key:"forRoot",value:function(e){return{ngModule:t,providers:[B$,{provide:N$,useValue:e},j$]}}}]),t}()).\u0275mod=se({type:E$}),E$.\u0275inj=Ot({factory:function(t){return new(t||E$)},imports:[[xd]]}),E$),H$=((T$=function(){function t(e,n){f(this,t),this.cookieService=e,this.store=n,this.appIcon=document.querySelector("#appIcon"),this.appTitle=document.querySelector("#appTitle")}return g(t,[{key:"ngOnInit",value:function(){var t=this;this.appTitle.innerText="4-Card PLO Trainer",this.initializeSubscription=this.cookieService.initialize$.subscribe(function(e){console.debug("cookie - initialize",e,t.cookieService.getConfig())})}},{key:"ngOnDestroy",value:function(){this.initializeSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||T$)(Va(j$),Va(ib))},T$.\u0275cmp=ne({type:T$,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&Wa(0,"router-outlet")},directives:[Om],styles:[".mat-input-element{caret-color:var(--caret-color)!important}  .large-tooltip{font-size:1rem;padding:1rem}  .large-tooltip,   .medium-tooltip{background-color:var(--background-color);box-shadow:var(--box-shadow);border:var(--border-style);border-radius:0!important}  .medium-tooltip{font-size:.875rem;padding:.5rem;text-align:justify}"]}),T$),z$=function(){function t(){f(this,t)}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new U$(t))}}]),t}(),U$=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"_next",value:function(t){}}]),n}(R),q$=function(){function t(){f(this,t)}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new W$(t))}}]),t}(),W$=function(t){a(n,t);var e=c(n);function n(t){return f(this,n),e.call(this,t)}return g(n,[{key:"_next",value:function(t){this.destination.next(ey.createNext(t))}},{key:"_error",value:function(t){var e=this.destination;e.next(ey.createError(t)),e.complete()}},{key:"_complete",value:function(){var t=this.destination;t.next(ey.createComplete()),t.complete()}}]),n}(R);function $$(t,e,n,i){return function(r){return r.lift(new G$(t,e,n,i))}}var G$=function(){function t(e,n,i,r){f(this,t),this.keySelector=e,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=r}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new K$(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),t}(),K$=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a){var s;return f(this,n),(s=e.call(this,t)).keySelector=i,s.elementSelector=r,s.durationSelector=o,s.subjectSelector=a,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return g(n,[{key:"_next",value:function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}},{key:"_group",value:function(t,e){var n=this.groups;n||(n=this.groups=new Map);var i,r=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(s){this.error(s)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new z,n.set(e,r);var o=new Y$(e,r,this);if(this.destination.next(o),this.durationSelector){var a;try{a=this.durationSelector(new Y$(e,r))}catch(s){return void this.error(s)}this.add(a.subscribe(new Q$(e,r,this)))}}r.closed||r.next(i)}},{key:"_error",value:function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)}},{key:"_complete",value:function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()}},{key:"removeGroup",value:function(t){this.groups.delete(t)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&r(d(n.prototype),"unsubscribe",this).call(this))}}]),n}(R),Q$=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,i)).key=t,o.group=i,o.parent=r,o}return g(n,[{key:"_next",value:function(t){this.complete()}},{key:"_unsubscribe",value:function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)}}]),n}(R),Y$=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this)).key=t,o.groupSubject=i,o.refCountSubscription=r,o}return g(n,[{key:"_subscribe",value:function(t){var e=new M,n=this.refCountSubscription,i=this.groupSubject;return n&&!n.closed&&e.add(new Z$(n)),e.add(i.subscribe(t)),e}}]),n}(L),Z$=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this)).parent=t,t.count++,i}return g(n,[{key:"unsubscribe",value:function(){var t=this.parent;t.closed||this.closed||(r(d(n.prototype),"unsubscribe",this).call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}]),n}(M);function J$(t,e){return e?function(n){return n.pipe(J$(function(n,i){return tt(t(n,i)).pipe(W(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new X$(t))}}var X$=function(){function t(e){f(this,t),this.project=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new tG(t,this.project))}}]),t}(),tG=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t)).project=i,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return g(n,[{key:"_next",value:function(t){this.hasSubscription||this.tryNext(t)}},{key:"tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new et(this),n=this.destination;n.add(e);var i=it(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(nt),eG=function(){function t(){f(this,t)}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new nG(t))}}]),t}(),nG=function(t){a(n,t);var e=c(n);function n(t){return f(this,n),e.call(this,t)}return g(n,[{key:"_next",value:function(t){t.observe(this.destination)}}]),n}(R),iG={dispatch:!0,useEffectsErrorHandler:!0};function rG(t,e){var n=t(),i=Object.assign(Object.assign({},iG),e);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:i}),n}function oG(t){return Object.getOwnPropertyNames(t).filter(function(e){return!(!t[e]||!t[e].hasOwnProperty("__@ngrx/effects_create__"))&&t[e]["__@ngrx/effects_create__"].hasOwnProperty("dispatch")}).map(function(e){return Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"])})}function aG(t){return Object.getPrototypeOf(t)}function sG(t){return Vy(cG,aG)(t)}function cG(t){return function(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}(t)?t.constructor["__@ngrx/effects__"]:[]}function lG(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return t.pipe(Hp(function(i){return e&&e.handleError(i),n<=1?t:lG(t,e,n-1)}))}var uG,hG=((uG=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),i=e.call(this),t&&(i.source=t),i}return g(n,[{key:"lift",value:function(t){var e=new n;return e.source=this,e.operator=t,e}}]),n}(L)).\u0275fac=function(t){return new(t||uG)(Ti(Qy))},uG.\u0275prov=Pt({token:uG,factory:uG.\u0275fac}),uG);function dG(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return vf(function(t){return e.some(function(e){return"string"==typeof e?e===t.type:e.type===t.type})})}function fG(t){return pG(t,"ngrxOnInitEffects")}function pG(t,e){return t&&e in t&&"function"==typeof t[e]}var gG,vG=new ci("@ngrx/effects Internal Root Guard"),mG=new ci("@ngrx/effects User Provided Effects"),yG=new ci("@ngrx/effects Internal Root Effects"),bG=new ci("@ngrx/effects Root Effects"),_G=new ci("@ngrx/effects Internal Feature Effects"),kG=new ci("@ngrx/effects Feature Effects"),CG=new ci("@ngrx/effects Effects Error Handler"),wG=((gG=function(t){a(n,t);var e=c(n);function n(t,i){var r;return f(this,n),(r=e.call(this)).errorHandler=t,r.effectsErrorHandler=i,r}return g(n,[{key:"addEffects",value:function(t){this.next(t)}},{key:"toActions",value:function(){var t=this;return this.pipe($$(aG),rt(function(t){return t.pipe($$(xG))}),rt(function(e){return lt(e.pipe(J$(function(e){return(n=t.errorHandler,i=t.effectsErrorHandler,function(t){var e=function(t,e,n){var i,r=aG(t).constructor.name;return lt.apply(void 0,C((i=t,[sG,oG].reduce(function(t,e){return t.concat(e(i))},[])).map(function(i){var o=i.propertyName,a=i.dispatch,s=i.useEffectsErrorHandler,c="function"==typeof t[o]?t[o]():t[o],l=s?n(c,e):c;return!1===a?l.pipe(function(t){return t.lift(new z$)}):l.pipe(function(t){return t.lift(new q$)}).pipe(W(function(e){return{effect:t[o],notification:e,propertyName:o,sourceName:r,sourceInstance:t}}))})))}(t,n,i);return pG(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(e):e})(e);var n,i}),W(function(e){return function(t,e){if("N"===t.notification.kind){var n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error("Effect ".concat((i=t,r=i.propertyName,o=i.sourceInstance,a=i.sourceName,s="function"==typeof o[r],'"'.concat(a,".").concat(String(r)).concat(s?"()":"",'"'))," dispatched an invalid action: ").concat(function(t){try{return JSON.stringify(t)}catch(GJ){return t}}(n))))}var i,r,o,a,s}(e,t.errorHandler),e.notification}),vf(function(t){return"N"===t.kind&&null!=t.value}),function(t){return t.lift(new eG)}),e.pipe(Ip(1),vf(fG),W(function(t){return t.ngrxOnInitEffects()})))}))}}]),n}(z)).\u0275fac=function(t){return new(t||gG)(Ti(vr),Ti(CG))},gG.\u0275prov=Pt({token:gG,factory:gG.\u0275fac}),gG);function xG(t){return pG(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}var PG,OG=((PG=function(){function t(e,n){f(this,t),this.effectSources=e,this.store=n,this.effectsSubscription=null}return g(t,[{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||PG)(Ti(wG),Ti(ib))},PG.\u0275prov=Pt({token:PG,factory:PG.\u0275fac}),PG);dy("@ngrx/effects/init");var SG,MG,TG,EG=((TG=function(){function t(e,n,i,r,o,a,s){f(this,t),this.sources=e,n.start(),r.forEach(function(t){return e.addEffects(t)}),i.dispatch({type:"@ngrx/effects/init"})}return g(t,[{key:"addEffects",value:function(t){this.sources.addEffects(t)}}]),t}()).\u0275mod=se({type:TG}),TG.\u0275inj=Ot({factory:function(t){return new(t||TG)(Ti(wG),Ti(OG),Ti(ib),Ti(bG),Ti(Fb,8),Ti(Ib,8),Ti(vG,8))}}),TG),RG=((MG=g(function t(e,n,i,r){f(this,t),n.forEach(function(t){return t.forEach(function(t){return e.addEffects(t)})})})).\u0275mod=se({type:MG}),MG.\u0275inj=Ot({factory:function(t){return new(t||MG)(Ti(EG),Ti(kG),Ti(Fb,8),Ti(Ib,8))}}),MG),FG=((SG=function(){function t(){f(this,t)}return g(t,null,[{key:"forFeature",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:RG,providers:[t,{provide:_G,multi:!0,useValue:t},{provide:mG,multi:!0,useValue:[]},{provide:kG,multi:!0,useFactory:IG,deps:[ka,_G,mG]}]}}},{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:EG,providers:[{provide:CG,useValue:lG},OG,wG,hG,t,{provide:yG,useValue:[t]},{provide:vG,useFactory:AG,deps:[[OG,new _i,new Ci],[yG,new ki]]},{provide:mG,multi:!0,useValue:[]},{provide:bG,useFactory:IG,deps:[ka,yG,mG]}]}}}]),t}()).\u0275mod=se({type:SG}),SG.\u0275inj=Ot({factory:function(t){return new(t||SG)}}),SG);function IG(t,e,n){var i,r=[],o=k(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;r.push.apply(r,C(a))}}catch(u){o.e(u)}finally{o.f()}var s,c=k(n);try{for(c.s();!(s=c.n()).done;){var l=s.value;r.push.apply(r,C(l))}}catch(u){c.e(u)}finally{c.f()}return function(t,e){return e.map(function(e){return t.get(e)})}(t,r)}function AG(t,e){if((1!==e.length||0!==e[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var DG,LG,BG,NG,jG,VG,HG,zG=((LG=g(function t(){f(this,t)})).\u0275mod=se({type:LG}),LG.\u0275inj=Ot({factory:function(t){return new(t||LG)},imports:[[xd,Ab.forFeature("status",Gk)]]}),LG),UG=((DG=g(function t(){f(this,t)})).\u0275mod=se({type:DG}),DG.\u0275inj=Ot({factory:function(t){return new(t||DG)},imports:[[xd,Ab.forFeature("auth",nk)]]}),DG),qG=dy("[Syntax] Load recent syntaxes"),WG=dy("[Syntax] Load recent syntaxes success",{_as:"props",_p:void 0}),$G=dy("[Syntax] Load recent syntaxes error",{_as:"props",_p:void 0}),GG=dy("[Syntax] Add flop syntax",{_as:"props",_p:void 0}),KG=dy("[Syntax] Add preflop syntax",{_as:"props",_p:void 0}),QG=dy("[Syntax] Add postflop syntax",{_as:"props",_p:void 0}),YG=((jG=function(){function e(n,i,r){var o=this;f(this,e),this.actions$=n,this.authService=i,this.router=r,this.login$=rG(function(){return o.actions$.pipe(dG(K_),rt(function(t){return o.authService.login(t.user,t.password).pipe(W(function(e){return o.handleLoginStatus(e.status,e,t.redirect)}),Hp(function(){return pf(Y_({message:"Sorry, something went wrong",code:rF.Error}))}))}))}),this.loginViaGoogle$=rG(function(){return o.actions$.pipe(dG(G_),rt(function(t){return o.authService.loginViaGoogle().pipe(W(function(e){return o.handleLoginStatus(e.status,e,t.redirect)}),Hp(function(){return pf(Y_({message:"Sorry, something went wrong",code:rF.Error}))}))}))}),this.loginSuccess$=rG(function(){return o.actions$.pipe(dG(Q_),$p(function(t){var e,n;if(t.redirect){var i=Object.assign(Object.assign({},t.redirect.queryParams),{redirectTo:void 0}),r=[""];(null===(n=null===(e=t.redirect)||void 0===e?void 0:e.queryParams)||void 0===n?void 0:n.redirectTo)&&(r="string"==typeof t.redirect.queryParams.redirectTo?[t.redirect.queryParams.redirectTo]:t.redirect.queryParams.redirectTo),o.router.navigate(r,{queryParams:i})}else t.noRedirect||o.router.navigate([""])}),$p(function(){o.authService.showAnnouncements()}),rt(function(){return[Zk(),ck(),iC(),qk(),Ub(),$b(),kk(),xk(),eD(),qG()]}))}),this.logout$=rG(function(){return o.actions$.pipe(dG(J_),$p(function(e){return Gm(o,void 0,void 0,t().mark(function n(){var i;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.authService.logout();case 2:(null===(i=e.redirect)||void 0===i?void 0:i.queryParams)?this.router.navigate(["login"],{queryParams:e.redirect.queryParams}):this.router.navigate(["login"]);case 3:case"end":return t.stop()}},n,this)}))}))},{dispatch:!1}),this.refreshUser$=rG(function(){return o.actions$.pipe(dG(Z_),$p(function(){return Gm(o,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.authService.refreshUserIfNecessary(null,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},e,this)}))}))},{dispatch:!1})}return g(e,[{key:"isFiveCard",get:function(){return!1}},{key:"handleLoginStatus",value:function(t,e,n){switch(t){case rF.Success:return Q_({user:e.user,redirect:n});case rF.WrongUser:return Y_({message:"Unknown user",code:t});case rF.WrongPassword:return Y_({message:"Wrong user or password",code:t});case rF.NoAccess:return Y_({message:this.isFiveCard?"Your account has no active 5card subscription":"Your account has no active subscription",code:t});case rF.Error:return Y_({message:"Sorry, something went wrong",code:t})}}}]),e}()).\u0275fac=function(t){return new(t||jG)(Ti(hG),Ti(oF),Ti(Pm))},jG.\u0275prov=Pt({token:jG,factory:jG.\u0275fac}),jG),ZG=((NG=g(function t(e,n){var i=this;f(this,t),this.actions$=e,this.treeService=n,this.loadPreflopTrees$=rG(function(){return i.actions$.pipe(dG(Ub),rt(function(){return i.treeService.loadPreflopTrees().pipe(W(function(t){return qb({preflopTrees:t})}),Hp(function(t){return pf(Wb({error:t}))}))}))}),this.loadPostflopTrees$=rG(function(){return i.actions$.pipe(dG($b),rt(function(){return i.treeService.loadPostflopTrees().pipe(W(function(t){return Gb({postflopTrees:t})}),Hp(function(t){return pf(Kb({error:t}))}))}))}),this.loadPreflopTree$=rG(function(){return i.actions$.pipe(dG(Qb),rt(function(t){return i.treeService.loadPreflopTree(t.key).pipe(W(function(t){return Yb({tree:t})}),Hp(function(t){return pf(Zb({error:t}))}))}))}),this.loadPostflopTree$=rG(function(){return i.actions$.pipe(dG(Jb),rt(function(t){return i.treeService.loadPostflopTree(t.tree,t.flop,t.turn,t.river,t.transition).pipe(W(function(t){return Xb({tree:t})}),Hp(function(t){return pf(t_({error:t}))}))}))})})).\u0275fac=function(t){return new(t||NG)(Ti(hG),Ti(xB))},NG.\u0275prov=Pt({token:NG,factory:NG.\u0275fac}),NG),JG=((BG=function(){function t(e,n,i,r){f(this,t),this.route=e,this.store=n,this.authService=i,this.snackbar=r}return g(t,[{key:"intercept",value:function(t,e){var n=this,i=this.authService.getAccessTokenFromLocalStorage(),r=t;return i&&!t.headers.get("skip-auth")&&(r=t.clone({headers:t.headers.set("Authorization","Bearer "+i)})),e.handle(r).pipe($p({next:function(t){return t instanceof Ff&&401==t.status&&n.handle401(),t},error:function(t){401==t.status&&n.handle401()}}))}},{key:"handle401",value:function(){var t=this.route.snapshot,e=Object.assign({redirectTo:t.url.length>0?t.url:"browse"},t.queryParams);this.store.dispatch(J_({redirect:{queryParams:e}})),this.snackbar.open("You have been automatically logged out!",null,{duration:5e3})}}]),t}()).\u0275fac=function(t){return new(t||BG)(Ti(nv),Ti(ib),Ti(oF),Ti(qB))},BG.\u0275prov=Pt({token:BG,factory:BG.\u0275fac}),BG),XG=new ci("CdkAccordion"),tK=0,eK=((HG=function(){function t(e,n,i){var r=this;f(this,t),this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=i,this._openCloseAllSubscription=M.EMPTY,this.closed=new ol,this.opened=new ol,this.destroyed=new ol,this.expandedChange=new ol,this.id="cdk-accordion-child-"+tK++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=i.listen(function(t,e){r.accordion&&!r.accordion.multi&&r.accordion.id===e&&r.id!==t&&(r.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return g(t,[{key:"expanded",get:function(){return this._expanded},set:function(t){t=Cx(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Cx(t)}},{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var t=this;return this.accordion._openCloseAllActions.subscribe(function(e){t.disabled||(t.expanded=e)})}}]),t}()).\u0275fac=function(t){return new(t||HG)(Va(XG,12),Va(xc),Va(xP))},HG.\u0275dir=le({type:HG,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ks([{provide:XG,useValue:void 0}])]}),HG),nK=((VG=g(function t(){f(this,t)})).\u0275mod=se({type:VG}),VG.\u0275inj=Ot({factory:function(t){return new(t||VG)}}),VG),iK=["body"];function rK(t,e){}var oK=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],aK=["mat-expansion-panel-header","*","mat-action-row"];function sK(t,e){1&t&&Wa(0,"span",2),2&t&&Ha("@indicatorRotate",is()._getExpandedState())}var cK,lK,uK,hK,dK,fK,pK,gK,vK,mK=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],yK=["mat-panel-title","mat-panel-description","*"],bK=new ci("MAT_ACCORDION"),_K={indicatorRotate:qS("indicatorRotate",[KS("collapsed, void",GS({transform:"rotate(0deg)"})),KS("expanded",GS({transform:"rotate(180deg)"})),QS("expanded <=> collapsed, void => collapsed",WS("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),bodyExpansion:qS("bodyExpansion",[KS("collapsed, void",GS({height:"0px",visibility:"hidden"})),KS("expanded",GS({height:"*",visibility:"visible"})),QS("expanded <=> collapsed, void => collapsed",WS("225ms cubic-bezier(0.4,0.0,0.2,1)"))])},kK=((cK=g(function t(e){f(this,t),this._template=e})).\u0275fac=function(t){return new(t||cK)(Va(Ec))},cK.\u0275dir=le({type:cK,selectors:[["ng-template","matExpansionPanelContent",""]]}),cK),CK=0,wK=new ci("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),xK=((pK=function(t){a(n,t);var e=c(n);function n(t,i,r,o,a,s,c){var l;return f(this,n),(l=e.call(this,t,i,r))._viewContainerRef=o,l._animationMode=s,l._hideToggle=!1,l.afterExpand=new ol,l.afterCollapse=new ol,l._inputChanges=new z,l._headerId="mat-expansion-panel-header-"+CK++,l._bodyAnimationDone=new z,l.accordion=t,l._document=a,l._bodyAnimationDone.pipe(cy(function(t,e){return t.fromState===e.fromState&&t.toState===e.toState})).subscribe(function(t){"void"!==t.fromState&&("expanded"===t.toState?l.afterExpand.emit():"collapsed"===t.toState&&l.afterCollapse.emit())}),c&&(l.hideToggle=c.hideToggle),l}return g(n,[{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(t){this._hideToggle=Cx(t)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(t){this._togglePosition=t}},{key:"_hasSpacing",value:function(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"close",value:function(){this.expanded=!1}},{key:"open",value:function(){this.expanded=!0}},{key:"ngAfterContentInit",value:function(){var t=this;this._lazyContent&&this.opened.pipe(Bp(null),vf(function(){return t.expanded&&!t._portal}),Ip(1)).subscribe(function(){t._portal=new tO(t._lazyContent._template,t._viewContainerRef)})}},{key:"ngOnChanges",value:function(t){this._inputChanges.next(t)}},{key:"ngOnDestroy",value:function(){r(d(n.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}]),n}(eK)).\u0275fac=function(t){return new(t||pK)(Va(bK,12),Va(xc),Va(xP),Va(Lc),Va(Ru),Va(dE,8),Va(wK,8))},pK.\u0275cmp=ne({type:pK,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&kl(n,kK,!0),2&t&&ml(i=xl())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&bl(iK,!0),2&t&&ml(n=xl())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&gs("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ks([{provide:bK,useValue:void 0}]),wa,Pe],ngContentSelectors:aK,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(os(oK),as(0),Ua(1,"div",0,1),Ja("@bodyExpansion.done",function(t){return e._bodyAnimationDone.next(t)}),Ua(3,"div",2),as(4,1),Na(5,rK,0,0,"ng-template",3),qa(),as(6,2),qa()),2&t&&(so(1),Ha("@bodyExpansion",e._getExpandedState())("id",e.id),La("aria-labelledby",e._headerId),so(4),Ha("cdkPortalOutlet",e._portal))},directives:[rO],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[_K.bodyExpansion]},changeDetection:0}),pK),PK=((fK=function(){function t(e,n,i,r,o,a){var s=this;f(this,t),this.panel=e,this._element=n,this._focusMonitor=i,this._changeDetectorRef=r,this._animationMode=a,this._parentChangeSubscription=M.EMPTY;var c=e.accordion?e.accordion._stateChanges.pipe(vf(function(t){return!(!t.hideToggle&&!t.togglePosition)})):gp;this._parentChangeSubscription=lt(e.opened,e.closed,c,e._inputChanges.pipe(vf(function(t){return!!(t.hideToggle||t.disabled||t.togglePosition)}))).subscribe(function(){return s._changeDetectorRef.markForCheck()}),e.closed.pipe(vf(function(){return e._containsFocus()})).subscribe(function(){return i.focusVia(n,"program")}),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}return g(t,[{key:"disabled",get:function(){return this.panel.disabled}},{key:"_toggle",value:function(){this.disabled||this.panel.toggle()}},{key:"_isExpanded",value:function(){return this.panel.expanded}},{key:"_getExpandedState",value:function(){return this.panel._getExpandedState()}},{key:"_getPanelId",value:function(){return this.panel.id}},{key:"_getTogglePosition",value:function(){return this.panel.togglePosition}},{key:"_showToggle",value:function(){return!this.panel.hideToggle&&!this.panel.disabled}},{key:"_getHeaderHeight",value:function(){var t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}},{key:"_keydown",value:function(t){switch(t.keyCode){case 32:case 13:uO(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._element,t,e)}},{key:"ngAfterViewInit",value:function(){var t=this;this._focusMonitor.monitor(this._element).subscribe(function(e){e&&t.panel.accordion&&t.panel.accordion._handleHeaderFocus(t)})}},{key:"ngOnDestroy",value:function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}]),t}()).\u0275fac=function(t){return new(t||fK)(Va(xK,1),Va(ec),Va(AS),Va(xc),Va(wK,8),Va(dE,8))},fK.\u0275cmp=ne({type:fK,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&Ja("click",function(){return e._toggle()})("keydown",function(t){return e._keydown(t)}),2&t&&(La("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),ps("height",e._getHeaderHeight()),gs("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:yK,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(os(mK),Ua(0,"span",0),as(1),as(2,1),as(3,2),qa(),Na(4,sK,1,1,"span",1)),2&t&&(so(4),Ha("ngIf",e._showToggle()))},directives:[Kh],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[_K.indicatorRotate]},changeDetection:0}),fK),OK=((dK=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||dK)},dK.\u0275dir=le({type:dK,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),dK),SK=((hK=g(function t(){f(this,t)})).\u0275mod=se({type:hK}),hK.\u0275inj=Ot({factory:function(t){return new(t||hK)},imports:[[xd,_E,nK,sO]]}),hK),MK=((uK=g(function t(){f(this,t)})).\u0275mod=se({type:uK}),uK.\u0275inj=Ot({factory:function(t){return new(t||uK)},imports:[[_E],_E]}),uK),TK=((lK=g(function t(){f(this,t)})).\u0275mod=se({type:lK}),lK.\u0275inj=Ot({factory:function(t){return new(t||lK)},imports:[[UE,_E],_E]}),lK),EK={provide:new ci("mat-menu-scroll-strategy"),deps:[WO],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},RK=((vK=g(function t(){f(this,t)})).\u0275mod=se({type:vK}),vK.\u0275inj=Ot({factory:function(t){return new(t||vK)},providers:[EK],imports:[_E]}),vK),FK=((gK=g(function t(){f(this,t)})).\u0275mod=se({type:gK}),gK.\u0275inj=Ot({factory:function(t){return new(t||gK)},providers:[EK],imports:[[xd,_E,UE,ZO,RK],YP,_E,RK]}),gK),IK=[[["caption"]],[["colgroup"],["col"]]],AK=["caption","colgroup, col"];function DK(t){return function(t){a(n,t);var e=c(n);function n(){var t;f(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._sticky=!1,t._hasStickyChanged=!1,t}return g(n,[{key:"sticky",get:function(){return this._sticky},set:function(t){var e=this._sticky;this._sticky=Cx(t),this._hasStickyChanged=e!==this._sticky}},{key:"hasStickyChanged",value:function(){var t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}},{key:"resetStickyChanged",value:function(){this._hasStickyChanged=!1}}]),n}(t)}var LK,BK,NK,jK,VK,HK,zK,UK,qK,WK,$K,GK,KK,QK,YK,ZK,JK,XK,tQ,eQ,nQ=new ci("CDK_TABLE"),iQ=((NK=g(function t(e){f(this,t),this.template=e})).\u0275fac=function(t){return new(t||NK)(Va(Ec))},NK.\u0275dir=le({type:NK,selectors:[["","cdkCellDef",""]]}),NK),rQ=((BK=g(function t(e){f(this,t),this.template=e})).\u0275fac=function(t){return new(t||BK)(Va(Ec))},BK.\u0275dir=le({type:BK,selectors:[["","cdkHeaderCellDef",""]]}),BK),oQ=((LK=g(function t(e){f(this,t),this.template=e})).\u0275fac=function(t){return new(t||LK)(Va(Ec))},LK.\u0275dir=le({type:LK,selectors:[["","cdkFooterCellDef",""]]}),LK),aQ=DK(g(function t(){f(this,t)})),sQ=((jK=function(t){a(n,t);var e=c(n);function n(t){var i;return f(this,n),(i=e.call(this))._table=t,i._stickyEnd=!1,i}return g(n,[{key:"name",get:function(){return this._name},set:function(t){this._setNameInput(t)}},{key:"stickyEnd",get:function(){return this._stickyEnd},set:function(t){var e=this._stickyEnd;this._stickyEnd=Cx(t),this._hasStickyChanged=e!==this._stickyEnd}},{key:"_updateColumnCssClassName",value:function(){this._columnCssClassName=["cdk-column-"+this.cssClassFriendlyName]}},{key:"_setNameInput",value:function(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}]),n}(aQ)).\u0275fac=function(t){return new(t||jK)(Va(nQ,8))},jK.\u0275dir=le({type:jK,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var i;1&t&&(kl(n,iQ,!0),kl(n,rQ,!0),kl(n,oQ,!0)),2&t&&(ml(i=xl())&&(e.cell=i.first),ml(i=xl())&&(e.headerCell=i.first),ml(i=xl())&&(e.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Ks([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:jK}]),wa]}),jK),cQ=g(function t(e,n){f(this,t);var i,r=n.nativeElement.classList,o=k(e._columnCssClassName);try{for(o.s();!(i=o.n()).done;){var a=i.value;r.add(a)}}catch(s){o.e(s)}finally{o.f()}}),lQ=((HK=function(t){a(n,t);var e=c(n);function n(t,i){return f(this,n),e.call(this,t,i)}return g(n)}(cQ)).\u0275fac=function(t){return new(t||HK)(Va(sQ),Va(ec))},HK.\u0275dir=le({type:HK,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[wa]}),HK),uQ=((VK=function(t){a(n,t);var e=c(n);function n(t,i){return f(this,n),e.call(this,t,i)}return g(n)}(cQ)).\u0275fac=function(t){return new(t||VK)(Va(sQ),Va(ec))},VK.\u0275dir=le({type:VK,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[wa]}),VK),hQ=g(function t(){f(this,t),this.tasks=[],this.endTasks=[]}),dQ=new ci("_COALESCED_STYLE_SCHEDULER"),fQ=((UK=function(){function t(e){f(this,t),this._ngZone=e,this._currentSchedule=null,this._destroyed=new z}return g(t,[{key:"schedule",value:function(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}},{key:"scheduleEnd",value:function(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_createScheduleIfNeeded",value:function(){var t=this;this._currentSchedule||(this._currentSchedule=new hQ,this._getScheduleObservable().pipe(Gx(this._destroyed)).subscribe(function(){for(;t._currentSchedule.tasks.length||t._currentSchedule.endTasks.length;){var e=t._currentSchedule;t._currentSchedule=new hQ;var n,i=k(e.tasks);try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(a){i.e(a)}finally{i.f()}var r,o=k(e.endTasks);try{for(o.s();!(r=o.n()).done;)(0,r.value)()}catch(a){o.e(a)}finally{o.f()}}t._currentSchedule=null}))}},{key:"_getScheduleObservable",value:function(){return this._ngZone.isStable?tt(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ip(1))}}]),t}()).\u0275fac=function(t){return new(t||UK)(Ti(Yl))},UK.\u0275prov=Pt({token:UK,factory:UK.\u0275fac}),UK),pQ=((zK=function(){function t(e,n){f(this,t),this.template=e,this._differs=n}return g(t,[{key:"ngOnChanges",value:function(t){if(!this._columnsDiffer){var e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}},{key:"getColumnsDiff",value:function(){return this._columnsDiffer.diff(this.columns)}},{key:"extractCellTemplate",value:function(t){return this instanceof vQ?t.headerCell.template:this instanceof yQ?t.footerCell.template:t.cell.template}}]),t}()).\u0275fac=function(t){return new(t||zK)(Va(Ec),Va(yc))},zK.\u0275dir=le({type:zK,features:[Pe]}),zK),gQ=DK(function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(pQ)),vQ=((qK=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t,i))._table=r,o}return g(n,[{key:"ngOnChanges",value:function(t){r(d(n.prototype),"ngOnChanges",this).call(this,t)}}]),n}(gQ)).\u0275fac=function(t){return new(t||qK)(Va(Ec),Va(yc),Va(nQ,8))},qK.\u0275dir=le({type:qK,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[wa,Pe]}),qK),mQ=DK(function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(pQ)),yQ=((YK=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t,i))._table=r,o}return g(n,[{key:"ngOnChanges",value:function(t){r(d(n.prototype),"ngOnChanges",this).call(this,t)}}]),n}(mQ)).\u0275fac=function(t){return new(t||YK)(Va(Ec),Va(yc),Va(nQ,8))},YK.\u0275dir=le({type:YK,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[wa,Pe]}),YK),bQ=((QK=function(t){a(n,t);var e=c(n);function n(t,i,r){var o;return f(this,n),(o=e.call(this,t,i))._table=r,o}return g(n)}(pQ)).\u0275fac=function(t){return new(t||QK)(Va(Ec),Va(yc),Va(nQ,8))},QK.\u0275dir=le({type:QK,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[wa]}),QK),_Q=((KK=function(){function t(e){f(this,t),this._viewContainer=e,t.mostRecentCellOutlet=this}return g(t,[{key:"ngOnDestroy",value:function(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}]),t}()).\u0275fac=function(t){return new(t||KK)(Va(Lc))},KK.\u0275dir=le({type:KK,selectors:[["","cdkCellOutlet",""]]}),KK.mostRecentCellOutlet=null,KK),kQ=((GK=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||GK)},GK.\u0275cmp=ne({type:GK,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ka(0,0)},directives:[_Q],encapsulation:2}),GK),CQ=(($K=g(function t(){f(this,t)})).\u0275fac=function(t){return new(t||$K)},$K.\u0275cmp=ne({type:$K,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ka(0,0)},directives:[_Q],encapsulation:2}),$K),wQ=((WK=g(function t(e){f(this,t),this.templateRef=e})).\u0275fac=function(t){return new(t||WK)(Va(Ec))},WK.\u0275dir=le({type:WK,selectors:[["ng-template","cdkNoDataRow",""]]}),WK),xQ=["top","bottom","left","right"],PQ=function(){function t(e,n,i,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];f(this,t),this._isNativeHtmlTable=e,this._stickCellCss=n,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._cachedCellWidths=[]}return g(t,[{key:"clearStickyPositioning",value:function(t,e){var n,i=this,r=[],o=k(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.nodeType===a.ELEMENT_NODE){r.push(a);for(var s=0;s<a.children.length;s++)r.push(a.children[s])}}}catch(c){o.e(c)}finally{o.f()}this._scheduleStyleChanges(function(){for(var t=0,n=r;t<n.length;t++){var o=n[t];i._removeStickyStyle(o,e)}})}},{key:"updateStickyColumns",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.length&&this._isBrowser&&(e.some(function(t){return t})||n.some(function(t){return t}))){var o=t[0],a=o.children.length,s=this._getCellWidths(o,r),c=this._getStickyStartColumnPositions(s,e),l=this._getStickyEndColumnPositions(s,n);this._scheduleStyleChanges(function(){var r,o="rtl"===i.direction,s=o?"right":"left",u=o?"left":"right",h=k(t);try{for(h.s();!(r=h.n()).done;)for(var d=r.value,f=0;f<a;f++){var p=d.children[f];e[f]&&i._addStickyStyle(p,s,c[f]),n[f]&&i._addStickyStyle(p,u,l[f])}}catch(g){h.e(g)}finally{h.f()}})}}},{key:"stickRows",value:function(t,e,n){var i=this;if(this._isBrowser){for(var r="bottom"===n?t.slice().reverse():t,o="bottom"===n?e.slice().reverse():e,a=[],s=[],c=0,l=0;c<r.length;c++)if(a[c]=l,o[c]){var u=r[c];s[c]=this._isNativeHtmlTable?Array.from(u.children):[u],c!==r.length-1&&(l+=u.getBoundingClientRect().height)}this._scheduleStyleChanges(function(){for(var t=0;t<r.length;t++)if(o[t]){var e,c=a[t],l=k(s[t]);try{for(l.s();!(e=l.n()).done;){var u=e.value;i._addStickyStyle(u,n,c)}}catch(h){l.e(h)}finally{l.f()}}})}}},{key:"updateStickyFooterContainer",value:function(t,e){var n=this;if(this._isNativeHtmlTable){var i=t.querySelector("tfoot");this._scheduleStyleChanges(function(){e.some(function(t){return!t})?n._removeStickyStyle(i,["bottom"]):n._addStickyStyle(i,"bottom",0)})}}},{key:"_removeStickyStyle",value:function(t,e){var n,i=k(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.style[r]=""}}catch(o){i.e(o)}finally{i.f()}xQ.some(function(n){return-1===e.indexOf(n)&&t.style[n]})?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}},{key:"_addStickyStyle",value:function(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=n+"px",t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}},{key:"_getCalculatedZIndex",value:function(t){for(var e={top:100,bottom:10,left:1,right:1},n=0,i=0,r=xQ;i<r.length;i++){var o=r[i];t.style[o]&&(n+=e[o])}return n?""+n:""}},{key:"_getCellWidths",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;for(var n=[],i=t.children,r=0;r<i.length;r++)n.push(i[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}},{key:"_getStickyStartColumnPositions",value:function(t,e){for(var n=[],i=0,r=0;r<t.length;r++)e[r]&&(n[r]=i,i+=t[r]);return n}},{key:"_getStickyEndColumnPositions",value:function(t,e){for(var n=[],i=0,r=t.length;r>0;r--)e[r]&&(n[r]=i,i+=t[r]);return n}},{key:"_scheduleStyleChanges",value:function(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}]),t}(),OQ=((eQ=g(function t(e,n){f(this,t),this.viewContainer=e,this.elementRef=n})).\u0275fac=function(t){return new(t||eQ)(Va(Lc),Va(ec))},eQ.\u0275dir=le({type:eQ,selectors:[["","rowOutlet",""]]}),eQ),SQ=((tQ=g(function t(e,n){f(this,t),this.viewContainer=e,this.elementRef=n})).\u0275fac=function(t){return new(t||tQ)(Va(Lc),Va(ec))},tQ.\u0275dir=le({type:tQ,selectors:[["","headerRowOutlet",""]]}),tQ),MQ=((XK=g(function t(e,n){f(this,t),this.viewContainer=e,this.elementRef=n})).\u0275fac=function(t){return new(t||XK)(Va(Lc),Va(ec))},XK.\u0275dir=le({type:XK,selectors:[["","footerRowOutlet",""]]}),XK),TQ=((JK=g(function t(e,n){f(this,t),this.viewContainer=e,this.elementRef=n})).\u0275fac=function(t){return new(t||JK)(Va(Lc),Va(ec))},JK.\u0275dir=le({type:JK,selectors:[["","noDataRowOutlet",""]]}),JK),EQ=((ZK=function(){function t(e,n,i,r,o,a,s,c,l,u){f(this,t),this._differs=e,this._changeDetectorRef=n,this._elementRef=i,this._dir=o,this._platform=s,this._viewRepeater=c,this._coalescedStyleScheduler=l,this._viewportRuler=u,this._onDestroy=new z,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new ap({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}return g(t,[{key:"trackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"dataSource",get:function(){return this._dataSource},set:function(t){this._dataSource!==t&&this._switchDataSource(t)}},{key:"multiTemplateDataRows",get:function(){return this._multiTemplateDataRows},set:function(t){this._multiTemplateDataRows=Cx(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}},{key:"fixedLayout",get:function(){return this._fixedLayout},set:function(t){this._fixedLayout=Cx(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}},{key:"ngOnInit",value:function(){var t=this;this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create(function(e,n){return t.trackBy?t.trackBy(n.dataIndex,n.data):n}),this._viewportRuler&&this._viewportRuler.change().pipe(Gx(this._onDestroy)).subscribe(function(){t._forceRecalculateCellWidths=!0})}},{key:"ngAfterContentChecked",value:function(){this._cacheRowDefs(),this._cacheColumnDefs();var t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}},{key:"ngOnDestroy",value:function(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),yP(this.dataSource)&&this.dataSource.disconnect(this)}},{key:"renderRows",value:function(){var t=this;this._renderRows=this._getAllRenderRows();var e=this._dataDiffer.diff(this._renderRows);if(e){var n=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(e,n,function(e,n,i){return t._getEmbeddedViewArgs(e.item,i)},function(t){return t.item.data},function(e){1===e.operation&&e.context&&t._renderCellTemplateForItem(e.record.item.rowDef,e.context)}):e.forEachOperation(function(e,i,r){if(null==e.previousIndex){var o=e.item;t._renderRow(t._rowOutlet,o.rowDef,r,{$implicit:o.data})}else if(null==r)n.remove(i);else{var a=n.get(i);n.move(a,r)}}),this._updateRowIndexContext(),e.forEachIdentityChange(function(t){n.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}else this._updateNoDataRow()}},{key:"addColumnDef",value:function(t){this._customColumnDefs.add(t)}},{key:"removeColumnDef",value:function(t){this._customColumnDefs.delete(t)}},{key:"addRowDef",value:function(t){this._customRowDefs.add(t)}},{key:"removeRowDef",value:function(t){this._customRowDefs.delete(t)}},{key:"addHeaderRowDef",value:function(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}},{key:"removeHeaderRowDef",value:function(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}},{key:"addFooterRowDef",value:function(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}},{key:"removeFooterRowDef",value:function(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}},{key:"setNoDataRow",value:function(t){this._customNoDataRow=t}},{key:"updateStickyHeaderRowStyles",value:function(){var t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");var n=this._headerRowDefs.map(function(t){return t.sticky});this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(function(t){return t.resetStickyChanged()})}},{key:"updateStickyFooterRowStyles",value:function(){var t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");var n=this._footerRowDefs.map(function(t){return t.sticky});this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(function(t){return t.resetStickyChanged()})}},{key:"updateStickyColumnStyles",value:function(){var t=this,e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([].concat(C(e),C(n),C(i)),["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach(function(e,n){t._addStickyColumnStyles([e],t._headerRowDefs[n])}),this._rowDefs.forEach(function(e){for(var i=[],r=0;r<n.length;r++)t._renderRows[r].rowDef===e&&i.push(n[r]);t._addStickyColumnStyles(i,e)}),i.forEach(function(e,n){t._addStickyColumnStyles([e],t._footerRowDefs[n])}),Array.from(this._columnDefsByName.values()).forEach(function(t){return t.resetStickyChanged()})}},{key:"_getAllRenderRows",value:function(){var t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(var n=0;n<this._data.length;n++){var i=this._data[n],r=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(var o=0;o<r.length;o++){var a=r[o],s=this._cachedRenderRowsMap.get(a.data);s.has(a.rowDef)?s.get(a.rowDef).push(a):s.set(a.rowDef,[a]),t.push(a)}}return t}},{key:"_getRenderRowsForData",value:function(t,e,n){return this._getRowDefs(t,e).map(function(i){var r=n&&n.has(i)?n.get(i):[];if(r.length){var o=r.shift();return o.dataIndex=e,o}return{data:t,rowDef:i,dataIndex:e}})}},{key:"_cacheColumnDefs",value:function(){var t=this;this._columnDefsByName.clear(),RQ(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(function(e){t._columnDefsByName.has(e.name),t._columnDefsByName.set(e.name,e)})}},{key:"_cacheRowDefs",value:function(){this._headerRowDefs=RQ(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=RQ(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=RQ(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);var t=this._rowDefs.filter(function(t){return!t.when});this._defaultRowDef=t[0]}},{key:"_renderUpdatedColumns",value:function(){var t=function(t,e){return t||!!e.getColumnsDiff()},e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();var n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();var i=this._footerRowDefs.reduce(t,!1);return i&&this._forceRenderFooterRows(),e||n||i}},{key:"_switchDataSource",value:function(t){this._data=[],yP(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}},{key:"_observeRenderChanges",value:function(){var t,e=this;this.dataSource&&(yP(this.dataSource)?t=this.dataSource.connect(this):jx(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=pf(this.dataSource)),this._renderChangeSubscription=t.pipe(Gx(this._onDestroy)).subscribe(function(t){e._data=t||[],e.renderRows()}))}},{key:"_forceRenderHeaderRows",value:function(){var t=this;this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach(function(e,n){return t._renderRow(t._headerRowOutlet,e,n)}),this.updateStickyHeaderRowStyles()}},{key:"_forceRenderFooterRows",value:function(){var t=this;this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach(function(e,n){return t._renderRow(t._footerRowOutlet,e,n)}),this.updateStickyFooterRowStyles()}},{key:"_addStickyColumnStyles",value:function(t,e){var n=this,i=Array.from(e.columns||[]).map(function(t){return n._columnDefsByName.get(t)}),r=i.map(function(t){return t.sticky}),o=i.map(function(t){return t.stickyEnd});this._stickyStyler.updateStickyColumns(t,r,o,!this._fixedLayout||this._forceRecalculateCellWidths)}},{key:"_getRenderedRows",value:function(t){for(var e=[],n=0;n<t.viewContainer.length;n++){var i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}},{key:"_getRowDefs",value:function(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];var n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(function(n){return!n.when||n.when(e,t)});else{var i=this._rowDefs.find(function(n){return n.when&&n.when(e,t)})||this._defaultRowDef;i&&n.push(i)}return n}},{key:"_getEmbeddedViewArgs",value:function(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}},{key:"_renderRow",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=t.viewContainer.createEmbeddedView(e.template,i,n);return this._renderCellTemplateForItem(e,i),r}},{key:"_renderCellTemplateForItem",value:function(t,e){var n,i=k(this._getCellTemplates(t));try{for(i.s();!(n=i.n()).done;){var r=n.value;_Q.mostRecentCellOutlet&&_Q.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,e)}}catch(o){i.e(o)}finally{i.f()}this._changeDetectorRef.markForCheck()}},{key:"_updateRowIndexContext",value:function(){for(var t=this._rowOutlet.viewContainer,e=0,n=t.length;e<n;e++){var i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}},{key:"_getCellTemplates",value:function(t){var e=this;return t&&t.columns?Array.from(t.columns,function(n){var i=e._columnDefsByName.get(n);return t.extractCellTemplate(i)}):[]}},{key:"_applyNativeTableSections",value:function(){for(var t=this._document.createDocumentFragment(),e=0,n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];e<n.length;e++){var i=n[e],r=this._document.createElement(i.tag);r.setAttribute("role","rowgroup");var o,a=k(i.outlets);try{for(a.s();!(o=a.n()).done;){var s=o.value;r.appendChild(s.elementRef.nativeElement)}}catch(c){a.e(c)}finally{a.f()}t.appendChild(r)}this._elementRef.nativeElement.appendChild(t)}},{key:"_forceRenderDataRows",value:function(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}},{key:"_checkStickyStates",value:function(){var t=function(t,e){return t||e.hasStickyChanged()};this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}},{key:"_setupStickyStyler",value:function(){var t=this;this._stickyStyler=new PQ(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:pf()).pipe(Gx(this._onDestroy)).subscribe(function(e){t._stickyStyler.direction=e,t.updateStickyColumnStyles()})}},{key:"_getOwnDefs",value:function(t){var e=this;return t.filter(function(t){return!t._table||t._table===e})}},{key:"_updateNoDataRow",value:function(){var t=this._customNoDataRow||this._noDataRow;if(t){var e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){var n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}]),t}()).\u0275fac=function(t){return new(t||ZK)(Va(yc),Va(xc),Va(ec),ai("role"),Va(vP,8),Va(Ru),Va(aP),Va(PP,8),Va(dQ,8),Va(jP,8))},ZK.\u0275cmp=ne({type:ZK,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var i;1&t&&(kl(n,wQ,!0),kl(n,sQ,!0),kl(n,bQ,!0),kl(n,vQ,!0),kl(n,yQ,!0)),2&t&&(ml(i=xl())&&(e._noDataRow=i.first),ml(i=xl())&&(e._contentColumnDefs=i),ml(i=xl())&&(e._contentRowDefs=i),ml(i=xl())&&(e._contentHeaderRowDefs=i),ml(i=xl())&&(e._contentFooterRowDefs=i))},viewQuery:function(t,e){var n;1&t&&(yl(OQ,!0),yl(SQ,!0),yl(MQ,!0),yl(TQ,!0)),2&t&&(ml(n=xl())&&(e._rowOutlet=n.first),ml(n=xl())&&(e._headerRowOutlet=n.first),ml(n=xl())&&(e._footerRowOutlet=n.first),ml(n=xl())&&(e._noDataRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&gs("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[Ks([{provide:nQ,useExisting:ZK},{provide:PP,useClass:kP},{provide:dQ,useClass:fQ}])],ngContentSelectors:AK,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(os(IK),as(0),as(1,1),Ka(2,0),Ka(3,1),Ka(4,2),Ka(5,3))},directives:[SQ,OQ,TQ,MQ],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),ZK);function RQ(t,e){return t.concat(Array.from(e))}var FQ,IQ,AQ,DQ,LQ,BQ,NQ,jQ,VQ,HQ,zQ,UQ,qQ,WQ,$Q=((FQ=g(function t(){f(this,t)})).\u0275mod=se({type:FQ}),FQ.\u0275inj=Ot({factory:function(t){return new(t||FQ)},imports:[[ZP]]}),FQ),GQ=[[["caption"]],[["colgroup"],["col"]]],KQ=["caption","colgroup, col"],QQ=((IQ=function(t){a(n,t);var e=c(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments)).stickyCssClass="mat-table-sticky",t.needsPositionStickyOnElement=!1,t}return g(n)}(EQ)).\u0275fac=function(t){return YQ(t||IQ)},IQ.\u0275cmp=ne({type:IQ,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&gs("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[Ks([{provide:PP,useClass:kP},{provide:EQ,useExisting:IQ},{provide:nQ,useExisting:IQ},{provide:dQ,useClass:fQ}]),wa],ngContentSelectors:KQ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(os(GQ),as(0),as(1,1),Ka(2,0),Ka(3,1),Ka(4,2),Ka(5,3))},directives:[SQ,OQ,TQ,MQ],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky;position:sticky}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),IQ),YQ=oi(QQ),ZQ=((AQ=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(iQ)).\u0275fac=function(t){return JQ(t||AQ)},AQ.\u0275dir=le({type:AQ,selectors:[["","matCellDef",""]],features:[Ks([{provide:iQ,useExisting:AQ}]),wa]}),AQ),JQ=oi(ZQ),XQ=((DQ=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(rQ)).\u0275fac=function(t){return tY(t||DQ)},DQ.\u0275dir=le({type:DQ,selectors:[["","matHeaderCellDef",""]],features:[Ks([{provide:rQ,useExisting:DQ}]),wa]}),DQ),tY=oi(XQ),eY=((LQ=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n,[{key:"name",get:function(){return this._name},set:function(t){this._setNameInput(t)}},{key:"_updateColumnCssClassName",value:function(){r(d(n.prototype),"_updateColumnCssClassName",this).call(this),this._columnCssClassName.push("mat-column-"+this.cssClassFriendlyName)}}]),n}(sQ)).\u0275fac=function(t){return nY(t||LQ)},LQ.\u0275dir=le({type:LQ,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Ks([{provide:sQ,useExisting:LQ},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:LQ}]),wa]}),LQ),nY=oi(eY),iY=((BQ=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(lQ)).\u0275fac=function(t){return rY(t||BQ)},BQ.\u0275dir=le({type:BQ,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[wa]}),BQ),rY=oi(iY),oY=((NQ=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(uQ)).\u0275fac=function(t){return aY(t||NQ)},NQ.\u0275dir=le({type:NQ,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[wa]}),NQ),aY=oi(oY),sY=((jQ=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(vQ)).\u0275fac=function(t){return cY(t||jQ)},jQ.\u0275dir=le({type:jQ,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Ks([{provide:vQ,useExisting:jQ}]),wa]}),jQ),cY=oi(sY),lY=((VQ=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(bQ)).\u0275fac=function(t){return uY(t||VQ)},VQ.\u0275dir=le({type:VQ,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Ks([{provide:bQ,useExisting:VQ}]),wa]}),VQ),uY=oi(lY),hY=((HQ=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(kQ)).\u0275fac=function(t){return dY(t||HQ)},HQ.\u0275cmp=ne({type:HQ,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[Ks([{provide:kQ,useExisting:HQ}]),wa],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ka(0,0)},directives:[_Q],encapsulation:2}),HQ),dY=oi(hY),fY=((zQ=function(t){a(n,t);var e=c(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(CQ)).\u0275fac=function(t){return pY(t||zQ)},zQ.\u0275cmp=ne({type:zQ,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[Ks([{provide:CQ,useExisting:zQ}]),wa],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ka(0,0)},directives:[_Q],encapsulation:2}),zQ),pY=oi(fY),gY=((UQ=g(function t(){f(this,t)})).\u0275mod=se({type:UQ}),UQ.\u0275inj=Ot({factory:function(t){return new(t||UQ)},imports:[[$Q,_E],_E]}),UQ),vY={provide:new ci("mat-autocomplete-scroll-strategy"),deps:[WO],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},mY=((qQ=g(function t(){f(this,t)})).\u0275mod=se({type:qQ}),qQ.\u0275inj=Ot({factory:function(t){return new(t||qQ)},providers:[vY],imports:[[ZO,rR,_E,xd],YP,rR,_E]}),qQ),yY=[pE,gI,SK,MK,lI,FK,tF,Aj,_U,wN,tI,TK,CA,DR,gY,yV,zB,mY,GD],bY=((WQ=g(function t(){f(this,t)})).\u0275mod=se({type:WQ}),WQ.\u0275inj=Ot({factory:function(t){return new(t||WQ)},imports:[[xd].concat(yY),pE,gI,SK,MK,lI,FK,tF,Aj,_U,wN,tI,TK,CA,DR,gY,yV,zB,mY,GD]}),WQ);function _Y(t,e){for(var n=e-t.length,i=C(t),r=0;r<n;r++)i.push("");return i}function kY(t,e){1&t&&(Ua(0,"th",16),Ss(1," Syntax "),qa())}function CY(t,e){if(1&t&&(Ua(0,"td",17),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.syntax," ")}}function wY(t,e){1&t&&(Ua(0,"th",18),Ss(1," Explanation "),qa())}function xY(t,e){if(1&t&&(Ua(0,"td",19),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.explanation," ")}}function PY(t,e){1&t&&(Ua(0,"th",20),Ss(1," Example "),qa())}function OY(t,e){if(1&t&&(Ua(0,"span",26),Ss(1),qa()),2&t){var n=is().$implicit;so(1),Ms(n.suffix)}}function SY(t,e){if(1&t&&($a(0),Wa(1,"app-cards",24),Na(2,OY,2,1,"span",25),Ga()),2&t){var n=e.$implicit,i=e.last,r=is(2);so(1),Ha("cards",n.fill?r.fillEmptyCards(n.cards):n.cards),so(1),Ha("ngIf",!i)}}function MY(t,e){if(1&t&&(Ua(0,"td",21),Ua(1,"div",22),Na(2,SY,3,2,"ng-container",23),qa(),qa()),2&t){var n=e.$implicit;so(2),Ha("ngForOf",n.cardExample)}}function TY(t,e){1&t&&Wa(0,"tr",27)}function EY(t,e){1&t&&Wa(0,"tr",28)}function RY(t,e){1&t&&(Ua(0,"th",16),Ss(1," Syntax "),qa())}function FY(t,e){if(1&t&&(Ua(0,"td",17),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.syntax," ")}}function IY(t,e){1&t&&(Ua(0,"th",18),Ss(1," Explanation "),qa())}function AY(t,e){if(1&t&&(Ua(0,"td",19),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.explanation," ")}}function DY(t,e){1&t&&(Ua(0,"th",20),Ss(1," Example "),qa())}function LY(t,e){if(1&t&&(Ua(0,"span",26),Ss(1),qa()),2&t){var n=is().$implicit;so(1),Ms(n.suffix)}}function BY(t,e){if(1&t&&($a(0),Wa(1,"app-cards",24),Na(2,LY,2,1,"span",25),Ga()),2&t){var n=e.$implicit,i=e.last,r=is(3);so(1),Ha("cards",n.fill?r.fillEmptyCards(n.cards):n.cards),so(1),Ha("ngIf",!i)}}function NY(t,e){if(1&t&&(Ua(0,"div",22),Na(1,BY,3,2,"ng-container",23),qa()),2&t){var n=is().$implicit;so(1),Ha("ngForOf",n.cardExample)}}function jY(t,e){if(1&t&&(Ua(0,"div",22),Ss(1),qa()),2&t){var n=is().$implicit;so(1),Ts(" ",n.textExample," ")}}function VY(t,e){if(1&t&&(Ua(0,"td",21),Na(1,NY,2,1,"div",29),Na(2,jY,2,1,"div",29),qa()),2&t){var n=e.$implicit;so(1),Ha("ngIf",n.cardExample),so(1),Ha("ngIf",!n.cardExample&&n.textExample)}}function HY(t,e){1&t&&Wa(0,"tr",27)}function zY(t,e){1&t&&Wa(0,"tr",28)}var UY,qY=((UY=function(){function t(){f(this,t)}return g(t,[{key:"fillEmptyCards",value:function(t){return _Y(t,3)}},{key:"displayedColumns",get:function(){return["syntax","explanation","example"]}},{key:"basicElements",get:function(){return[{syntax:"A",explanation:"Any ace",cardExample:[{cards:["A"],fill:!0}]},{syntax:"Ac",explanation:"Ace of clubs",cardExample:[{cards:["Ac"],fill:!0}]},{syntax:"Axx",explanation:"Suited ace (any suit)",cardExample:[{cards:["Ad","*d"],fill:!0}]},{syntax:"c d h s",explanation:"Suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"x y w z",explanation:"Generic suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"RR",explanation:"Paired",cardExample:[{cards:["A","A"],fill:!0}]},{syntax:"$rb",explanation:"Rainbow",cardExample:[{cards:["*s","*d","*c"],fill:!1}]},{syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*c"],fill:!1}]},{syntax:"$mt",explanation:"Monotone",cardExample:[{cards:["*s","*s","*s"],fill:!1}]}]}},{key:"operatorElements",get:function(){return[{syntax:"!",explanation:"Exclude/Not",textExample:"'!A' Flops without any ace"},{syntax:",",explanation:"Or",textExample:"'A,K' Flops with an ace or king"},{syntax:":",explanation:"And",textExample:"'A:$rb' Rainbow flops with an ace"},{syntax:"( )",explanation:"Group",textExample:"'!(A,K)' Flops without any aces or kings"}]}}]),t}()).\u0275fac=function(t){return new(t||UY)},UY.\u0275cmp=ne({type:UY,selectors:[["board-syntax-dialog"]],decls:32,vars:6,consts:[["mat-dialog-title",""],[1,"syntax-dialog-content","mat-typography"],["mat-table","",1,"syntax-table",3,"dataSource"],["matColumnDef","syntax"],["mat-header-cell","","class","syntax-col",4,"matHeaderCellDef"],["mat-cell","","class","syntax-col",4,"matCellDef"],["matColumnDef","explanation"],["mat-header-cell","","class","explanation-col",4,"matHeaderCellDef"],["mat-cell","","class","explanation-col",4,"matCellDef"],["matColumnDef","example"],["mat-header-cell","","class","example-col",4,"matHeaderCellDef"],["mat-cell","","class","example-col",4,"matCellDef"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end"],["mat-dialog-close","",1,"close-link"],["mat-header-cell","",1,"syntax-col"],["mat-cell","",1,"syntax-col"],["mat-header-cell","",1,"explanation-col"],["mat-cell","",1,"explanation-col"],["mat-header-cell","",1,"example-col"],["mat-cell","",1,"example-col"],[1,"examples"],[4,"ngFor","ngForOf"],[3,"cards"],["class","separator",4,"ngIf"],[1,"separator"],["mat-header-row","","sticky",""],["mat-row",""],["class","examples",4,"ngIf"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1,"Board filter syntax"),qa(),Ua(2,"mat-dialog-content",1),Ua(3,"table",2),$a(4,3),Na(5,kY,2,0,"th",4),Na(6,CY,2,1,"td",5),Ga(),$a(7,6),Na(8,wY,2,0,"th",7),Na(9,xY,2,1,"td",8),Ga(),$a(10,9),Na(11,PY,2,0,"th",10),Na(12,MY,3,1,"td",11),Ga(),Na(13,TY,1,0,"tr",12),Na(14,EY,1,0,"tr",13),qa(),Ua(15,"h4"),Ss(16,"Operators"),qa(),Ua(17,"table",2),$a(18,3),Na(19,RY,2,0,"th",4),Na(20,FY,2,1,"td",5),Ga(),$a(21,6),Na(22,IY,2,0,"th",7),Na(23,AY,2,1,"td",8),Ga(),$a(24,9),Na(25,DY,2,0,"th",10),Na(26,VY,3,2,"td",11),Ga(),Na(27,HY,1,0,"tr",12),Na(28,zY,1,0,"tr",13),qa(),qa(),Ua(29,"mat-dialog-actions",14),Ua(30,"a",15),Ss(31,"Close"),qa(),qa()),2&t&&(so(3),Ha("dataSource",e.basicElements),so(10),Ha("matHeaderRowDef",e.displayedColumns),so(1),Ha("matRowDefColumns",e.displayedColumns),so(3),Ha("dataSource",e.operatorElements),so(10),Ha("matHeaderRowDef",e.displayedColumns),so(1),Ha("matRowDefColumns",e.displayedColumns))},directives:[ER,RR,QQ,eY,XQ,ZQ,sY,lY,FR,TR,iY,oY,$h,cH,Kh,hY,fY],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}  .board-syntax-dialog>mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .board-syntax-dialog>mat-dialog-container h4{margin-bottom:0!important}  .mat-cell,   .mat-header-cell{color:var(--text-color)!important;border-bottom-color:var(--text-color)!important}.syntax-dialog-content[_ngcontent-%COMP%]{margin:5px}.syntax-table[_ngcontent-%COMP%]{background:none!important;margin-bottom:30px}.syntax-col[_ngcontent-%COMP%]{width:120px}.explanation-col[_ngcontent-%COMP%]{width:200px;margin:0 10px}.example-col[_ngcontent-%COMP%]{width:200px}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 5px;font-size:18px}.close-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.close-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),UY),WY=[{label:"Cards & suits",groups:[{label:"Cards & suits",elements:[{syntax:"A",explanation:"Any ace",cardExample:[{cards:["A"],fill:!0}]},{syntax:"Ac",explanation:"Ace of clubs",cardExample:[{cards:["Ac"],fill:!0}]},{syntax:"Axx",explanation:"Suited ace (any suit)",cardExample:[{cards:["Ad","*d"],fill:!0}]},{syntax:"c d h s",explanation:"Suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"x y w z",explanation:"Generic suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*d","*c"],fill:!0}]},{syntax:"$ds",explanation:"Double suited",cardExample:[{cards:["*s","*s","*d","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$ts",explanation:"Triple suited",cardExample:[{cards:["*s","*s","*s","*d"],fill:!0}]},{syntax:"$rb",explanation:"Rainbow suited",cardExample:[{cards:["*s","*d","*c","*h"],fill:!0}]},{syntax:"$ms",explanation:"Monotone suited",cardExample:[{cards:["*s","*s","*s","*s"],fill:!0}]}]}]},{label:"Made hands",groups:[{label:"Straight flush",elements:[{syntax:"RF",explanation:"Royal flush",cardExample:[{cards:["Ah","Kh","",""],fill:!0,suffix:"+"},{cards:["Qh","Jh","Th"],fill:!1}]},{syntax:"SF",explanation:"Straight flush",cardExample:[{cards:["Jh","Th","",""],fill:!0,suffix:"+"},{cards:["9h","8h","7h"],fill:!1}]}]},{label:"Quads",elements:[{syntax:"QS",explanation:"Quads",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","K",""],fill:!1}]}]},{label:"Full House",elements:[{syntax:"FH",explanation:"Any full house",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]},{syntax:"FHN",explanation:"Nut boat",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]},{syntax:"FHNN",explanation:"Non-nut boat",cardExample:[{cards:["Q","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]}]},{label:"Flush",elements:[{syntax:"FL",explanation:"Any flush",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FLN / FLN1",explanation:"Nut flush",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FLN2",explanation:"Second nut flush",cardExample:[{cards:["Kd","*d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6d"],fill:!1}]},{syntax:"FLNN",explanation:"Non nut flush",cardExample:[{cards:["Td","2d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6d"],fill:!1}]},{syntax:"FL3",explanation:"Flush with 3",cardExample:[{cards:["*d","*d","*d",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FL4",explanation:"Flush with 4",cardExample:[{cards:["*d","*d","*d","*d"],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]}]},{label:"Straight",elements:[{syntax:"STR",explanation:"Any straight",cardExample:[{cards:["J","8","",""],fill:!0,suffix:"+"},{cards:["Q","T","9"],fill:!1}]},{syntax:"STR1",explanation:"Nut straight",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STR2",explanation:"Second nut straight",cardExample:[{cards:["Q","8","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STR3",explanation:"Third nut straight",cardExample:[{cards:["8","7","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STRNN",explanation:"Non nut straight",cardExample:[{cards:["8","6","",""],fill:!0,suffix:"+"},{cards:["J","T","9","7"],fill:!1}]}]},{label:"Set / Trips",elements:[{syntax:"SET",explanation:"Any set",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","",""],fill:!1}]},{syntax:"SETT",explanation:"Top set",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"SETM",explanation:"Middle set",cardExample:[{cards:["Q","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"SETB",explanation:"Bottom set",cardExample:[{cards:["J","J","J",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"TRI",explanation:"Any trips",cardExample:[{cards:["K","","",""],fill:!0,suffix:"+"},{cards:["K","K",""],fill:!1}]},{syntax:"TRIH",explanation:"High trips",cardExample:[{cards:["K","","",""],fill:!0,suffix:"+"},{cards:["K","K","J","J"],fill:!1}]},{syntax:"TRIL",explanation:"Low trips",cardExample:[{cards:["J","","",""],fill:!0,suffix:"+"},{cards:["K","K","J","J"],fill:!1}]}]},{label:"Two Pair",elements:[{syntax:"2P",explanation:"Any two pair",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"3P",explanation:"Any three pair",cardExample:[{cards:["A","Q","T",""],fill:!0,suffix:"+"},{cards:["A","Q","T"],fill:!1}]},{syntax:"4P",explanation:"Any four pair",cardExample:[{cards:["A","Q","T","8"],fill:!0,suffix:"+"},{cards:["A","Q","T","8"],fill:!1}]},{syntax:"2PT2",explanation:"Top two pair",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]},{syntax:"2PTB",explanation:"Top bottom two pair",cardExample:[{cards:["K","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]},{syntax:"2PB2",explanation:"Bottom two pair",cardExample:[{cards:["Q","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]}]},{label:"One Pair",elements:[{syntax:"BOP",explanation:"Any board pair",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["A","",""],fill:!1}]},{syntax:"OP",explanation:"Overpair",cardExample:[{cards:["A","A","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"TP",explanation:"Top pair",cardExample:[{cards:["Q","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"MP",explanation:"Middle pair",cardExample:[{cards:["J","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"BP",explanation:"Bottom pair",cardExample:[{cards:["T","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"UP",explanation:"Underpair",cardExample:[{cards:["8","8","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"RR",explanation:"Any pocket pair",cardExample:[{cards:["A","A"],fill:!0,suffix:"+"},{cards:["","",""],fill:!1}]},{syntax:"RROO",explanation:"Any double pocket pair",cardExample:[{cards:["J","J","T","T"],fill:!0,suffix:"+"},{cards:["","",""],fill:!1}]}]}]},{label:"Air / Draws",groups:[{label:"Straight flush draw",elements:[{syntax:"SFD / FDSF",explanation:"Straight flush draw",cardExample:[{cards:["Ah","Kh","",""],fill:!0,suffix:"+"},{cards:["Qh","Jh",""],fill:!1}]}]},{label:"Flush draw",elements:[{syntax:"FD",explanation:"Any flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"DFD",explanation:"Double flush draw",cardExample:[{cards:["*d","*d","*c","*c"],fill:!0,suffix:"+"},{cards:["*d","*d","*c","*c"],fill:!1}]},{syntax:"NFD / NFD1",explanation:"Nut flush draw",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"NFD2",explanation:"Second nut flush draw",cardExample:[{cards:["Kd","*d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d",""],fill:!1}]},{syntax:"FDNN",explanation:"Non nut flush draw",cardExample:[{cards:["Td","2d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d",""],fill:!1}]}]},{label:"Backdoor flush draw",elements:[{syntax:"BDFD",explanation:"Any backdoor flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDNFD",explanation:"Backdoor nut flush draw",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDFD1",explanation:"One backdoor flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDFD2",explanation:"Two backdoor flush draw",cardExample:[{cards:["*d","*d","*h","*h"],fill:!0,suffix:"+"},{cards:["*d","*h",""],fill:!1}]}]},{label:"Straight draw",elements:[{syntax:"SD",explanation:"Any straight draw",cardExample:[{cards:["9","8","7",""],fill:!0,suffix:"+"},{cards:["6","",""],fill:!1}]},{syntax:"WR",explanation:"Wrap (9+ outs)",cardExample:[{cards:["T","8","7",""],fill:!0,suffix:"+"},{cards:["A","J","9"],fill:!1}]},{syntax:"OESD",explanation:"OESD  (8 outs)",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["J","T",""],fill:!1}]},{syntax:"GS",explanation:"Gutshot (4 outs)",cardExample:[{cards:["A","K","",""],fill:!0,suffix:"+"},{cards:["J","T",""],fill:!1}]},{syntax:"NWR / NOESD / NGS",explanation:"Nut straight draws. A straight draw for which every out leads to the nut straight",cardExample:[]}]},{label:"Air",elements:[{syntax:"AIR",explanation:"Any non-made hand"},{syntax:"=AIR",explanation:"Any non-made hand that is also not a flush/straight draw"}]}]},{label:"Blockers",groups:[{label:"Flush blockers",elements:[{syntax:"BLF",explanation:"Any flush blocker",cardExample:[{cards:["*d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLFN / BLF1",explanation:"Nut flush blocker",cardExample:[{cards:["Ad","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLF2",explanation:"Second nut flush blocker",cardExample:[{cards:["Kd","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLFNN",explanation:"Non nut flush blocker",cardExample:[{cards:["8d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]}]},{label:"Flush draw blockers",elements:[{syntax:"BLFD",explanation:"Any flush draw blocker",cardExample:[{cards:["*d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFDN / BLFD1",explanation:"Nut flush draw blocker",cardExample:[{cards:["Ad","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFD2",explanation:"Second nut flush draw blocker",cardExample:[{cards:["Kd","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFDNN",explanation:"Non nut flush draw blocker",cardExample:[{cards:["8d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]}]},{label:"Straight blockers",elements:[{syntax:"BLS",explanation:"Straight blocker",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLSRR",explanation:"Straight blocker with pair",cardExample:[{cards:["T","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS1",explanation:"One straight blocker",cardExample:[{cards:["9","","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS2",explanation:"Two straight blockers",cardExample:[{cards:["9","9","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS3",explanation:"Three straight blockers",cardExample:[{cards:["A","A","A",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS4",explanation:"Four straight blockers",cardExample:[{cards:["T","T","T","T"],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]}]},{label:"Straight draw blockers",elements:[{syntax:"BLSD",explanation:"Straight draw blocker",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSDRR",explanation:"Straight draw blocker with pair",cardExample:[{cards:["T","T","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD1",explanation:"One straight draw blocker",cardExample:[{cards:["9","","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD2",explanation:"Two straight draw blockers",cardExample:[{cards:["9","9","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD3",explanation:"Three straight draw blockers",cardExample:[{cards:["A","A","A",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD4",explanation:"Four straight draw blockers",cardExample:[{cards:["T","T","T","T"],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]}]}]},{label:"Operators",groups:[{label:"Operators",elements:[{syntax:"!",explanation:"Exclude/Not",textExample:"'!FD' Exclude flush draws"},{syntax:",",explanation:"Or",textExample:"'A,K' Ace or King"},{syntax:":",explanation:"And",textExample:"'BOP:FD' Board pairs with flush draw"},{syntax:"( )",explanation:"Group",textExample:"'!(SD,FD)' No straight or flush draws"},{syntax:">",explanation:"Equals and better than",textExample:"'>BP' Bottom pair or better"},{syntax:"<",explanation:"Worse than",textExample:"'<2P' Worse than two pair"},{syntax:"=",explanation:"Equals and not better than",textExample:"'=TRI' Exactly trips but not better"}]}]}],$Y=[{label:"Cards & suits",groups:[{label:"Cards & suits",elements:[{syntax:"A",explanation:"Any ace",cardExample:[{cards:["A"],fill:!0}]},{syntax:"Ac",explanation:"Ace of clubs",cardExample:[{cards:["Ac"],fill:!0}]},{syntax:"Axx",explanation:"Suited ace (any suit)",cardExample:[{cards:["Ad","*d"],fill:!0}]},{syntax:"c d h s",explanation:"Suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"x y w z",explanation:"Generic suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*d","*c"],fill:!0}]},{syntax:"$ds",explanation:"Double suited",cardExample:[{cards:["*s","*s","*d","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$dsp",explanation:"Double suited pure",cardExample:[{cards:["*s","*s","*d","*d","*c"],fill:!0}]},{syntax:"$dts",explanation:"Double triple suited",cardExample:[{cards:["*s","*s","*s","*d","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$ts",explanation:"Triple suited",cardExample:[{cards:["*s","*s","*s","*d"],fill:!0}]},{syntax:"$qs",explanation:"Quad suited",cardExample:[{cards:["*s","*s","*s","*s","*d"],fill:!0}]},{syntax:"$ms",explanation:"Monotone suited",cardExample:[{cards:["*s","*s","*s","*s","*s"],fill:!0}]}]}]},{label:"Made hands",groups:[{label:"Straight flush",elements:[{syntax:"RF",explanation:"Royal flush",cardExample:[{cards:["Ah","Kh","",""],fill:!0,suffix:"+"},{cards:["Qh","Jh","Th"],fill:!1}]},{syntax:"SF",explanation:"Straight flush",cardExample:[{cards:["Jh","Th","",""],fill:!0,suffix:"+"},{cards:["9h","8h","7h"],fill:!1}]}]},{label:"Quads",elements:[{syntax:"QS",explanation:"Quads",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","K",""],fill:!1}]}]},{label:"Full House",elements:[{syntax:"FH",explanation:"Any full house",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]},{syntax:"FHN",explanation:"Nut boat",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]},{syntax:"FHNN",explanation:"Non-nut boat",cardExample:[{cards:["Q","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]}]},{label:"Flush",elements:[{syntax:"FL",explanation:"Any flush",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FLN / FLN1",explanation:"Nut flush",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FLN2",explanation:"Second nut flush",cardExample:[{cards:["Kd","*d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6d"],fill:!1}]},{syntax:"FLNN",explanation:"Non nut flush",cardExample:[{cards:["Td","2d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6d"],fill:!1}]},{syntax:"FL3",explanation:"Flush with 3",cardExample:[{cards:["*d","*d","*d",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FL4",explanation:"Flush with 4",cardExample:[{cards:["*d","*d","*d","*d"],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]}]},{label:"Straight",elements:[{syntax:"STR",explanation:"Any straight",cardExample:[{cards:["J","8","",""],fill:!0,suffix:"+"},{cards:["Q","T","9"],fill:!1}]},{syntax:"STR1",explanation:"Nut straight",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STR2",explanation:"Second nut straight",cardExample:[{cards:["Q","8","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STR3",explanation:"Third nut straight",cardExample:[{cards:["8","7","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STRNN",explanation:"Non nut straight",cardExample:[{cards:["8","6","",""],fill:!0,suffix:"+"},{cards:["J","T","9","7"],fill:!1}]}]},{label:"Set / Trips",elements:[{syntax:"SET",explanation:"Any set",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","",""],fill:!1}]},{syntax:"SETT",explanation:"Top set",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"SETM",explanation:"Middle set",cardExample:[{cards:["Q","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"SETB",explanation:"Bottom set",cardExample:[{cards:["J","J","J",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"TRI",explanation:"Any trips",cardExample:[{cards:["K","","",""],fill:!0,suffix:"+"},{cards:["K","K",""],fill:!1}]},{syntax:"TRIH",explanation:"High trips",cardExample:[{cards:["K","","",""],fill:!0,suffix:"+"},{cards:["K","K","J","J"],fill:!1}]},{syntax:"TRIL",explanation:"Low trips",cardExample:[{cards:["J","","",""],fill:!0,suffix:"+"},{cards:["K","K","J","J"],fill:!1}]}]},{label:"Two Pair",elements:[{syntax:"2P",explanation:"Any two pair",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"3P",explanation:"Any three pair",cardExample:[{cards:["A","Q","T",""],fill:!0,suffix:"+"},{cards:["A","Q","T"],fill:!1}]},{syntax:"4P",explanation:"Any four pair",cardExample:[{cards:["A","Q","T","8"],fill:!0,suffix:"+"},{cards:["A","Q","T","8"],fill:!1}]},{syntax:"2PT2",explanation:"Top two pair",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]},{syntax:"2PTB",explanation:"Top bottom two pair",cardExample:[{cards:["K","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]},{syntax:"2PB2",explanation:"Bottom two pair",cardExample:[{cards:["Q","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]}]},{label:"One Pair",elements:[{syntax:"BOP",explanation:"Any board pair",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["A","",""],fill:!1}]},{syntax:"OP",explanation:"Overpair",cardExample:[{cards:["A","A","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"TP",explanation:"Top pair",cardExample:[{cards:["Q","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"MP",explanation:"Middle pair",cardExample:[{cards:["J","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"BP",explanation:"Bottom pair",cardExample:[{cards:["T","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"UP",explanation:"Underpair",cardExample:[{cards:["8","8","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"RR",explanation:"Any pocket pair",cardExample:[{cards:["A","A"],fill:!0,suffix:"+"},{cards:["","",""],fill:!1}]},{syntax:"RROO",explanation:"Any double pocket pair",cardExample:[{cards:["J","J","T","T"],fill:!0,suffix:"+"},{cards:["","",""],fill:!1}]}]}]},{label:"Air / Draws",groups:[{label:"Straight flush draw",elements:[{syntax:"SFD / FDSF",explanation:"Straight flush draw",cardExample:[{cards:["Ah","Kh","",""],fill:!0,suffix:"+"},{cards:["Qh","Jh",""],fill:!1}]}]},{label:"Flush draw",elements:[{syntax:"FD",explanation:"Any flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"DFD",explanation:"Double flush draw",cardExample:[{cards:["*d","*d","*c","*c"],fill:!0,suffix:"+"},{cards:["*d","*d","*c","*c"],fill:!1}]},{syntax:"NFD / NFD1",explanation:"Nut flush draw",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"NFD2",explanation:"Second nut flush draw",cardExample:[{cards:["Kd","*d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6"],fill:!1}]},{syntax:"FDNN",explanation:"Non nut flush draw",cardExample:[{cards:["Td","2d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d",""],fill:!1}]}]},{label:"Backdoor flush draw",elements:[{syntax:"BDFD",explanation:"Any backdoor flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDNFD",explanation:"Backdoor nut flush draw",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDFD1",explanation:"One backdoor flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDFD2",explanation:"Two backdoor flush draw",cardExample:[{cards:["*d","*d","*h","*h"],fill:!0,suffix:"+"},{cards:["*d","*h",""],fill:!1}]}]},{label:"Straight draw",elements:[{syntax:"SD",explanation:"Any straight draw",cardExample:[{cards:["9","8","7",""],fill:!0,suffix:"+"},{cards:["6","",""],fill:!1}]},{syntax:"WR",explanation:"Wrap (9+ outs)",cardExample:[{cards:["T","8","7",""],fill:!0,suffix:"+"},{cards:["A","J","9"],fill:!1}]},{syntax:"OESD",explanation:"OESD  (8 outs)",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["J","T",""],fill:!1}]},{syntax:"GS",explanation:"Gutshot (4 outs)",cardExample:[{cards:["A","K","",""],fill:!0,suffix:"+"},{cards:["J","T",""],fill:!1}]},{syntax:"NWR / NOESD / NGS",explanation:"Nut straight draws. A straight draw for which every out leads to the nut straight",cardExample:[]}]},{label:"Air",elements:[{syntax:"AIR",explanation:"Any non-made hand"},{syntax:"=AIR",explanation:"Any non-made hand that is also not a flush/straight draw"}]}]},{label:"Blockers",groups:[{label:"Flush blockers",elements:[{syntax:"BLF",explanation:"Any flush blocker",cardExample:[{cards:["*d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLFN / BLF1",explanation:"Nut flush blocker",cardExample:[{cards:["Ad","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLF2",explanation:"Second nut flush blocker",cardExample:[{cards:["Kd","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLFNN",explanation:"Non nut flush blocker",cardExample:[{cards:["8d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]}]},{label:"Flush draw blockers",elements:[{syntax:"BLFD",explanation:"Any flush draw blocker",cardExample:[{cards:["*d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFDN / BLFD1",explanation:"Nut flush draw blocker",cardExample:[{cards:["Ad","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFD2",explanation:"Second nut flush draw blocker",cardExample:[{cards:["Kd","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFDNN",explanation:"Non nut flush draw blocker",cardExample:[{cards:["8d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]}]},{label:"Straight blockers",elements:[{syntax:"BLS",explanation:"Straight blocker",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLSRR",explanation:"Straight blocker with pair",cardExample:[{cards:["T","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS1",explanation:"One straight blocker",cardExample:[{cards:["9","","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS2",explanation:"Two straight blockers",cardExample:[{cards:["9","9","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS3",explanation:"Three straight blockers",cardExample:[{cards:["A","A","A",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS4",explanation:"Four straight blockers",cardExample:[{cards:["T","T","T","T"],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]}]},{label:"Straight draw blockers",elements:[{syntax:"BLSD",explanation:"Straight draw blocker",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSDRR",explanation:"Straight draw blocker with pair",cardExample:[{cards:["T","T","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD1",explanation:"One straight draw blocker",cardExample:[{cards:["9","","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD2",explanation:"Two straight draw blockers",cardExample:[{cards:["9","9","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD3",explanation:"Three straight draw blockers",cardExample:[{cards:["A","A","A",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD4",explanation:"Four straight draw blockers",cardExample:[{cards:["T","T","T","T"],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]}]}]},{label:"Operators",groups:[{label:"Operators",elements:[{syntax:"!",explanation:"Exclude/Not",textExample:"'!FD' Exclude flush draws"},{syntax:",",explanation:"Or",textExample:"'A,K' Ace or King"},{syntax:":",explanation:"And",textExample:"'BOP:FD' Board pairs with flush draw"},{syntax:"( )",explanation:"Group",textExample:"'!(SD,FD)' No straight or flush draws"},{syntax:">",explanation:"Equals and better than",textExample:"'>BP' Bottom pair or better"},{syntax:"<",explanation:"Worse than",textExample:"'<2P' Worse than two pair"},{syntax:"=",explanation:"Equals and not better than",textExample:"'=TRI' Exactly trips but not better"}]}]}];function GY(t,e){1&t&&(Ua(0,"span",21),Wa(1,"i",22),qa())}function KY(t,e){1&t&&(Ua(0,"span",21),Wa(1,"i",23),qa())}function QY(t,e){1&t&&(Ua(0,"th",24),Ss(1," Syntax "),qa())}function YY(t,e){if(1&t&&(Ua(0,"td",25),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.syntax," ")}}function ZY(t,e){1&t&&(Ua(0,"th",26),Ss(1," Explanation "),qa())}function JY(t,e){if(1&t&&(Ua(0,"td",27),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.explanation," ")}}function XY(t,e){1&t&&(Ua(0,"th",28),Ss(1," Example "),qa())}function tZ(t,e){if(1&t&&(Ua(0,"span",35),Ss(1),qa()),2&t){var n=is().$implicit;so(1),Ms(n.suffix)}}function eZ(t,e){if(1&t&&($a(0),Wa(1,"app-cards",33),Na(2,tZ,2,1,"span",34),Ga()),2&t){var n=e.$implicit,i=e.last,r=is(5);so(1),Ha("cards",n.fill?r.fillEmptyCards(n.cards):n.cards),so(1),Ha("ngIf",!i)}}function nZ(t,e){if(1&t&&(Ua(0,"div",31),Na(1,eZ,3,2,"ng-container",32),qa()),2&t){var n=is().$implicit;so(1),Ha("ngForOf",n.cardExample)}}function iZ(t,e){if(1&t&&(Ua(0,"div",31),Ss(1),qa()),2&t){var n=is().$implicit;so(1),Ts(" ",n.textExample," ")}}function rZ(t,e){if(1&t&&(Ua(0,"td",29),Na(1,nZ,2,1,"div",30),Na(2,iZ,2,1,"div",30),qa()),2&t){var n=e.$implicit;so(1),Ha("ngIf",n.cardExample),so(1),Ha("ngIf",!n.cardExample&&n.textExample)}}function oZ(t,e){1&t&&Wa(0,"tr",36)}function aZ(t,e){1&t&&Wa(0,"tr",37)}function sZ(t,e){if(1&t){var n=Qa();Ua(0,"mat-expansion-panel",7),Ja("opened",function(){Qe(n);var t=e.index,i=is().index;return is().panelOpenState[i][t]=!0})("closed",function(){Qe(n);var t=e.index,i=is().index;return is().panelOpenState[i][t]=!1}),Ua(1,"mat-expansion-panel-header"),Ua(2,"mat-panel-title"),Ss(3),qa(),Na(4,GY,2,0,"span",8),Na(5,KY,2,0,"span",8),qa(),Ua(6,"table",9),$a(7,10),Na(8,QY,2,0,"th",11),Na(9,YY,2,1,"td",12),Ga(),$a(10,13),Na(11,ZY,2,0,"th",14),Na(12,JY,2,1,"td",15),Ga(),$a(13,16),Na(14,XY,2,0,"th",17),Na(15,rZ,3,2,"td",18),Ga(),Na(16,oZ,1,0,"tr",19),Na(17,aZ,1,0,"tr",20),qa(),qa()}if(2&t){var i=e.$implicit,r=e.index,o=is(),a=o.index,s=o.$implicit,c=is();so(3),Ms(i.label),so(1),Ha("ngIf",c.panelOpenState[a][r]),so(1),Ha("ngIf",!c.panelOpenState[a][r]),so(1),Ha("dataSource",c.getElements(s.label,i.label)),so(10),Ha("matHeaderRowDef",c.displayedColumns),so(1),Ha("matRowDefColumns",c.displayedColumns)}}function cZ(t,e){if(1&t&&(Ua(0,"div",5),Ua(1,"h4"),Ss(2),qa(),Na(3,sZ,18,6,"mat-expansion-panel",6),qa()),2&t){var n=e.$implicit;so(2),Ms(n.label),so(1),Ha("ngForOf",n.groups)}}var lZ,uZ=((lZ=function(){function t(){f(this,t),this.title="Postflop filter syntax",this.panelOpenState=[]}return g(t,[{key:"ngOnInit",value:function(){this.panelOpenState=this.sections.map(function(t){return t.groups.map(function(){return!1})})}},{key:"fillEmptyCards",value:function(t){return _Y(t,this.isFiveCard?5:4)}},{key:"isFiveCard",get:function(){return!1}},{key:"sections",get:function(){return this.isFiveCard?$Y:WY}},{key:"displayedColumns",get:function(){return["syntax","explanation","example"]}},{key:"getElements",value:function(t,e){var n,i=this.sections.find(function(e){return e.label===t});return null===(n=null==i?void 0:i.groups.find(function(t){return t.label===e}))||void 0===n?void 0:n.elements}}]),t}()).\u0275fac=function(t){return new(t||lZ)},lZ.\u0275cmp=ne({type:lZ,selectors:[["postflop-syntax-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],[1,"syntax-dialog-content","mat-typography"],["class","section",4,"ngFor","ngForOf"],["align","end"],["mat-dialog-close","",1,"close-link"],[1,"section"],["class","expansion-panel","hideToggle","true",3,"opened","closed",4,"ngFor","ngForOf"],["hideToggle","true",1,"expansion-panel",3,"opened","closed"],["class","icon",4,"ngIf"],["mat-table","",1,"syntax-table",3,"dataSource"],["matColumnDef","syntax"],["mat-header-cell","","class","syntax-col",4,"matHeaderCellDef"],["mat-cell","","class","syntax-col",4,"matCellDef"],["matColumnDef","explanation"],["mat-header-cell","","class","explanation-col",4,"matHeaderCellDef"],["mat-cell","","class","explanation-col",4,"matCellDef"],["matColumnDef","example"],["mat-header-cell","","class","example-col",4,"matHeaderCellDef"],["mat-cell","","class","example-col",4,"matCellDef"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"icon"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],["mat-header-cell","",1,"syntax-col"],["mat-cell","",1,"syntax-col"],["mat-header-cell","",1,"explanation-col"],["mat-cell","",1,"explanation-col"],["mat-header-cell","",1,"example-col"],["mat-cell","",1,"example-col"],["class","examples",4,"ngIf"],[1,"examples"],[4,"ngFor","ngForOf"],[3,"cards"],["class","separator",4,"ngIf"],[1,"separator"],["mat-header-row","","sticky",""],["mat-row",""]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1),qa(),Ua(2,"mat-dialog-content",1),Na(3,cZ,4,2,"div",2),qa(),Ua(4,"mat-dialog-actions",3),Ua(5,"a",4),Ss(6,"Close"),qa(),qa()),2&t&&(so(1),Ms(e.title),so(2),Ha("ngForOf",e.sections))},directives:[ER,RR,$h,FR,TR,xK,PK,OK,Kh,QQ,eY,XQ,ZQ,sY,lY,iY,oY,cH,hY,fY],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}  .postflop-syntax-dialog>mat-dialog-container{color:var(--text-color)!important;background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .postflop-syntax-dialog>mat-dialog-container h4{margin-bottom:0!important}  .mat-cell,   .mat-header-cell{color:var(--text-color)!important;border-bottom-color:var(--text-color)!important}mat-expansion-panel[_ngcontent-%COMP%]{margin:15px 0!important;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);color:var(--text-color)}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header-title{color:var(--text-color)}.icon[_ngcontent-%COMP%]{color:var(--fa-icon-color)}.syntax-dialog-content[_ngcontent-%COMP%]{margin:5px}.syntax-table[_ngcontent-%COMP%]{background:none!important;margin-bottom:30px}.syntax-col[_ngcontent-%COMP%]{width:120px}.explanation-col[_ngcontent-%COMP%]{width:200px;margin:0 10px}.example-col[_ngcontent-%COMP%]{width:200px}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 5px;font-size:18px}.close-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.close-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),lZ);function hZ(t,e){1&t&&(Ua(0,"th",16),Ss(1," Syntax "),qa())}function dZ(t,e){if(1&t&&(Ua(0,"td",17),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.syntax," ")}}function fZ(t,e){1&t&&(Ua(0,"th",18),Ss(1," Explanation "),qa())}function pZ(t,e){if(1&t&&(Ua(0,"td",19),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.explanation," ")}}function gZ(t,e){1&t&&(Ua(0,"th",20),Ss(1," Example "),qa())}function vZ(t,e){if(1&t&&(Ua(0,"span",26),Ss(1),qa()),2&t){var n=is().$implicit;so(1),Ms(n.suffix)}}function mZ(t,e){if(1&t&&($a(0),Wa(1,"app-cards",24),Na(2,vZ,2,1,"span",25),Ga()),2&t){var n=e.$implicit,i=e.last,r=is(2);so(1),Ha("cards",n.fill?r.fillEmptyCards(n.cards):n.cards),so(1),Ha("ngIf",!i)}}function yZ(t,e){if(1&t&&(Ua(0,"td",21),Ua(1,"div",22),Na(2,mZ,3,2,"ng-container",23),qa(),qa()),2&t){var n=e.$implicit;so(2),Ha("ngForOf",n.cardExample)}}function bZ(t,e){1&t&&Wa(0,"tr",27)}function _Z(t,e){1&t&&Wa(0,"tr",28)}function kZ(t,e){1&t&&(Ua(0,"th",16),Ss(1," Syntax "),qa())}function CZ(t,e){if(1&t&&(Ua(0,"td",17),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.syntax," ")}}function wZ(t,e){1&t&&(Ua(0,"th",18),Ss(1," Explanation "),qa())}function xZ(t,e){if(1&t&&(Ua(0,"td",19),Ss(1),qa()),2&t){var n=e.$implicit;so(1),Ts(" ",n.explanation," ")}}function PZ(t,e){1&t&&(Ua(0,"th",20),Ss(1," Example "),qa())}function OZ(t,e){if(1&t&&(Ua(0,"span",26),Ss(1),qa()),2&t){var n=is().$implicit;so(1),Ms(n.suffix)}}function SZ(t,e){if(1&t&&($a(0),Wa(1,"app-cards",24),Na(2,OZ,2,1,"span",25),Ga()),2&t){var n=e.$implicit,i=e.last,r=is(3);so(1),Ha("cards",n.fill?r.fillEmptyCards(n.cards):n.cards),so(1),Ha("ngIf",!i)}}function MZ(t,e){if(1&t&&(Ua(0,"div",22),Na(1,SZ,3,2,"ng-container",23),qa()),2&t){var n=is().$implicit;so(1),Ha("ngForOf",n.cardExample)}}function TZ(t,e){if(1&t&&(Ua(0,"div",22),Ss(1),qa()),2&t){var n=is().$implicit;so(1),Ts(" ",n.textExample," ")}}function EZ(t,e){if(1&t&&(Ua(0,"td",21),Na(1,MZ,2,1,"div",29),Na(2,TZ,2,1,"div",29),qa()),2&t){var n=e.$implicit;so(1),Ha("ngIf",n.cardExample),so(1),Ha("ngIf",!n.cardExample&&n.textExample)}}function RZ(t,e){1&t&&Wa(0,"tr",27)}function FZ(t,e){1&t&&Wa(0,"tr",28)}var IZ,AZ=((IZ=function(){function t(){f(this,t)}return g(t,[{key:"fillEmptyCards",value:function(t){return _Y(t,this.isFiveCard?5:4)}},{key:"isFiveCard",get:function(){return!1}},{key:"displayedColumns",get:function(){return["syntax","explanation","example"]}},{key:"basicElements",get:function(){var t=[{syntax:"A",explanation:"Any ace",cardExample:[{cards:["A"],fill:!0}]},{syntax:"Ac",explanation:"Ace of clubs",cardExample:[{cards:["Ac"],fill:!0}]},{syntax:"Axx",explanation:"Suited ace (any suit)",cardExample:[{cards:["Ad","*d"],fill:!0}]},{syntax:"c d h s",explanation:"Suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"x y w z",explanation:"Generic suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"RR",explanation:"Any pocket pair",cardExample:[{cards:["A","A"],fill:!0}]},{syntax:"RROO",explanation:"Any double pocket pair",cardExample:[{cards:["J","J","T","T"],fill:!0}]},{syntax:"$np",explanation:"No pairs",cardExample:[{cards:["A","x","y","z"],fill:!0}]}];return this.isFiveCard?t.push({syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*d","*c","*h"],fill:!0}]},{syntax:"$ssn",explanation:"Single suited - nut suit",cardExample:[{cards:["As","*s","*d","*c","*h"],fill:!0}]},{syntax:"$ssnn",explanation:"Single suited - non nut suit",cardExample:[{cards:["Ks","*s","*d","*c","*h"],fill:!0}]},{syntax:"$ds",explanation:"Double suited",cardExample:[{cards:["*s","*s","*d","*d"],fill:!0}]},{syntax:"$dsnn",explanation:"Double suited - non nut suit",cardExample:[{cards:["Ks","*s","*d","*d"],fill:!0}]},{syntax:"$dsn",explanation:"Double suited - nut suit",cardExample:[{cards:["As","*s","*d","*d"],fill:!0}]},{syntax:"$dsdn",explanation:"Double suited - double nut suit",cardExample:[{cards:["As","*s","Ad","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$dsp",explanation:"Double suited pure",cardExample:[{cards:["*s","*s","*d","*d","*c"],fill:!0}]},{syntax:"$dts",explanation:"Double triple suited",cardExample:[{cards:["*s","*s","*s","*d","*d"],fill:!0}]},{syntax:"$ts",explanation:"Triple suited",cardExample:[{cards:["*s","*s","*s","*d"],fill:!0}]},{syntax:"$tsn",explanation:"Triple suited - nut suit",cardExample:[{cards:["As","*s","*s","*d"],fill:!0}]},{syntax:"$tsnn",explanation:"Triple suited - non nut suit",cardExample:[{cards:["Ks","*s","*s","*d"],fill:!0}]},{syntax:"$qs",explanation:"Quad suited",cardExample:[{cards:["*s","*s","*s","*s","*d"],fill:!0}]},{syntax:"$ms",explanation:"Monotone suited",cardExample:[{cards:["*s","*s","*s","*s","*s"],fill:!0}]}):t.push({syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*d","*c"],fill:!0}]},{syntax:"$ssn",explanation:"Single suited - nut suit",cardExample:[{cards:["As","*s","*d","*c"],fill:!0}]},{syntax:"$ssnn",explanation:"Single suited - non nut suit",cardExample:[{cards:["Ks","*s","*d","*c"],fill:!0}]},{syntax:"$ds",explanation:"Double suited",cardExample:[{cards:["*s","*s","*d","*d"],fill:!0}]},{syntax:"$dsnn",explanation:"Double suited - non nut suit",cardExample:[{cards:["Ks","*s","*d","*d"],fill:!0}]},{syntax:"$dsn",explanation:"Double suited - nut suit",cardExample:[{cards:["As","*s","*d","*d"],fill:!0}]},{syntax:"$dsdn",explanation:"Double suited - double nut suit",cardExample:[{cards:["As","*s","Ad","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$ts",explanation:"Triple suited",cardExample:[{cards:["*s","*s","*s","*d"],fill:!0}]},{syntax:"$rb",explanation:"Rainbow suited",cardExample:[{cards:["*s","*d","*c","*h"],fill:!0}]},{syntax:"$ms",explanation:"Monotone suited",cardExample:[{cards:["*s","*s","*s","*s"],fill:!0}]}),this.isFiveCard?t.push({syntax:"$0g",explanation:"Zero-gap rundown",cardExample:[{cards:["A","K","Q","J","T"],fill:!1}]},{syntax:"$1g",explanation:"One-gap rundown",cardExample:[{cards:["A","2","4","5","6"],fill:!1}]},{syntax:"$2g",explanation:"Two-gap rundown",cardExample:[{cards:["T","8","7","5","4"],fill:!1}]},{syntax:"$0g4",explanation:"4-card zero-gap rundown",cardExample:[{cards:["A","K","Q","J"],fill:!0}]},{syntax:"$1g4",explanation:"4-card one-gap rundown",cardExample:[{cards:["A","2","4","5"],fill:!0}]},{syntax:"$2g4",explanation:"4-card two-gap rundown",cardExample:[{cards:["T","8","7","5"],fill:!0}]}):t.push({syntax:"$0g",explanation:"Zero-gap rundown",cardExample:[{cards:["A","K","Q","J"],fill:!1}]},{syntax:"$1g",explanation:"One-gap rundown",cardExample:[{cards:["A","2","4","5"],fill:!1}]},{syntax:"$2g",explanation:"Two-gap rundown",cardExample:[{cards:["T","8","7","5"],fill:!1}]}),t}},{key:"operatorElements",get:function(){return[{syntax:"!",explanation:"Exclude/Not",textExample:"'!RR' Exclude pocket pairs"},{syntax:",",explanation:"Or",textExample:"'A,K' Ace or king"},{syntax:":",explanation:"And",textExample:"'RR:$ds' Pocket pair and double suited"},{syntax:"( )",explanation:"Group",textExample:"'A:(K,Q,J)' Ace with either king, queen or jack"}]}}]),t}()).\u0275fac=function(t){return new(t||IZ)},IZ.\u0275cmp=ne({type:IZ,selectors:[["preflop-syntax-dialog"]],decls:32,vars:6,consts:[["mat-dialog-title",""],[1,"syntax-dialog-content","mat-typography"],["mat-table","",1,"syntax-table",3,"dataSource"],["matColumnDef","syntax"],["mat-header-cell","","class","syntax-col",4,"matHeaderCellDef"],["mat-cell","","class","syntax-col",4,"matCellDef"],["matColumnDef","explanation"],["mat-header-cell","","class","explanation-col",4,"matHeaderCellDef"],["mat-cell","","class","explanation-col",4,"matCellDef"],["matColumnDef","example"],["mat-header-cell","","class","example-col",4,"matHeaderCellDef"],["mat-cell","","class","example-col",4,"matCellDef"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end"],["mat-dialog-close","",1,"close-link"],["mat-header-cell","",1,"syntax-col"],["mat-cell","",1,"syntax-col"],["mat-header-cell","",1,"explanation-col"],["mat-cell","",1,"explanation-col"],["mat-header-cell","",1,"example-col"],["mat-cell","",1,"example-col"],[1,"examples"],[4,"ngFor","ngForOf"],[3,"cards"],["class","separator",4,"ngIf"],[1,"separator"],["mat-header-row","","sticky",""],["mat-row",""],["class","examples",4,"ngIf"]],template:function(t,e){1&t&&(Ua(0,"h2",0),Ss(1,"Preflop filter syntax"),qa(),Ua(2,"mat-dialog-content",1),Ua(3,"table",2),$a(4,3),Na(5,hZ,2,0,"th",4),Na(6,dZ,2,1,"td",5),Ga(),$a(7,6),Na(8,fZ,2,0,"th",7),Na(9,pZ,2,1,"td",8),Ga(),$a(10,9),Na(11,gZ,2,0,"th",10),Na(12,yZ,3,1,"td",11),Ga(),Na(13,bZ,1,0,"tr",12),Na(14,_Z,1,0,"tr",13),qa(),Ua(15,"h4"),Ss(16,"Operators"),qa(),Ua(17,"table",2),$a(18,3),Na(19,kZ,2,0,"th",4),Na(20,CZ,2,1,"td",5),Ga(),$a(21,6),Na(22,wZ,2,0,"th",7),Na(23,xZ,2,1,"td",8),Ga(),$a(24,9),Na(25,PZ,2,0,"th",10),Na(26,EZ,3,2,"td",11),Ga(),Na(27,RZ,1,0,"tr",12),Na(28,FZ,1,0,"tr",13),qa(),qa(),Ua(29,"mat-dialog-actions",14),Ua(30,"a",15),Ss(31,"Close"),qa(),qa()),2&t&&(so(3),Ha("dataSource",e.basicElements),so(10),Ha("matHeaderRowDef",e.displayedColumns),so(1),Ha("matRowDefColumns",e.displayedColumns),so(3),Ha("dataSource",e.operatorElements),so(10),Ha("matHeaderRowDef",e.displayedColumns),so(1),Ha("matRowDefColumns",e.displayedColumns))},directives:[ER,RR,QQ,eY,XQ,ZQ,sY,lY,FR,TR,iY,oY,$h,cH,Kh,hY,fY],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}  .preflop-syntax-dialog>mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .preflop-syntax-dialog>mat-dialog-container h4{margin-bottom:0!important}  .mat-cell,   .mat-header-cell{color:var(--text-color)!important;border-bottom-color:var(--text-color)!important}.syntax-dialog-content[_ngcontent-%COMP%]{margin:5px}.syntax-table[_ngcontent-%COMP%]{background:none!important;margin-bottom:30px}.syntax-col[_ngcontent-%COMP%]{width:120px}.explanation-col[_ngcontent-%COMP%]{width:200px;margin:0 10px}.example-col[_ngcontent-%COMP%]{width:200px}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 5px;font-size:18px}.close-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.close-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),IZ),DZ=zb({lastUsedPreflop:[],lastUsedPostflop:[],lastUsedFlop:[]},Hb(WG,function(t,e){var n=e.flop,i=e.preflop,r=e.postflop;return Object.assign(Object.assign({},t),{lastUsedFlop:C(n).filter(function(t){return!!t}),lastUsedPreflop:C(i).filter(function(t){return!!t}),lastUsedPostflop:C(r).filter(function(t){return!!t})})}),Hb(GG,function(t,e){var n=e.syntax;return Object.assign(Object.assign({},t),{lastUsedFlop:[n].concat(C(t.lastUsedFlop.filter(function(t){return t!==n}).slice(0,4)))})}),Hb(KG,function(t,e){var n=e.syntax;return Object.assign(Object.assign({},t),{lastUsedPreflop:[n].concat(C(t.lastUsedPreflop.filter(function(t){return t!==n}).slice(0,4)))})}),Hb(QG,function(t,e){var n=e.syntax;return Object.assign(Object.assign({},t),{lastUsedPostflop:[n].concat(C(t.lastUsedPostflop.filter(function(t){return t!==n}).slice(0,4)))})}));function LZ(t,e){return DZ(t,e)}var BZ=hb("syntax"),NZ=lb(BZ,function(t){return t.lastUsedFlop.filter(function(t){return!!t&&t.length>0})}),jZ=lb(BZ,function(t){return t.lastUsedPreflop.filter(function(t){return!!t&&t.length>0})}),VZ=lb(BZ,function(t){return t.lastUsedPostflop.filter(function(t){return!!t&&t.length>0})}),HZ=["cardFilter"];function zZ(t,e){if(1&t){var n=Qa();Ua(0,"div",12),Ja("click",function(){return Qe(n),is().toggleRecentSyntaxes()}),Wa(1,"i",13),qa()}}function UZ(t,e){if(1&t){var n=Qa();Ua(0,"button",14),Ja("click",function(){return Qe(n),is().reset()}),Wa(1,"i",15),qa()}}function qZ(t,e){if(1&t){var n=Qa();Ua(0,"div",18),Ja("click",function(t){Qe(n);var i=e.$implicit;return is(2).selectRecentSyntax(i,t)}),Ss(1),qa()}if(2&t){var i=e.$implicit;so(1),Ts(" ",i," ")}}function WZ(t,e){if(1&t&&(Ua(0,"div",16),Na(1,qZ,2,1,"div",17),tl(2,"async"),qa()),2&t){var n=is();gs("show",n.showRecentSyntaxes),so(1),Ha("ngForOf",el(2,3,n.recentSyntaxes$))}}var $Z,GZ,KZ=((GZ=function(){function e(t,n){f(this,e),this.dialog=t,this.store=n,this.isBoardFilter=!1,this.filter=new ol,this.filterControl=new Gw(""),this.syntaxIsValid=!0,this.showRecentSyntaxes=!1,this.lastEmitted=null,this.bucketMacros$=this.store.pipe(ob(this.isPostFlop?Nk:Bk))}return g(e,[{key:"ngOnInit",value:function(){var e,n=this;this.recentSyntaxes$=this.store.pipe(ob(this.isBoardFilter?NZ:this.isPostFlop?VZ:jZ),W(function(t){return t.sort()})),this.setValue(null!==(e=this.initialValue)&&void 0!==e?e:""),this.keyPressSubscription&&this.keyPressSubscription.unsubscribe(),this.keyPressSubscription=Sx(document,"keyup").subscribe(function(e){return Gm(n,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:switch(e.key){case"Escape":this.closeRecentSyntaxes()}case 1:case"end":return t.stop()}},n,this)}))})}},{key:"ngOnDestroy",value:function(){this.keyPressSubscription&&this.keyPressSubscription.unsubscribe()}},{key:"isPostFlop",get:function(){var t=w_(this.store.pipe(ob(R_)));return t&&t.type===h_.postflop}},{key:"value",get:function(){return this.filterControl.value}},{key:"setValue",value:function(t){this.filterControl.setValue(t),this.lastEmitted=t}},{key:"focus",value:function(){this.filterInput.nativeElement.focus()}},{key:"reset",value:function(){this.filterControl.setValue(""),this.syntaxIsValid=!0}},{key:"resetError",value:function(){this.syntaxIsValid=!0}},{key:"closeRecentSyntaxes",value:function(){this.showRecentSyntaxes=!1}},{key:"toggleRecentSyntaxes",value:function(){this.showRecentSyntaxes=!this.showRecentSyntaxes,this.focus()}},{key:"selectRecentSyntax",value:function(t,e){e.stopPropagation(),this.closeRecentSyntaxes(),this.filterControl.setValue(t),this.submit()}},{key:"submit",value:function(){var t=this.filterControl.value;if(t.length>0){var e=w_(this.bucketMacros$);this.syntaxIsValid=function(t,e,n){try{return t.length>0&&Object(LA.parseFilterSyntax)(t,!1,n,e),!0}catch(i){return!1}}(t,this.isPostFlop&&!this.isBoardFilter,e)}this.syntaxIsValid&&(w_(this.recentSyntaxes$).includes(t)||this.store.dispatch(this.isBoardFilter?GG({syntax:t}):this.isPostFlop?QG({syntax:t}):KG({syntax:t})),this.emit(t))}},{key:"openSyntaxDialog",value:function(){this.isBoardFilter?this.dialog.open(qY,{panelClass:"board-syntax-dialog"}):this.isPostFlop?this.dialog.open(uZ,{panelClass:"postflop-syntax-dialog"}):this.dialog.open(AZ,{panelClass:"preflop-syntax-dialog"})}},{key:"emit",value:function(t){t!==this.lastEmitted&&(this.lastEmitted=t,this.filter.emit(t))}}]),e}()).\u0275fac=function(t){return new(t||GZ)(Va(SR),Va(ib))},GZ.\u0275cmp=ne({type:GZ,selectors:[["app-card-filter"]],viewQuery:function(t,e){var n;1&t&&bl(HZ,!0),2&t&&ml(n=xl())&&(e.filterInput=n.first)},inputs:{label:"label",initialValue:"initialValue",placeholder:"placeholder",isBoardFilter:"isBoardFilter"},outputs:{filter:"filter"},decls:15,vars:12,consts:[[1,"filter-container"],[1,"syntax-container"],["class","icon history",3,"click",4,"ngIf"],[1,"filter-form"],["color","accent",1,"card-filter-field"],["matInput","","type","text","spellcheck","false","autocomplete","off",3,"formControl","placeholder","keyup","blur","keyup.enter"],["cardFilter",""],["type","button","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"icon","info",3,"click"],[1,"fas","fa-info-circle"],[1,"syntax-error"],["class","recent-syntaxes",3,"show",4,"ngIf"],[1,"icon","history",3,"click"],[1,"fas","fa-history"],["type","button","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"far","fa-times-circle"],[1,"recent-syntaxes"],["class","recent-syntax",3,"click",4,"ngFor","ngForOf"],[1,"recent-syntax",3,"click"]],template:function(t,e){if(1&t&&(Ua(0,"div",0),Ua(1,"div",1),Na(2,zZ,2,0,"div",2),Ua(3,"form",3),Ua(4,"mat-form-field",4),Ua(5,"mat-label"),Ss(6),qa(),Ua(7,"input",5,6),Ja("keyup",function(){return e.resetError()})("blur",function(){return e.submit()})("keyup.enter",function(){return e.submit()}),qa(),Na(9,UZ,2,0,"button",7),qa(),qa(),Ua(10,"div",8),Ja("click",function(){return e.openSyntaxDialog()}),Wa(11,"i",9),qa(),qa(),Ua(12,"div",10),Ss(13,"Invalid syntax!"),qa(),Na(14,WZ,3,5,"div",11),qa()),2&t){var n=ja(8);gs("fixed-width",e.isBoardFilter),so(1),gs("invalid",!e.syntaxIsValid),so(1),Ha("ngIf",!e.isBoardFilter),so(4),Ms(e.label),so(1),Ha("formControl",e.filterControl)("placeholder",e.placeholder),so(2),Ha("ngIf",n.value),so(3),gs("show",!e.syntaxIsValid),so(2),Ha("ngIf",!e.isBoardFilter)}},directives:[Kh,nx,ow,Jw,XF,qF,cI,OC,rw,ox,pI,KF,$h],pipes:[gd],styles:["div[role=listbox]{background-color:var(--background-color)!important;margin:.3125rem 0}  .mat-option{color:var(--text-color)!important}  .mat-selected{background-color:var(--background-color)!important}  .mat-option-disabled{color:var(--text-color-disabled)!important}.filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;align-items:flex-start;width:100%;height:3.75rem}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%}.filter-container[_ngcontent-%COMP%]   .syntax-container.fixed-width[_ngcontent-%COMP%]{width:10rem;max-width:10rem}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{cursor:pointer}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{margin-left:.3125rem;margin-bottom:.2rem}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .icon.history[_ngcontent-%COMP%]{margin-right:.3125rem}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .card-filter-field[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]{width:100%}.filter-container[_ngcontent-%COMP%]   .syntax-container.invalid[_ngcontent-%COMP%]     .mat-input-element{color:red!important}.filter-container[_ngcontent-%COMP%]   .syntax-container.invalid[_ngcontent-%COMP%]     .mat-form-field-ripple, .filter-container[_ngcontent-%COMP%]   .syntax-container.invalid[_ngcontent-%COMP%]     .mat-form-field-underline{background-color:red!important}.filter-container[_ngcontent-%COMP%]   .syntax-error[_ngcontent-%COMP%]{margin-top:-1rem;visibility:hidden;color:red;font-size:.625rem}.filter-container[_ngcontent-%COMP%]   .syntax-error.show[_ngcontent-%COMP%]{visibility:visible}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:translateY(-100%);background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);width:18.75rem;padding:.3125rem;z-index:100;visibility:hidden}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes.show[_ngcontent-%COMP%]{visibility:visible}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes[_ngcontent-%COMP%]   .recent-syntax[_ngcontent-%COMP%]{height:1.25rem;margin-bottom:.3125rem;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes[_ngcontent-%COMP%]   .recent-syntax[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes[_ngcontent-%COMP%]   .recent-syntax[_ngcontent-%COMP%]:hover{color:var(--app-color);background:rgba(0,0,0,.04)!important}"]}),GZ),QZ=(($Z=g(function t(e,n){var i=this;f(this,t),this.actions$=e,this.bucketService=n,this.loadPreflopBuckets$=rG(function(){return i.actions$.pipe(dG(kk),rt(function(){return i.bucketService.loadPreflopBuckets().pipe(W(function(t){return Ck({groups:t})}),Hp(function(){return pf(wk({message:"Sorry, something went wrong"}))}))}))}),this.loadPostflopBuckets$=rG(function(){return i.actions$.pipe(dG(xk),rt(function(){return i.bucketService.loadPostflopBuckets().pipe(W(function(t){return Pk({groups:t})}),Hp(function(){return pf(Ok({message:"Sorry, something went wrong"}))}))}))}),this.clearPreflopBucketLookup$=rG(function(){return i.actions$.pipe(dG(Ek),$p(function(){return i.bucketService.clearPreflopBucketLookup()}))},{dispatch:!1}),this.clearPostflopBucketLookup$=rG(function(){return i.actions$.pipe(dG(Rk),$p(function(){return i.bucketService.clearPostflopBucketLookup()}))},{dispatch:!1})})).\u0275fac=function(t){return new(t||$Z)(Ti(hG),Ti(PB))},$Z.\u0275prov=Pt({token:$Z,factory:$Z.\u0275fac}),$Z),YZ=zb({},Hb(nD,function(t,e){var n=e.stats,i=e.remainingHands,r=e.remainingPreflopRanges,o=e.remainingPostflopRanges;return Object.assign(Object.assign(Object.assign({},t),n),{remainingHands:i,remainingPreflopRanges:r,remainingPostflopRanges:o})}),Hb(oD,function(t,e){var n=e.stats,i=e.remainingHands;return Object.assign(Object.assign(Object.assign({},t),n),{remainingHands:i})}));function ZZ(t,e){return YZ(t,e)}var JZ,XZ,tJ,eJ,nJ,iJ,rJ,oJ,aJ,sJ,cJ,lJ,uJ=((lJ=function(){function t(e){f(this,t),this.http=e}return g(t,[{key:"client",get:function(){return"4c"}},{key:"trackResult",value:function(t,e,n){return tt(this.http.post("".concat(Su,"/training/result/").concat(this.client),{rangeKey:t,filter:e,outcome:n}))}},{key:"checkStats",value:function(){return tt(this.http.get("".concat(Su,"/training/stats/").concat(this.client)))}}]),t}()).\u0275fac=function(t){return new(t||lJ)(Ti(kD))},lJ.\u0275prov=Pt({token:lJ,factory:lJ.\u0275fac,providedIn:"root"}),lJ),hJ=((cJ=function(){function t(e){f(this,t),this.router=e}return g(t,[{key:"startSingleRangeTraining",value:function(t){this.router.navigate(["train"],{queryParams:t})}},{key:"startMultiRangeTraining",value:function(t,e){this.router.navigate(["train"],{queryParams:Object.assign(Object.assign({},t),{randomBoard:!0,boardFilter:(null==e?void 0:e.length)>0?e:void 0})})}},{key:"startGameTraining",value:function(t){this.router.navigate(["game"],{queryParams:t})}}]),t}()).\u0275fac=function(t){return new(t||cJ)(Ti(Pm))},cJ.\u0275prov=Pt({token:cJ,factory:cJ.\u0275fac,providedIn:"root"}),cJ),dJ=((sJ=g(function t(e,n,i){var r=this;f(this,t),this.actions$=e,this.trainingStatsService=n,this.trainingService=i,this.checkTrainingStats$=rG(function(){return r.actions$.pipe(dG(eD),rt(function(){return r.trainingStatsService.checkStats().pipe(W(function(t){return nD({stats:{totalHands:t.totalHands,percentCorrect:t.percentCorrect},remainingHands:t.remainingHands,remainingPostflopRanges:t.remainingPostflopRanges,remainingPreflopRanges:t.remainingPreflopRanges})}),Hp(function(t){return pf(iD({error:t}))}))}))}),this.trackTrainingResult$=rG(function(){return r.actions$.pipe(dG(rD),rt(function(t){return r.trainingStatsService.trackResult(t.rangeKey,t.filter,t.outcome).pipe(W(function(t){return oD({stats:{totalHands:t.totalHands,percentCorrect:t.percentCorrect},remainingHands:t.remainingHands})}),Hp(function(t){return pf(aD({error:t}))}))}))}),this.startTraining$=rG(function(){return r.actions$.pipe(dG(sD),$p(function(t){return r.trainingService.startSingleRangeTraining(t.queryParams)}))},{dispatch:!1}),this.startRandomBoardTraining$=rG(function(){return r.actions$.pipe(dG(cD),$p(function(t){return r.trainingService.startMultiRangeTraining(t.queryParams,t.boardFilter)}))},{dispatch:!1}),this.startGameTraining$=rG(function(){return r.actions$.pipe(dG(lD),$p(function(t){return r.trainingService.startGameTraining(t.queryParams)}))},{dispatch:!1})})).\u0275fac=function(t){return new(t||sJ)(Ti(hG),Ti(uJ),Ti(hJ))},sJ.\u0275prov=Pt({token:sJ,factory:sJ.\u0275fac}),sJ),fJ=((aJ=function(){function t(e){f(this,t),this.http=e}return g(t,[{key:"isFiveCard",get:function(){return!1}},{key:"loadSettings",value:function(){return tt(this.http.get(Su+"/user/settings"))}},{key:"updateSettingsForTraining",value:function(t){return tt(this.http.put(Su+"/user/settings",{training:t}))}},{key:"updateSettingsForReleaseNotes",value:function(t){return tt(this.http.put(Su+"/user/settings",this.isFiveCard?{fivecardReleaseNotesLastSeen:t}:{releaseNotesLastSeen:t}))}}]),t}()).\u0275fac=function(t){return new(t||aJ)(Ti(kD))},aJ.\u0275prov=Pt({token:aJ,factory:aJ.\u0275fac,providedIn:"root"}),aJ),pJ=((oJ=g(function t(e,n){var i=this;f(this,t),this.actions$=e,this.settingsService=n,this.loadSettings$=rG(function(){return i.actions$.pipe(dG(iC),rt(function(){return i.settingsService.loadSettings().pipe(W(function(t){return rC({settings:t})}),Hp(function(t){return pf(oC({error:t}))}))}))}),this.updateSettingsForTraining$=rG(function(){return i.actions$.pipe(dG(aC),rt(function(t){return i.settingsService.updateSettingsForTraining(t.training).pipe(W(function(t){return rC({settings:t})}),Hp(function(t){return pf(oC({error:t}))}))}))}),this.updateSettingsForReleaseNotes$=rG(function(){return i.actions$.pipe(dG(sC),rt(function(t){return i.settingsService.updateSettingsForReleaseNotes(t.releaseNotesLastSeen).pipe(W(function(t){return rC({settings:t})}),Hp(function(t){return pf(oC({error:t}))}))}))})})).\u0275fac=function(t){return new(t||oJ)(Ti(hG),Ti(fJ))},oJ.\u0275prov=Pt({token:oJ,factory:oJ.\u0275fac}),oJ),gJ=((rJ=function(){function e(t){f(this,e),this.http=t}return g(e,[{key:"isFiveCard",get:function(){return!1}},{key:"assembleUrl",value:function(t){return"".concat(Su).concat(t).concat(this.isFiveCard?"/?fivecard=true":"")}},{key:"saveSyntaxForPreflop",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.post(this.assembleUrl("/user/syntax/preflop"),{syntax:e});case 2:case"end":return t.stop()}},n,this)}))}},{key:"saveSyntaxForPostflop",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.post(this.assembleUrl("/user/syntax/postflop"),{syntax:e});case 2:case"end":return t.stop()}},n,this)}))}},{key:"saveSyntaxForFlop",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.post(this.assembleUrl("/user/syntax/flop"),{syntax:e});case 2:case"end":return t.stop()}},n,this)}))}},{key:"loadSyntaxes",value:function(){return tt(this.http.get(this.assembleUrl("/user/syntax")))}}]),e}()).\u0275fac=function(t){return new(t||rJ)(Ti(kD))},rJ.\u0275prov=Pt({token:rJ,factory:rJ.\u0275fac,providedIn:"root"}),rJ),vJ=((iJ=g(function e(n,i){var r=this;f(this,e),this.actions$=n,this.syntaxService=i,this.loadRecentSyntaxes$=rG(function(){return r.actions$.pipe(dG(qG),rt(function(){return r.syntaxService.loadSyntaxes().pipe(W(function(t){return WG(t)}),Hp(function(t){return pf($G({error:t}))}))}))}),this.addSyntaxForFlop$=rG(function(){return r.actions$.pipe(dG(GG),vf(function(t){return t.syntax.length>0}),$p(function(e){return Gm(r,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.syntaxService.saveSyntaxForFlop(e.syntax);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},n,this)}))}))},{dispatch:!1}),this.addSyntaxForPreflop$=rG(function(){return r.actions$.pipe(dG(KG),vf(function(t){return t.syntax.length>0}),$p(function(e){return Gm(r,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.syntaxService.saveSyntaxForPreflop(e.syntax);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},n,this)}))}))},{dispatch:!1}),this.addSyntaxForPostflop$=rG(function(){return r.actions$.pipe(dG(QG),vf(function(t){return t.syntax.length>0}),$p(function(e){return Gm(r,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.syntaxService.saveSyntaxForPostflop(e.syntax);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},n,this)}))}))},{dispatch:!1})})).\u0275fac=function(t){return new(t||iJ)(Ti(hG),Ti(gJ))},iJ.\u0275prov=Pt({token:iJ,factory:iJ.\u0275fac}),iJ),mJ=((nJ=function(){function t(){f(this,t)}return g(t,[{key:"handleError",value:function(t){console.error("Error from global error handler",t),console.error(JSON.stringify(t))}}]),t}()).\u0275fac=function(t){return new(t||nJ)},nJ.\u0275prov=Pt({token:nJ,factory:nJ.\u0275fac}),nJ),yJ=((eJ=function(){function e(t,n,i){f(this,e),this.http=t,this.store=n,this.dialog=i}return g(e,[{key:"isFiveCard",get:function(){return!1}},{key:"baseUrl",get:function(){return this.isFiveCard?Su+"/fivecard":""+Su}},{key:"loadAppInfo",value:function(){return tt(this.http.get(this.baseUrl+"/info"))}},{key:"checkNewUpdates",value:function(e){return Gm(this,void 0,void 0,t().mark(function n(){var i,r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kx(3e3);case 2:return i=w_(this.store.pipe(ob(dC(this.isFiveCard)))),(r=mC(null==e?void 0:e.releaseNotes,i))&&0===this.dialog.openDialogs.length&&(this.store.dispatch(sC({releaseNotesLastSeen:new Date(r.dateReleased)})),this.dialog.open(II,{data:{hasNewUpdates:!0}})),t.next=6,kx(3e5);case 6:this.store.dispatch(Zk());case 7:case"end":return t.stop()}},n,this)}))}}]),e}()).\u0275fac=function(t){return new(t||eJ)(Ti(kD),Ti(ib),Ti(SR))},eJ.\u0275prov=Pt({token:eJ,factory:eJ.\u0275fac,providedIn:"root"}),eJ),bJ=((tJ=g(function e(n,i){var r=this;f(this,e),this.actions$=n,this.appInfoService=i,this.loadAppInfo$=rG(function(){return r.actions$.pipe(dG(Zk),rt(function(){return r.appInfoService.loadAppInfo().pipe(W(function(t){return Jk({info:t})}),Hp(function(t){return pf(Xk({error:t}))}))}))}),this.loadAppInfoSuccess$=rG(function(){return r.actions$.pipe(dG(Jk),$p(function(e){return Gm(r,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.appInfoService.checkNewUpdates(e.info);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},n,this)}))}))},{dispatch:!1})})).\u0275fac=function(t){return new(t||tJ)(Ti(hG),Ti(yJ))},tJ.\u0275prov=Pt({token:tJ,factory:tJ.\u0275fac}),tJ),_J=((XZ=function(){function e(t){f(this,e),this.http=t}return g(e,[{key:"client",get:function(){return"4c"}},{key:"trackRangeActivity",value:function(e){return Gm(this,void 0,void 0,t().mark(function e(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e)}))}}]),e}()).\u0275fac=function(t){return new(t||XZ)(Ti(kD))},XZ.\u0275prov=Pt({token:XZ,factory:XZ.\u0275fac,providedIn:"root"}),XZ),kJ=((JZ=g(function t(e,n){var i=this;f(this,t),this.actions$=e,this.trackingService=n,this.trackRangeActivity$=rG(function(){return i.actions$.pipe(dG(UU),$p(function(t){return i.trackingService.trackRangeActivity(t.activity)}))},{dispatch:!1})})).\u0275fac=function(t){return new(t||JZ)(Ti(hG),Ti(_J))},JZ.\u0275prov=Pt({token:JZ,factory:JZ.\u0275fac}),JZ);function CJ(t,e){1&t&&(Ua(0,"span",12),Wa(1,"i",13),qa())}function wJ(t,e){1&t&&(Ua(0,"div",14),Wa(1,"i",15),qa())}function xJ(t,e){1&t&&(Ua(0,"div",16),Wa(1,"i",17),qa())}function PJ(t,e){1&t&&(Ua(0,"div",14),Wa(1,"i",15),qa())}function OJ(t,e){1&t&&(Ua(0,"div",16),Wa(1,"i",17),qa())}function SJ(t,e){1&t&&(Ua(0,"div",14),Wa(1,"i",15),qa())}function MJ(t,e){1&t&&(Ua(0,"div",16),Wa(1,"i",17),qa())}function TJ(t,e){1&t&&(Ua(0,"div",14),Wa(1,"i",15),qa())}function EJ(t,e){1&t&&(Ua(0,"div",16),Wa(1,"i",17),qa())}function RJ(t,e){if(1&t&&($a(0),Ua(1,"div"),Ss(2),tl(3,"number"),qa(),Ga()),2&t){var n=is(2).$implicit;so(1),ys(vi,vs,n[7]>=0?"positive":"negative",!0),so(1),Es(" ",n[7]>=0?"+":"","",nl(3,5,n[7],"1.2-2")," ")}}function FJ(t,e){1&t&&Ss(0," n/a ")}function IJ(t,e){if(1&t&&($a(0),Ua(1,"div",26),Ss(2),Na(3,RJ,4,8,"ng-container",27),Na(4,FJ,1,0,"ng-template",null,28,Ml),Ss(6),qa(),Ga()),2&t){var n=ja(5),i=is().$implicit,r=is();so(2),Ts(" ",""," "),so(1),Ha("ngIf",r.hasEvDifference(i))("ngIfElse",n),so(3),Ts(" ",""," ")}}function AJ(t,e){if(1&t&&(Ua(0,"div",18),Ua(1,"div",19),Wa(2,"app-cards",20),qa(),Ua(3,"div",21),Ss(4),tl(5,"percent"),qa(),Ua(6,"div",22),Ua(7,"div",23),Ss(8),tl(9,"number"),qa(),Na(10,IJ,7,4,"ng-container",24),qa(),Ua(11,"div",25),Ss(12),tl(13,"number"),qa(),qa()),2&t){var n=e.$implicit,i=is();so(2),Ha("cards",n[1]),so(2),Ts(" ",nl(5,7,n[2],"1.0-0")," "),so(3),gs("smaller",!i.hideEvDifference),so(1),Ms(nl(9,10,i.adjustedEv(n[3]),"1.2-2")),so(2),Ha("ngIf",!i.hideEvDifference),so(2),Ts(" ",nl(13,13,n[4],"1.2-2")," ")}}var DJ,LJ,BJ,NJ=((BJ=function(){function t(e,n){f(this,t),this.rangeService=e,this.dialog=n,this.isIcm=!1,this.exportClicked=new ol,this.updateSorting=new ol}return g(t,[{key:"itemSize",get:function(){var t=document.getElementsByTagName("html")[0];if(t){var e=window.getComputedStyle(t).getPropertyValue("font-size");return 2.1875*parseFloat(e)}return 35}},{key:"minItems",get:function(){return 50}},{key:"maxItems",get:function(){return 150}},{key:"currentSorting",get:function(){return this.rangeService.rangeSortingOptions.sortBy}},{key:"currentSortDirection",get:function(){return this.rangeService.rangeSortingOptions.sortDir}},{key:"sortedAscending",get:function(){return this.currentSortDirection===pD.Asc}},{key:"sortedDescending",get:function(){return this.currentSortDirection===pD.Desc}},{key:"sortedByFrequency",get:function(){return this.currentSorting===fD.Frequency}},{key:"sortedByEV",get:function(){return this.currentSorting===fD.EV}},{key:"sortedByEVDiff",get:function(){return this.currentSorting===fD.EVDiff}},{key:"sortedByWeight",get:function(){return this.currentSorting===fD.Weight}},{key:"evHeader",get:function(){var t=this.isIcm?"EV $":"EV";return this.hideEvDifference?t:t+"/diff"}},{key:"sortByFrequency",value:function(){this.updateSorting.emit(this.sortedByFrequency?{sorting:fD.Frequency,direction:this.reverseSortDirection()}:{sorting:fD.Frequency,direction:pD.Desc})}},{key:"sortByEVOrDiff",value:function(){this.updateSorting.emit(this.hideEvDifference?this.sortedByEV?{sorting:fD.EV,direction:this.reverseSortDirection()}:{sorting:fD.EV,direction:pD.Desc}:this.sortedByEV?this.sortedDescending?{sorting:fD.EV,direction:pD.Asc}:{sorting:fD.EVDiff,direction:pD.Desc}:this.sortedByEVDiff&&this.sortedDescending?{sorting:fD.EVDiff,direction:pD.Asc}:{sorting:fD.EV,direction:pD.Desc})}},{key:"sortByWeight",value:function(){this.updateSorting.emit(this.sortedByWeight?{sorting:fD.Weight,direction:this.reverseSortDirection()}:{sorting:fD.Weight,direction:pD.Desc})}},{key:"reverseSortDirection",value:function(){return this.sortedAscending?pD.Desc:pD.Asc}},{key:"overallFreq",value:function(t){return MH(t.overallFreq,1)}},{key:"adjustedEv",value:function(t){return BA(t,this.adjustEvBy,this.range.action.type===s_.FOLD)}},{key:"showExportIcon",value:function(t){var e;return this.showExport&&!this.isExporting&&(null===(e=t.items)||void 0===e?void 0:e.length)>0}},{key:"emitExportClicked",value:function(t){var e=t.action;this.showExport&&(this.allowExport?this.exportClicked.emit(e):this.dialog.open(DA,{data:{featureText:"Exporting ranges"}}))}},{key:"hasEvDifference",value:function(t){return!isNaN(WA(t))}}]),t}()).\u0275fac=function(t){return new(t||BJ)(Va(OD),Va(SR))},BJ.\u0275cmp=ne({type:BJ,selectors:[["app-action-range-view"]],inputs:{range:"range",isIcm:"isIcm",adjustEvBy:"adjustEvBy",hideEvDifference:"hideEvDifference",showExport:"showExport",allowExport:"allowExport",isExporting:"isExporting"},outputs:{exportClicked:"exportClicked",updateSorting:"updateSorting"},decls:27,vars:21,consts:[[1,"action-range-container"],[1,"action-range"],[1,"header","row"],[1,"combo-action",3,"click"],["class","export-icon",4,"ngIf"],[1,"freq","with-sort-icon",3,"click"],["class","sort-icon up",4,"ngIf"],["class","sort-icon down",4,"ngIf"],[1,"ev","with-sort-icon",3,"click"],[1,"weight","with-sort-icon",3,"click"],[1,"range-items",3,"itemSize","minBufferPx","maxBufferPx"],["class","row",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"export-icon"],[1,"download-icon","fas","fa-cloud-download-alt"],[1,"sort-icon","up"],[1,"fas","fa-sort-up"],[1,"sort-icon","down"],[1,"fas","fa-sort-down"],[1,"row"],[1,"combo-action"],[3,"cards"],[1,"freq"],[1,"ev"],[1,"num"],[4,"ngIf"],[1,"weight"],[1,"diff"],[4,"ngIf","ngIfElse"],["noEvDiff",""]],template:function(t,e){1&t&&(Ua(0,"div",0),Ua(1,"div",1),Ua(2,"div",2),Ua(3,"div",3),Ja("click",function(){return e.emitExportClicked(e.range)}),Ua(4,"span"),Ss(5),qa(),Na(6,CJ,2,0,"span",4),qa(),Ua(7,"div",5),Ja("click",function(){return e.sortByFrequency()}),Na(8,wJ,2,0,"div",6),Na(9,xJ,2,0,"div",7),Ua(10,"div"),Ss(11),tl(12,"percent"),qa(),qa(),Ua(13,"div",8),Ja("click",function(){return e.sortByEVOrDiff()}),Na(14,PJ,2,0,"div",6),Na(15,OJ,2,0,"div",7),Ua(16,"div"),Ss(17),qa(),Na(18,SJ,2,0,"div",6),Na(19,MJ,2,0,"div",7),qa(),Ua(20,"div",9),Ja("click",function(){return e.sortByWeight()}),Na(21,TJ,2,0,"div",6),Na(22,EJ,2,0,"div",7),Ua(23,"div"),Ss(24,"Weight"),qa(),qa(),qa(),Ua(25,"cdk-virtual-scroll-viewport",10),Na(26,AJ,14,16,"div",11),qa(),qa(),qa()),2&t&&(so(3),gs("clickable",e.showExportIcon(e.range)),so(2),Ms(e.range.label),so(1),Ha("ngIf",e.showExportIcon(e.range)),so(2),Ha("ngIf",e.sortedByFrequency&&e.sortedAscending),so(1),Ha("ngIf",e.sortedByFrequency&&e.sortedDescending),so(2),Ms(nl(12,18,e.overallFreq(e.range),"1.0-1")),so(3),Ha("ngIf",e.sortedByEV&&e.sortedAscending),so(1),Ha("ngIf",e.sortedByEV&&e.sortedDescending),so(2),Ms(e.evHeader),so(1),Ha("ngIf",e.sortedByEVDiff&&e.sortedAscending),so(1),Ha("ngIf",e.sortedByEVDiff&&e.sortedDescending),so(2),Ha("ngIf",e.sortedByWeight&&e.sortedAscending),so(1),Ha("ngIf",e.sortedByWeight&&e.sortedDescending),so(3),Ha("itemSize",e.itemSize)("minBufferPx",e.minItems*e.itemSize)("maxBufferPx",e.maxItems*e.itemSize),so(1),Ha("cdkVirtualForOf",e.range.items))},directives:[Kh,HP,LP,QP,cH],pipes:[bd,yd],styles:[".action-range-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;height:100%;gap:1rem}.action-range-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:.3125rem}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-right:1rem!important}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .combo-action[_ngcontent-%COMP%]{text-align:left;cursor:pointer}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .combo-action[_ngcontent-%COMP%]   .export-icon[_ngcontent-%COMP%]{margin-left:.3125rem}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]{flex-direction:row!important}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .with-sort-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:.175rem;cursor:pointer}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .with-sort-icon[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:1.25rem}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .with-sort-icon[_ngcontent-%COMP%]   .sort-icon.up[_ngcontent-%COMP%]{padding-top:.65rem}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .with-sort-icon[_ngcontent-%COMP%]   .sort-icon.down[_ngcontent-%COMP%]{margin-top:-.5rem}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;height:2.1875rem;margin-right:.3125rem;align-items:center;text-align:center;border-bottom:1px solid var(--highlight-color);box-sizing:border-box}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .combo-action[_ngcontent-%COMP%]{width:7rem;flex-grow:0}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:3.125rem}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .num.smaller[_ngcontent-%COMP%]{font-size:.875rem;height:1rem}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .diff[_ngcontent-%COMP%]{font-size:.75rem;height:.9rem;display:flex;align-items:center;justify-content:center}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .diff[_ngcontent-%COMP%]   .positive[_ngcontent-%COMP%]{color:#90d371}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .diff[_ngcontent-%COMP%]   .negative[_ngcontent-%COMP%]{color:#d37373}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .freq[_ngcontent-%COMP%], .action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{width:3.125rem}.action-range-container[_ngcontent-%COMP%]   .action-range[_ngcontent-%COMP%]{height:100%;width:100%}.action-range-container[_ngcontent-%COMP%]   .action-range[_ngcontent-%COMP%]   .range-items[_ngcontent-%COMP%]{height:calc(100% - 2.1875rem);overflow-y:scroll;overflow-x:hidden}.action-range-container[_ngcontent-%COMP%]   .action-range[_ngcontent-%COMP%]   .range-items.two-actions[_ngcontent-%COMP%]{height:calc(100% - 2.1875rem)}"],changeDetection:0}),BJ),jJ=((LJ=g(function t(e,n){var i=this;f(this,t),this.actions$=e,this.rangeService=n,this.clearRange$=rG(function(){return i.actions$.pipe(dG(B_),$p(function(){return i.rangeService.clearRange()}))},{dispatch:!1})})).\u0275fac=function(t){return new(t||LJ)(Ti(hG),Ti(OD))},LJ.\u0275prov=Pt({token:LJ,factory:LJ.\u0275fac}),LJ),VJ=((DJ=g(function t(e,n){var i=this;f(this,t),this.actions$=e,this.favoriteService=n,this.loadUserFavorites$=rG(function(){return i.actions$.pipe(dG(ck),$p(function(){return i.favoriteService.loadUserFavorites()}))},{dispatch:!1}),this.createUserFavorites$=rG(function(){return i.actions$.pipe(dG(lk),$p(function(t){return i.favoriteService.createUserFavorites(t.favorite)}))},{dispatch:!1}),this.deleteUserFavorites$=rG(function(){return i.actions$.pipe(dG(uk),$p(function(t){return i.favoriteService.deleteUserFavorites(t.key)}))},{dispatch:!1})})).\u0275fac=function(t){return new(t||DJ)(Ti(hG),Ti(nA))},DJ.\u0275prov=Pt({token:DJ,factory:DJ.\u0275fac}),DJ);function HJ(t){return function(){t.cookie.domain=window.location.hostname}}var zJ={autoLogin:!1,providers:[{id:yx.PROVIDER_ID,provider:new yx("83339177893-71s4d06ln5j02blsdhuahjg7k9fs9lkb.apps.googleusercontent.com")}]},UJ={cookie:{domain:"not-set"},position:"bottom",theme:"classic",palette:{popup:{background:"#000000",text:"#ffffff",link:"#ffffff"},button:{background:"#f1d600",text:"#000000",border:"transparent"}},type:"info",content:{message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",deny:"Refuse cookies",link:"Learn more",href:"https://plomastermind.com/privacy-statement-eu/",policy:"Cookie Policy"}};function qJ(t){return function(){return t.setThemeOnStart()}}var WJ,$J=((WJ=g(function t(){f(this,t)})).\u0275mod=se({type:WJ,bootstrap:[H$]}),WJ.\u0275inj=Ot({factory:function(t){return new(t||WJ)},providers:[bd,yd,{provide:vr,useClass:mJ},{provide:$f,useClass:JG,multi:!0},{provide:Tl,useFactory:HJ,deps:[N$],multi:!0},{provide:Tl,useFactory:qJ,deps:[lF],multi:!0},{provide:"SocialAuthServiceConfig",useValue:zJ}],imports:[[ff,L$,zG,UG,Ab.forRoot({tree:O_,bucket:Ik,training:ZZ,range:H_,settings:lC,syntax:LZ,appInfo:eC,favorites:fk}),FG.forRoot([ZG,YG,QZ,dJ,pJ,vJ,bJ,kJ,jJ,VJ]),op,dx,fx,ZP,pE,dx,bY,V$.forRoot(UJ),_x,eA]]}),WJ);ie(QL,[KZ,XF,qF,Fj,$h,eR,Kh,vV,rw,ex,HP,LP,QP,cH],[]),ie(sq,[Kh,XR,NJ,KZ,vV,rw,ex],[gd]),ie(gN,[$N,Kh,XR,CH,KH,$h,fU,iU,qh,kW,sq,Gq,vI],[bd,gd]),ie(kW,[Kh,$h,qh,cH,_A,HH],[yd,bd]),ie(aB,[ER,RR,KZ,XF,qF,Fj,$h,eR,Kh,vV,rw,ex,HP,LP,QP,cH,FR],[]),function(){if(cu)throw new Error("Cannot enable prod mode after platform setup.");su=!1}(),hf().bootstrapModule($J).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]])}();