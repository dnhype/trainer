(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"3XR2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cards=void 0,e.cards=["2c","3c","4c","5c","6c","7c","8c","9c","Tc","Jc","Qc","Kc","Ac","2d","3d","4d","5d","6d","7d","8d","9d","Td","Jd","Qd","Kd","Ad","2h","3h","4h","5h","6h","7h","8h","9h","Th","Jh","Qh","Kh","Ah","2s","3s","4s","5s","6s","7s","8s","9s","Ts","Js","Qs","Ks","As"]},"4nFA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preflopSyntaxMapping=void 0;const i=n("bHQJ");e.preflopSyntaxMapping={$ss:i.PreflopClassification.TwoOfSameSuit,$ssn:i.PreflopClassification.TwoOfSameSuitNut,$ssnn:i.PreflopClassification.TwoOfSameSuitNonNut,$lds:i.PreflopClassification.DoubleSuitedLow,$hds:i.PreflopClassification.DoubleSuitedHigh,$ds:i.PreflopClassification.DoubleSuited,$dsn:i.PreflopClassification.DoubleSuitedNut,$dsnn:i.PreflopClassification.DoubleSuitedNonNut,$dsdn:i.PreflopClassification.DoubleSuitedDoubleNut,$dsp:i.PreflopClassification.DoubleSuitedPure,$dts:i.PreflopClassification.DoubleTripleSuited,$ts:i.PreflopClassification.ThreeOfSameSuit,$tsn:i.PreflopClassification.ThreeOfSameSuitNut,$tsnn:i.PreflopClassification.ThreeOfSameSuitNonNut,$qs:i.PreflopClassification.FourOfSameSuit,$rb:i.PreflopClassification.Rainbow,$ms:i.PreflopClassification.Monotone,$mt:i.PreflopClassification.Monotone,$0g:i.PreflopClassification.RundownGap0,$1g:i.PreflopClassification.RundownGap1,$2g:i.PreflopClassification.RundownGap2,$0g4:i.PreflopClassification.FourCardRundownGap0,$1g4:i.PreflopClassification.FourCardRundownGap1,$2g4:i.PreflopClassification.FourCardRundownGap2}},"6nyB":function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n("gNgD"),e),r(n("bHQJ"),e),r(n("4nFA"),e),r(n("mdgW"),e),r(n("bpw8"),e),r(n("D8wq"),e),r(n("QP+3"),e),r(n("dPh3"),e),r(n("fetW"),e),r(n("8EHw"),e),r(n("gKBI"),e),r(n("cuQr"),e),r(n("sBdy"),e),r(n("fynY"),e),r(n("SeXR"),e),r(n("EsPM"),e),r(n("n5Em"),e),r(n("M1Kt"),e),r(n("uZpj"),e),r(n("jrKG"),e),r(n("klPf"),e)},"8EHw":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.classifyPreflopCards=void 0;const i=n("bHQJ"),r=t=>t?["K","Q","J","T","9","8","7","6","5","4","3","2","A"]:["A","K","Q","J","T","9","8","7","6","5","4","3","2"],o=t=>r(!1).indexOf(t);function s(t,e,n=!1){const o=((t,e)=>t.map(t=>r(e).findIndex(e=>e===t[0])))(t,e),s=Array.from(new Set(o)).sort((t,e)=>t-e);if(5===s.length){const t=s[0],e=s[4];if(e-t==4)return[i.PreflopClassification.RundownGap0];if(e-t==5)return[i.PreflopClassification.RundownGap1];if(e-t==6)return[i.PreflopClassification.RundownGap2]}else if(4===t.length&&4===s.length){const t=s[0],e=s[3];if(e-t==3)return n?[i.PreflopClassification.FourCardRundownGap0]:[i.PreflopClassification.RundownGap0];if(e-t==4)return n?[i.PreflopClassification.FourCardRundownGap1]:[i.PreflopClassification.RundownGap1];if(e-t==5)return n?[i.PreflopClassification.FourCardRundownGap2]:[i.PreflopClassification.RundownGap2]}else if(3===t.length&&3===s.length){const t=s[0],e=s[2];if(e-t==2)return[i.PreflopClassification.RundownGap0];if(e-t==3)return[i.PreflopClassification.RundownGap1];if(e-t==4)return[i.PreflopClassification.RundownGap2]}return[]}e.classifyPreflopCards=function(t){return[...function(t){const e=["c","d","h","s"].map(e=>({suit:e,count:t.filter(t=>t[1]===e).length,rank:Math.min(...t.filter(t=>t[1]===e).map(t=>o(t[0])))})).filter(t=>t.count>0);if(1===e.length)return[i.PreflopClassification.Monotone];if(e.length===t.length)return[i.PreflopClassification.Rainbow];{const n=e.filter(t=>t.count>1);if(1===n.length)return 2===n[0].count?n[0].rank===o("A")?[i.PreflopClassification.TwoOfSameSuit,i.PreflopClassification.TwoOfSameSuitNut]:[i.PreflopClassification.TwoOfSameSuit,i.PreflopClassification.TwoOfSameSuitNonNut]:3===n[0].count?n[0].rank===o("A")?[i.PreflopClassification.ThreeOfSameSuit,i.PreflopClassification.ThreeOfSameSuitNut]:[i.PreflopClassification.ThreeOfSameSuit,i.PreflopClassification.ThreeOfSameSuitNonNut]:[i.PreflopClassification.FourOfSameSuit];{const r=t.map(t=>({card:t,index:o(t[0])})).sort((t,e)=>t.index-e.index),s=[i.PreflopClassification.DoubleSuited];return n.some(t=>t.rank===o("A"))?s.push(i.PreflopClassification.DoubleSuitedNut):s.push(i.PreflopClassification.DoubleSuitedNonNut),n.every(t=>t.rank===o("A"))&&s.push(i.PreflopClassification.DoubleSuitedDoubleNut),s.push(function(t,e){const n=t[0].index,r=t[1].index,o=t.filter(t=>t.index===n),s=t.filter(t=>t.index===r);for(const a of o)for(const t of s.filter(t=>t.card!==a.card)){const n=e.find(t=>t.suit===a.card[1]),r=e.find(e=>e.suit===t.card[1]);if(n.suit!==r.suit&&n.count>=2&&r.count>=2)return i.PreflopClassification.DoubleSuitedHigh}return i.PreflopClassification.DoubleSuitedLow}(r,e)),s.push(n[0].count+n[1].count===5?i.PreflopClassification.DoubleTripleSuited:i.PreflopClassification.DoubleSuitedPure),s}}}(t),...function(t){const e=function(t){const e=[];for(const n of t)if(!e.find(t=>t.face===n[0])){const i=t.filter(t=>t[0]===n[0]).length;i>1&&e.push({face:n[0],amount:i})}return e}(t);if(1===e.length){const t=e[0].amount;return 2===t?[i.PreflopClassification.Paired]:3===t?[i.PreflopClassification.Paired,i.PreflopClassification.ThreeOfAKind]:[i.PreflopClassification.Paired,i.PreflopClassification.ThreeOfAKind,i.PreflopClassification.FourOfAKind]}return 2===e.length?e.some(t=>3===t.amount)?[i.PreflopClassification.Paired,i.PreflopClassification.DoublePaired,i.PreflopClassification.ThreeOfAKind]:[i.PreflopClassification.Paired,i.PreflopClassification.DoublePaired]:[i.PreflopClassification.NoPair]}(t),...function(t){const e=Array.from(new Set([...s(t,!0),...s(t,!1)]));if(5!==t.length||e.some(t=>[i.PreflopClassification.RundownGap0,i.PreflopClassification.RundownGap1,i.PreflopClassification.RundownGap2].includes(t)))return e;{const n=[[0,1,2,3],[0,1,2,4],[0,1,3,4],[0,2,3,4],[1,2,3,4]].map(([e,n,i,r])=>[t[e],t[n],t[i],t[r]]),i=Array.from(new Set(n.flatMap(t=>[...s(t,!0,!0),...s(t,!1,!0)])));return[...e,...Array.from(i)]}}(t)]}},D8wq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.itemMatchesFilter=e.filterItems=void 0;const i=n("gNgD"),r=n("QP+3");function o(t,e,n,i){if(!e)return!0;if(e.type===r.FilterType.Filter){const a=e;return a.combiner===r.FilterCombiner.AND?a.elements.every(e=>e.type===r.FilterType.Filter?o(t,e,n,i):s(t,e,n,i)):!!a.elements.find(e=>e.type===r.FilterType.Filter?o(t,e,n,i):s(t,e,n,i))}return s(t,e,n,i)}function s(t,e,n,o){try{if(r.isCardsFilter(e))return function(t,e){return function(t,e,n){const i={};e.forEach(t=>i[t]=[]);const r={s:[],h:[],d:[],c:[]},o=e.filter(t=>2===t.length&&["s","h","d","c"].includes(t[1])),s=e.filter(t=>["w","x","y","z"].includes(t[0])||["w","x","y","z"].includes(t[1])),l=e.filter(t=>1===t.length&&["A","K","Q","J","T","9","8","7","6","5","4","3","2"].includes(t)),c=e.filter(t=>1===t.length&&["s","h","d","c"].includes(t));if(o.length>0)for(const a of o){const e=t.findIndex(t=>t===a);e>=0&&i[a].push(e)}if(s.length>0){t.forEach(([t,e],n)=>r[e].push({face:t,cardIdx:n}));const e={};for(const t of["w","x","y","z"]){const n=s.filter(e=>e[0]===t||e[1]===t);if(n.length>0){e[t]=[];for(const i of Object.keys(r)){const o=r[i];o.length>=n.length&&n.every(t=>2!==t.length||o.find(e=>e.face===t[0]))&&e[t].push(i)}}}const n=a(...Object.values(e)).filter(t=>new Set(t).size===t.length);for(const t of n){const n=Object.keys(e).map((e,n)=>({genericSuit:e,suit:t[n]}));for(const{genericSuit:t,suit:e}of n){const n=s.filter(e=>e[0]===t||e[1]===t),o=r[e];for(const t of n)if(2===t.length){const e=o.find(e=>e.face===t[0]);i[t].push(e.cardIdx)}else i[t].push(...o.map(t=>t.cardIdx))}}}if(l.length>0)for(const a of l)t.forEach((t,e)=>{t[0]===a&&i[a].push(e)});if(c.length>0)for(const a of c)t.forEach((t,e)=>{t[1]===a&&i[a].push(e)});const u=e.map(t=>Array.from(new Set(i[t])));if(u.every(t=>t.length>0)){const t=a(...u).some(t=>new Set(t).size===e.length);return n?!t:t}return n}(t[0],e.cards,e.exclude)}(t,e);if(r.isClassificationFilter(e)){const{anyOf:n,noneOf:i}=e.classification,r=n.some(e=>{var n;return null===(n=t[1])||void 0===n?void 0:n.includes(e)})&&(!i||i.every(e=>{var n;return!(null===(n=t[1])||void 0===n?void 0:n.includes(e))}));return o&&console.log("classification",n,i,t,r),e.exclude?!r:r}if(r.isBucketFilter(e)){const r=i.cardsToString(t[0]),o=e.bucketIds.some(t=>{var e;return null===(e=function(t,e){for(const n of t){const t=n.get(e);if(t)return t}return[]}(n,r))||void 0===e?void 0:e.includes(t)});return e.exclude?!o:o}return!0}catch(s){return console.error(s.message),!1}}function a(...t){return t.reduce((t,e)=>t.map(t=>e.map(e=>t.concat([e]))).reduce((t,e)=>t.concat(e),[]),[[]])}e.filterItems=function(t,e,n="",i,s=[],a=[],l=!1){const c=r.parseFilterSyntax(n.replace("*",""),!1,a,t);return l&&console.log(JSON.stringify(c,null,2)),c?{items:e.filter((t,e)=>o(t,c,s,l&&e<10))}:{items:e}},e.itemMatchesFilter=o},EsPM:function(t,e,n){"use strict";function i(t,e){return t[0]!==e[0]?r(t[0],e[0]):t[1]!==e[1]?o(t[1],e[1]):0}function r(t,e){const n={A:0,K:1,Q:2,J:3,T:4,9:5,8:6,7:7,6:8,5:9,4:10,3:11,2:12};return n[t]-n[e]}function o(t,e){const n={s:0,h:1,d:2,c:3};return n[t]-n[e]}Object.defineProperty(e,"__esModule",{value:!0}),e.sortCard=e.sortCards=e.sortFlops=void 0,e.sortFlops=function(t,e){if(t.length!==e.length)return t.length-e.length;{const n=[...t].sort(i),s=[...e].sort(i);for(let e=0;e<t.length;e++){const t=r(n[e][0],s[e][0]);if(0!==t)return t}const a=new Set(t.map(t=>t[1])).size,l=new Set(e.map(t=>t[1])).size;if(a!==l){if(2===a)return-1;if(2===l)return 1;if(3===a)return-1;if(3===l)return 1}for(let e=0;e<t.length;e++){const t=o(n[e][1],s[e][1]);if(0!==t)return t}return 0}},e.sortCards=function(t,e){if(t.length!==e.length)return t.length-e.length;{const n=[...t].sort(i),s=[...e].sort(i);for(let e=0;e<t.length;e++){const i=n[e],a=s[e],l=r(i[0],a[0]);if(0!==l)return l;if(e===t.length-1)return o(i[1],a[1])}return 0}},e.sortCard=i},Iab2:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,s){var a=r.URL||r.webkitURL,l=document.createElement("a");l.download=o=o||t.name||"download",l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?i(l):n(l.href)?e(t,o,s):i(l,l.target="_blank")):(l.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,o){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),r);else if(n(t))e(t,r,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){i(s)})}}:function(t,n,i,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var a="application/octet-stream"===t.type,l=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location=t,s=null},u.readAsDataURL(t)}else{var d=r.URL||r.webkitURL,h=d.createObjectURL(t);s?s.location=h:location.href=h,s=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});r.saveAs=s.saveAs=s,t.exports=s})?i.apply(e,[]):i)||(t.exports=r)},M1Kt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateFivecardCombos=e.generateCombos=e.binaryToCards=e.generateFivecardBinaryCombos=e.generateBinaryCombos=e.allCards=void 0;const i=["As","Ah","Ad","Ac","Ks","Kh","Kd","Kc","Qs","Qh","Qd","Qc","Js","Jh","Jd","Jc","Ts","Th","Td","Tc","9s","9h","9d","9c","8s","8h","8d","8c","7s","7h","7d","7c","6s","6h","6d","6c","5s","5h","5d","5c","4s","4h","4d","4c","3s","3h","3d","3c","2s","2h","2d","2c"],r={As:BigInt(0x8000000000000),Ah:BigInt(0x4000000000000),Ad:BigInt(562949953421312),Ac:BigInt(281474976710656),Ks:BigInt(0x800000000000),Kh:BigInt(70368744177664),Kd:BigInt(35184372088832),Kc:BigInt(17592186044416),Qs:BigInt(8796093022208),Qh:BigInt(4398046511104),Qd:BigInt(2199023255552),Qc:BigInt(1099511627776),Js:BigInt(549755813888),Jh:BigInt(274877906944),Jd:BigInt(137438953472),Jc:BigInt(68719476736),Ts:BigInt(34359738368),Th:BigInt(17179869184),Td:BigInt(8589934592),Tc:BigInt(4294967296),"9s":BigInt(2147483648),"9h":BigInt(1073741824),"9d":BigInt(536870912),"9c":BigInt(268435456),"8s":BigInt(134217728),"8h":BigInt(67108864),"8d":BigInt(33554432),"8c":BigInt(16777216),"7s":BigInt(8388608),"7h":BigInt(4194304),"7d":BigInt(2097152),"7c":BigInt(1048576),"6s":BigInt(524288),"6h":BigInt(262144),"6d":BigInt(131072),"6c":BigInt(65536),"5s":BigInt(32768),"5h":BigInt(16384),"5d":BigInt(8192),"5c":BigInt(4096),"4s":BigInt(2048),"4h":BigInt(1024),"4d":BigInt(512),"4c":BigInt(256),"3s":BigInt(128),"3h":BigInt(64),"3d":BigInt(32),"3c":BigInt(16),"2s":BigInt(8),"2h":BigInt(4),"2d":BigInt(2),"2c":BigInt(1)},o=Object.keys(r),s=Object.values(r),a=t=>t.reduce((t,e)=>t|e,BigInt(0));function l(t=[]){if(0===(null==t?void 0:t.length))return s;{const e=a(t.map(t=>BigInt(r[t[0]+t[1]])));return s.filter(t=>(BigInt(t)|e)===BigInt(t)+e)}}function c(t=[]){const e=[],n=l(t);for(let i=0;i<n.length-3;i++)for(let t=i+1;t<n.length-2;t++)for(let r=t+1;r<n.length-1;r++)for(let o=r+1;o<n.length;o++)e.push(a([n[i],n[t],n[r],n[o]]));return e}function u(t=[]){const e=[],n=l(t);for(let i=0;i<n.length-4;i++)for(let t=i+1;t<n.length-3;t++)for(let r=t+1;r<n.length-2;r++)for(let o=r+1;o<n.length-1;o++)for(let s=o+1;s<n.length;s++)e.push(a([n[i],n[t],n[r],n[o],n[s]]));return e}function d(t){const e=t.toString(2),n=52-e.length,r=[];for(let o=0;o<e.length;o++)"1"===e.charAt(o)&&r.push(i[o+n]);return r.join("")}e.allCards=function(t=[]){return 0===(null==t?void 0:t.length)?o:l(t).map(t=>s.indexOf(t)).map(t=>o[t])},e.generateBinaryCombos=c,e.generateFivecardBinaryCombos=u,e.binaryToCards=d,e.generateCombos=function(t=[]){return c(t).map(t=>d(t))},e.generateFivecardCombos=function(t=[]){return u(t).map(t=>d(t))}},NpuA:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,i=e.IS_PAPA_WORKER||!1,r={},o=0,s={parse:function(n,i){var a=(i=i||{}).dynamicTyping||!1;if(C(a)&&(i.dynamicTypingFunction=a,a={}),i.dynamicTyping=a,i.transform=!!C(i.transform)&&i.transform,i.worker&&s.WORKERS_SUPPORTED){var l=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,i,a=(n=e.URL||e.webkitURL||null,i=t.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),l=new e.Worker(a);return l.onmessage=m,l.id=o++,r[l.id]=l}();return l.userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=C(i.step),i.chunk=C(i.chunk),i.complete=C(i.complete),i.error=C(i.error),delete i.worker,void l.postMessage({input:n,config:i,workerId:l.id})}var p=null;return"string"==typeof n?(n=function(t){return 65279===t.charCodeAt(0)?t.slice(1):t}(n),p=i.download?new c(i):new d(i)):!0===n.readable&&C(n.read)&&C(n.on)?p=new h(i):(e.File&&n instanceof File||n instanceof Object)&&(p=new u(i)),p.stream(n)},unparse:function(t,e){var n=!1,i=!0,r=",",o="\r\n",a='"',l=a+a,c=!1,u=null,d=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||s.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(r=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(c=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(i=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");u=e.columns}void 0!==e.escapeChar&&(l=e.escapeChar+a),("boolean"==typeof e.escapeFormulae||e.escapeFormulae instanceof RegExp)&&(d=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(f(a),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return p(null,t,c);if("object"==typeof t[0])return p(u||Object.keys(t[0]),t,c)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||u),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),p(t.fields||[],t.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(t,e,n){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,l=!Array.isArray(e[0]);if(a&&i){for(var c=0;c<t.length;c++)0<c&&(s+=r),s+=g(t[c],c);0<e.length&&(s+=o)}for(var u=0;u<e.length;u++){var d=a?t.length:e[u].length,h=!1,p=a?0===Object.keys(e[u]).length:0===e[u].length;if(n&&!a&&(h="greedy"===n?""===e[u].join("").trim():1===e[u].length&&0===e[u][0].length),"greedy"===n&&a){for(var f=[],m=0;m<d;m++)f.push(e[u][l?t[m]:m]);h=""===f.join("").trim()}if(!h){for(var b=0;b<d;b++)0<b&&!p&&(s+=r),s+=g(e[u][a&&l?t[b]:b],b);u<e.length-1&&(!n||0<d&&!p)&&(s+=o)}}return s}function g(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var i=!1;d&&"string"==typeof t&&d.test(t)&&(t="'"+t,i=!0);var o=t.toString().replace(h,l);return(i=i||!0===n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(o,s.BAD_DELIMITERS)||-1<o.indexOf(r)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?a+o+a:o}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!e.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=g,s.ParserHandle=p,s.NetworkStreamer=c,s.FileStreamer=u,s.StringStreamer=d,s.ReadableStreamStreamer=h,e.jQuery){var a=e.jQuery;a.fn.parse=function(t){var n=t.config||{},i=[];return this.each(function(t){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:a.extend({},n)})}),r(),this;function r(){if(0!==i.length){var e,n,r,l=i[0];if(C(t.before)){var c=t.before(l.file,l.inputElem);if("object"==typeof c){if("abort"===c.action)return e=l.file,n=l.inputElem,r=c.reason,void(C(t.error)&&t.error({name:"AbortError"},e,n,r));if("skip"===c.action)return void o();"object"==typeof c.config&&(l.instanceConfig=a.extend(l.instanceConfig,c.config))}else if("skip"===c)return void o()}var u=l.instanceConfig.complete;l.instanceConfig.complete=function(t){C(u)&&u(t,l.file,l.inputElem),o()},s.parse(l.file,l.instanceConfig)}else C(t.complete)&&t.complete()}function o(){i.splice(0,1),r()}}}function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var e=y(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new p(e),(this._handle.streamer=this)._config=e}).call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&C(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);void 0!==r&&(t=r)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)e.postMessage({results:a,workerId:s.WORKER_ID,finished:c});else if(C(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!C(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){C(this._config.error)?this._config.error(t):i&&this._config.error&&e.postMessage({workerId:s.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=s.RemoteChunkSize),l.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=v(this._chunkLoaded,this),e.onerror=v(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}this._config.chunkSize&&e.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){this._sendError(new Error(e.statusText||t))}}function u(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=s.LocalChunkSize),l.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=v(this._chunkLoaded,this),e.onerror=v(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function d(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function h(t){l.call(this,t=t||{});var e=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=v(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=v(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=v(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=v(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(t){var e,n,i,r=Math.pow(2,53),o=-r,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,u=0,d=0,h=!1,p=!1,m=[],b={data:[],errors:[],meta:{}};if(C(t.step)){var _=t.step;t.step=function(e){if(b=e,x())w();else{if(w(),0===b.data.length)return;u+=e.data.length,t.preview&&u>t.preview?n.abort():(b.data=b.data[0],_(b,c))}}}function v(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function w(){return b&&i&&(O("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines&&(b.data=b.data.filter(function(t){return!v(t)})),x()&&function(){if(b)if(Array.isArray(b.data[0])){for(var e=0;x()&&e<b.data.length;e++)b.data[e].forEach(n);b.data.splice(0,1)}else b.data.forEach(n);function n(e,n){C(t.transformHeader)&&(e=t.transformHeader(e,n)),m.push(e)}}(),function(){if(!b||!t.header&&!t.dynamicTyping&&!t.transform)return b;function e(e,n){var i,r=t.header?{}:[];for(i=0;i<e.length;i++){var o=i,s=e[i];t.header&&(o=i>=m.length?"__parsed_extra":m[i]),t.transform&&(s=t.transform(s,o)),s=P(o,s),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(s)):r[o]=s}return t.header&&(i>m.length?O("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+i,d+n):i<m.length&&O("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+i,d+n)),r}var n=1;return!b.data.length||Array.isArray(b.data[0])?(b.data=b.data.map(e),n=b.data.length):b.data=e(b.data,0),t.header&&b.meta&&(b.meta.fields=m),d+=n,b}()}function x(){return t.header&&0===m.length}function P(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(a.test(t)){var e=parseFloat(t);if(o<e&&e<r)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var i}function O(t,e,n,i){var r={type:t,code:e,message:n};void 0!==i&&(r.row=i),b.errors.push(r)}this.parse=function(r,o,a){if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(f(e)+"([^]*?)"+f(e),"gm"),i=(t=t.replace(n,"")).split("\r"),r=t.split("\n");if(1===i.length||1<r.length&&r[0].length<i[0].length)return"\n";for(var o=0,s=0;s<i.length;s++)"\n"===i[s][0]&&o++;return o>=i.length/2?"\r\n":"\r"}(r,t.quoteChar||'"')),i=!1,t.delimiter)C(t.delimiter)&&(t.delimiter=t.delimiter(r),b.meta.delimiter=t.delimiter);else{var l=function(e,n,i,r,o){var a,l,c,u;o=o||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var d=0;d<o.length;d++){var h=o[d],p=0,f=0,m=0;c=void 0;for(var b=new g({comments:r,delimiter:h,newline:n,preview:10}).parse(e),_=0;_<b.data.length;_++)if(i&&v(b.data[_]))m++;else{var y=b.data[_].length;f+=y,void 0!==c?0<y&&(p+=Math.abs(y-c),c=y):c=y}0<b.data.length&&(f/=b.data.length-m),(void 0===l||p<=l)&&(void 0===u||u<f)&&1.99<f&&(l=p,a=h,u=f)}return{successful:!!(t.delimiter=a),bestDelimiter:a}}(r,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);l.successful?t.delimiter=l.bestDelimiter:(i=!0,t.delimiter=s.DefaultDelimiter),b.meta.delimiter=t.delimiter}var c=y(t);return t.preview&&t.header&&c.preview++,e=r,n=new g(c),b=n.parse(e,o,a),w(),h?{meta:{paused:!0}}:b||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),e=C(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(h=!1,c.streamer.parseChunk(e,!0)):setTimeout(c.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),b.meta.aborted=!0,C(t.complete)&&t.complete(b),e=""}}function f(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,n=(t=t||{}).delimiter,i=t.newline,r=t.comments,o=t.step,a=t.preview,l=t.fastMode,c=e=null==t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<s.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var u=0,d=!1;this.parse=function(s,h,p){if("string"!=typeof s)throw new Error("Input must be a string");var g=s.length,m=n.length,b=i.length,_=r.length,y=C(o),v=[],w=[],x=[],P=u=0;if(!s)return W();if(t.header&&!h){var O=s.split(i)[0].split(n),k=[],S={},M=!1;for(var T in O){var E=O[T];C(t.transformHeader)&&(E=t.transformHeader(E,T));var R=E,F=S[E]||0;for(0<F&&(M=!0,R=E+"_"+F),S[E]=F+1;k.includes(R);)R=R+"_"+F;k.push(R)}if(M){var I=s.split(i);I[0]=k.join(n),s=I.join(i)}}if(l||!1!==l&&-1===s.indexOf(e)){for(var A=s.split(i),D=0;D<A.length;D++){if(u+=(x=A[D]).length,D!==A.length-1)u+=i.length;else if(p)return W();if(!r||x.substring(0,_)!==r){if(y){if(v=[],$(x.split(n)),G(),d)return W()}else $(x.split(n));if(a&&a<=D)return v=v.slice(0,a),W(!0)}}return W()}for(var L=s.indexOf(n,u),B=s.indexOf(i,u),N=new RegExp(f(c)+f(e),"g"),j=s.indexOf(e,u);;)if(s[u]!==e)if(r&&0===x.length&&s.substring(u,u+_)===r){if(-1===B)return W();B=s.indexOf(i,u=B+b),L=s.indexOf(n,u)}else if(-1!==L&&(L<B||-1===B))x.push(s.substring(u,L)),L=s.indexOf(n,u=L+m);else{if(-1===B)break;if(x.push(s.substring(u,B)),q(B+b),y&&(G(),d))return W();if(a&&v.length>=a)return W(!0)}else for(j=u,u++;;){if(-1===(j=s.indexOf(e,j+1)))return p||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:u}),U();if(j===g-1)return U(s.substring(u,j).replace(N,e));if(e!==c||s[j+1]!==c){if(e===c||0===j||s[j-1]!==c){-1!==L&&L<j+1&&(L=s.indexOf(n,j+1)),-1!==B&&B<j+1&&(B=s.indexOf(i,j+1));var V=z(-1===B?L:Math.min(L,B));if(s.substr(j+1+V,m)===n){x.push(s.substring(u,j).replace(N,e)),s[u=j+1+V+m]!==e&&(j=s.indexOf(e,u)),L=s.indexOf(n,u),B=s.indexOf(i,u);break}var H=z(B);if(s.substring(j+1+H,j+1+H+b)===i){if(x.push(s.substring(u,j).replace(N,e)),q(j+1+H+b),L=s.indexOf(n,u),j=s.indexOf(e,u),y&&(G(),d))return W();if(a&&v.length>=a)return W(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:u}),j++}}else j++}return U();function $(t){v.push(t),P=u}function z(t){var e=0;if(-1!==t){var n=s.substring(j+1,t);n&&""===n.trim()&&(e=n.length)}return e}function U(t){return p||(void 0===t&&(t=s.substring(u)),x.push(t),u=g,$(x),y&&G()),W()}function q(t){u=t,$(x),x=[],B=s.indexOf(i,u)}function W(t){return{data:v,errors:w,meta:{delimiter:n,linebreak:i,aborted:d,truncated:!!t,cursor:P+(h||0)}}}function G(){o(W()),v=[],w=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function m(t){var e=t.data,n=r[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){i=!0,b(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(C(n.userStep)){for(var s=0;s<e.results.data.length&&(n.userStep({data:e.results.data[s],errors:e.results.errors,meta:e.results.meta},o),!i);s++);delete e.results}else C(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!i&&b(e.workerId,e.results)}function b(t,e){var n=r[t];C(n.userComplete)&&n.userComplete(e),n.terminate(),delete r[t]}function _(){throw new Error("Not implemented.")}function y(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=y(t[n]);return e}function v(t,e){return function(){t.apply(e,arguments)}}function C(t){return"function"==typeof t}return i&&(e.onmessage=function(t){var n=t.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var i=s.parse(n.input,n.config);i&&e.postMessage({workerId:s.WORKER_ID,results:i,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(l.prototype)).constructor=h,s})?i.apply(e,[]):i)||(t.exports=r)},"QP+3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseFilterSyntax=e.isClassificationFilter=e.isBucketFilter=e.isCardsFilter=e.isFilterGroup=e.isBasicFilter=e.FilterMode=e.FilterCombiner=e.FilterType=void 0;const i=n("mdgW"),r=n("bpw8"),o=n("bHQJ"),s=n("4nFA"),a=n("sBdy");var l,c,u;function d(t){return t.type===l.Basic}function h(t){return t.type===l.Filter}function p(t){return"cards"in t}function f(t){return"bucketIds"in t}function g(t){return"classification"in t}!function(t){t.Filter="Filter",t.Basic="Basic"}(l=e.FilterType||(e.FilterType={})),function(t){t.AND="AND",t.OR="OR"}(c=e.FilterCombiner||(e.FilterCombiner={})),function(t){t.EQUALS="EQUALS",t.STRICT_EQUALS="STRICT_EQUALS",t.BETTER_THAN="BETTER_THAN",t.WORSE_THAN="WORSE_THAN"}(u=e.FilterMode||(e.FilterMode={})),e.isBasicFilter=d,e.isFilterGroup=h,e.isCardsFilter=p,e.isBucketFilter=f,e.isClassificationFilter=g;const m=[{token:"$np",replaceWith:"!RR"},{token:"$op",replaceWith:"RR!RROO"},{token:"$dp",replaceWith:"RROO"},{token:"$nt",replaceWith:"!RRR"}],b=[];function _(t,e,n){return t.split(e).join(n)}function y(t){return"="===t?u.STRICT_EQUALS:">"===t?u.BETTER_THAN:"<"===t?u.WORSE_THAN:u.EQUALS}function v(t,e,n){const i=[],r=/(!{0,1})((?:[2-9tjqkaTJQKA]{0,1}[cdhswxyz]{0,1})+)/g;for(const o of t.matchAll(r)){if(0==o[0].length)continue;const t="!"===o[1]||e,r=C(o[2]);if(!(r.length>0))throw new Error("INVALID_SYNTAX");i.push(n?{type:l.Basic,exclude:t,cards:a.normalizeSuits(r)}:{type:l.Basic,exclude:t,cards:r})}if(t.replace(r,"").trim().length>0)throw new Error("INVALID_SYNTAX");return i}function C(t){const e=t.match(/[2-9tjqkaTJQKA]{0,1}[cdhswxyz]{0,1}/g);return e?e.map(t=>2===t.length?t[0].toUpperCase()+t[1]:["s","h","d","c","w","x","y","z"].includes(t.toLowerCase())?t.toLowerCase():1===t.length?t.toUpperCase():null).filter(t=>!!t):[]}function w(t){switch(t){case"RR":return o.PreflopClassification.Paired;case"RROO":return o.PreflopClassification.DoublePaired;case"RRR":return o.PreflopClassification.ThreeOfAKind;case"RRRR":return o.PreflopClassification.FourOfAKind}}function x(t){switch(t){case"RR":return i.PostflopClassification.PocketPair;case"RROO":return i.PostflopClassification.DoublePocketPair}}e.parseFilterSyntax=function t(e,n=!1,o,a){if(!e||0===e.length)return null;const C=t=>{if(t)if(d(t)){if(p(t))return t.cards.length>0;if(f(t))return t.bucketIds.length>0;if(g(t))return!!t.classification}else if(h(t))return t.elements.length>0;return!1},P=function(t,e){let n=t;for(const i of e.sort((t,e)=>e.token.length-t.token.length))n.includes(i.token)&&(n=_(n,i.token,i.replaceWith));return n=_(n,"!!",""),n=_(n," ",""),n}(e,a?b:m);let O=0;for(let i=0;i<P.length;i++){const t=P[i];if(")"===t&&0===O)throw new Error("INVALID_SYNTAX");"("===t?O+=1:")"===t&&(O-=1)}if(O>0)throw new Error("INVALID_SYNTAX");O=0;for(let i=0;i<P.length;i++){const e=P[i];if("("===e)O+=1;else if(")"===e)O-=1;else if(":"===e&&0===O){const e=P.substring(0,i),r=P.substring(i+1);if(0===r.length)throw new Error("INVALID_SYNTAX");const s=[t(e,n,o,a),t(r,n,o,a)].filter(C);return 1===s.length?s[0]:{type:l.Filter,combiner:c.AND,elements:s}}}O=0;for(let i=0;i<P.length;i++){const e=P[i];if("("===e)O+=1;else if(")"===e)O-=1;else if(","===e&&0===O){const e=P.substring(0,i),r=P.substring(i+1);if(0===r.length)throw new Error("INVALID_SYNTAX");const s=[t(e,n,o,a),t(r,n,o,a)].filter(C);return 1===s.length?s[0]:{type:l.Filter,combiner:n?c.AND:c.OR,elements:s}}}if(P.includes("(")){const e=function(t){const e=[];let n,i=0,r=!1,o=0;for(let s=0;s<t.length;s++){const a=t[s];if("("===a){if(0===o){s>0&&(r="!"===t[s-1]);const o=t.substring(i>0?i+1:i,r?s-1:s);e.push({group:o,exclude:!1}),n=s}o+=1}else if(")"===a&&(o-=1,0===o)){i=s;const o=t.substring(n+1,i);e.push({group:o,exclude:r})}}return i+1<t.length&&e.push({group:t.substring(i+1),exclude:!1}),e.filter(t=>"!"!==t.group&&""!==t.group)}(P).map(({group:e,exclude:n})=>t(e,n,o,a)).filter(C);return 1===e.length?e[0]:{type:l.Filter,combiner:c.AND,elements:e}}{for(const i of o.sort((t,e)=>e.token.length-t.token.length)){const e=P.indexOf(i.token);if(e>=0){const r={type:l.Basic,bucketIds:i.bucketIds},s=P.substring(0,e),u=P.substring(e+i.token.length),d=[t(s,n,o,a),r,t(u,n,o,a)].filter(C);return 0===d.length?d[0]:{type:l.Filter,combiner:c.AND,elements:d}}}const e=a?function(t,e=!1){const n=[],o=Object.keys(r.postflopSyntaxMapping).sort((t,e)=>e.length-t.length),s=new RegExp("(!{0,1})([=><]{0,1})("+o.map(t=>t.replace("$","\\$")).join("|")+"){1}","g");for(const h of t.matchAll(s)){const t="!"===h[1]||e,o=y(h[2]),s=r.postflopSyntaxMapping[h[3]],a=i.classificationFilterDefinitions[s];n.push(o===u.EQUALS?{type:l.Basic,exclude:t,classification:{anyOf:[s]}}:{type:l.Basic,exclude:t,classification:a[o]})}const a=t.replace(s,""),c=/(!{0,1})(RRRR|RRR|RR(?:OO){0,1})+/g;for(const i of a.matchAll(c)){const t="!"===i[1]||e,r=x(i[2]);n.push({type:l.Basic,exclude:t,classification:{anyOf:[r]}})}const d=a.replace(c,"");return d.length>0&&n.push(...v(d,e,!1)),n}(P,n):function(t,e=!1){const n=[],i=Object.keys(s.preflopSyntaxMapping).sort((t,e)=>e.length-t.length),r=new RegExp("(!{0,1})("+i.map(t=>t.replace("$","\\$")).join("|")+"){1}","g");for(const u of t.matchAll(r))n.push({type:l.Basic,exclude:"!"===u[1]||e,classification:{anyOf:[s.preflopSyntaxMapping[u[2]]]}});const o=t.replace(r,""),a=/(!{0,1})(RRRR|RRR|RR(?:OO){0,1})+/g;for(const s of o.matchAll(a)){const t="!"===s[1]||e,i=w(s[2]);n.push({type:l.Basic,exclude:t,classification:{anyOf:[i]}})}const c=o.replace(a,"");return c.length>0&&n.push(...v(c,e,!0)),n}(P,n);return 1===e.length?e[0]:{type:l.Filter,combiner:c.AND,elements:e}}}},SeXR:function(t,e,n){"use strict";function i(t,e){return function(t){switch(t){case 0:return[];case 2:return[[0,1]];case 4:return[[0,1],[2,3]];case 6:return[[0,1],[2,3],[4,5]];case 8:return[[0,1],[2,3],[4,5],[6,7]];case 10:return[[0,1],[2,3],[4,5],[6,7],[8,9]];default:throw Error("Can not parse cards from string of length "+t)}}(e?2*e:t.length).map(([e,n])=>t[e].toUpperCase()+t[n].toLowerCase())}Object.defineProperty(e,"__esModule",{value:!0}),e.parseCards=e.parse5Cards=e.parse4Cards=e.tryParseCards=void 0,e.tryParseCards=function(t){try{return i(t)}catch(e){return[]}},e.parse4Cards=function(t){return i(t,4)},e.parse5Cards=function(t){return i(t,5)},e.parseCards=i},bHQJ:function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.PreflopClassification=void 0,(i=e.PreflopClassification||(e.PreflopClassification={}))[i.NoPair=0]="NoPair",i[i.Paired=1]="Paired",i[i.DoublePaired=2]="DoublePaired",i[i.ThreeOfAKind=3]="ThreeOfAKind",i[i.FourOfAKind=4]="FourOfAKind",i[i.TwoOfSameSuit=5]="TwoOfSameSuit",i[i.ThreeOfSameSuit=6]="ThreeOfSameSuit",i[i.DoubleSuited=7]="DoubleSuited",i[i.DoubleSuitedLow=8]="DoubleSuitedLow",i[i.DoubleSuitedHigh=9]="DoubleSuitedHigh",i[i.Rainbow=10]="Rainbow",i[i.Monotone=11]="Monotone",i[i.RundownGap0=12]="RundownGap0",i[i.RundownGap1=13]="RundownGap1",i[i.RundownGap2=14]="RundownGap2",i[i.FourOfSameSuit=15]="FourOfSameSuit",i[i.ThreeOfSameSuitNut=16]="ThreeOfSameSuitNut",i[i.ThreeOfSameSuitNonNut=17]="ThreeOfSameSuitNonNut",i[i.DoubleSuitedPure=18]="DoubleSuitedPure",i[i.DoubleTripleSuited=19]="DoubleTripleSuited",i[i.TwoOfSameSuitNut=20]="TwoOfSameSuitNut",i[i.TwoOfSameSuitNonNut=21]="TwoOfSameSuitNonNut",i[i.DoubleSuitedNut=22]="DoubleSuitedNut",i[i.DoubleSuitedDoubleNut=23]="DoubleSuitedDoubleNut",i[i.FourCardRundownGap0=24]="FourCardRundownGap0",i[i.FourCardRundownGap1=25]="FourCardRundownGap1",i[i.FourCardRundownGap2=26]="FourCardRundownGap2",i[i.DoubleSuitedNonNut=27]="DoubleSuitedNonNut"},bpw8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postflopSyntaxMapping=void 0;const i=n("mdgW");e.postflopSyntaxMapping={$ss:i.PostflopClassification.TwoOfSameSuit,$ds:i.PostflopClassification.DoubleSuited,$dsp:i.PostflopClassification.DoubleSuitedPure,$dts:i.PostflopClassification.DoubleTripleSuited,$lds:i.PostflopClassification.DoubleSuitedLow,$hds:i.PostflopClassification.DoubleSuitedHigh,$ts:i.PostflopClassification.ThreeOfSameSuit,$rb:i.PostflopClassification.Rainbow,$ms:i.PostflopClassification.Monotone,$mt:i.PostflopClassification.Monotone,BOP:i.PostflopClassification.BoardPair,TP:i.PostflopClassification.TopPair,MP:i.PostflopClassification.MiddlePair,BP:i.PostflopClassification.BottomPair,RR:i.PostflopClassification.PocketPair,RROO:i.PostflopClassification.DoublePocketPair,OP:i.PostflopClassification.Overpair,UP:i.PostflopClassification.Underpair,"2P":i.PostflopClassification.TwoPair,"3P":i.PostflopClassification.ThreePair,"4P":i.PostflopClassification.FourPair,"2PTT":i.PostflopClassification.TopTwoPair,"2PT2":i.PostflopClassification.TopTwoPair,"2PTB":i.PostflopClassification.TopBottomTwoPair,"2PBB":i.PostflopClassification.BottomTwoPair,"2PB2":i.PostflopClassification.BottomTwoPair,TRI:i.PostflopClassification.Trips,TRIH:i.PostflopClassification.HighTrips,TRIL:i.PostflopClassification.LowTrips,SET:i.PostflopClassification.Set,SETB:i.PostflopClassification.BottomSet,SETM:i.PostflopClassification.MiddleSet,SETT:i.PostflopClassification.TopSet,STR:i.PostflopClassification.Straight,STR1:i.PostflopClassification.NutStraight,STR2:i.PostflopClassification.SecondNutStraight,STR3:i.PostflopClassification.ThirdNutStraight,STRNN:i.PostflopClassification.NonNutStraight,FL:i.PostflopClassification.Flush,FLN:i.PostflopClassification.NutFlush,FLN1:i.PostflopClassification.NutFlush,FLN2:i.PostflopClassification.SecondNutFlush,FLNN:i.PostflopClassification.NonNutFlush,FL3:i.PostflopClassification.FlushWith3,FL4:i.PostflopClassification.FlushWith4,FH:i.PostflopClassification.FullHouse,FHN:i.PostflopClassification.NutFullHouse,FHNN:i.PostflopClassification.NonNutFullHouse,QS:i.PostflopClassification.Quads,SF:i.PostflopClassification.StraightFlush,RF:i.PostflopClassification.RoyalFlush,SFD:i.PostflopClassification.StraightFlushDraw,FDSF:i.PostflopClassification.StraightFlushDraw,FD:i.PostflopClassification.FlushDraw,DFD:i.PostflopClassification.DoubleFlushDraw,NFD:i.PostflopClassification.NutFlushDraw,NFD1:i.PostflopClassification.NutFlushDraw,NFD2:i.PostflopClassification.SecondNutFlushDraw,FDNN:i.PostflopClassification.NonNutFlushDraw,BDFD:i.PostflopClassification.BackdoorFlushDraw,BDFD1:i.PostflopClassification.OneBackdoorFlushDraw,BDFD2:i.PostflopClassification.TwoBackdoorFlushDraw,BDNFD:i.PostflopClassification.BackdoorNutFlushDraw,SD:i.PostflopClassification.StraightDraw,WR:i.PostflopClassification.WrapStraightDraw,OESD:i.PostflopClassification.OpenEndStraightDraw,GS:i.PostflopClassification.GutshotStraightDraw,NWR:i.PostflopClassification.NutWrapStraightDraw,NOESD:i.PostflopClassification.NutOpenEndStraightDraw,NGS:i.PostflopClassification.NutGutshotStraightDraw,BLF:i.PostflopClassification.FlushBlocker,BLFN:i.PostflopClassification.NutFlushBlocker,BLF1:i.PostflopClassification.NutFlushBlocker,BLF2:i.PostflopClassification.SecondNutFlushBlocker,BLFNN:i.PostflopClassification.NonNutFlushBlocker,BLFD:i.PostflopClassification.FlushDrawBlocker,BLFDN:i.PostflopClassification.NutFlushDrawBlocker,BLFD1:i.PostflopClassification.NutFlushDrawBlocker,BLFD2:i.PostflopClassification.SecondNutFlushDrawBlocker,BLFDNN:i.PostflopClassification.NonNutFlushDrawBlocker,BLS:i.PostflopClassification.StraightBlocker,BLSRR:i.PostflopClassification.PocketPairStraightBlocker,BLS4:i.PostflopClassification.FourStraightBlocker,BLS3:i.PostflopClassification.ThreeStraightBlocker,BLS2:i.PostflopClassification.TwoStraightBlocker,BLS1:i.PostflopClassification.OneStraightBlocker,BLSD:i.PostflopClassification.StraightDrawBlocker,BLSDRR:i.PostflopClassification.PocketPairStraightDrawBlocker,BLSD4:i.PostflopClassification.FourStraightDrawBlocker,BLSD3:i.PostflopClassification.ThreeStraightDrawBlocker,BLSD2:i.PostflopClassification.TwoStraightDrawBlocker,BLSD1:i.PostflopClassification.OneStraightDrawBlocker,AIR:i.PostflopClassification.Air,MFD:i.PostflopClassification.MissedFlushDraw,MSD:i.PostflopClassification.MissedStraightDraw}},cuQr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseCombo=e.expandSuitsForComboWithVariations=e.expandSuitsForCombo=e.getRepresentative=void 0;const i=["s","h","d","c"];function r(t){return 1===t.length?[...s(t[0],i[0])].join(""):2===t.length?[...s(t[0],i[0]),...s(t[1],i[1])].join(""):3===t.length?[...s(t[0],i[0]),...s(t[1],i[1]),...s(t[2],i[2])].join(""):[...s(t[0],i[0]),...s(t[1],i[1]),...s(t[2],i[2]),...s(t[3],i[3])].join("")}function o(t){function e(t,e){return e.every(e=>!t.includes(e))}const n=new Set([]),r=[];for(const o of i){const a=s(t[0],o);if(t.length>1)for(const l of i.filter(t=>t!==o)){const c=s(t[1],l);if(e([...a],c))if(t.length>2)for(const u of i.filter(t=>![o,l].includes(t))){const d=s(t[2],u);if(e([...a,...c],d))if(t.length>3)for(const h of i.filter(t=>![o,l,u].includes(t))){const i=s(t[3],h);if(!e([...a,...c,...d],i))continue;const o=[...a,...c,...d,...i].sort().join("");n.has(o)||(r.push([...a,...c,...d,...i].join("")),n.add(o))}else{const t=[...a,...c,...d].sort().join("");n.has(t)||(r.push([...a,...c,...d].join("")),n.add(t))}}else{const t=[...a,...c].sort().join("");n.has(t)||(r.push([...a,...c].join("")),n.add(t))}}else{const t=[...a].sort().join("");n.has(t)||(r.push([...a].join("")),n.add(t))}}return r}function s(t,e){return t.cards.map(t=>t+e)}function a(t){const e=[];let n,i=!1;for(const r of t)"["===r?(i=!0,n=[]):"]"===r?(i=!1,e.push({cards:n}),n=[]):i?n.push(r):e.push({cards:[r]});return e}e.getRepresentative=function(t){return r(a(t))},e.expandSuitsForCombo=function(t){const e=a(t);return{representative:r(e),variations:o(e).length}},e.expandSuitsForComboWithVariations=function(t){const e=a(t);return{representative:r(e),variations:o(e)}},e.parseCombo=a},dPh3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClassificationsForFilter=void 0;const i=n("QP+3");function r(t){return t.type!==i.FilterType.Basic?t.elements.flatMap(t=>r(t)):i.isClassificationFilter(t)?[...t.classification.anyOf,...t.classification.noneOf||[]]:void 0}e.getClassificationsForFilter=function(t){try{const e=r(t)||[];return Array.from(new Set(e.filter(t=>t>=0)))}catch(e){console.error(e)}return[]}},fetW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBucketsForFilter=void 0;const i=n("QP+3");function r(t){return t.type!==i.FilterType.Basic?t.elements.flatMap(t=>r(t)):i.isBucketFilter(t)?t.bucketIds:void 0}e.getBucketsForFilter=function(t){try{const e=r(t)||[];return Array.from(new Set(e.filter(t=>t>=0)))}catch(e){console.error(e)}return[]}},fynY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressSuits=void 0;const i=n("SeXR"),r=n("gNgD"),o=["s","h","d","c"];e.compressSuits=function(t,e){const n=t.map(t=>function(t,e){const n=i.parseCards(t),s=n.filter(t=>e.includes(t[1])),a=n.filter(t=>!e.includes(t[1])),l=o.map(t=>a.filter(e=>e[1]===t)).filter(t=>t.length>0).map(t=>`{${t.map(t=>t[0]).join("")}}`).sort();return s.map(r.cardToString).join("")+l.join("")}(t,e)),s={};for(const i of new Set(n))s[i]=n.filter(t=>t===i).length;return s}},gKBI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.classifyPostflopCardsAndBoard=void 0;const i=n("mdgW"),r=["2","3","4","5","6","7","8","9","T","J","Q","K","A"];function o(t){return r.findIndex(e=>e===t)}e.classifyPostflopCardsAndBoard=function(t,e){const n=[...function(t){const e=["c","d","h","s"].map(e=>({suit:e,count:t.filter(t=>t[1]===e).length,rank:Math.min(...t.filter(t=>t[1]===e).map(t=>o(t[0])))})).filter(t=>t.count>0);if(1===e.length)return[i.PostflopClassification.Monotone];if(e.length===t.length)return[i.PostflopClassification.Rainbow];{const n=e.filter(t=>t.count>1);if(1===n.length)return 2===n[0].count?[i.PostflopClassification.TwoOfSameSuit]:3===n[0].count?[i.PostflopClassification.ThreeOfSameSuit]:[i.PostflopClassification.FourOfSameSuit];{const e=t.map(t=>({card:t,index:o(t[0])})).sort((t,e)=>t.index-e.index),r=[i.PostflopClassification.DoubleSuited];return r.push(e[0].card[1]!==e[1].card[1]?i.PostflopClassification.DoubleSuitedHigh:i.PostflopClassification.DoubleSuitedLow),r.push(n[0].count+n[1].count===5?i.PostflopClassification.DoubleTripleSuited:i.PostflopClassification.DoubleSuitedPure),r}}}(t),...function(t,e){const n=(t,e)=>t.filter(t=>t[0]===e).length;let r=[];const s=Math.max(...e.map(t=>o(t[0]))),a=(Math.max(...e.map(t=>o(t[0])).filter(t=>t<s)),Math.min(...e.map(t=>o(t[0])))),l=Math.min(...e.map(t=>o(t[0])).filter(t=>t>a));let c=0;const u=Array.from(new Set([...t.map(t=>t[0]),...e.map(t=>t[0])])).map(i=>({face:i,rank:o(i),handCount:n(t,i),boardCount:n(e,i)}));for(const o of u){const t=o.handCount,e=o.boardCount;if(t>=2&&r.push(i.PostflopClassification.PocketPair),t>=2&&0===e)r.push(o.rank>s?i.PostflopClassification.Overpair:o.rank<a?i.PostflopClassification.Underpair:o.rank>l?i.PostflopClassification.UpperPocketPair:i.PostflopClassification.LowerPocketPair);else if(1===t&&3===e||2===t&&2===e)r.push(i.PostflopClassification.Quads);else if(t>=2&&1===e)r.push(i.PostflopClassification.Set),r.push(o.rank===s?i.PostflopClassification.TopSet:o.rank===a?i.PostflopClassification.BottomSet:i.PostflopClassification.MiddleSet);else if(1===t&&2===e){r.push(i.PostflopClassification.Trips);const t=u.find(t=>t.face!==o.face&&2===t.boardCount);t&&r.push(o.rank>t.rank?i.PostflopClassification.HighTrips:i.PostflopClassification.LowTrips)}else 1===t&&1===e?(r.push(i.PostflopClassification.BoardPair),r.push(o.rank===s?i.PostflopClassification.TopPair:o.rank===a?i.PostflopClassification.BottomPair:i.PostflopClassification.MiddlePair)):0===t&&e>c&&(c=e)}2===r.filter(t=>t===i.PostflopClassification.PocketPair).length&&(r=r.filter(t=>t!==i.PostflopClassification.PocketPair),r.push(i.PostflopClassification.PocketPair),r.push(i.PostflopClassification.DoublePocketPair));const d=r.filter(t=>t===i.PostflopClassification.BoardPair).length;if(d>=2){if(r.push(i.PostflopClassification.TwoPair),d>=3&&(r.push(i.PostflopClassification.ThreePair),d>=4&&r.push(i.PostflopClassification.FourPair)),r.includes(i.PostflopClassification.TopPair)){const t=u.filter(t=>1===t.boardCount).map(({face:t})=>o(t)).sort((t,e)=>e-t).slice(0,2),e=u.filter(t=>1===t.handCount&&1===t.boardCount).map(({face:t})=>o(t)).sort((t,e)=>e-t);t.every(t=>e.slice(0,2).includes(t))?(r.push(i.PostflopClassification.TopTwoPair),e.length>2&&r.push(i.PostflopClassification.TopBottomTwoPair)):r.push(i.PostflopClassification.TopBottomTwoPair)}r.filter(t=>[i.PostflopClassification.BottomPair,i.PostflopClassification.MiddlePair].includes(t)).length>=2&&r.push(i.PostflopClassification.BottomTwoPair);const t=[i.PostflopClassification.BoardPair,i.PostflopClassification.TopPair,i.PostflopClassification.MiddlePair,i.PostflopClassification.BottomPair];r=[...r.filter(e=>!t.includes(e))]}const h=r.filter(t=>[i.PostflopClassification.PocketPair,i.PostflopClassification.DoublePocketPair].includes(t)),p=function(t,e){if(0===e.filter(t=>t.boardCount>=2).length)return t;if(e.find(t=>t.boardCount>=2&&t.handCount>=2||t.boardCount>=3&&t.handCount>=1))return t;const n=function(t){const e=[],n=t.filter(t=>t.boardCount>=1);for(const i of n)(1===i.boardCount||i.boardCount>=3||n.filter(t=>t.face!==i.face).some(t=>t.boardCount<3))&&e.push(i.rank);return Math.max(...e)}(e),r=e.find(t=>t.rank===n),s=e.filter(t=>t.boardCount>0&&t.rank!==n);let a;1===r.boardCount?a=Math.max(...s.map(t=>t.boardCount>=2&&t.rank)):2===r.boardCount?a=Math.max(...s.map(t=>t.rank)):r.boardCount>=3&&(a=n===o("A")?o("K"):o("A"));const l=e.find(t=>t.rank===a);if(1===r.boardCount){if(r.handCount>=2&&(null==l?void 0:l.boardCount)>=2)return[i.PostflopClassification.FullHouse,i.PostflopClassification.NutFullHouse]}else if(2===r.boardCount){if(r.handCount>=1&&(null==l?void 0:l.boardCount)>=1&&(null==l?void 0:l.handCount)>=1)return[i.PostflopClassification.FullHouse,i.PostflopClassification.NutFullHouse]}else if(r.boardCount>=3){if(0===r.handCount&&(null==l?void 0:l.handCount)>=2)return[i.PostflopClassification.FullHouse,i.PostflopClassification.NutFullHouse];if(r.handCount>=1&&(null==l?void 0:l.handCount)>=1&&(null==l?void 0:l.boardCount)>=1)return[i.PostflopClassification.FullHouse,i.PostflopClassification.NutFullHouse]}for(const o of e.filter(t=>t.boardCount>=2)){const t=e.filter(t=>t.face!==o.face);if(2===o.boardCount){if(1===o.handCount&&t.some(t=>t.boardCount>=1&&t.handCount>=1))return[i.PostflopClassification.FullHouse,i.PostflopClassification.NonNutFullHouse];if(0===o.handCount&&t.some(t=>t.boardCount>=1&&t.handCount>=2))return[i.PostflopClassification.FullHouse,i.PostflopClassification.NonNutFullHouse]}else if(3===o.boardCount){if(t.some(t=>t.handCount>=2))return[i.PostflopClassification.FullHouse,i.PostflopClassification.NonNutFullHouse];if(o.handCount>=1&&t.some(t=>t.boardCount>=1&&t.handCount>=1))return[i.PostflopClassification.FullHouse,i.PostflopClassification.NonNutFullHouse]}}return t}(r,u);return Array.from(new Set([...h,...p]))}(t,e),...function(t,e){const n=["c","d","h","s"].map(n=>({suit:n,handCards:t.filter(t=>t[1]===n),boardCards:e.filter(t=>t[1]===n)})),s=[],a=5-e.length;for(const c of n){const{handCards:n,boardCards:l}=c,u=n.length,d=l.length,h=r.filter(t=>!l.find(e=>e[0]===t)).map(t=>o(t)).sort((t,e)=>-1*t-e),p=Math.max(...n.map(t=>o(t[0])));u>=2?d>=3?(s.push(i.PostflopClassification.Flush),u>=3&&(s.push(i.PostflopClassification.FlushWith3),u>=4&&s.push(i.PostflopClassification.FlushWith4)),s.push(p===h[0]?i.PostflopClassification.NutFlush:p===h[1]?i.PostflopClassification.SecondNutFlush:i.PostflopClassification.NonNutFlush)):2===d&&a>=1?(s.push(i.PostflopClassification.FlushDraw),s.push(p===h[0]?i.PostflopClassification.NutFlushDraw:p===h[1]?i.PostflopClassification.SecondNutFlushDraw:i.PostflopClassification.NonNutFlushDraw)):1===d&&a>=2?(s.push(i.PostflopClassification.BackdoorFlushDraw),p===h[0]&&s.push(i.PostflopClassification.BackdoorNutFlushDraw)):2===d&&0===a&&2===["c","d","h","s"].map(n=>({suit:n,handCards:t.filter(t=>t[1]===n),boardCards:e.slice(0,4).filter(t=>t[1]===n)})).find(t=>t.suit===c.suit).boardCards.length&&s.push(i.PostflopClassification.MissedFlushDraw):1===u&&(d>=3?(s.push(i.PostflopClassification.FlushBlocker),s.push(p===h[0]?i.PostflopClassification.NutFlushBlocker:p===h[1]?i.PostflopClassification.SecondNutFlushBlocker:i.PostflopClassification.NonNutFlushBlocker)):2===d&&a>=1&&(s.push(i.PostflopClassification.FlushDrawBlocker),s.push(p===h[0]?i.PostflopClassification.NutFlushDrawBlocker:p===h[1]?i.PostflopClassification.SecondNutFlushDrawBlocker:i.PostflopClassification.NonNutFlushDrawBlocker)))}2===s.filter(t=>t===i.PostflopClassification.FlushDraw).length&&s.push(i.PostflopClassification.DoubleFlushDraw);const l=s.filter(t=>t===i.PostflopClassification.BackdoorFlushDraw);return 1===l.length?s.push(i.PostflopClassification.OneBackdoorFlushDraw):2===l.length&&s.push(i.PostflopClassification.TwoBackdoorFlushDraw),s}(t,e),...function(t,e){let n=[];const r=5-e.length,l=new Set,c=new Set,u=new Set,d=new Set,h=new Set,p=[],f={};for(const a of s){const g=s.findIndex(t=>t===a),m=o(a[4]),b=t.filter(t=>a.find(e=>t[0]===e)),_=e.filter(t=>a.find(e=>t[0]===e)),y=a.filter(t=>!e.find(e=>e[0]===t)),v=Array.from(new Set(_.map(t=>t[0]))).length,C=Array.from(new Set(b.map(t=>t[0]))).length;if(v>=3&&(l.add(g),f[g]=y),C>=2)for(let t=0;t<b.length-1;t++)for(let s=t+1;s<b.length;s++)if(b[t][0]!==b[s][0]){const l=[b[t],b[s]],d=[..._.filter(t=>!l.find(e=>t[0]===e[0])),...l],h=a.filter(t=>!d.find(e=>e[0]===t));if(0===h.length){c.add(g);for(const t of["s","c","d","h"]){const e=d.filter(e=>e[1]===t);a.every(t=>e.find(e=>e[0]===t))&&(n.push(i.PostflopClassification.StraightFlush),m===o("A")&&n.push(i.PostflopClassification.RoyalFlush))}}else if(1===h.length&&r>0){if(u.add(g),2===Array.from(new Set(l.map(t=>t[0]))).length){const t=h.filter(t=>!l.find(e=>t===e[0]));p.push(...t)}for(const t of["s","c","d","h"])4===d.filter(e=>e[1]===t).length&&n.push(i.PostflopClassification.StraightFlushDraw)}else if(1===h.length&&0===r){const t=[...e.slice(0,4).filter(t=>a.find(e=>t[0]===e)).filter(t=>!l.find(e=>t[0]===e[0])),...l];1===a.filter(e=>!t.find(t=>t[0]===e)).length&&n.push(i.PostflopClassification.MissedStraightDraw)}}const w=t.filter(t=>y.find(e=>t[0]===e));1===Array.from(new Set(w.map(t=>t[0]))).length&&(v>=3&&d.add(g),2===v&&r>0&&h.add(g))}const g=Array.from(l).filter(t=>{if(l.has(t+1)){const e=f[t],n=f[t+1];return e.length!==n.length||n.some(t=>!e.includes(t))}return!0}).sort((t,e)=>-1*t-e);if(c.size>0)n.push(i.PostflopClassification.Straight),n.includes(i.PostflopClassification.MissedStraightDraw)&&(n=n.filter(t=>t!==i.PostflopClassification.MissedStraightDraw)),c.has(g[0])?n.push(i.PostflopClassification.NutStraight):g.length>1&&c.has(g[1])?n.push(i.PostflopClassification.SecondNutStraight):g.length>2&&c.has(g[2])&&n.push(i.PostflopClassification.ThirdNutStraight);else if(u.size>0){const r=Array.from(new Set(p));r.length>=3?(n.push(i.PostflopClassification.StraightDraw),n.push(i.PostflopClassification.WrapStraightDraw),r.every(n=>a(e,n,t))&&n.push(i.PostflopClassification.NutWrapStraightDraw)):2===r.length?(n.push(i.PostflopClassification.StraightDraw),n.push(i.PostflopClassification.OpenEndStraightDraw),r.every(n=>a(e,n,t))&&n.push(i.PostflopClassification.NutOpenEndStraightDraw)):1===r.length&&(n.push(i.PostflopClassification.StraightDraw),n.push(i.PostflopClassification.GutshotStraightDraw),r.every(n=>a(e,n,t))&&n.push(i.PostflopClassification.NutGutshotStraightDraw))}if(0===c.size&&d.size>0){n.push(i.PostflopClassification.StraightBlocker);const r=new Set;for(const n of d){const i=s[n].filter(t=>!e.find(e=>e[0]===t));t.filter(t=>i.find(e=>t[0]===e)).forEach(t=>r.add(t))}const o=Array.from(r);switch(o.find(t=>o.find(e=>t[0]===e[0]&&t[1]!==e[1]))&&n.push(i.PostflopClassification.PocketPairStraightBlocker),o.length){case 1:n.push(i.PostflopClassification.OneStraightBlocker);break;case 2:n.push(i.PostflopClassification.TwoStraightBlocker);break;case 3:n.push(i.PostflopClassification.ThreeStraightBlocker);break;case 4:n.push(i.PostflopClassification.FourStraightBlocker)}}if(0===c.size&&0===u.size&&h.size>0){n.push(i.PostflopClassification.StraightDrawBlocker);const r=new Set;for(const n of h){const i=s[n].filter(t=>!e.find(e=>e[0]===t));t.filter(t=>i.find(e=>t[0]===e)).forEach(t=>r.add(t))}const o=Array.from(r);switch(o.find(t=>o.find(e=>t[0]===e[0]&&t[1]!==e[1]))&&n.push(i.PostflopClassification.PocketPairStraightDrawBlocker),o.length){case 1:n.push(i.PostflopClassification.OneStraightDrawBlocker);break;case 2:n.push(i.PostflopClassification.TwoStraightDrawBlocker);break;case 3:n.push(i.PostflopClassification.ThreeStraightDrawBlocker);break;case 4:n.push(i.PostflopClassification.FourStraightDrawBlocker)}}return n}(t,e)];return n.every(t=>!i.MadeHands.includes(t))&&n.push(i.PostflopClassification.Air),n};const s=[["A","2","3","4","5"],["2","3","4","5","6"],["3","4","5","6","7"],["4","5","6","7","8"],["5","6","7","8","9"],["6","7","8","9","T"],["7","8","9","T","J"],["8","9","T","J","Q"],["9","T","J","Q","K"],["T","J","Q","K","A"]];function a(t,e,n){const i=Array.from(new Set(t.map(t=>t[0]))),r=Array.from(new Set(n.map(t=>t[0]))),o=[...i,e],a=[],l=[];for(const u of s){const t=s.findIndex(t=>t===u),e=u.filter(t=>o.includes(t)),n=u.filter(t=>!o.includes(t)).filter(t=>r.includes(t));e.length>=3&&(a.push(t),n.length>=2&&l.push(t))}const c=Math.max(...a);return Math.max(...l)===c}},gNgD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cardsToString=e.cardToString=e.cardsAreEqual=e.cardIsEqual=void 0;const i=n("EsPM");function r(t,e){return t[0]===e[0]&&t[1]===e[1]}function o(t){return`${t[0]?t[0]:""}${t[1]?t[1]:""}`}e.cardIsEqual=r,e.cardsAreEqual=function(t,e){return t.length===e.length&&t.every(t=>e.find(e=>r(t,e)))},e.cardToString=o,e.cardsToString=function(t,e=!0){return e?[...t].sort(i.sortCard).map(t=>o(t)).join(""):[...t].map(t=>o(t)).join("")}},jrKG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectFromRangeItem=void 0,e.selectFromRangeItem={combo:t=>t[0],cards:t=>t[1],frequency:t=>t[2],ev:t=>t[3],comboWeight:t=>t[4],weight:t=>t[5],variations:t=>t[6],evDiff:t=>t[7]}},klPf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boardDistance=e.sortBoardsByDistance=e.DEFAULT_BOARD_DISTANCE_WEIGHTS=void 0;const i=n("QP+3"),r=n("EsPM");e.DEFAULT_BOARD_DISTANCE_WEIGHTS={sumOfRankDifferences:1,amountNotExactRanks:10,notExactSuits:12,topTwoRanks:.5};const o=["2","3","4","5","6","7","8","9","T","J","Q","K","A"];function s(t,n,i=e.DEFAULT_BOARD_DISTANCE_WEIGHTS){const s=t=>new Set(t.map(t=>t[0])).size<t.length,a=s(t);return a!==s(n)?1e3:a?function(t,e){let n=0;const i=t=>{const e=Array.from(new Set(t.map(t=>t[0]))),n=e.filter(e=>t.filter(t=>t[0]===e).length>1),i=e.filter(e=>1===t.filter(t=>t[0]===e).length),r=t.filter(t=>n.includes(t[0]));return[...t.filter(t=>i.includes(t[0])),...r]},r=i(t),s=i(e);for(let a=0;a<r.length;a++){const t=s[a],e=o.indexOf(r[a][0])+2,i=o.indexOf(t[0])+2;n+=e*Math.abs(e-i)}return n}(t,n):function(t,n,i=e.DEFAULT_BOARD_DISTANCE_WEIGHTS){let s=0,a=0,l=0;const c={w:null,x:null,y:null,z:null},u=[...t].sort(r.sortCard),d=[...n].sort(r.sortCard);for(let e=0;e<u.length;e++){const t=u[e],n=d[e];if(t[1]){const e=t[1].toLowerCase(),i=n[1].toLowerCase();"w"===(h=e)||"x"===h||"y"===h||"z"===h?null===c[e]?Object.values(c).filter(t=>null!==t).includes(i)?l++:c[e]=i:c[e]!==i&&l++:e!==i&&l++}const i=o.indexOf(t[0].toUpperCase()),r=o.indexOf(n[0].toUpperCase()),p=Math.abs(i-r);s+=p,p>0&&a++}var h;const p=u.slice(0,2).map(t=>o.indexOf(t[0].toUpperCase())),f=d.slice(0,2).map(t=>o.indexOf(t[0].toUpperCase()));return i.amountNotExactRanks*a+i.notExactSuits*l+i.sumOfRankDifferences*s+i.topTwoRanks*(p[0]===f[0]&&p[1]===f[1]?0:1)}(t,n,i)}e.sortBoardsByDistance=function(t,n,o=e.DEFAULT_BOARD_DISTANCE_WEIGHTS){try{const e=i.parseFilterSyntax(t,!1,[],!1);if(i.isBasicFilter(e)&&i.isCardsFilter(e)){const t=e.cards;return n.map(e=>Object.assign(Object.assign({},e),{distance:s(t,e.cards,o)})).sort((t,e)=>t.distance===e.distance?r.sortFlops(t.cards,e.cards):t.distance-e.distance)}}catch(a){return console.error(a),[]}},e.boardDistance=s},mdgW:function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.classificationFilterDefinitions=e.MadeHands=e.PostflopClassification=void 0,function(t){t[t.TwoOfSameSuit=1]="TwoOfSameSuit",t[t.ThreeOfSameSuit=2]="ThreeOfSameSuit",t[t.DoubleSuited=3]="DoubleSuited",t[t.DoubleSuitedLow=4]="DoubleSuitedLow",t[t.DoubleSuitedHigh=5]="DoubleSuitedHigh",t[t.Rainbow=6]="Rainbow",t[t.Monotone=7]="Monotone",t[t.RoyalFlush=10]="RoyalFlush",t[t.StraightFlush=11]="StraightFlush",t[t.Quads=20]="Quads",t[t.FullHouse=31]="FullHouse",t[t.NutFullHouse=32]="NutFullHouse",t[t.NonNutFullHouse=33]="NonNutFullHouse",t[t.Flush=40]="Flush",t[t.NutFlush=41]="NutFlush",t[t.SecondNutFlush=42]="SecondNutFlush",t[t.NonNutFlush=43]="NonNutFlush",t[t.FlushWith3=44]="FlushWith3",t[t.FlushWith4=45]="FlushWith4",t[t.Straight=50]="Straight",t[t.NutStraight=51]="NutStraight",t[t.SecondNutStraight=52]="SecondNutStraight",t[t.ThirdNutStraight=53]="ThirdNutStraight",t[t.NonNutStraight=54]="NonNutStraight",t[t.Set=60]="Set",t[t.TopSet=61]="TopSet",t[t.MiddleSet=62]="MiddleSet",t[t.BottomSet=63]="BottomSet",t[t.Trips=64]="Trips",t[t.HighTrips=65]="HighTrips",t[t.LowTrips=66]="LowTrips",t[t.TwoPair=70]="TwoPair",t[t.ThreePair=71]="ThreePair",t[t.FourPair=72]="FourPair",t[t.TopTwoPair=73]="TopTwoPair",t[t.TopBottomTwoPair=74]="TopBottomTwoPair",t[t.BottomTwoPair=75]="BottomTwoPair",t[t.BoardPair=80]="BoardPair",t[t.TopPair=81]="TopPair",t[t.MiddlePair=82]="MiddlePair",t[t.BottomPair=83]="BottomPair",t[t.PocketPair=84]="PocketPair",t[t.DoublePocketPair=85]="DoublePocketPair",t[t.Overpair=86]="Overpair",t[t.Underpair=87]="Underpair",t[t.UpperPocketPair=88]="UpperPocketPair",t[t.LowerPocketPair=89]="LowerPocketPair",t[t.StraightFlushDraw=100]="StraightFlushDraw",t[t.FlushDraw=110]="FlushDraw",t[t.NutFlushDraw=111]="NutFlushDraw",t[t.SecondNutFlushDraw=112]="SecondNutFlushDraw",t[t.NonNutFlushDraw=113]="NonNutFlushDraw",t[t.DoubleFlushDraw=114]="DoubleFlushDraw",t[t.StraightDraw=120]="StraightDraw",t[t.WrapStraightDraw=121]="WrapStraightDraw",t[t.OpenEndStraightDraw=122]="OpenEndStraightDraw",t[t.GutshotStraightDraw=123]="GutshotStraightDraw",t[t.NutWrapStraightDraw=124]="NutWrapStraightDraw",t[t.NutOpenEndStraightDraw=125]="NutOpenEndStraightDraw",t[t.NutGutshotStraightDraw=126]="NutGutshotStraightDraw",t[t.BackdoorFlushDraw=130]="BackdoorFlushDraw",t[t.OneBackdoorFlushDraw=131]="OneBackdoorFlushDraw",t[t.TwoBackdoorFlushDraw=132]="TwoBackdoorFlushDraw",t[t.BackdoorNutFlushDraw=133]="BackdoorNutFlushDraw",t[t.FlushBlocker=200]="FlushBlocker",t[t.NutFlushBlocker=201]="NutFlushBlocker",t[t.SecondNutFlushBlocker=202]="SecondNutFlushBlocker",t[t.NonNutFlushBlocker=203]="NonNutFlushBlocker",t[t.FlushDrawBlocker=210]="FlushDrawBlocker",t[t.NutFlushDrawBlocker=211]="NutFlushDrawBlocker",t[t.SecondNutFlushDrawBlocker=212]="SecondNutFlushDrawBlocker",t[t.NonNutFlushDrawBlocker=213]="NonNutFlushDrawBlocker",t[t.StraightBlocker=220]="StraightBlocker",t[t.PocketPairStraightBlocker=221]="PocketPairStraightBlocker",t[t.FourStraightBlocker=222]="FourStraightBlocker",t[t.ThreeStraightBlocker=223]="ThreeStraightBlocker",t[t.TwoStraightBlocker=224]="TwoStraightBlocker",t[t.OneStraightBlocker=225]="OneStraightBlocker",t[t.StraightDrawBlocker=230]="StraightDrawBlocker",t[t.PocketPairStraightDrawBlocker=231]="PocketPairStraightDrawBlocker",t[t.FourStraightDrawBlocker=232]="FourStraightDrawBlocker",t[t.ThreeStraightDrawBlocker=233]="ThreeStraightDrawBlocker",t[t.TwoStraightDrawBlocker=234]="TwoStraightDrawBlocker",t[t.OneStraightDrawBlocker=235]="OneStraightDrawBlocker",t[t.Air=240]="Air",t[t.MissedFlushDraw=241]="MissedFlushDraw",t[t.MissedStraightDraw=242]="MissedStraightDraw",t[t.FourOfSameSuit=301]="FourOfSameSuit",t[t.DoubleSuitedPure=302]="DoubleSuitedPure",t[t.DoubleTripleSuited=303]="DoubleTripleSuited"}(i=e.PostflopClassification||(e.PostflopClassification={})),e.MadeHands=[i.RoyalFlush,i.StraightFlush,i.Quads,i.FullHouse,i.Flush,i.Straight,i.Set,i.Trips,i.TwoPair,i.BoardPair,i.PocketPair];const r={[i.StraightFlush]:[i.RoyalFlush],[i.NutFullHouse]:[i.Quads],[i.NonNutFullHouse]:[i.NutFullHouse],[i.FullHouse]:[i.NutFullHouse,i.NonNutFullHouse],[i.SecondNutFlush]:[i.NutFlush],[i.NonNutFlush]:[i.NutFlush],[i.FlushWith3]:[i.NutFlush,i.NonNutFlush],[i.FlushWith4]:[i.NutFlush,i.NonNutFlush],[i.Flush]:[i.NutFlush,i.NonNutFlush],[i.SecondNutStraight]:[i.NutStraight],[i.ThirdNutStraight]:[i.NutStraight,i.SecondNutStraight],[i.Straight]:[i.NutStraight,i.SecondNutStraight,i.ThirdNutStraight],[i.TopSet]:[i.HighTrips],[i.HighTrips]:[i.TopSet],[i.MiddleSet]:[i.TopSet,i.HighTrips],[i.BottomSet]:[i.TopSet,i.MiddleSet,i.HighTrips],[i.LowTrips]:[i.TopSet,i.MiddleSet,i.HighTrips],[i.Trips]:[i.TopSet,i.MiddleSet,i.BottomSet,i.HighTrips,i.LowTrips],[i.Set]:[i.TopSet,i.MiddleSet,i.BottomSet,i.HighTrips,i.LowTrips],[i.TopBottomTwoPair]:[i.TopTwoPair],[i.BottomTwoPair]:[i.TopTwoPair,i.TopBottomTwoPair],[i.TwoPair]:[i.TopTwoPair,i.TopBottomTwoPair,i.BottomTwoPair],[i.TopPair]:[i.Overpair],[i.MiddlePair]:[i.Overpair,i.TopPair,i.UpperPocketPair],[i.BottomPair]:[i.Overpair,i.TopPair,i.MiddlePair,i.UpperPocketPair,i.LowerPocketPair],[i.BoardPair]:[i.Overpair,i.TopPair,i.MiddlePair,i.BottomPair],[i.Underpair]:[i.Overpair,i.TopPair,i.MiddlePair,i.BottomPair,i.UpperPocketPair,i.LowerPocketPair],[i.StraightFlushDraw]:[i.FlushDraw,i.StraightDraw,i.Air],[i.FlushDraw]:[i.StraightFlushDraw,i.StraightDraw,i.Air],[i.StraightDraw]:[i.StraightFlushDraw,i.FlushDraw,i.Air],[i.Air]:[i.StraightFlushDraw,i.FlushDraw,i.StraightDraw,i.Air]};function o(t){return{STRICT_EQUALS:{anyOf:[t],noneOf:[...s(t)]},BETTER_THAN:{anyOf:[t,...s(t)]},WORSE_THAN:{anyOf:[...a(t)],noneOf:[t,...s(t)]}}}function s(t){if(t===i.Air)return e.MadeHands;{const n=e.MadeHands.indexOf(t);return e.MadeHands.slice(0,n)}}function a(t){if(t===i.Air)return[];{const n=e.MadeHands.indexOf(t);return[...e.MadeHands.slice(n),i.Air]}}function l(t,e){return{STRICT_EQUALS:{anyOf:[t],noneOf:[...c(t),...s(e)]},BETTER_THAN:{anyOf:[t,...c(t),...s(e)]},WORSE_THAN:{anyOf:[...a(e)],noneOf:[t,...s(e)]}}}function c(t){return r[t]?r[t]:[]}e.classificationFilterDefinitions={[i.RoyalFlush]:o(i.RoyalFlush),[i.StraightFlush]:o(i.StraightFlush),[i.Quads]:o(i.Quads),[i.NutFullHouse]:l(i.NutFullHouse,i.FullHouse),[i.NonNutFullHouse]:l(i.NonNutFullHouse,i.FullHouse),[i.FullHouse]:o(i.FullHouse),[i.NutFlush]:l(i.NutFlush,i.Flush),[i.SecondNutFlush]:l(i.SecondNutFlush,i.Flush),[i.NonNutFlush]:l(i.NonNutFlush,i.Flush),[i.FlushWith3]:l(i.FlushWith3,i.Flush),[i.FlushWith4]:l(i.FlushWith4,i.Flush),[i.Flush]:o(i.Flush),[i.NutStraight]:l(i.NutStraight,i.Straight),[i.SecondNutStraight]:l(i.SecondNutStraight,i.Straight),[i.ThirdNutStraight]:l(i.ThirdNutStraight,i.Straight),[i.Straight]:o(i.Straight),[i.TopSet]:l(i.TopSet,i.Set),[i.HighTrips]:l(i.HighTrips,i.Trips),[i.MiddleSet]:l(i.MiddleSet,i.Set),[i.BottomSet]:l(i.BottomSet,i.Set),[i.LowTrips]:l(i.LowTrips,i.Set),[i.Trips]:o(i.Trips),[i.Set]:o(i.Set),[i.ThreePair]:l(i.ThreePair,i.TwoPair),[i.FourPair]:l(i.FourPair,i.TwoPair),[i.TopTwoPair]:l(i.TopTwoPair,i.TwoPair),[i.TopBottomTwoPair]:l(i.TopBottomTwoPair,i.TwoPair),[i.BottomTwoPair]:l(i.BottomTwoPair,i.TwoPair),[i.TwoPair]:o(i.TwoPair),[i.Overpair]:{STRICT_EQUALS:{anyOf:[i.Overpair],noneOf:[...s(i.BoardPair)]},BETTER_THAN:{anyOf:[i.Overpair,...s(i.BoardPair)]},WORSE_THAN:{anyOf:[i.BoardPair,i.PocketPair,...a(i.PocketPair)],noneOf:[i.Overpair,...s(i.BoardPair)]}},[i.TopPair]:{STRICT_EQUALS:{anyOf:[i.TopPair],noneOf:[i.Overpair,...s(i.BoardPair)]},BETTER_THAN:{anyOf:[i.Overpair,i.TopPair,...s(i.BoardPair)]},WORSE_THAN:{anyOf:[...a(i.BoardPair)],noneOf:[i.TopPair,i.Overpair,...s(i.BoardPair)]}},[i.MiddlePair]:{STRICT_EQUALS:{anyOf:[i.MiddlePair],noneOf:[i.Overpair,i.TopPair,...s(i.BoardPair)]},BETTER_THAN:{anyOf:[i.Overpair,i.TopPair,i.MiddlePair,i.UpperPocketPair,...s(i.BoardPair)]},WORSE_THAN:{anyOf:[...a(i.BoardPair)],noneOf:[i.TopPair,i.MiddlePair,i.Overpair,i.UpperPocketPair,...s(i.BoardPair)]}},[i.BottomPair]:{STRICT_EQUALS:{anyOf:[i.BottomPair],noneOf:[i.Overpair,i.TopPair,i.MiddlePair,...s(i.BoardPair)]},BETTER_THAN:{anyOf:[i.Overpair,i.BoardPair,i.UpperPocketPair,i.LowerPocketPair,...s(i.BoardPair)]},WORSE_THAN:{anyOf:[...a(i.BoardPair)],noneOf:[i.TopPair,i.MiddlePair,i.BottomPair,i.Overpair,i.UpperPocketPair,i.LowerPocketPair,...s(i.BoardPair)]}},[i.BoardPair]:{STRICT_EQUALS:{anyOf:[i.BoardPair],noneOf:[i.Overpair,...s(i.BoardPair)]},BETTER_THAN:{anyOf:[i.Overpair,i.BoardPair,...s(i.BoardPair)]},WORSE_THAN:{anyOf:[...a(i.BoardPair)],noneOf:[i.BoardPair,i.Overpair,...s(i.BoardPair)]}},[i.UpperPocketPair]:l(i.UpperPocketPair,i.PocketPair),[i.LowerPocketPair]:l(i.LowerPocketPair,i.PocketPair),[i.PocketPair]:o(i.PocketPair),[i.DoublePocketPair]:l(i.DoublePocketPair,i.PocketPair),[i.Underpair]:{STRICT_EQUALS:{anyOf:[i.Underpair],noneOf:[i.Overpair,i.UpperPocketPair,i.LowerPocketPair,...s(i.PocketPair)]},BETTER_THAN:{anyOf:[i.PocketPair,...s(i.PocketPair)]},WORSE_THAN:{anyOf:[i.Air],noneOf:[i.PocketPair,...s(i.PocketPair)]}},[i.StraightFlushDraw]:{STRICT_EQUALS:{anyOf:[i.StraightFlushDraw],noneOf:[...s(i.Air)]},BETTER_THAN:{anyOf:[i.StraightFlushDraw,...s(i.Air)]},WORSE_THAN:{anyOf:[i.Air],noneOf:[i.StraightFlushDraw,...s(i.Air)]}},[i.FlushDraw]:{STRICT_EQUALS:{anyOf:[i.FlushDraw],noneOf:[i.StraightFlushDraw,...s(i.Air)]},BETTER_THAN:{anyOf:[i.StraightFlushDraw,i.FlushDraw,...s(i.Air)]},WORSE_THAN:{anyOf:[i.Air],noneOf:[i.StraightFlushDraw,i.FlushDraw,...s(i.Air)]}},[i.StraightDraw]:{STRICT_EQUALS:{anyOf:[i.StraightDraw],noneOf:[i.StraightFlushDraw,i.FlushDraw,...s(i.Air)]},BETTER_THAN:{anyOf:[i.StraightFlushDraw,i.FlushDraw,i.StraightDraw,...s(i.Air)]},WORSE_THAN:{anyOf:[i.Air],noneOf:[i.StraightFlushDraw,i.FlushDraw,i.StraightDraw,...s(i.Air)]}},[i.BackdoorFlushDraw]:{STRICT_EQUALS:{anyOf:[i.BackdoorFlushDraw],noneOf:[i.StraightFlushDraw,i.FlushDraw,i.StraightDraw,...s(i.Air)]},BETTER_THAN:{anyOf:[i.StraightFlushDraw,i.FlushDraw,i.StraightDraw,i.BackdoorFlushDraw,...s(i.Air)]},WORSE_THAN:{anyOf:[i.Air],noneOf:[i.StraightFlushDraw,i.FlushDraw,i.StraightDraw,i.BackdoorFlushDraw,...s(i.Air)]}},[i.Air]:{STRICT_EQUALS:{anyOf:[i.Air],noneOf:[i.StraightFlushDraw,i.FlushDraw,i.StraightDraw,i.BackdoorFlushDraw,...s(i.Air)]},BETTER_THAN:{anyOf:[i.Air,...s(i.Air)]},WORSE_THAN:{anyOf:[],noneOf:[i.Air,...s(i.Air)]}}}},n5Em:function(t,e,n){"use strict";function i(t,e){const n=t.split("-").filter(t=>!!t);let i=[...e],r=i[0];for(const o of n){const t=i.findIndex(t=>t===r),e=i[(t+1)%i.length];"F"===o&&(i=i.filter(t=>t!==r)),r=e}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.getActivePlayerFromPostflopNode=e.getActivePlayerFromPreflopNode=void 0,e.getActivePlayerFromPreflopNode=function(t,e){return i(t,2===e?["SB","BB"]:["EP","MP","CO","BTN","SB","BB"])},e.getActivePlayerFromPostflopNode=function(t,e){return i(t,function(t,e){const n=["SB","BB","EP","MP","CO","BTN"];return[...t].sort((t,e)=>n.indexOf(t)-n.indexOf(e))}(e))}},sBdy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeSuits=void 0,e.normalizeSuits=function(t){const e={s:"x",h:"y",d:"z",c:"w"};return t.map(t=>2===t.length?e[t[1]]?t[0]+e[t[1]]:t:e[t[0]]?e[t[0]]:t)}},uZpj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unpackBinaryRangeFor4card=e.unpackBinaryRangeFor5card=e.unpackBinaryRanges=void 0;const i=n("3XR2");function r(t){const e=t.getInt32(1),n=new Array(e);let r=0;for(let o=0;o<e;o++){let e=5+17*o;const s=t.getUint8(e++),a=t.getUint8(e++),l=t.getUint8(e++),c=t.getUint8(e++),u=t.getUint8(e++),d=t.getFloat32(e),h=t.getInt32(e+=4),p=t.getFloat32(e+=4);r+=d*p;const f=[i.cards[s],i.cards[a],i.cards[l],i.cards[c],i.cards[u]];n[o]=[f[0]+f[1]+f[2]+f[3]+f[4],f,d,-2147483648===h?null:h,p,d*p,1]}return{items:n,totalWeight:r}}function o(t){const e=t.getInt32(1),n=new Array(e);let r=0;for(let o=0;o<e;o++){let e=5+16*o;const s=t.getUint8(e++),a=t.getUint8(e++),l=t.getUint8(e++),c=t.getUint8(e++),u=t.getFloat32(e),d=t.getInt32(e+=4),h=t.getFloat32(e+=4);r+=u*h;const p=[i.cards[s],i.cards[a],i.cards[l],i.cards[c]];n[o]=[p[0]+p[1]+p[2]+p[3],p,u,-2147483648===d?null:d,h,u*h,1]}return{items:n,totalWeight:r}}e.unpackBinaryRanges=function(t){const e=t.length,n=new Array(e);for(let i=0;i<e;i++){const{key:e,data:s}=t[i],a=new DataView(s);let l;switch(a.getUint8(0)){case 10:l=o(a);break;case 30:l=r(a)}const{items:c,totalWeight:u}=l;n[i]={key:e,items:c,totalWeight:u}}return n},e.unpackBinaryRangeFor5card=r,e.unpackBinaryRangeFor4card=o},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let d=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){e=a instanceof u?h(a.errors):[a]}}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof u?e=e.concat(h(a.errors)):e.push(a)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function h(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new f(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,r){let o;super(),this._parentSubscriber=t;let s=this;i(e)?o=e:e&&(o=e.next,n=e.error,r=e.complete,e!==a&&(s=Object.create(e),i(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function b(t){return t}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=y(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?b:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=y(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function y(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const v=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class C extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class w extends f{constructor(t){super(t),this.destination=t}}let x=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new w(this)}lift(t){const e=new P(this,this);return e.operator=t,e}next(t){if(this.closed)throw new v;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new v;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new v;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new v;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new v;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new P(t,e),t})();class P extends x{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function O(t){return t&&"function"==typeof t.schedule}function k(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new S(t,e))}}class S{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new M(t,this.project,this.thisArg))}}class M extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const T=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=E(),F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function I(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const A=t=>{if(t&&"function"==typeof t[m])return i=t,t=>{const e=i[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(F(t))return T(t);if(I(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[R])return e=t,t=>{const n=e[R]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,i};function D(t,e){return new _(n=>{const i=new d;let r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function L(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new _(n=>{const i=new d;return i.add(e.schedule(()=>{const r=t[m]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(I(t))return function(t,e){return new _(n=>{const i=new d;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(F(t))return D(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const i=new d;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[R](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(A(t))}class B extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class N extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function j(t,e){if(!e.closed)return t instanceof _?t.subscribe(e):A(t)(e)}function V(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(V((n,i)=>L(t(n,i)).pipe(k((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new H(t,n)))}class H{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends N{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new B(this),n=this.destination;n.add(e);const i=j(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function z(t=Number.POSITIVE_INFINITY){return V(b,t)}function U(t,e){return e?D(t,e):new _(T(t))}function q(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return O(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:z(e)(U(t,n))}function W(){return function(t){return t.lift(new G(t))}}class G{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new K(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class K extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Q extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t}refCount(){return W()(this)}}const Y=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends w{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function J(){return new x}function X(t){for(let e in t)if(t[e]===X)return e;throw Error("Could not find renamed property on target object.")}function tt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function nt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const it=X({__forward_ref__:X});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return et(this())},t}function ot(t){return st(t)?t():t}function st(t){return"function"==typeof t&&t.hasOwnProperty(it)&&t.__forward_ref__===rt}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ct(t){return ut(t,ht)||ut(t,ft)}function ut(t,e){return t.hasOwnProperty(e)?t[e]:null}function dt(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(gt))?t[pt]:null}const ht=X({\u0275prov:X}),pt=X({\u0275inj:X}),ft=X({ngInjectableDef:X}),gt=X({ngInjectorDef:X});var mt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let bt;function _t(t){const e=bt;return bt=t,e}function yt(t,e,n){const i=ct(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&mt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${et(t)}]`)}function vt(t){return{toString:t}.toString()}var Ct=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),wt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const xt="undefined"!=typeof globalThis&&globalThis,Pt="undefined"!=typeof window&&window,Ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt="undefined"!=typeof global&&global,St=xt||kt||Pt||Ot,Mt={},Tt=[],Et=X({\u0275cmp:X}),Rt=X({\u0275dir:X}),Ft=X({\u0275pipe:X}),It=X({\u0275mod:X}),At=X({\u0275loc:X}),Dt=X({\u0275fac:X}),Lt=X({__NG_ELEMENT_ID__:X});let Bt=0;function Nt(t){return vt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||Tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=Bt++,n.inputs=Ut(t.inputs,e),n.outputs=Ut(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Vt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ht):null,n})}function jt(t,e,n){const i=t.\u0275cmp;i.directiveDefs=()=>e.map(Vt),i.pipeDefs=()=>n.map(Ht)}function Vt(t){return Gt(t)||function(t){return t[Rt]||null}(t)}function Ht(t){return function(t){return t[Ft]||null}(t)}const $t={};function zt(t){const e={type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&vt(()=>{$t[t.id]=t.type}),e}function Ut(t,e){if(null==t)return Mt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}const qt=Nt;function Wt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gt(t){return t[Et]||null}function Kt(t,e){const n=t[It]||null;if(!n&&!0===e)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}function Qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yt(t){return Array.isArray(t)&&!0===t[1]}function Zt(t){return 0!=(8&t.flags)}function Jt(t){return 2==(2&t.flags)}function Xt(t){return 1==(1&t.flags)}function te(t){return null!==t.template}function ee(t,e){return t.hasOwnProperty(Dt)?t[Dt]:null}class ne extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ie(t){return"string"==typeof t?t:null==t?"":String(t)}function re(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ie(t)}function oe(t,e){const n=e?" in "+e:"";throw new ne("201",`No provider for ${re(t)} found${n}`)}class se{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ae(){return le}function le(t){return t.type.prototype.ngOnChanges&&(t.setInput=ue),ce}function ce(){const t=de(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Mt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ue(t,e,n,i){const r=de(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Mt,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];o[a]=new se(l&&l.currentValue,e,s===Mt),t[i]=e}function de(t){return t.__ngSimpleChanges__||null}ae.ngInherit=!0;let he=void 0;function pe(t){return!!t.listen}const fe={createRenderer:(t,e)=>void 0!==he?he:"undefined"!=typeof document?document:void 0};function ge(t){for(;Array.isArray(t);)t=t[0];return t}function me(t,e){return ge(e[t])}function be(t,e){return ge(e[t.index])}function _e(t,e){return t.data[e]}function ye(t,e){return t[e]}function ve(t,e){const n=e[t];return Qt(n)?n:n[0]}function Ce(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function we(t){return 4==(4&t[2])}function xe(t){return 128==(128&t[2])}function Pe(t,e){return null==e?null:t[e]}function Oe(t){t[18]=0}function ke(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Se={lFrame:Je(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Me(){return Se.bindingsEnabled}function Te(){return Se.lFrame.lView}function Ee(){return Se.lFrame.tView}function Re(t){Se.lFrame.contextLView=t}function Fe(){let t=Ie();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ie(){return Se.lFrame.currentTNode}function Ae(t,e){const n=Se.lFrame;n.currentTNode=t,n.isParent=e}function De(){return Se.lFrame.isParent}function Le(){Se.lFrame.isParent=!1}function Be(){return Se.isInCheckNoChangesMode}function Ne(t){Se.isInCheckNoChangesMode=t}function je(){const t=Se.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ve(){return Se.lFrame.bindingIndex}function He(){return Se.lFrame.bindingIndex++}function $e(t){const e=Se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ze(t,e){const n=Se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ue(e)}function Ue(t){Se.lFrame.currentDirectiveIndex=t}function qe(t){const e=Se.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function We(){return Se.lFrame.currentQueryIndex}function Ge(t){Se.lFrame.currentQueryIndex=t}function Ke(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Qe(t,e,n){if(n&mt.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&mt.Host||(i=Ke(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Se.lFrame=Ze();return i.currentTNode=e,i.lView=t,!0}function Ye(t){const e=Ze(),n=t[1];Se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ze(){const t=Se.lFrame,e=null===t?null:t.child;return null===e?Je(t):e}function Je(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Xe(){const t=Se.lFrame;return Se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const tn=Xe;function en(){const t=Xe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nn(){return Se.lFrame.selectedIndex}function rn(t){Se.lFrame.selectedIndex=t}function on(){const t=Se.lFrame;return _e(t.tView,t.selectedIndex)}function sn(){Se.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function an(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ln(t,e,n){dn(t,e,3,n)}function cn(t,e,n,i){(3&t[2])===n&&dn(t,e,n,i)}function un(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function dn(t,e,n,i){const r=null!=i?i:-1;let o=0;for(let s=void 0!==i?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=i&&o>=i)break}else e[s]<0&&(t[18]+=65536),(o<r||-1==r)&&(hn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function hn(t,e,n,i){const r=n[i]<0,o=n[i+1],s=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class pn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function fn(t,e,n){const i=pe(t);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++r];mn(s)?i&&t.setProperty(e,s,a):i?t.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function gn(t){return 3===t||4===t||6===t}function mn(t){return 64===t.charCodeAt(0)}function bn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||_n(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function _n(t,e,n,i,r){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function yn(t){return-1!==t}function vn(t){return 32767&t}function Cn(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let wn=!0;function xn(t){const e=wn;return wn=t,e}let Pn=0;function On(t,e){const n=Sn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,kn(i.data,t),kn(e,null),kn(i.blueprint,null));const r=Mn(t,e),o=t.injectorIndex;if(yn(r)){const t=vn(r),n=Cn(r,e),i=n[1].data;for(let r=0;r<8;r++)e[o+r]=n[t+r]|i[t+r]}return e[o+8]=r,o}function kn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Sn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Mn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Tn(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Lt)&&(i=n[Lt]),null==i&&(i=n[Lt]=Pn++);const r=255&i,o=1<<r,s=64&r,a=32&r,l=e.data;128&r?s?a?l[t+7]|=o:l[t+6]|=o:a?l[t+5]|=o:l[t+4]|=o:s?a?l[t+3]|=o:l[t+2]|=o:a?l[t+1]|=o:l[t]|=o}(t,e,n)}function En(t,e,n){if(n&mt.Optional)return t;oe(e,"NodeInjector")}function Rn(t,e,n,i){if(n&mt.Optional&&void 0===i&&(i=null),0==(n&(mt.Self|mt.Host))){const r=t[9],o=_t(void 0);try{return r?r.get(e,i,n&mt.Optional):yt(e,i,n&mt.Optional)}finally{_t(o)}}return En(i,e,n)}function Fn(t,e,n,i=mt.Default,r){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Lt)?t[Lt]:void 0;return"number"==typeof e?e>=0?255&e:An:e}(n);if("function"==typeof o){if(!Qe(e,t,i))return i&mt.Host?En(r,n,i):Rn(e,n,i,r);try{const t=o();if(null!=t||i&mt.Optional)return t;oe(n)}finally{tn()}}else if("number"==typeof o){let r=null,s=Sn(t,e),a=-1,l=i&mt.Host?e[16][6]:null;for((-1===s||i&mt.SkipSelf)&&(a=-1===s?Mn(t,e):e[s+8],-1!==a&&jn(i,!1)?(r=e[1],s=vn(a),e=Cn(a,e)):s=-1);-1!==s;){const t=e[1];if(Nn(o,s,t.data)){const t=Dn(s,e,n,r,i,l);if(t!==In)return t}a=e[s+8],-1!==a&&jn(i,e[1].data[s+8]===l)&&Nn(o,s,e)?(r=t,s=vn(a),e=Cn(a,e)):s=-1}}}return Rn(e,n,i,r)}const In={};function An(){return new Vn(Fe(),Te())}function Dn(t,e,n,i,r,o){const s=e[1],a=s.data[t+8],l=Ln(a,s,n,null==i?Jt(a)&&wn:i!=s&&0!=(3&a.type),r&mt.Host&&o===a);return null!==l?Bn(e,s,l,a):In}function Ln(t,e,n,i,r){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,c=o>>20,u=r?a+c:t.directiveEnd;for(let d=i?a:a+c;d<u;d++){const t=s[d];if(d<l&&n===t||d>=l&&t.type===n)return d}if(r){const t=s[l];if(t&&te(t)&&t.type===n)return l}return null}function Bn(t,e,n,i){let r=t[n];const o=e.data;if(r instanceof pn){const s=r;s.resolving&&function(t,e){throw new ne("200","Circular dependency in DI detected for "+t)}(re(o[n]));const a=xn(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?_t(s.injectImpl):null;Qe(t,i,mt.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const i=le(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&_t(l),xn(a),s.resolving=!1,tn()}}return r}function Nn(t,e,n){const i=64&t,r=32&t;let o;return o=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(o&1<<t)}function jn(t,e){return!(t&mt.Self||t&mt.Host&&e)}class Vn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Fn(this._tNode,this._lView,t,void 0,e)}}function Hn(t){const e=t;if(st(t))return()=>{const t=Hn(ot(e));return t?t():null};let n=ee(e);if(null===n){const t=dt(e);n=t&&t.factory}return n||null}function $n(t){return vt(()=>{const e=t.prototype.constructor,n=e[Dt]||Hn(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[Dt]||Hn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function zn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(gn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Fe(),t)}function Un(t,e,n){return vt(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class qn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Wn=new qn("AnalyzeForEntryComponents"),Gn=Function;function Kn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),Kn(i,e)):e!==t&&e.push(i)}return e}function Qn(t,e){t.forEach(t=>Array.isArray(t)?Qn(t,e):e(t))}function Yn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Jn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function Xn(t,e,n){let i=ei(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function ti(t,e){const n=ei(t,e);if(n>=0)return t[1|n]}function ei(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=t[n<<1];if(e===o)return n<<1;o>e?r=n:i=n+1}return~(r<<1)}(t,e)}const ni=Un("Inject",t=>({token:t})),ii=Un("Optional"),ri=Un("Self"),oi=Un("SkipSelf"),si={},ai=/\n/gm,li=X({provide:String,useValue:X});let ci=void 0;function ui(t){const e=ci;return ci=t,e}function di(t,e=mt.Default){if(void 0===ci)throw new Error("inject() must be called from an injection context");return null===ci?yt(t,void 0,e):ci.get(t,e&mt.Optional?null:void 0,e)}function hi(t,e=mt.Default){return(bt||di)(ot(t),e)}const pi=hi;function fi(t){const e=[];for(let n=0;n<t.length;n++){const i=ot(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=mt.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof ii||"Optional"===r.ngMetadataName||r===ii?n|=mt.Optional:r instanceof oi||"SkipSelf"===r.ngMetadataName||r===oi?n|=mt.SkipSelf:r instanceof ri||"Self"===r.ngMetadataName||r===ri?n|=mt.Self:t=r instanceof ni||r===ni?r.token:r}e.push(hi(t,n))}else e.push(hi(i))}return e}let gi;function mi(t){var e;return(null===(e=function(){if(void 0===gi&&(gi=null,St.trustedTypes))try{gi=St.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return gi}())||void 0===e?void 0:e.createHTML(t))||t}class bi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class _i extends bi{getTypeName(){return"HTML"}}class yi extends bi{getTypeName(){return"Style"}}class vi extends bi{getTypeName(){return"Script"}}class Ci extends bi{getTypeName(){return"URL"}}class wi extends bi{getTypeName(){return"ResourceURL"}}function xi(t){return t instanceof bi?t.changingThisBreaksApplicationSecurity:t}function Pi(t,e){const n=Oi(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Oi(t){return t instanceof bi&&t.getTypeName()||null}class ki{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(mi(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Si{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=mi(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=mi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ti=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ei(t){return(t=String(t)).match(Mi)||t.match(Ti)?t:"unsafe:"+t}function Ri(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Fi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ii=Ri("area,br,col,hr,img,wbr"),Ai=Ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Di=Ri("rp,rt"),Li=Fi(Di,Ai),Bi=Fi(Ii,Fi(Ai,Ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fi(Di,Ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Li),Ni=Ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ji=Ri("srcset"),Vi=Fi(Ni,ji,Ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ri("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hi=Ri("script,style,template");class $i{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Bi.hasOwnProperty(e))return this.sanitizedSomething=!0,!Hi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!Vi.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Ni[o]&&(s=Ei(s)),ji[o]&&(i=s,s=(i=String(i)).split(",").map(t=>Ei(t.trim())).join(", ")),this.buf.push(" ",e,'="',qi(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Bi.hasOwnProperty(e)&&!Ii.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(qi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const zi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ui=/([^\#-~ |!])/g;function qi(t){return t.replace(/&/g,"&amp;").replace(zi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ui,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wi;function Gi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ki=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Qi(t){const e=function(){const t=Te();return t&&t[12]}();return e?e.sanitize(Ki.URL,t)||"":Pi(t,"URL")?xi(t):Ei(ie(t))}function Yi(t){return t.ngDebugContext}function Zi(t){return t.ngOriginalError}function Ji(t,...e){t.error(...e)}class Xi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Ji}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Yi(t)?Yi(t):this._findContext(Zi(t)):null}_findOriginalError(t){let e=Zi(t);for(;e&&Zi(e);)e=Zi(e);return e}}function tr(t,e){t.__ngContext__=e}const er=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(St))();function nr(t){return{name:"document",target:t.ownerDocument}}function ir(t){return{name:"body",target:t.ownerDocument.body}}function rr(t){return t instanceof Function?t():t}var or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function sr(t,e){return(void 0)(t,e)}function ar(t){const e=t[3];return Yt(e)?e[3]:e}function lr(t){return ur(t[13])}function cr(t){return ur(t[4])}function ur(t){for(;null!==t&&!Yt(t);)t=t[4];return t}function dr(t,e,n,i,r){if(null!=i){let o,s=!1;Yt(i)?o=i:Qt(i)&&(s=!0,i=i[0]);const a=ge(i);0===t&&null!==n?null==r?yr(e,n,a):_r(e,n,a,r||null,!0):1===t&&null!==n?_r(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Cr(t,e);i&&function(t,e,n,i){pe(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,r){const o=n[7];o!==ge(n)&&dr(e,t,i,o,r);for(let s=10;s<n.length;s++){const r=n[s];Mr(r[1],r,t,e,i,o)}}(e,t,o,n,r)}}function hr(t,e,n){return pe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function pr(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,ke(r,-1)),n.splice(i,1)}function fr(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const o=i[17];null!==o&&o!==t&&pr(o,i),e>0&&(t[n-1][4]=i[4]);const s=Zn(t,10+e);Mr(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function gr(t,e){if(!(256&e[2])){const n=e[11];pe(n)&&n.destroyNode&&Mr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return mr(t[1],t);for(;e;){let n=null;if(Qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Qt(e)&&mr(e[1],e),e=e[3];null===e&&(e=t),Qt(e)&&mr(e[1],e),n=e&&e[4]}e=n}}(e)}}function mr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof pn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n){for(let t=0;t<n.length-1;t+=2)if("string"==typeof n[t]){const o=n[t+1],s="function"==typeof o?o(e):ge(e[o]),a=i[r=n[t+2]],l=n[t+3];"boolean"==typeof l?s.removeEventListener(n[t],a,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),t+=2}else{const e=i[r=n[t+1]];n[t].call(e)}if(null!==i)for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&pe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Yt(e[3])){n!==e[3]&&pr(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function br(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===wt.None||e===wt.Emulated)return null}return be(i,n)}(t,e.parent,n)}function _r(t,e,n,i,r){pe(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function yr(t,e,n){pe(t)?t.appendChild(e,n):e.appendChild(n)}function vr(t,e,n,i,r){null!==i?_r(t,e,n,i,r):yr(t,e,n)}function Cr(t,e){return pe(t)?t.parentNode(e):e.parentNode}function wr(t,e,n){return xr(t,e,n)}let xr=function(t,e,n){return 40&t.type?be(t,n):null};function Pr(t,e,n,i){const r=br(t,i,e),o=e[11],s=wr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)vr(o,r,n[a],s,!1);else vr(o,r,n,s,!1)}function Or(t,e){if(null!==e){const n=e.type;if(3&n)return be(e,t);if(4&n)return kr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Or(t,n);{const n=t[e.index];return Yt(n)?kr(-1,n):ge(n)}}if(32&n)return sr(e,t)()||ge(t[e.index]);{const n=t[16],i=n[6],r=ar(n),o=i.projection[e.projection];return null!=o?Or(r,o):Or(t,e.next)}}return null}function kr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Or(t,i)}return e[7]}function Sr(t,e,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===e&&(a&&tr(ge(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)Sr(t,e,n.child,i,r,o,!1),dr(e,t,r,a,o);else if(32&l){const s=sr(n,i);let l;for(;l=s();)dr(e,t,r,l,o);dr(e,t,r,a,o)}else 16&l?Tr(t,e,i,n,r,o):dr(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Mr(t,e,n,i,r,o){Sr(n,i,t.firstChild,e,r,o,!1)}function Tr(t,e,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)dr(e,t,r,a[l],o);else Sr(t,e,a,s[3],r,o,!0)}function Er(t,e,n){pe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Rr(t,e,n){pe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Fr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function Ir(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==Fr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Ar(t){return 4===t.type&&"ng-template"!==t.value}function Dr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Lr(t,e,n){let i=4;const r=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(gn(t[e]))return e;return t.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Dr(t,l,n)||""===l&&1===e.length){if(Br(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!Ir(t.attrs,c,n)){if(Br(i))return!1;s=!0}continue}const u=Nr(8&i?"class":l,r,Ar(t),n);if(-1===u){if(Br(i))return!1;s=!0;continue}if(""!==c){let t;t=u>o?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Fr(e,c,0)||2&i&&c!==t){if(Br(i))return!1;s=!0}}}}else{if(!s&&!Br(i)&&!Br(l))return!1;if(s&&Br(l))continue;s=!1,i=l|1&i}}return Br(i)||s}function Br(t){return 0==(1&t)}function Nr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function jr(t,e,n=!1){for(let i=0;i<e.length;i++)if(Lr(t,e[i],n))return!0;return!1}function Vr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Hr(t,e){return t?":not("+e.trim()+")":e}function $r(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&i){const e=t[++n];r+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||Br(s)||(e+=Hr(o,r),r=""),i=s,o=o||!Br(i);n++}return""!==r&&(e+=Hr(o,r)),e}const zr={};function Ur(t){qr(Ee(),Te(),nn()+t,Be())}function qr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&ln(e,i,n)}else{const i=t.preOrderHooks;null!==i&&cn(e,i,0,n)}rn(n)}function Wr(t,e){return t<<17|e<<2}function Gr(t){return t>>17&32767}function Kr(t){return 2|t}function Qr(t){return(131068&t)>>2}function Yr(t,e){return-131069&t|e<<2}function Zr(t){return 1|t}function Jr(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=t.data[o];Ge(r),n.contentQueries(2,e[o],o)}}}function Xr(t,e,n,i,r,o,s,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Oe(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function to(t,e,n,i,r){let o=t.data[e];if(null===o)o=function(t,e,n,i,r){const o=Ie(),s=De(),a=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,i,r),Se.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const t=function(){const t=Se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Ae(o,!0),o}function eo(t,e,n,i){if(0===n)return-1;const r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function no(t,e,n){Ye(e);try{const i=t.viewQuery;null!==i&&Io(1,i,n);const r=t.template;null!==r&&oo(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jr(t,e),t.staticViewQueries&&Io(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Mo(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,en()}}function io(t,e,n,i){const r=e[2];if(256==(256&r))return;Ye(e);const o=Be();try{Oe(e),Se.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&oo(t,e,n,2,i);const s=3==(3&r);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ln(e,n,null)}else{const n=t.preOrderHooks;null!==n&&cn(e,n,0,null),un(e,0)}if(function(t){for(let e=lr(t);null!==e;e=cr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&ke(i,1),n[2]|=1024}}}(e),function(t){for(let e=lr(t);null!==e;e=cr(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];xe(n)&&io(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Jr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ln(e,n)}else{const n=t.contentHooks;null!==n&&cn(e,n,1),un(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)rn(~i);else{const r=i,o=n[++t],s=n[++t];ze(o,r),s(2,e[r])}}}finally{rn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ko(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Io(2,l,i),!o)if(s){const n=t.viewCheckHooks;null!==n&&ln(e,n)}else{const n=t.viewHooks;null!==n&&cn(e,n,2),un(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ke(e[3],-1))}finally{en()}}function ro(t,e,n,i){const r=e[10],o=!Be(),s=we(e);try{o&&!s&&r.begin&&r.begin(),s&&no(t,e,i),io(t,e,n,i)}finally{o&&!s&&r.end&&r.end()}}function oo(t,e,n,i,r){const o=nn();try{rn(-1),2&i&&e.length>20&&qr(t,e,20,Be()),n(i,r)}finally{rn(o)}}function so(t,e,n){if(Zt(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function ao(t,e,n){Me()&&(function(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||On(n,e),tr(i,e);const s=n.initialInputs;for(let a=r;a<o;a++){const i=t.data[a],o=te(i);o&&wo(e,n,i);const l=Bn(e,t,a,n);tr(l,e),null!==s&&xo(0,a-r,l,i,0,s),o&&(ve(n.index,e)[8]=l)}}(t,e,n,be(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Se.lFrame.currentDirectiveIndex;try{rn(o);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];Ue(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||bo(i,r)}}finally{rn(-1),Ue(s)}}(t,e,n))}function lo(t,e,n=be){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(e,t):t[s];t[r++]=a}}}function co(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=uo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function uo(t,e,n,i,r,o,s,a,l,c){const u=20+i,d=u+r,h=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:zr);return n}(u,d),p="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function ho(t,e,n,i){const r=Do(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&Lo(t).push(i,r.length-1))}function po(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function fo(t,e,n,i,r,o,s,a){const l=be(e,n);let c,u=e.inputs;var d;!a&&null!=u&&(c=u[i])?(jo(t,n,c,i,r),Jt(e)&&function(t,e){const n=ve(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(d=i)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,r=null!=s?s(r,e.value||"",i):r,pe(o)?o.setProperty(l,i,r):mn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function go(t,e,n,i){let r=!1;if(Me()){const o=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];jr(n,s.selectors,!1)&&(r||(r=[]),Tn(On(n,e),t,s.type),te(s)?(_o(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===i?null:{"":-1};if(null!==o){r=!0,vo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,l=eo(t,e,o.length,null);for(let r=0;r<o.length;r++){const c=o[r];n.mergedAttrs=bn(n.mergedAttrs,c.hostAttrs),Co(t,n,e,l,c),yo(l,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,o=[];let s=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===r||Ar(e)?null:Po(n,r);o.push(c),s=po(n,l,s),a=po(t.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new ne("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,s)}return n.mergedAttrs=bn(n.mergedAttrs,n.attrs),r}function mo(t,e,n,i,r,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(i,r,s)}}function bo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function _o(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function yo(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;te(e)&&(n[""]=t)}}function vo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Co(t,e,n,i,r){t.data[i]=r;const o=r.factory||(r.factory=ee(r.type)),s=new pn(o,te(r),null);t.blueprint[i]=s,n[i]=s,mo(t,e,0,i,eo(t,n,r.hostVars,zr),r)}function wo(t,e,n){const i=be(e,t),r=co(n),o=t[10],s=To(t,Xr(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=s}function xo(t,e,n,i,r,o){const s=o[e];if(null!==s){const t=i.setInput;for(let e=0;e<s.length;){const r=s[e++],o=s[e++],a=s[e++];null!==t?i.setInput(n,a,r,o):n[o]=a}}}function Po(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Oo(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function ko(t,e){const n=ve(e,t);if(xe(n)){const t=n[1];80&n[2]?io(t,n,t.template,n[8]):n[5]>0&&So(n)}}function So(t){for(let n=lr(t);null!==n;n=cr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];io(t,e,t.template,e[8])}else e[5]>0&&So(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=ve(e[n],t);xe(i)&&i[5]>0&&So(i)}}function Mo(t,e){const n=ve(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),no(i,n,n[8])}function To(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Eo(t){for(;t;){t[2]|=64;const e=ar(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ro(t,e,n){const i=e[10];i.begin&&i.begin();try{io(t,e,t.template,n)}catch(r){throw No(e,r),r}finally{i.end&&i.end()}}function Fo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Ce(n),r=i[1];ro(r,i,r.template,n)}}(t[8])}function Io(t,e,n){Ge(0),e(t,n)}const Ao=(()=>Promise.resolve(null))();function Do(t){return t[7]||(t[7]=[])}function Lo(t){return t.cleanup||(t.cleanup=[])}function Bo(t,e,n){return(null===t||te(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function No(t,e){const n=t[9],i=n?n.get(Xi,null):null;i&&i.handleError(e)}function jo(t,e,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],c=t.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Vo(t,e,n){const i=me(e,t);!function(t,e,n){pe(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function Ho(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?r=nt(r,t):2==o&&(i=nt(i,t+": "+e[++s]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const $o=new qn("INJECTOR",-1);class zo{get(t,e=si){if(e===si){const e=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw e.name="NullInjectorError",e}return e}}const Uo=new qn("Set Injector scope."),qo={},Wo={},Go=[];let Ko=void 0;function Qo(){return void 0===Ko&&(Ko=new zo),Ko}function Yo(t,e=null,n=null,i){return new Zo(t,n,e||Qo(),i)}class Zo{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Qn(e,n=>this.processProvider(n,t,e)),Qn([t],t=>this.processInjectorType(t,[],r)),this.records.set($o,ts(void 0,this));const o=this.records.get(Uo);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:et(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=si,n=mt.Default){this.assertNotDestroyed();const i=ui(this);try{if(!(n&mt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof qn)&&ct(t);e=n&&this.injectableDefInScope(n)?ts(Jo(t),qo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&mt.Self?Qo():this.parent).get(t,e=n&mt.Optional&&e===si?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(et(t)),i)throw o;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=et(e);if(Array.isArray(e))r=e.map(et).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):et(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(ai,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ui(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(et(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=ot(t)))return!1;let i=dt(t);const r=null==i&&t.ngModule||void 0,o=void 0===r?t:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=dt(r)),null==i)return!1;if(null!=i.imports&&!s){let t;n.push(o);try{Qn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];Qn(i,t=>this.processProvider(t,n,i||Go))}}this.injectorDefTypes.add(o),this.records.set(o,ts(i.factory,qo));const a=i.providers;if(null!=a&&!s){const e=t;Qn(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=ns(t=ot(t))?t:ot(t&&t.provide);const r=function(t,e,n){return es(t)?ts(void 0,t.useValue):ts(Xo(t),qo)}(t);if(ns(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=ts(void 0,qo,!0),e.factory=()=>fi(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===qo&&(e.value=Wo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Jo(t){const e=ct(t),n=null!==e?e.factory:ee(t);if(null!==n)return n;const i=dt(t);if(null!==i)return i.factory;if(t instanceof qn)throw new Error(`Token ${et(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Jn(e,"?");throw new Error(`Can't resolve all parameters for ${et(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ht]||t[ft]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Xo(t,e,n){let i=void 0;if(ns(t)){const e=ot(t);return ee(e)||Jo(e)}if(es(t))i=()=>ot(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...fi(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>hi(ot(t.useExisting));else{const e=ot(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ee(e)||Jo(e);i=()=>new e(...fi(t.deps))}var r;return i}function ts(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function es(t){return null!==t&&"object"==typeof t&&li in t}function ns(t){return"function"==typeof t}const is=function(t,e,n){return function(t,e=null,n=null,i){const r=Yo(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let rs=(()=>{class t{static create(t,e){return Array.isArray(t)?is(t,e,""):is(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=si,t.NULL=new zo,t.\u0275prov=at({token:t,providedIn:"any",factory:()=>hi($o)}),t.__NG_ELEMENT_ID__=-1,t})();function os(t,e){an(Ce(t)[1],Fe())}function ss(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(te(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=as(t.inputs),e.declaredInputs=as(t.declaredInputs),e.outputs=as(t.outputs);const n=r.hostBindings;n&&us(t,n);const o=r.viewQuery,s=r.contentQueries;if(o&&ls(t,o),s&&cs(t,s),tt(t.inputs,r.inputs),tt(t.declaredInputs,r.declaredInputs),tt(t.outputs,r.outputs),te(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===ss&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=bn(r.hostAttrs,n=bn(n,r.hostAttrs))}}(i)}function as(t){return t===Mt?{}:t===Tt?[]:t}function ls(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function cs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function us(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let ds=null;function hs(){if(!ds){const t=St.Symbol;if(t&&t.iterator)ds=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ds=n)}}}return ds}class ps{constructor(t){this.wrapped=t}static wrap(t){return new ps(t)}static unwrap(t){return ps.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ps}}function fs(t){return!!gs(t)&&(Array.isArray(t)||!(t instanceof Map)&&hs()in t)}function gs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ms(t,e,n){return t[e]=n}function bs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function _s(t,e,n,i){const r=bs(t,e,n);return bs(t,e+1,i)||r}function ys(t,e,n,i){const r=Te();return bs(r,He(),e)&&(Ee(),function(t,e,n,i,r,o){const s=be(t,e);!function(t,e,n,i,r,o,s){if(null==o)pe(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==s?ie(o):s(o,i||"",r);pe(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],s,o,t.value,n,i,r)}(on(),r,t,e,n,i)),ys}function vs(t,e,n,i){return bs(t,He(),n)?e+ie(n)+i:zr}function Cs(t,e,n,i,r,o,s,a){const l=Te(),c=Ee(),u=t+20,d=c.firstCreatePass?function(t,e,n,i,r,o,s,a,l){const c=e.consts,u=to(e,t,4,s||null,Pe(c,a));go(e,n,u,Pe(c,l)),an(e,u);const d=u.tViews=uo(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,i,r,o,s):c.data[u];Ae(d,!1);const h=l[11].createComment("");Pr(c,l,h,d),tr(h,l),To(l,l[u]=Oo(h,l,h,d)),Xt(d)&&ao(c,l,d),null!=s&&lo(l,d,a)}function ws(t){return ye(Se.lFrame.contextLView,20+t)}function xs(t,e=mt.Default){const n=Te();return null===n?hi(t,e):Fn(Fe(),n,ot(t),e)}function Ps(t,e,n){const i=Te();return bs(i,He(),e)&&fo(Ee(),on(),i,t,e,i[11],n,!1),Ps}function Os(t,e,n,i,r){const o=r?"class":"style";jo(t,n,e.inputs[o],o,i)}function ks(t,e,n,i){const r=Te(),o=Ee(),s=20+t,a=r[11],l=r[s]=hr(a,e,Se.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,i,r,o,s){const a=e.consts,l=to(e,t,2,r,Pe(a,o));return go(e,n,l,Pe(a,s)),null!==l.attrs&&Ho(l,l.attrs,!1),null!==l.mergedAttrs&&Ho(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,0,e,n,i):o.data[s];Ae(c,!0);const u=c.mergedAttrs;null!==u&&fn(a,l,u);const d=c.classes;null!==d&&Rr(a,l,d);const h=c.styles;null!==h&&Er(a,l,h),64!=(64&c.flags)&&Pr(o,r,l,c),0===Se.lFrame.elementDepthCount&&tr(l,r),Se.lFrame.elementDepthCount++,Xt(c)&&(ao(o,r,c),so(o,c,r)),null!==i&&lo(r,c)}function Ss(){let t=Fe();De()?Le():(t=t.parent,Ae(t,!1));const e=t;Se.lFrame.elementDepthCount--;const n=Ee();n.firstCreatePass&&(an(n,t),Zt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Os(n,e,Te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Os(n,e,Te(),e.stylesWithoutHost,!1)}function Ms(t,e,n,i){ks(t,e,n,i),Ss()}function Ts(t,e,n){const i=Te(),r=Ee(),o=t+20,s=r.firstCreatePass?function(t,e,n,i,r){const o=e.consts,s=Pe(o,i),a=to(e,t,8,"ng-container",s);return null!==s&&Ho(a,s,!0),go(e,n,a,Pe(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,n):r.data[o];Ae(s,!0);const a=i[o]=i[11].createComment("");Pr(r,i,a,s),tr(a,i),Xt(s)&&(ao(r,i,s),so(r,s,i)),null!=n&&lo(i,s)}function Es(){let t=Fe();const e=Ee();De()?Le():(t=t.parent,Ae(t,!1)),e.firstCreatePass&&(an(e,t),Zt(t)&&e.queries.elementEnd(t))}function Rs(t,e,n){Ts(t,e,n),Es()}function Fs(){return Te()}function Is(t){return!!t&&"function"==typeof t.then}function As(t){return!!t&&"function"==typeof t.subscribe}function Ds(t,e,n=!1,i){const r=Te(),o=Ee(),s=Fe();return Bs(o,r,r[11],s,t,e,n,i),Ds}function Ls(t,e,n=!1,i){const r=Fe(),o=Te(),s=Ee();return Bs(s,o,Bo(qe(s.data),r,o),r,t,e,n,i),Ls}function Bs(t,e,n,i,r,o,s=!1,a){const l=Xt(i),c=t.firstCreatePass&&Lo(t),u=Do(e);let d=!0;if(3&i.type){const h=be(i,e),p=a?a(h):Mt,f=p.target||h,g=u.length,m=a?t=>a(ge(t[i.index])).target:i.index;if(pe(n)){let s=null;if(!a&&l&&(s=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const t=r[o];if(t===n&&r[o+1]===i){const t=e[7],n=r[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,d=!1;else{o=js(i,e,o,!1);const t=n.listen(p.name||f,r,o);u.push(o,t),c&&c.push(r,m,g,g+1)}}else o=js(i,e,o,!0),f.addEventListener(r,o,s),u.push(o),c&&c.push(r,m,g,s)}else o=js(i,e,o,!1);const h=i.outputs;let p;if(d&&null!==h&&(p=h[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=u.length;u.push(o,t),c&&c.push(r,i.index,s,-(s+1))}}}function Ns(t,e,n){try{return!1!==e(n)}catch(i){return No(t,i),!1}}function js(t,e,n,i){return function r(o){if(o===Function)return n;const s=2&t.flags?ve(t.index,e):e;0==(32&e[2])&&Eo(s);let a=Ns(e,n,o),l=r.__ngNextListenerFn__;for(;l;)a=Ns(e,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Vs(t=1){return function(t){return(Se.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Se.lFrame.contextLView))[8]}(t)}function Hs(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?jr(t,o,!0):Vr(i,o))return r}else n=r}return n}function $s(t){const e=Te()[16][6];if(!e.projection){const n=e.projection=Jn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Hs(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function zs(t,e=0,n){const i=Te(),r=Ee(),o=to(r,20+t,16,null,n||null);null===o.projection&&(o.projection=e),Le(),64!=(64&o.flags)&&function(t,e,n){Tr(e[11],0,e,n,br(t,n,e),wr(n.parent||e[6],n,e))}(r,i,o)}const Us=[];function qs(t,e,n,i,r){const o=t[n+1],s=null===e;let a=i?Gr(o):Qr(o),l=!1;for(;0!==a&&(!1===l||s);){const n=t[a+1];Ws(t[a],e)&&(l=!0,t[a+1]=i?Zr(n):Kr(n)),a=i?Gr(n):Qr(n)}l&&(t[n+1]=i?Kr(o):Zr(o))}function Ws(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ei(t,e)>=0}const Gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ks(t){return t.substring(Gs.key,Gs.keyEnd)}function Qs(t,e){const n=Gs.textEnd;return n===e?-1:(e=Gs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Gs.key=e,n),Ys(t,e,n))}function Ys(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Zs(t,e,n){return ta(t,e,n,!1),Zs}function Js(t,e){return ta(t,e,null,!0),Js}function Xs(t,e){for(let n=function(t){return function(t){Gs.key=0,Gs.keyEnd=0,Gs.value=0,Gs.valueEnd=0,Gs.textEnd=t.length}(t),Qs(t,Ys(t,0,Gs.textEnd))}(e);n>=0;n=Qs(e,n))Xn(t,Ks(e),!0)}function ta(t,e,n,i){const r=Te(),o=Ee(),s=$e(2);o.firstUpdatePass&&ia(o,t,s,i),e!==zr&&bs(r,s,e)&&sa(o,o.data[nn()],r,r[11],t,r[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=et(xi(t)))),t}(e,n),i,s)}function ea(t,e,n,i){const r=Ee(),o=$e(2);r.firstUpdatePass&&ia(r,null,o,i);const s=Te();if(n!==zr&&bs(s,o,n)){const a=r.data[nn()];if(ca(a,i)&&!na(r,o)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=nt(t,n||"")),Os(r,a,s,n,i)}else!function(t,e,n,i,r,o,s,a){r===zr&&(r=Us);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,p=c<o.length?o[c+1]:void 0;let f=null,g=void 0;u===d?(l+=2,c+=2,h!==p&&(f=d,g=p)):null===d||null!==u&&u<d?(l+=2,f=u):(c+=2,f=d,g=p),null!==f&&sa(t,e,n,i,f,g,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Us;const i=[],r=xi(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,o)}}function na(t,e){return e>=t.expandoStartIndex}function ia(t,e,n,i){const r=t.data;if(null===r[n+1]){const o=r[nn()],s=na(t,n);ca(o,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){const r=qe(t);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=oa(n=ra(null,t,e,n,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=ra(r,t,e,n,i),null===o){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Qr(i))return t[Gr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=ra(null,t,e,n[1],i),n=oa(n,e.attrs,i),function(t,e,n,i){t[Gr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else o=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=oa(i,t[o].hostAttrs,n);return oa(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Gr(s),l=Qr(s);t[i]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ei(t,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const e=Gr(t[a+1]);t[i+1]=Wr(e,a),0!==e&&(t[e+1]=Yr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=Wr(a,0),0!==a&&(t[a+1]=Yr(t[a+1],i)),a=i;else t[i+1]=Wr(l,0),0===a?a=i:t[l+1]=Yr(t[l+1],i),l=i;u&&(t[i+1]=Kr(t[i+1])),qs(t,c,i,!0),qs(t,c,i,!1),function(t,e,n,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ei(o,e)>=0&&(n[i+1]=Zr(n[i+1]))}(e,c,t,i,o),s=Wr(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,n,s,i)}}function ra(t,e,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],i=oa(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function oa(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xn(t,s,!!n||e[++o]))}return void 0===t?null:t}function sa(t,e,n,i,r,o,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];la(1==(1&c)?aa(l,e,n,r,Qr(c),s):void 0)||(la(o)||2==(2&c)&&(o=aa(l,null,n,r,a,s)),function(t,e,n,i,r){const o=pe(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:or.DashCase;if(null==r)o?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),e|=or.Important),o?t.setStyle(n,i,r,e):n.style.setProperty(i,r,s?"important":"")}}}(i,s,me(nn(),n),r,o))}function aa(t,e,n,i,r,o){const s=null===e;let a=void 0;for(;r>0;){const e=t[r],o=Array.isArray(e),l=o?e[1]:e,c=null===l;let u=n[r+1];u===zr&&(u=c?Us:void 0);let d=c?ti(u,i):l===i?u:void 0;if(o&&!la(d)&&(d=ti(e,i)),la(d)&&(a=d,s))return a;const h=t[r+1];r=s?Gr(h):Qr(h)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ti(t,i))}return a}function la(t){return void 0!==t}function ca(t,e){return 0!=(t.flags&(e?16:32))}function ua(t,e=""){const n=Te(),i=Ee(),r=t+20,o=i.firstCreatePass?to(i,r,1,e,null):i.data[r],s=n[r]=function(t,e){return pe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Pr(i,n,s,o),Ae(o,!1)}function da(t){return ha("",t,""),da}function ha(t,e,n){const i=Te(),r=vs(i,t,e,n);return r!==zr&&Vo(i,nn(),r),ha}function pa(t,e,n,i,r){const o=Te(),s=function(t,e,n,i,r,o){const s=_s(t,Ve(),n,r);return $e(2),s?e+ie(n)+i+ie(r)+o:zr}(o,t,e,n,i,r);return s!==zr&&Vo(o,nn(),s),pa}function fa(t,e,n,i,r,o,s){const a=Te(),l=function(t,e,n,i,r,o,s,a){const l=function(t,e,n,i,r){const o=_s(t,e,n,i);return bs(t,e+2,r)||o}(t,Ve(),n,r,s);return $e(3),l?e+ie(n)+i+ie(r)+o+ie(s)+a:zr}(a,t,e,n,i,r,o,s);return l!==zr&&Vo(a,nn(),l),fa}function ga(t,e,n){const i=Te();return bs(i,He(),e)&&fo(Ee(),on(),i,t,e,i[11],n,!0),ga}function ma(t,e,n){const i=Te();if(bs(i,He(),e)){const r=Ee(),o=on();fo(r,o,i,t,e,Bo(qe(r.data),o,i),n,!0)}return ma}const ba=void 0;var _a=["en",[["a","p"],["AM","PM"],ba],[["AM","PM"],ba,ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ba,"{1} 'at' {0}",ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ya={};function va(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ca(e);if(n)return n;const i=e.split("-")[0];if(n=Ca(i),n)return n;if("en"===i)return _a;throw new Error(`Missing locale data for the locale "${t}".`)}function Ca(t){return t in ya||(ya[t]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[t]),ya[t]}var wa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let xa="en-US";function Pa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(xa=t.toLowerCase().replace(/_/g,"-"))}function Oa(t,e,n,i,r){if(t=ot(t),Array.isArray(t))for(let o=0;o<t.length;o++)Oa(t[o],e,n,i,r);else{const o=Ee(),s=Te();let a=ns(t)?t:ot(t.provide),l=Xo(t);const c=Fe(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ns(t)||!t.multi){const i=new pn(l,r,xs),p=Ma(a,e,r?u:u+h,d);-1===p?(Tn(On(c,s),o,a),ka(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(i),s.push(i)):(n[p]=i,s[p]=i)}else{const p=Ma(a,e,u+h,d),f=Ma(a,e,u,u+h),g=p>=0&&n[p],m=f>=0&&n[f];if(r&&!m||!r&&!g){Tn(On(c,s),o,a);const u=function(t,e,n,i,r){const o=new pn(t,n,xs);return o.multi=[],o.index=e,o.componentProviders=0,Sa(o,r,i&&!n),o}(r?Ea:Ta,n.length,r,i,l);!r&&m&&(n[f].providerFactory=u),ka(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(u),s.push(u)}else ka(o,t,p>-1?p:f,Sa(n[r?f:p],l,!r&&i));!r&&i&&m&&n[f].componentProviders++}}}function ka(t,e,n,i){const r=ns(e);if(r||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[i,o]):s[t+1].push(i,o)}else s.push(n,o)}}}function Sa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ma(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Ta(t,e,n,i){return Ra(this.multi,[])}function Ea(t,e,n,i){const r=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Bn(n,n[1],this.providerFactory.index,i);o=e.slice(0,t),Ra(r,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ra(r,o);return o}function Ra(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Fa(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Ee();if(i.firstCreatePass){const r=te(t);Oa(n,i.data,i.blueprint,r,!0),Oa(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class Ia{}class Aa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${et(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Da=(()=>{class t{}return t.NULL=new Aa,t})();function La(...t){}function Ba(t,e){return new ja(be(t,e))}const Na=function(){return Ba(Fe(),Te())};let ja=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Na,t})();class Va{}let Ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>$a(),t})();const $a=function(){const t=Te(),e=ve(Fe().index,t);return function(t){return t[11]}(Qt(e)?e:t)};let za=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class Ua{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const qa=new Ua("11.0.5");class Wa{constructor(){}supports(t){return fs(t)}create(t){return new Ka(t)}}const Ga=(t,e)=>e;class Ka{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ga}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ja(n,i,r)?e:n,s=Ja(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!fs(t))throw new Error(`Error trying to diff '${et(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[hs()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Qa(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Za),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Za),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Qa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ya{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Za{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ya,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ja(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Xa{constructor(){}supports(t){return t instanceof Map||gs(t)}create(){return new tl}}class tl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||gs(t)))throw new Error(`Error trying to diff '${et(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new el(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class el{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let nl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new oi,new ii]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new Wa])}),t})(),il=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new oi,new ii]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new Xa])}),t})();function rl(t,e,n,i,r=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&i.push(ge(o)),Yt(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&rl(e[1],e,n,i)}const s=n.type;if(8&s)rl(t,e,n.child,i);else if(32&s){const t=sr(n,e);let r;for(;r=t();)i.push(r)}else if(16&s){const t=e[16],r=t[6].projection[n.projection];if(Array.isArray(r))i.push(...r);else{const e=ar(t);rl(e[1],e,r,i,!0)}}n=r?n.projectionNext:n.next}return i}class ol{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return rl(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}gr(this._lView[1],this._lView)}onDestroy(t){ho(this._lView[1],this._lView,null,t)}markForCheck(){Eo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ro(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ne(!0);try{Ro(t,e,n)}finally{Ne(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Mr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class sl extends ol{constructor(t){super(t),this._view=t}detectChanges(){Fo(this._view)}checkNoChanges(){!function(t){Ne(!0);try{Fo(t)}finally{Ne(!1)}}(this._view)}get context(){return null}}const al=cl;let ll=(()=>{class t{}return t.__NG_ELEMENT_ID__=al,t.__ChangeDetectorRef__=!0,t})();function cl(t=!1){return function(t,e,n){if(!n&&Jt(t)){const n=ve(t.index,e);return new ol(n,n)}return 47&t.type?new ol(e[16],e):null}(Fe(),Te(),t)}const ul=[new Xa],dl=new nl([new Wa]),hl=new il(ul),pl=function(){return bl(Fe(),Te())};let fl=(()=>{class t{}return t.__NG_ELEMENT_ID__=pl,t})();const gl=fl,ml=class extends gl{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Xr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),no(e,n,t),new ol(n)}};function bl(t,e){return 4&t.type?new ml(e,t,Ba(t,e)):null}class _l{}class yl{}const vl=function(){return kl(Fe(),Te())};let Cl=(()=>{class t{}return t.__NG_ELEMENT_ID__=vl,t})();const wl=Cl,xl=class extends wl{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Vn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Mn(this._hostTNode,this._hostLView);if(yn(t)){const e=Cn(t,this._hostLView),n=vn(t);return new Vn(e[1].data[n+8],e)}return new Vn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Pl(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){const t=o.get(_l,null);t&&(r=t)}const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,i=n[1];if(Yt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new xl(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,i){const r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],Yn(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,o,r);const s=kr(r,o),a=n[11],l=Cr(a,o[7]);return null!==l&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,Mr(t,i,n,1,r,o)}(i,o[6],a,n,l,s),t.attachToViewContainerRef(this),Yn(Ol(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Pl(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=fr(this._lContainer,e);n&&(Zn(Ol(this._lContainer),e),gr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=fr(this._lContainer,e);return n&&null!=Zn(Ol(this._lContainer),e)?new ol(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Pl(t){return t[8]}function Ol(t){return t[8]||(t[8]=[])}function kl(t,e){let n;const i=e[t.index];if(Yt(i))n=i;else{let r;if(8&t.type)r=ge(i);else{const n=e[11];r=n.createComment("");const i=be(t,e);_r(n,Cr(n,i),r,function(t,e){return pe(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Oo(i,e,r,t),To(e,n)}return new xl(n,t,e)}const Sl={};class Ml extends Da{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Gt(t);return new Rl(e,this.ngModule)}}function Tl(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const El=new qn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>er});class Rl extends Ia{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map($r).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Tl(this.componentDef.inputs)}get outputs(){return Tl(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const o=t.get(n,Sl,r);return o!==Sl||i===Sl?o:e.get(n,i,r)}}}(t,i.injector):t,o=r.get(Va,fe),s=r.get(za,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(pe(t))return t.selectRootElement(e,n===wt.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):hr(o.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,d={components:[],scheduler:er,clean:Ao,playerHandler:null,flags:0},h=uo(0,null,null,1,0,null,null,null,null,null),p=Xr(null,h,d,u,null,null,o,a,s,r);let f,g;Ye(p);try{const t=function(t,e,n,i,r,o){const s=n[1];n[20]=t;const a=to(s,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(Ho(a,l,!0),null!==t&&(fn(r,t,l),null!==a.classes&&Rr(r,t,a.classes),null!==a.styles&&Er(r,t,a.styles)));const c=i.createRenderer(t,e),u=Xr(n,co(e),null,e.onPush?64:16,n[20],a,i,c,null,null);return s.firstCreatePass&&(Tn(On(a,n),s,e.type),_o(s,a),vo(a,n.length,1)),To(n,u),n[20]=u}(c,this.componentDef,p,o,a);if(c)if(n)fn(a,c,["ng-version",qa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!Br(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&fn(a,c,t),e&&e.length>0&&Rr(a,c,e.join(" "))}if(g=_e(h,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,r){const o=n[1],s=function(t,e,n){const i=Fe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Co(t,i,e,eo(t,e,1,null),n));const r=Bn(e,t,i.directiveStart,i);tr(r,e);const o=be(i,e);return o&&tr(o,e),r}(o,n,e);if(i.components.push(s),t[8]=s,r&&r.forEach(t=>t(s,e)),e.contentQueries){const t=Fe();e.contentQueries(1,s,t.directiveStart)}const a=Fe();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(rn(a.index),mo(n[1],a,0,a.directiveStart,a.directiveEnd,e),bo(e,s)),s}(t,this.componentDef,p,d,[os]),no(h,p,null)}finally{en()}return new Fl(this.componentType,f,Ba(g,p),p,g)}}class Fl extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new sl(i),this.componentType=t}get injector(){return new Vn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Il=new Map;class Al extends _l{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ml(this);const n=Kt(t),i=t[At]||null;i&&Pa(i),this._bootstrapComponents=rr(n.bootstrap),this._r3Injector=Yo(t,e,[{provide:_l,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],et(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=rs.THROW_IF_NOT_FOUND,n=mt.Default){return t===rs||t===_l||t===$o?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Dl extends yl{constructor(t){super(),this.moduleType=t,null!==Kt(t)&&function(t){const e=new Set;!function t(n){const i=Kt(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${et(e)} vs ${et(e.name)}`)}(r,Il.get(r),n),Il.set(r,n));const o=rr(i.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Al(this.moduleType,t)}}function Ll(t,e,n,i){return Nl(Te(),je(),t,e,n,i)}function Bl(t,e){const n=t[e];return n===zr?void 0:n}function Nl(t,e,n,i,r,o){const s=e+n;return bs(t,s,r)?ms(t,s+1,o?i.call(o,r):i(r)):Bl(t,s+1)}function jl(t,e,n,i,r,o,s){const a=e+n;return _s(t,a,r,o)?ms(t,a+2,s?i.call(s,r,o):i(r,o)):Bl(t,a+2)}function Vl(t,e){const n=Ee();let i;const r=t+20;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new ne("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=ee(i.type)),s=_t(xs);try{const t=xn(!1),e=o();return xn(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Te(),r,e),e}finally{_t(s)}}function Hl(t,e,n){const i=t+20,r=Te(),o=ye(r,i);return Ul(r,zl(r,i)?Nl(r,je(),e,o.transform,n,o):o.transform(n))}function $l(t,e,n,i){const r=t+20,o=Te(),s=ye(o,r);return Ul(o,zl(o,r)?jl(o,je(),e,s.transform,n,i,s):s.transform(n,i))}function zl(t,e){return t[1].data[e].pure}function Ul(t,e){return ps.isWrapped(e)&&(e=ps.unwrap(e),t[Ve()]=zr),e}const ql=class extends x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(i,r,o);return t instanceof d&&t.add(s),s}};function Wl(){return this._results[hs()]()}class Gl{constructor(){this.dirty=!0,this._results=[],this.changes=new ql,this.length=0;const t=hs(),e=Gl.prototype;e[t]||(e[t]=Wl)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=Kn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Kl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Kl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ql{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Ql(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==pc(t,e).matches&&this.queries[e].setDirty()}}class Yl{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class Zl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Zl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Jl{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Jl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Xl(e,r)),this.matchTNodeWithReadOption(t,e,Ln(e,t,r,!1,!1))}else n===fl?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ln(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===ja||i===Cl||i===fl&&4&e.type)this.addMatch(e.index,-2);else{const n=Ln(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Xl(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function tc(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Ba(t,e):4&t.type?bl(t,e):null}(e,t):-2===n?function(t,e,n){return n===ja?Ba(e,t):n===fl?bl(e,t):n===Cl?kl(e,t):void 0}(t,e,i):Bn(t,t[1],n,e)}function ec(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const r=o[t];s.push(r<0?null:tc(e,i[r],o[t+1],n.metadata.read))}r.matches=s}return r.matches}function nc(t,e,n,i){const r=t.queries.getByIndex(n),o=r.matches;if(null!==o){const s=ec(t,e,r,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)i.push(s[t/2]);else{const r=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&nc(e[1],e,r,i)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];nc(n[1],n,r,i)}}}}}return i}function ic(t){const e=Te(),n=Ee(),i=We();Ge(i+1);const r=pc(n,i);if(t.dirty&&we(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?nc(n,e,i,[]):ec(n,e,r,i);t.reset(o),t.notifyOnChanges()}return!0}return!1}function rc(t,e,n){sc(Ee(),Te(),t,e,n,!0)}function oc(t,e,n){sc(Ee(),Te(),t,e,n,!1)}function sc(t,e,n,i,r,o){t.firstCreatePass&&(hc(t,new Yl(n,i,o,r),-1),o&&(t.staticViewQueries=!0)),dc(t,e)}function ac(t,e,n,i){cc(Ee(),Te(),e,n,i,!1,Fe(),t)}function lc(t,e,n,i){cc(Ee(),Te(),e,n,i,!0,Fe(),t)}function cc(t,e,n,i,r,o,s,a){t.firstCreatePass&&(hc(t,new Yl(n,i,o,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),dc(t,e)}function uc(){return t=Te(),e=We(),t[19].queries[e].queryList;var t,e}function dc(t,e){const n=new Gl;ho(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ql),e[19].queries.push(new Kl(n))}function hc(t,e,n){null===t.queries&&(t.queries=new Zl),t.queries.track(new Jl(e,n))}function pc(t,e){return t.queries.getByIndex(e)}function fc(t,e){return bl(t,e)}const gc=new qn("Application Initializer");let mc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=La,this.reject=La,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Is(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(hi(gc,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const bc=new qn("AppId"),_c={provide:bc,useFactory:function(){return`${yc()}${yc()}${yc()}`},deps:[]};function yc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vc=new qn("Platform Initializer"),Cc=new qn("Platform ID"),wc=new qn("appBootstrapListener");let xc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Pc=new qn("LocaleId"),Oc=new qn("DefaultCurrencyCode");class kc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Sc=function(t){return new Dl(t)},Mc=Sc,Tc=function(t){return Promise.resolve(Sc(t))},Ec=function(t){const e=Sc(t),n=rr(Kt(t).declarations).reduce((t,e)=>{const n=Gt(e);return n&&t.push(new Rl(n)),t},[]);return new kc(e,n)},Rc=Ec,Fc=function(t){return Promise.resolve(Ec(t))};let Ic=(()=>{class t{constructor(){this.compileModuleSync=Mc,this.compileModuleAsync=Tc,this.compileModuleAndAllComponentsSync=Rc,this.compileModuleAndAllComponentsAsync=Fc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ac=(()=>Promise.resolve(0))();function Dc(t){"undefined"==typeof Zone?Ac.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Lc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ql(!1),this.onMicrotaskEmpty=new ql(!1),this.onStable=new ql(!1),this.onError=new ql(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=St.requestAnimationFrame,e=St.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(St,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jc(t),Nc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,o,s,a)=>{try{return Vc(t),n.invokeTask(r,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Hc(t)}},onInvoke:(e,n,i,r,o,s,a)=>{try{return Vc(t),e.invoke(i,r,o,s,a)}finally{Hc(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,jc(t),Nc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Bc,La,La);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Bc={};function Nc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Vc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Hc(t){t._nesting--,Nc(t)}class $c{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ql,this.onMicrotaskEmpty=new ql,this.onStable=new ql,this.onError=new ql}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let zc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lc.assertNotInAngularZone(),Dc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(hi(Lc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Uc=(()=>{class t{constructor(){this._applications=new Map,Gc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Gc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class qc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Wc,Gc=new qc,Kc=!0,Qc=!1;function Yc(){return Qc=!0,Kc}const Zc=new qn("AllowMultipleToken");class Jc{constructor(t,e){this.name=t,this.token=e}}function Xc(t,e,n=[]){const i="Platform: "+e,r=new qn(i);return(e=[])=>{let o=tu();if(!o||o.injector.get(Zc,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Uo,useValue:"platform"});!function(t){if(Wc&&!Wc.destroyed&&!Wc.injector.get(Zc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wc=t.get(eu);const e=t.get(vc,null);e&&e.forEach(t=>t())}(rs.create({providers:t,name:i}))}return function(t){const e=tu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function tu(){return Wc&&!Wc.destroyed?Wc:null}let eu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new $c:("zone.js"===t?void 0:t)||new Lc({enableLongStackTrace:Yc(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:Lc,useValue:n}];return n.run(()=>{const e=rs.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(Xi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});r.onDestroy(()=>{ru(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return Is(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(mc);return t.runInitializers(),t.donePromise.then(()=>(Pa(r.injector.get(Pc,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=nu({},e);return function(t,e,n){const i=new Dl(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(iu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${et(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(hi(rs))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function nu(t,e){return Array.isArray(e)?e.reduce(nu,t):Object.assign(Object.assign({},t),e)}let iu=(()=>{class t{constructor(t,e,n,i,r,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Lc.assertNotInAngularZone(),Dc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Lc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=q(s,a.pipe(t=>{return W()((e=J,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,Y);return i.source=t,i.subjectFactory=n,i})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ia?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(_l),r=n.create(rs.NULL,[],e||n.selector,i),o=r.location.nativeElement,s=r.injector.get(zc,null),a=s&&r.injector.get(Uc);return s&&a&&a.registerApplication(o,s),r.onDestroy(()=>{this.detachView(r.hostView),ru(this.components,r),a&&a.unregisterApplication(o)}),this._loadComponent(r),Yc()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ru(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(wc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(hi(Lc),hi(xc),hi(rs),hi(Xi),hi(Da),hi(mc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function ru(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ou{}class su{}const au={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let lu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||au}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>cu(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>cu(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(hi(Ic),hi(su,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function cu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const uu=Xc(null,"core",[{provide:Cc,useValue:"unknown"},{provide:eu,deps:[rs]},{provide:Uc,deps:[]},{provide:xc,deps:[]}]),du=[{provide:iu,useClass:iu,deps:[Lc,xc,rs,Xi,Da,mc]},{provide:El,deps:[Lc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:mc,useClass:mc,deps:[[new ii,gc]]},{provide:Ic,useClass:Ic,deps:[]},_c,{provide:nl,useFactory:function(){return dl},deps:[]},{provide:il,useFactory:function(){return hl},deps:[]},{provide:Pc,useFactory:function(t){return Pa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new ni(Pc),new ii,new oi]]},{provide:Oc,useValue:"USD"}];let hu=(()=>{class t{constructor(t){}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(iu))},providers:du}),t})();const pu="https://u4nbyneqkk.execute-api.eu-central-1.amazonaws.com/prod";let fu=null;function gu(){return fu}const mu=new qn("DocumentToken");let bu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:_u,token:t,providedIn:"platform"}),t})();function _u(){return hi(vu)}const yu=new qn("Location Initialized");let vu=(()=>{class t extends bu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=gu().getLocation(),this._history=gu().getHistory()}getBaseHrefFromDOM(){return gu().getBaseHref(this._doc)}onPopState(t){gu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){gu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Cu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Cu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(hi(mu))},t.\u0275prov=at({factory:wu,token:t,providedIn:"platform"}),t})();function Cu(){return!!window.history.pushState}function wu(){return new vu(hi(mu))}function xu(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Pu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ou(t){return t&&"?"!==t[0]?"?"+t:t}let ku=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Su,token:t,providedIn:"root"}),t})();function Su(t){const e=hi(mu).location;return new Tu(hi(bu),e&&e.origin||"")}const Mu=new qn("appBaseHref");let Tu=(()=>{class t extends ku{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xu(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ou(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+Ou(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+Ou(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(hi(bu),hi(Mu,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Eu=(()=>{class t extends ku{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=xu(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+Ou(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+Ou(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(hi(bu),hi(Mu,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Ru=(()=>{class t{constructor(t,e){this._subject=new ql,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Pu(Iu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ou(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Iu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ou(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ou(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(hi(ku),hi(bu))},t.normalizeQueryParams=Ou,t.joinWithSlash=xu,t.stripTrailingSlash=Pu,t.\u0275prov=at({factory:Fu,token:t,providedIn:"root"}),t})();function Fu(){return new Ru(hi(ku),hi(bu))}function Iu(t){return t.replace(/\/index.html$/,"")}var Au=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),Du=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Lu=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),Bu=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),Nu=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),ju=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Vu(t,e){return Wu(va(t)[wa.DateFormat],e)}function Hu(t,e){return Wu(va(t)[wa.TimeFormat],e)}function $u(t,e){return Wu(va(t)[wa.DateTimeFormat],e)}function zu(t,e){const n=va(t),i=n[wa.NumberSymbols][e];if(void 0===i){if(e===ju.CurrencyDecimal)return n[wa.NumberSymbols][ju.Decimal];if(e===ju.CurrencyGroup)return n[wa.NumberSymbols][ju.Group]}return i}function Uu(t,e){return va(t)[wa.NumberFormats][e]}function qu(t){if(!t[wa.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[wa.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Wu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Gu(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Ku=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qu={},Yu=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zu=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Ju=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Xu=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function td(t,e,n,i){let r=function(t){if(hd(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(t=>+t);return new Date(e,n-1,i)}let n;if(n=t.match(Ku))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,l,c),e}(n)}const e=new Date(t);if(!hd(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=ed(n,e)||e;let o,s=[];for(;e;){if(o=Yu.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=r.getTimezoneOffset();i&&(a=dd(i,a),r=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(dd(e,i)-i))}(r,i));let l="";return s.forEach(t=>{const e=function(t){if(ud[t])return ud[t];let e;switch(t){case"G":case"GG":case"GGG":e=od(Xu.Eras,Bu.Abbreviated);break;case"GGGG":e=od(Xu.Eras,Bu.Wide);break;case"GGGGG":e=od(Xu.Eras,Bu.Narrow);break;case"y":e=rd(Ju.FullYear,1,0,!1,!0);break;case"yy":e=rd(Ju.FullYear,2,0,!0,!0);break;case"yyy":e=rd(Ju.FullYear,3,0,!1,!0);break;case"yyyy":e=rd(Ju.FullYear,4,0,!1,!0);break;case"Y":e=cd(1);break;case"YY":e=cd(2,!0);break;case"YYY":e=cd(3);break;case"YYYY":e=cd(4);break;case"M":case"L":e=rd(Ju.Month,1,1);break;case"MM":case"LL":e=rd(Ju.Month,2,1);break;case"MMM":e=od(Xu.Months,Bu.Abbreviated);break;case"MMMM":e=od(Xu.Months,Bu.Wide);break;case"MMMMM":e=od(Xu.Months,Bu.Narrow);break;case"LLL":e=od(Xu.Months,Bu.Abbreviated,Lu.Standalone);break;case"LLLL":e=od(Xu.Months,Bu.Wide,Lu.Standalone);break;case"LLLLL":e=od(Xu.Months,Bu.Narrow,Lu.Standalone);break;case"w":e=ld(1);break;case"ww":e=ld(2);break;case"W":e=ld(1,!0);break;case"d":e=rd(Ju.Date,1);break;case"dd":e=rd(Ju.Date,2);break;case"E":case"EE":case"EEE":e=od(Xu.Days,Bu.Abbreviated);break;case"EEEE":e=od(Xu.Days,Bu.Wide);break;case"EEEEE":e=od(Xu.Days,Bu.Narrow);break;case"EEEEEE":e=od(Xu.Days,Bu.Short);break;case"a":case"aa":case"aaa":e=od(Xu.DayPeriods,Bu.Abbreviated);break;case"aaaa":e=od(Xu.DayPeriods,Bu.Wide);break;case"aaaaa":e=od(Xu.DayPeriods,Bu.Narrow);break;case"b":case"bb":case"bbb":e=od(Xu.DayPeriods,Bu.Abbreviated,Lu.Standalone,!0);break;case"bbbb":e=od(Xu.DayPeriods,Bu.Wide,Lu.Standalone,!0);break;case"bbbbb":e=od(Xu.DayPeriods,Bu.Narrow,Lu.Standalone,!0);break;case"B":case"BB":case"BBB":e=od(Xu.DayPeriods,Bu.Abbreviated,Lu.Format,!0);break;case"BBBB":e=od(Xu.DayPeriods,Bu.Wide,Lu.Format,!0);break;case"BBBBB":e=od(Xu.DayPeriods,Bu.Narrow,Lu.Format,!0);break;case"h":e=rd(Ju.Hours,1,-12);break;case"hh":e=rd(Ju.Hours,2,-12);break;case"H":e=rd(Ju.Hours,1);break;case"HH":e=rd(Ju.Hours,2);break;case"m":e=rd(Ju.Minutes,1);break;case"mm":e=rd(Ju.Minutes,2);break;case"s":e=rd(Ju.Seconds,1);break;case"ss":e=rd(Ju.Seconds,2);break;case"S":e=rd(Ju.FractionalSeconds,1);break;case"SS":e=rd(Ju.FractionalSeconds,2);break;case"SSS":e=rd(Ju.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=sd(Zu.Short);break;case"ZZZZZ":e=sd(Zu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=sd(Zu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=sd(Zu.Long);break;default:return null}return ud[t]=e,e}(t);l+=e?e(r,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function ed(t,e){const n=function(t){return va(t)[wa.LocaleId]}(t);if(Qu[n]=Qu[n]||{},Qu[n][e])return Qu[n][e];let i="";switch(e){case"shortDate":i=Vu(t,Nu.Short);break;case"mediumDate":i=Vu(t,Nu.Medium);break;case"longDate":i=Vu(t,Nu.Long);break;case"fullDate":i=Vu(t,Nu.Full);break;case"shortTime":i=Hu(t,Nu.Short);break;case"mediumTime":i=Hu(t,Nu.Medium);break;case"longTime":i=Hu(t,Nu.Long);break;case"fullTime":i=Hu(t,Nu.Full);break;case"short":const e=ed(t,"shortTime"),n=ed(t,"shortDate");i=nd($u(t,Nu.Short),[e,n]);break;case"medium":const r=ed(t,"mediumTime"),o=ed(t,"mediumDate");i=nd($u(t,Nu.Medium),[r,o]);break;case"long":const s=ed(t,"longTime"),a=ed(t,"longDate");i=nd($u(t,Nu.Long),[s,a]);break;case"full":const l=ed(t,"fullTime"),c=ed(t,"fullDate");i=nd($u(t,Nu.Full),[l,c])}return i&&(Qu[n][e]=i),i}function nd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function id(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.substr(s.length-e)),o+s}function rd(t,e,n=0,i=!1,r=!1){return function(o,s){let a=function(t,e){switch(t){case Ju.FullYear:return e.getFullYear();case Ju.Month:return e.getMonth();case Ju.Date:return e.getDate();case Ju.Hours:return e.getHours();case Ju.Minutes:return e.getMinutes();case Ju.Seconds:return e.getSeconds();case Ju.FractionalSeconds:return e.getMilliseconds();case Ju.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Ju.Hours)0===a&&-12===n&&(a=12);else if(t===Ju.FractionalSeconds)return l=e,id(a,3).substr(0,l);var l;const c=zu(s,ju.MinusSign);return id(a,e,c,i,r)}}function od(t,e,n=Lu.Format,i=!1){return function(r,o){return function(t,e,n,i,r,o){switch(n){case Xu.Months:return function(t,e,n){const i=va(t),r=Wu([i[wa.MonthsFormat],i[wa.MonthsStandalone]],e);return Wu(r,n)}(e,r,i)[t.getMonth()];case Xu.Days:return function(t,e,n){const i=va(t),r=Wu([i[wa.DaysFormat],i[wa.DaysStandalone]],e);return Wu(r,n)}(e,r,i)[t.getDay()];case Xu.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=va(t);return qu(e),(e[wa.ExtraData][2]||[]).map(t=>"string"==typeof t?Gu(t):[Gu(t[0]),Gu(t[1])])}(e),n=function(t,e,n){const i=va(t);qu(i);const r=Wu([i[wa.ExtraData][0],i[wa.ExtraData][1]],e)||[];return Wu(r,n)||[]}(e,r,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,i=s>=e.hours&&a>=e.minutes,r=s<n.hours||s===n.hours&&a<n.minutes;if(e.hours<n.hours){if(i&&r)return!0}else if(i||r)return!0}else if(t.hours===s&&t.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=va(t),r=Wu([i[wa.DayPeriodsFormat],i[wa.DayPeriodsStandalone]],e);return Wu(r,n)}(e,r,i)[s<12?0:1];case Xu.Eras:return function(t,e){return Wu(va(t)[wa.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,o,t,e,n,i)}}function sd(t){return function(e,n,i){const r=-1*i,o=zu(n,ju.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Zu.Short:return(r>=0?"+":"")+id(s,2,o)+id(Math.abs(r%60),2,o);case Zu.ShortGMT:return"GMT"+(r>=0?"+":"")+id(s,1,o);case Zu.Long:return"GMT"+(r>=0?"+":"")+id(s,2,o)+":"+id(Math.abs(r%60),2,o);case Zu.Extended:return 0===i?"Z":(r>=0?"+":"")+id(s,2,o)+":"+id(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function ad(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ld(t,e=!1){return function(n,i){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=ad(n),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),i=t.getTime()-e.getTime();r=1+Math.round(i/6048e5)}return id(r,t,zu(i,ju.MinusSign))}}function cd(t,e=!1){return function(n,i){return id(ad(n).getFullYear(),t,zu(i,ju.MinusSign),e)}}const ud={};function dd(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function hd(t){return t instanceof Date&&!isNaN(t.valueOf())}const pd=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function fd(t,e,n,i,r,o,s=!1){let a="",l=!1;if(isFinite(t)){let c=function(t){let e,n,i,r,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(i=s.search(/e/i))>0?(n<0&&(n=i),n+=+s.slice(i+1),s=s.substring(0,i)):n<0&&(n=s.length),i=0;"0"===s.charAt(i);i++);if(i===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=Number(s.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(o){const t=o.match(pd);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],i=t[5];null!=e&&(u=md(e)),null!=n&&(d=md(n)),null!=i?h=md(i):null!=n&&d>h&&(h=d)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const o=Math.min(Math.max(e,r),n);let s=o+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let t=s;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let t=1;t<s;t++)i[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=e+t.integerLen,u=i.reduceRight(function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,l&&(0===i[n]&&n>=c?i.pop():l=!1),e>=10?1:0},0);u&&(i.unshift(u),t.integerLen++)}(c,d,h);let p=c.digits,f=c.integerLen;const g=c.exponent;let m=[];for(l=p.every(t=>!t);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const b=[];for(p.length>=e.lgSize&&b.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)b.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&b.unshift(p.join("")),a=b.join(zu(n,i)),m.length&&(a+=zu(n,r)+m.join("")),g&&(a+=zu(n,ju.Exponential)+"+"+g)}else a=zu(n,ju.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function gd(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const t=l.charAt(u);"0"===t?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=r.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function md(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class bd{}let _d=(()=>{class t extends bd{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return va(t)[wa.PluralCase]}(e||this.locale)(t)){case Du.Zero:return"zero";case Du.One:return"one";case Du.Two:return"two";case Du.Few:return"few";case Du.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(hi(Pc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function yd(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let vd=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(fs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+et(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(xs(nl),xs(il),xs(ja),xs(Ha))},t.\u0275dir=qt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Cd{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wd=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Cd(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new xd(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new xd(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(fl),xs(nl))},t.\u0275dir=qt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class xd{constructor(t,e){this.record=t,this.view=e}}let Pd=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Od,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(fl))},t.\u0275dir=qt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Od{constructor(){this.$implicit=null,this.ngIf=null}}function kd(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}class Sd{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Md=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Td=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Sd(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(fl),xs(Md,1))},t.\u0275dir=qt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Ed=(()=>{class t{constructor(t,e,n){n._addDefault(new Sd(t,e))}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(fl),xs(Md,1))},t.\u0275dir=qt({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Rd=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(il),xs(Ha))},t.\u0275dir=qt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();function Fd(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${et(t)}'`)}class Id{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ad{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Dd=new Ad,Ld=new Id;let Bd=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Is(e))return Dd;if(As(e))return Ld;throw Fd(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=mt.Default){const e=cl(!0);if(null!=e||t&mt.Optional)return e;oe("ChangeDetectorRef")}())},t.\u0275pipe=Wt({name:"async",type:t,pure:!1}),t})(),Nd=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw Fd(t,e);return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Wt({name:"uppercase",type:t,pure:!0}),t})(),jd=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,r){if(null==e||""===e||e!=e)return null;try{return td(e,n,r||this.locale,i)}catch(o){throw Fd(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(xs(Pc))},t.\u0275pipe=Wt({name:"date",type:t,pure:!0}),t})(),Vd=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!$d(e))return null;i=i||this._locale;try{return function(t,e,n){return fd(t,gd(Uu(e,Au.Decimal),zu(e,ju.MinusSign)),e,ju.Group,ju.Decimal,n)}(zd(e),i,n)}catch(r){throw Fd(t,r.message)}}}return t.\u0275fac=function(e){return new(e||t)(xs(Pc))},t.\u0275pipe=Wt({name:"number",type:t,pure:!0}),t})(),Hd=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!$d(e))return null;i=i||this._locale;try{return function(t,e,n){return fd(t,gd(Uu(e,Au.Percent),zu(e,ju.MinusSign)),e,ju.Group,ju.Decimal,n,!0).replace(new RegExp("%","g"),zu(e,ju.PercentSign))}(zd(e),i,n)}catch(r){throw Fd(t,r.message)}}}return t.\u0275fac=function(e){return new(e||t)(xs(Pc))},t.\u0275pipe=Wt({name:"percent",type:t,pure:!0}),t})();function $d(t){return!(null==t||""===t||t!=t)}function zd(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}let Ud=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[{provide:bd,useClass:_d}]}),t})(),qd=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new Wd(hi(mu),window,hi(Xi))}),t})();class Wd{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Gd(this.window.history)||Gd(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Gd(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Kd extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Kd,fu||(fu=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Yd||(Yd=document.querySelector("base"),Yd)?Yd.getAttribute("href"):null;return null==e?null:(n=e,Qd||(Qd=document.createElement("a")),Qd.setAttribute("href",n),"/"===Qd.pathname.charAt(0)?Qd.pathname:"/"+Qd.pathname);var n}resetBaseElement(){Yd=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return yd(document.cookie,t)}}let Qd,Yd=null;const Zd=new qn("TRANSITION_ID"),Jd=[{provide:gc,useFactory:function(t,e,n){return()=>{n.get(mc).donePromise.then(()=>{const n=gu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Zd,mu,rs],multi:!0}];class Xd{static init(){var t;t=new Xd,Gc=t}addToWindow(t){St.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},St.getAllAngularTestabilities=()=>t.getAllTestabilities(),St.getAllAngularRootElements=()=>t.getAllRootElements(),St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(t=>{const e=St.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?gu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const th=new qn("EventManagerPlugins");let eh=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(hi(th),hi(Lc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class nh{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=gu().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let ih=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),rh=(()=>{class t extends ih{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>gu().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(hi(mu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const oh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sh=/%COMP%/g;function ah(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ah(t,r,n):(r=r.replace(sh,t),n.push(r))}return n}function lh(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ch=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new uh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case wt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new dh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case wt.ShadowDom:return new hh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ah(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(hi(eh),hi(rh),hi(bc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class uh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(oh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=oh[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=oh[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(or.DashCase|or.Important)?t.style.setProperty(e,n,i&or.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&or.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lh(n)):this.eventManager.addEventListener(t,e,lh(n))}}class dh extends uh{constructor(t,e,n,i){super(t),this.component=n;const r=ah(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(sh,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(sh,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class hh extends uh{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=ah(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ph=(()=>{class t extends nh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(hi(mu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const fh=["alt","control","meta","shift"],gh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _h=(()=>{class t extends nh{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),o=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gu().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let o="";if(fh.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&mh.hasOwnProperty(e)&&(e=mh[e]))}return gh[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),fh.forEach(i=>{i!=n&&(0,bh[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(hi(mu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),yh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return hi(vh)},token:t,providedIn:"root"}),t})(),vh=(()=>{class t extends yh{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Ki.NONE:return e;case Ki.HTML:return Pi(e,"HTML")?xi(e):function(t,e){let n=null;try{Wi=Wi||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(mi(""),"text/html")}catch(t){return!1}}()?new ki:new Si(t)}(t);let i=e?String(e):"";n=Wi.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Wi.getInertBodyElement(i)}while(i!==o);return(new $i).sanitizeChildren(Gi(n)||n)}finally{if(n){const t=Gi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case Ki.STYLE:return Pi(e,"Style")?xi(e):e;case Ki.SCRIPT:if(Pi(e,"Script"))return xi(e);throw new Error("unsafe value used in a script context");case Ki.URL:return Oi(e),Pi(e,"URL")?xi(e):Ei(String(e));case Ki.RESOURCE_URL:if(Pi(e,"ResourceURL"))return xi(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new _i(t)}bypassSecurityTrustStyle(t){return new yi(t)}bypassSecurityTrustScript(t){return new vi(t)}bypassSecurityTrustUrl(t){return new Ci(t)}bypassSecurityTrustResourceUrl(t){return new wi(t)}}return t.\u0275fac=function(e){return new(e||t)(hi(mu))},t.\u0275prov=at({factory:function(){return t=hi($o),new vh(t.get(mu));var t},token:t,providedIn:"root"}),t})();const Ch=Xc(uu,"browser",[{provide:Cc,useValue:"browser"},{provide:vc,useValue:function(){Kd.makeCurrent(),Xd.init()},multi:!0},{provide:mu,useFactory:function(){return function(t){he=t}(document),document},deps:[]}]),wh=[[],{provide:Uo,useValue:"root"},{provide:Xi,useFactory:function(){return new Xi},deps:[]},{provide:th,useClass:ph,multi:!0,deps:[mu,Lc,Cc]},{provide:th,useClass:_h,multi:!0,deps:[mu]},[],{provide:ch,useClass:ch,deps:[eh,rh,bc]},{provide:Va,useExisting:ch},{provide:ih,useExisting:rh},{provide:rh,useClass:rh,deps:[mu]},{provide:zc,useClass:zc,deps:[Lc]},{provide:eh,useClass:eh,deps:[th,Lc]},[]];let xh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:bc,useValue:e.appId},{provide:Zd,useExisting:bc},Jd]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(t,12))},providers:wh,imports:[Ud,hu]}),t})();function Ph(...t){let e=t[t.length-1];return O(e)?(t.pop(),D(t,e)):U(t)}function Oh(t,e){return V(t,e,1)}function kh(t,e){return function(n){return n.lift(new Sh(t,e))}}"undefined"!=typeof window&&window;class Sh{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Mh(t,this.predicate,this.thisArg))}}class Mh extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Th{}class Eh{}class Rh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Rh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Rh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Rh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Fh{encodeKey(t){return Ih(t)}encodeValue(t){return Ih(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ih(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ah{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Fh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ah({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Dh(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Lh(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Bh(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Nh{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Rh),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ah,this.urlWithParams=e}serializeBody(){return null===this.body?null:Dh(this.body)||Lh(this.body)||Bh(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ah?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bh(this.body)?null:Lh(this.body)?this.body.type||null:Dh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ah?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Nh(e,n,r,{params:l,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}var jh=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Vh{constructor(t,e=200,n="OK"){this.headers=t.headers||new Rh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Hh extends Vh{constructor(t={}){super(t),this.type=jh.ResponseHeader}clone(t={}){return new Hh({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $h extends Vh{constructor(t={}){super(t),this.type=jh.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new $h({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zh extends Vh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Uh(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let qh=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof Nh)i=t;else{let r=void 0;r=n.headers instanceof Rh?n.headers:new Rh(n.headers);let o=void 0;n.params&&(o=n.params instanceof Ah?n.params:new Ah({fromObject:n.params})),i=new Nh(t,e,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Ph(i).pipe(Oh(t=>this.handler.handle(t)));if(t instanceof Nh||"events"===n.observe)return r;const o=r.pipe(kh(t=>t instanceof $h));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(k(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(k(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(k(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(k(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ah).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Uh(n,e))}post(t,e,n={}){return this.request("POST",t,Uh(n,e))}put(t,e,n={}){return this.request("PUT",t,Uh(n,e))}}return t.\u0275fac=function(e){return new(e||t)(hi(Th))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Wh{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Gh=new qn("HTTP_INTERCEPTORS");let Kh=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Qh=/^\)\]\}',?\n/;class Yh{}let Zh=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Jh=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new Rh(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Hh({headers:o,status:e,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(Qh,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new $h({body:l,headers:i,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new zh({error:l,headers:i,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=o(),r=new zh({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const c=i=>{l||(e.next(o()),l=!0);let r={type:jh.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:jh.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:jh.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(hi(Yh))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Xh=new qn("XSRF_COOKIE_NAME"),tp=new qn("XSRF_HEADER_NAME");class ep{}let np=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yd(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(hi(mu),hi(Cc),hi(Xh))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),ip=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(hi(ep),hi(tp))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),rp=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Gh,[]);this.chain=t.reduceRight((t,e)=>new Wh(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(hi(Eh),hi(rs))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),op=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ip,useClass:Kh}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Xh,useValue:e.cookieName}:[],e.headerName?{provide:tp,useValue:e.headerName}:[]]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[ip,{provide:Gh,useExisting:ip,multi:!0},{provide:ep,useClass:np},{provide:Xh,useValue:"XSRF-TOKEN"},{provide:tp,useValue:"X-XSRF-TOKEN"}]}),t})(),sp=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[qh,{provide:Th,useClass:rp},Jh,{provide:Eh,useExisting:Jh},Zh,{provide:Yh,useExisting:Zh}],imports:[[op.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class ap extends x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new v;return this._value}next(t){super.next(this._value=t)}}class lp extends f{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class cp extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function up(t,e,n,i,r=new cp(t,n,i)){if(!r.closed)return e instanceof _?e.subscribe(r):A(e)(r)}const dp={};function hp(...t){let e=void 0,n=void 0;return O(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),U(t,n).lift(new pp(e))}class pp{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new fp(t,this.resultSelector))}}class fp extends lp{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(dp),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(up(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===dp?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const gp=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),mp=new _(t=>t.complete());function bp(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):mp}function _p(t){return new _(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?L(n):bp()).subscribe(e)})}function yp(){return z(1)}const vp=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Cp(t){return function(e){return 0===t?bp():e.lift(new wp(t))}}class wp{constructor(t){if(this.total=t,this.total<0)throw new vp}call(t,e){return e.subscribe(new xp(t,this.total))}}class xp extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function Pp(t=Sp){return e=>e.lift(new Op(t))}class Op{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new kp(t,this.errorFactory))}}class kp extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Sp(){return new gp}function Mp(t=null){return e=>e.lift(new Tp(t))}class Tp{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ep(t,this.defaultValue))}}class Ep extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Rp(t,e){return"function"==typeof e?n=>n.pipe(Rp((n,i)=>L(t(n,i)).pipe(k((t,r)=>e(n,t,i,r))))):e=>e.lift(new Fp(t))}class Fp{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ip(t,this.project))}}class Ip extends N{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new B(this),i=this.destination;i.add(n),this.innerSubscription=j(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Ap(t){return e=>0===t?bp():e.lift(new Dp(t))}class Dp{constructor(t){if(this.total=t,this.total<0)throw new vp}call(t,e){return e.subscribe(new Lp(t,this.total))}}class Lp extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Bp(...t){return yp()(Ph(...t))}function Np(...t){const e=t[t.length-1];return O(e)?(t.pop(),n=>Bp(t,n,e)):e=>Bp(t,e)}function jp(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Vp(t,e,n))}}class Vp{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Hp(t,this.accumulator,this.seed,this.hasSeed))}}class Hp extends f{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function $p(t){return function(e){const n=new zp(t),i=e.lift(n);return n.caught=i}}class zp{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Up(t,this.selector,this.caught))}}class Up extends N{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new B(this);this.add(i);const r=j(n,i);r!==i&&this.add(r)}}}function qp(t,e){const n=arguments.length>=2;return i=>i.pipe(t?kh((e,n)=>t(e,n,i)):b,Ap(1),n?Mp(e):Pp(()=>new gp))}function Wp(){}function Gp(t,e,n){return function(i){return i.lift(new Kp(t,e,n))}}class Kp{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Qp(t,this.nextOrObserver,this.error,this.complete))}}class Qp extends f{constructor(t,e,n,r){super(t),this._tapNext=Wp,this._tapError=Wp,this._tapComplete=Wp,this._tapError=n||Wp,this._tapComplete=r||Wp,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Wp,this._tapError=e.error||Wp,this._tapComplete=e.complete||Wp)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Yp{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Zp(t,this.callback))}}class Zp extends f{constructor(t,e){super(t),this.add(new d(e))}}class Jp{constructor(t,e){this.id=t,this.url=e}}class Xp extends Jp{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tf extends Jp{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ef extends Jp{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nf extends Jp{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rf extends Jp{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class of extends Jp{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sf extends Jp{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class af extends Jp{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lf extends Jp{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cf{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uf{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class df{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hf{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ff{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bf(t){return new mf(t)}function _f(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function yf(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function vf(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Cf(t[r],e[r]))return!1;return!0}function Cf(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function wf(t){return Array.prototype.concat.apply([],t)}function xf(t){return t.length>0?t[t.length-1]:null}function Pf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Of(t){return As(t)?t:Is(t)?L(Promise.resolve(t)):Ph(t)}function kf(t,e,n){return n?function(t,e){return vf(t,e)}(t.queryParams,e.queryParams)&&Sf(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Cf(t[n],e[n]))}(t.queryParams,e.queryParams)&&Mf(t.root,e.root)}function Sf(t,e){if(!If(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Sf(t.children[n],e.children[n]))return!1}return!0}function Mf(t,e){return Tf(t,e,e.segments)}function Tf(t,e,n){if(t.segments.length>n.length)return!!If(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!If(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Mf(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!If(t.segments,i)&&!!t.children.primary&&Tf(t.children.primary,e,r)}}class Ef{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bf(this.queryParams)),this._queryParamMap}toString(){return Bf.serialize(this)}}class Rf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Pf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nf(this)}}class Ff{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bf(this.parameters)),this._parameterMap}toString(){return qf(this)}}function If(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Af(t,e){let n=[];return Pf(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),Pf(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class Df{}class Lf{parse(t){const e=new Yf(t);return new Ef(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+jf(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Hf(e)}=${Hf(t)}`).join("&"):`${Hf(e)}=${Hf(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Bf=new Lf;function Nf(t){return t.segments.map(t=>qf(t)).join("/")}function jf(t,e){if(!t.hasChildren())return Nf(t);if(e){const e=t.children.primary?jf(t.children.primary,!1):"",n=[];return Pf(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${jf(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Af(t,(e,n)=>"primary"===n?[jf(t.children.primary,!1)]:[`${n}:${jf(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Nf(t)}/${e[0]}`:`${Nf(t)}/(${e.join("//")})`}}function Vf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hf(t){return Vf(t).replace(/%3B/gi,";")}function $f(t){return Vf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zf(t){return decodeURIComponent(t)}function Uf(t){return zf(t.replace(/\+/g,"%20"))}function qf(t){return`${$f(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${$f(t)}=${$f(e[t])}`).join("")}`;var e}const Wf=/^[^\/()?;=#]+/;function Gf(t){const e=t.match(Wf);return e?e[0]:""}const Kf=/^[^=?&#]+/,Qf=/^[^?&#]+/;class Yf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rf([],{}):new Rf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Rf(t,e)),n}parseSegment(){const t=Gf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ff(zf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gf(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Gf(this.remaining);t&&(n=t,this.capture(n))}t[zf(e)]=zf(n)}parseQueryParam(t){const e=function(t){const e=t.match(Kf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Qf);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Uf(e),r=Uf(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Gf(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new Rf([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Zf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Jf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Jf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Xf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Xf(t,this._root).map(t=>t.value)}}function Jf(t,e){if(t===e.value)return e;for(const n of e.children){const e=Jf(t,n);if(e)return e}return null}function Xf(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Xf(t,n);if(i.length)return i.unshift(e),i}return[]}class tg{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function eg(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ng extends Zf{constructor(t,e){super(t),this.snapshot=e,lg(this,t)}toString(){return this.snapshot.toString()}}function ig(t,e){const n=function(t,e){const n=new sg([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ag("",new tg(n,[]))}(t,e),i=new ap([new Ff("",{})]),r=new ap({}),o=new ap({}),s=new ap({}),a=new ap(""),l=new rg(i,r,s,a,o,"primary",e,n.root);return l.snapshot=n.root,new ng(new tg(l,[]),n)}class rg{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(k(t=>bf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(k(t=>bf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function og(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class sg{constructor(t,e,n,i,r,o,s,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ag extends Zf{constructor(t,e){super(e),this.url=t,lg(this,e)}toString(){return cg(this._root)}}function lg(t,e){e.value._routerState=t,e.children.forEach(e=>lg(t,e))}function cg(t){const e=t.children.length>0?` { ${t.children.map(cg).join(", ")} } `:"";return`${t.value}${e}`}function ug(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),vf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),vf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function dg(t,e){var n,i;return vf(t.params,e.params)&&If(n=t.url,i=e.url)&&n.every((t,e)=>vf(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||dg(t.parent,e.parent))}function hg(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return hg(t,e,i);return hg(t,e)})}(t,e,n);return new tg(i,r)}{const n=t.retrieve(e.value);if(n){const t=n.route;return pg(e,t),t}{const n=new rg(new ap((i=e.value).url),new ap(i.params),new ap(i.queryParams),new ap(i.fragment),new ap(i.data),i.outlet,i.component,i),r=e.children.map(e=>hg(t,e));return new tg(n,r)}}var i}function pg(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)pg(t.children[n],e.children[n])}function fg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gg(t){return"object"==typeof t&&null!=t&&t.outlets}function mg(t,e,n,i,r){let o={};return i&&Pf(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ef(n.root===t?e:bg(n.root,t,e),o,r)}function bg(t,e,n){const i={};return Pf(t.children,(t,r)=>{i[r]=t===e?n:bg(t,e,n)}),new Rf(t.segments,i)}class _g{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fg(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(gg);if(i&&i!==xf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yg{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function vg(t,e,n){if(t||(t=new Rf([],{})),0===t.segments.length&&t.hasChildren())return Cg(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=n[i];if(gg(s))break;const a=""+s,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Og(a,l,e))return o;i+=2}else{if(!Og(a,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Rf(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Rf(t.segments.slice(i.pathIndex),t.children),Cg(e,0,r)}return i.match&&0===r.length?new Rf(t.segments,{}):i.match&&!t.hasChildren()?wg(t,e,n):i.match?Cg(t,0,r):wg(t,e,n)}function Cg(t,e,n){if(0===n.length)return new Rf(t.segments,{});{const i=function(t){return gg(t[0])?t[0].outlets:{primary:t}}(n),r={};return Pf(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=vg(t.children[i],e,n))}),Pf(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Rf(t.segments,r)}}function wg(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if(gg(o)){const t=xg(o.outlets);return new Rf(i,t)}if(0===r&&fg(n[0])){i.push(new Ff(t.segments[e].path,n[0])),r++;continue}const s=gg(o)?o.outlets.primary:""+o,a=r<n.length-1?n[r+1]:null;s&&a&&fg(a)?(i.push(new Ff(s,Pg(a))),r+=2):(i.push(new Ff(s,{})),r++)}return new Rf(i,{})}function xg(t){const e={};return Pf(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=wg(new Rf([],{}),0,t))}),e}function Pg(t){const e={};return Pf(t,(t,n)=>e[n]=""+t),e}function Og(t,e,n){return t==n.path&&vf(e,n.parameters)}class kg{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ug(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=eg(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),Pf(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=eg(t),r=t.value.component?n.children:e;Pf(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=eg(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new ff(t.value.snapshot))}),t.children.length&&this.forwardEvent(new hf(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(ug(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Sg(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Sg(t){ug(t.value),t.children.forEach(Sg)}class Mg{constructor(t,e){this.routes=t,this.module=e}}function Tg(t){return"function"==typeof t}function Eg(t){return t instanceof Ef}const Rg=Symbol("INITIAL_VALUE");function Fg(){return Rp(t=>hp(...t.map(t=>t.pipe(Ap(1),Np(Rg)))).pipe(jp((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Rg)return t;if(i===Rg&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Eg(i))return i}return t},t)},Rg),kh(t=>t!==Rg),k(t=>Eg(t)?t:!0===t),Ap(1)))}let Ig=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ms(0,"router-outlet")},directives:function(){return[xm]},encapsulation:2}),t})();function Ag(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Dg(i,Lg(e,i))}}function Dg(t,e){t.children&&Ag(t.children,e)}function Lg(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Bg(t){const e=t.children&&t.children.map(Bg),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ig),n}function Ng(t){return t.outlet||"primary"}class jg{constructor(t){this.segmentGroup=t||null}}class Vg{constructor(t){this.urlTree=t}}function Hg(t){return new _(e=>e.error(new jg(t)))}function $g(t){return new _(e=>e.error(new Vg(t)))}function zg(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ug{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(_l)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(k(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe($p(t=>{if(t instanceof Vg)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof jg)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(k(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe($p(t=>{if(t instanceof jg)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Rf([],{primary:t}):t;return new Ef(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(k(t=>new Rf([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Ph({});const n=[],i=[],r={};return Pf(t,(t,o)=>{const s=e(o,t).pipe(k(t=>r[o]=t));"primary"===o?n.push(s):i.push(s)}),Ph.apply(null,n.concat(i)).pipe(yp(),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?kh((e,n)=>t(e,n,i)):b,Cp(1),n?Mp(e):Pp(()=>new gp))}(),k(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,o){const s=function(t){return t.reduce((t,e)=>{const n=Ng(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(r)||s.set(r,[]);const a=n=>L(n).pipe(Oh(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe($p(t=>{if(t instanceof jg)return Ph(null);throw t}))),qp(t=>null!==t),$p(t=>{if(t instanceof gp||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return Ph(new Rf([],{}));throw new jg(e)}throw t}));return L(Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===r?n:n.pipe(k(()=>null),$p(()=>Ph(null)))})).pipe(t=>t.lift(new pp(void 0)),qp(),k(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return Ng(i)!==o&&""!==i.path?Hg(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Hg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?$g(r):this.lineralizeSegments(n,r).pipe(V(n=>{const r=new Rf(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=qg(e,i,r);if(!s)return Hg(e);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?$g(u):this.lineralizeSegments(i,u).pipe(V(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(k(t=>(n._loadedConfig=t,new Rf(i,{})))):Ph(new Rf(i,{}));const{matched:r,consumedSegments:o,lastChild:s}=qg(e,n,i);if(!r)return Hg(e);const a=i.slice(s);return this.getChildConfig(t,n,i).pipe(V(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:s}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>Gg(t,e,n)&&"primary"!==Ng(n))}(t,n,i)?{segmentGroup:Wg(new Rf(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==Ng(i)&&(n[Ng(i)]=new Rf([],{}));return n}(i,new Rf(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Gg(t,e,n))}(t,n,i)?{segmentGroup:Wg(new Rf(t.segments,function(t,e,n,i){const r={};for(const o of n)Gg(t,e,o)&&!i[Ng(o)]&&(r[Ng(o)]=new Rf([],{}));return Object.assign(Object.assign({},i),r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,i);return 0===s.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(k(t=>new Rf(o,t))):0===i.length&&0===s.length?Ph(new Rf(o,{})):this.expandSegment(n,r,i,s,"primary",!0).pipe(k(t=>new Rf(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Ph(new Mg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ph(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(V(n=>n?this.configLoader.load(t.injector,e).pipe(k(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(_f(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Ph(new Mg([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;return i&&0!==i.length?Ph(i.map(i=>{const r=t.get(i);let o;if(function(t){return t&&Tg(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!Tg(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return Of(o)})).pipe(Fg(),Gp(t=>{if(!Eg(t))return;const e=_f(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),k(t=>!0===t)):Ph(!0)}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Ph(n);if(i.numberOfChildren>1||!i.children.primary)return zg(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Ef(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Pf(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return Pf(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new Rf(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function qg(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||yf)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Wg(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Rf(t.segments.concat(e.segments),e.children)}return t}function Gg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Kg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Qg{constructor(t,e){this.component=t,this.route=e}}function Yg(t,e,n){const i=t._root;return Jg(i,e?e._root:null,n,[i.value])}function Zg(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Jg(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=eg(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!If(t.url,e.url);case"pathParamsOrQueryParamsChange":return!If(t.url,e.url)||!vf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dg(t,e)||!vf(t.queryParams,e.queryParams);case"paramsChange":default:return!dg(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Kg(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Jg(t,e,o.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Qg(a.outlet.component,s))}else s&&Xg(e,a,r),r.canActivateChecks.push(new Kg(i)),Jg(t,null,o.component?a?a.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),Pf(o,(t,e)=>Xg(t,n.getContext(e),r)),r}function Xg(t,e,n){const i=eg(t),r=t.value;Pf(i,(t,i)=>{Xg(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Qg(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function tm(t,e){return null!==t&&e&&e(new pf(t)),Ph(!0)}function em(t,e){return null!==t&&e&&e(new df(t)),Ph(!0)}function nm(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Ph(i.map(i=>_p(()=>{const r=Zg(i,e,n);let o;if(function(t){return t&&Tg(t.canActivate)}(r))o=Of(r.canActivate(e,t));else{if(!Tg(r))throw new Error("Invalid CanActivate guard");o=Of(r(e,t))}return o.pipe(qp())}))).pipe(Fg()):Ph(!0)}function im(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>_p(()=>Ph(e.guards.map(r=>{const o=Zg(r,e.node,n);let s;if(function(t){return t&&Tg(t.canActivateChild)}(o))s=Of(o.canActivateChild(i,t));else{if(!Tg(o))throw new Error("Invalid CanActivateChild guard");s=Of(o(i,t))}return s.pipe(qp())})).pipe(Fg())));return Ph(r).pipe(Fg())}class rm{}class om{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){try{const t=lm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new sg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new tg(n,e),r=new ag(this.url,i);return this.inheritParamsAndData(r._root),Ph(r)}catch(t){return new _(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=og(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Af(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,i)}catch(r){if(!(r instanceof rm))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new rm}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new rm;if((t.outlet||"primary")!==i)throw new rm;let r,o=[],s=[];if("**"===t.path){const o=n.length>0?xf(n).parameters:{};r=new sg(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,um(t),i,t.component,t,sm(e),am(e)+n.length,dm(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new rm;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||yf)(n,t,e);if(!i)throw new rm;const r={};Pf(i.posParams,(t,e)=>{r[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),r=new sg(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,um(t),i,t.component,t,sm(e),am(e)+o.length,dm(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=lm(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new tg(r,t)]}if(0===a.length&&0===c.length)return[new tg(r,[])];const u=this.processSegment(a,l,c,"primary");return[new tg(r,u)]}}function sm(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function am(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function lm(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>cm(t,e,n)&&"primary"!==Ng(n))}(t,n,i)){const r=new Rf(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Ng(o)){const n=new Rf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Ng(o)]=n}return r}(t,e,i,new Rf(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>cm(t,e,n))}(t,n,i)){const o=new Rf(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(cm(t,n,a)&&!r[Ng(a)]){const n=new Rf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ng(a)]=n}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Rf(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function cm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function um(t){return t.data||{}}function dm(t){return t.resolve||{}}function hm(t){return function(e){return e.pipe(Rp(e=>{const n=t(e);return n?L(n).pipe(k(()=>e)):L([e])}))}}class pm extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const fm=new qn("ROUTES");class gm{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(k(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Mg(wf(i.injector.get(fm)).map(Bg),i)}))}loadModuleFactory(t){return"string"==typeof t?L(this.loader.load(t)):Of(t()).pipe(V(t=>t instanceof yl?Ph(t):L(this.compiler.compileModuleAsync(t))))}}class mm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bm,this.attachRef=null}}class bm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new mm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class _m{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ym(t){throw t}function vm(t,e,n){return e.parse("/")}function Cm(t,e){return Ph(null)}let wm=(()=>{class t{constructor(t,e,n,i,r,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=ym,this.malformedUriErrorHandler=vm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cm,afterPreactivation:Cm},this.urlHandlingStrategy=new _m,this.routeReuseStrategy=new pm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=r.get(_l),this.console=r.get(xc);const l=r.get(Lc);this.isNgZoneEnabled=l instanceof Lc,this.resetConfig(a),this.currentUrlTree=new Ef(new Rf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gm(o,s,t=>this.triggerEvent(new cf(t)),t=>this.triggerEvent(new uf(t))),this.routerState=ig(this.currentUrlTree,this.rootComponentType),this.transitions=new ap({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(kh(t=>0!==t.id),k(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Rp(t=>{let n=!1,i=!1;return Ph(t).pipe(Gp(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rp(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ph(t).pipe(Rp(t=>{const n=this.transitions.getValue();return e.next(new Xp(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?mp:[t]}),Rp(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Rp(t=>function(t,e,n,i,r){return new Ug(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,s).pipe(k(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Gp(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(o){return o.pipe(V(o=>function(t,e,n,i,r="emptyOnly",o="legacy"){return new om(t,e,n,i,r,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(k(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Gp(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Gp(t=>{const n=new rf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=t,a=new Xp(n,this.serializeUrl(i),r,o);e.next(a);const l=ig(i,this.rootComponentType).snapshot;return Ph(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),mp}),hm(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Gp(t=>{const e=new of(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),k(t=>Object.assign(Object.assign({},t),{guards:Yg(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(V(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Ph(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return L(t).pipe(V(t=>function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ph(o.map(o=>{const s=Zg(o,e,r);let a;if(function(t){return t&&Tg(t.canDeactivate)}(s))a=Of(s.canDeactivate(t,e,n,i));else{if(!Tg(s))throw new Error("Invalid CanDeactivate guard");a=Of(s(t,e,n,i))}return a.pipe(qp())})).pipe(Fg()):Ph(!0)}(t.component,t.route,n,e,i)),qp(t=>!0!==t,!0))}(s,i,r,t).pipe(V(n=>n&&"boolean"==typeof n?function(t,e,n,i){return L(e).pipe(Oh(e=>L([em(e.route.parent,i),tm(e.route,i),im(t,e.path,n),nm(t,e.route,n)]).pipe(yp(),qp(t=>!0!==t,!0))),qp(t=>!0!==t,!0))}(i,o,t,e):Ph(n)),k(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Gp(t=>{if(Eg(t.guardsResult)){const e=_f(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Gp(t=>{const e=new sf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),kh(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ef(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),hm(t=>{if(t.guards.canActivateChecks.length)return Ph(t).pipe(Gp(t=>{const e=new af(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Rp(t=>{let n=!1;return Ph(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,function(t){return t.pipe(V(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Ph(t);let o=0;return L(n).pipe(Oh(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Ph({});const o={};return L(r).pipe(V(r=>function(t,e,n,i){const r=Zg(t,e,i);return Of(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Gp(t=>{o[r]=t}))),Cp(1),V(()=>Object.keys(o).length===r.length?Ph(o):mp))}(t._resolve,t,e,i).pipe(k(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),og(t,n).resolve),null)))}(t.route,e,i,r)),Gp(()=>o++),Cp(1),V(e=>o===n.length?Ph(t):mp))}))}),Gp({next:()=>n=!0,complete:()=>{if(!n){const n=new ef(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Gp(t=>{const e=new lf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),hm(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),k(t=>{const e=function(t,e,n){const i=hg(t,e._root,n?n._root:void 0);return new ng(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Gp(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),k(t=>(new kg(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Gp({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new ef(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Yp(r))),$p(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=Eg(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new ef(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new nf(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var r;return mp}));var r,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ag(t),this.config=t.map(Bg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,l=s?this.currentUrlTree.fragment:r;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return mg(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _g(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return Pf(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new _g(n,e,i)}(n);if(o.toRoot())return mg(e.root,new Rf([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new yg(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new yg(t,t===e.root,0)}const i=fg(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new yg(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Cg(s.segmentGroup,s.index,o.commands):vg(s.segmentGroup,s.index,o.commands);return mg(s.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,c,l)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Eg(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Eg(t))return kf(this.currentUrlTree,t,e);const n=this.parseUrl(t);return kf(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new tf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let l,c,u;r?(l=r.resolve,c=r.reject,u=r.promise):u=new Promise((t,e)=>{l=t,c=e});const d=++this.navigationId;return this.setTransition({id:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(hi(Gn),hi(Df),hi(bm),hi(Ru),hi(rs),hi(ou),hi(Ic),hi(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),xm=(()=>{class t{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new ql,this.deactivateEvents=new ql,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Pm(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(xs(bm),xs(Cl),xs(Da),zn("name"),xs(ll))},t.\u0275dir=qt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Pm{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===rg?this.route:t===bm?this.childContexts:this.parent.get(t,e)}}class Om{}class km{preload(t,e){return Ph(null)}}let Sm=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new gm(e,n,e=>t.triggerEvent(new cf(e)),e=>t.triggerEvent(new uf(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(kh(t=>t instanceof tf),Oh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(_l);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return L(n).pipe(z(),k(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(V(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(hi(wm),hi(ou),hi(Ic),hi(rs),hi(Om))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Mm=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(hi(wm),hi(qd),hi(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Tm=new qn("ROUTER_CONFIGURATION"),Em=new qn("ROUTER_FORROOT_GUARD"),Rm=[Ru,{provide:Df,useClass:Lf},{provide:wm,useFactory:function(t,e,n,i,r,o,s,a={},l,c){const u=new wm(null,t,e,n,i,r,o,wf(s));if(l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing){const t=gu();u.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u},deps:[Df,bm,Ru,rs,ou,Ic,fm,Tm,[class{},new ii],[class{},new ii]]},bm,{provide:rg,useFactory:function(t){return t.routerState.root},deps:[wm]},{provide:ou,useClass:lu},Sm,km,class{preload(t,e){return e().pipe($p(()=>Ph(null)))}},{provide:Tm,useValue:{enableTracing:!1}}];function Fm(){return new Jc("Router",wm)}let Im=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Rm,Bm(e),{provide:Em,useFactory:Lm,deps:[[wm,new ii,new oi]]},{provide:Tm,useValue:n||{}},{provide:ku,useFactory:Dm,deps:[bu,[new ni(Mu),new ii],Tm]},{provide:Mm,useFactory:Am,deps:[wm,qd,Tm]},{provide:Om,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:km},{provide:Jc,multi:!0,useFactory:Fm},[Nm,{provide:gc,multi:!0,useFactory:jm,deps:[Nm]},{provide:Hm,useFactory:Vm,deps:[Nm]},{provide:wc,multi:!0,useExisting:Hm}]]}}static forChild(e){return{ngModule:t,providers:[Bm(e)]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(Em,8),hi(wm,8))}}),t})();function Am(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Mm(t,e,n)}function Dm(t,e,n={}){return n.useHash?new Eu(t,e):new Tu(t,e)}function Lm(t){return"guarded"}function Bm(t){return[{provide:Wn,multi:!0,useValue:t},{provide:fm,multi:!0,useValue:t}]}let Nm=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new x}appInitializer(){return this.injector.get(yu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(wm),i=this.injector.get(Tm);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Ph(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Tm),n=this.injector.get(Sm),i=this.injector.get(Mm),r=this.injector.get(wm),o=this.injector.get(iu);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(hi(rs))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function jm(t){return t.appInitializer.bind(t)}function Vm(t){return t.bootstrapListener.bind(t)}const Hm=new qn("Router Initializer");function $m(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}l((i=i.apply(t,e||[])).next())})}class zm extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class Um extends zm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class qm extends Um{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let Wm=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Gm extends Wm{constructor(t,e=Wm.now){super(t,()=>Gm.delegate&&Gm.delegate!==this?Gm.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Gm.delegate&&Gm.delegate!==this?Gm.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class Km extends Gm{}const Qm=new Km(qm),Ym=Qm;let Zm=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Ph(this.value);case"E":return t=this.error,new _(e=>e.error(t));case"C":return bp()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class Jm{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Xm(t,this.scheduler,this.delay))}}class Xm extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Xm.dispatch,this.delay,new tb(t,this.destination)))}_next(t){this.scheduleMessage(Zm.createNext(t))}_error(t){this.scheduleMessage(Zm.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Zm.createComplete()),this.unsubscribe()}}class tb{constructor(t,e){this.notification=t,this.destination=e}}function eb(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new nb(t,n))}}class nb{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new ib(t,this.observables,this.project))}}class ib extends lp{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++)this.add(up(this,e[r],void 0,r))}notifyNext(t,e,n){this.values[n]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function rb(t,e){return n=>n.lift(new ob(t,e))}class ob{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new sb(t,this.compare,this.keySelector))}}class sb extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const ab={};function lb(t,e){if(ab[t]=(ab[t]||0)+1,"function"==typeof e)return cb(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return cb(t,()=>({type:t}));case"props":return cb(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function cb(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const ub="@ngrx/store/init";let db=(()=>{class t extends ap{constructor(){super({type:ub})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const hb=[db],pb=new qn("@ngrx/store Internal Root Guard"),fb=new qn("@ngrx/store Internal Initial State"),gb=new qn("@ngrx/store Initial State"),mb=new qn("@ngrx/store Reducer Factory"),bb=new qn("@ngrx/store Internal Reducer Factory Provider"),_b=new qn("@ngrx/store Initial Reducers"),yb=new qn("@ngrx/store Internal Initial Reducers"),vb=new qn("@ngrx/store Store Features"),Cb=new qn("@ngrx/store Internal Store Reducers"),wb=new qn("@ngrx/store Internal Feature Reducers"),xb=new qn("@ngrx/store Internal Feature Configs"),Pb=new qn("@ngrx/store Internal Store Features"),Ob=new qn("@ngrx/store Internal Feature Reducers Token"),kb=new qn("@ngrx/store Feature Reducers"),Sb=new qn("@ngrx/store User Provided Meta Reducers"),Mb=new qn("@ngrx/store Meta Reducers"),Tb=new qn("@ngrx/store Internal Resolved Meta Reducers"),Eb=new qn("@ngrx/store User Runtime Checks Config"),Rb=new qn("@ngrx/store Internal User Runtime Checks Config"),Fb=new qn("@ngrx/store Internal Runtime Checks"),Ib=new qn("@ngrx/store Check if Action types are unique");function Ab(t,e={}){const n=Object.keys(t),i={};for(let o=0;o<n.length;o++){const e=n[o];"function"==typeof t[e]&&(i[e]=t[e])}const r=Object.keys(i);return function(t,n){t=void 0===t?e:t;let o=!1;const s={};for(let e=0;e<r.length;e++){const a=r[e],l=t[a],c=(0,i[a])(l,n);s[a]=c,o=o||c!==l}return o?s:t}}function Db(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function Lb(t,e){return Array.isArray(e)&&e.length>0&&(t=Db.apply(null,[...e,t])),(e,n)=>{const i=t(e);return(t,e)=>i(t=void 0===t?n:t,e)}}class Bb extends _{}class Nb extends db{}let jb=(()=>{class t extends ap{constructor(t,e,n,i){super(i(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=i}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:i,initialState:r,key:o})=>{const s="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?Db(...t):t=>t;return(t,n)=>(t=e(t),(e,i)=>t(e=void 0===e?n:e,i))}(i)(e,r):Lb(n,i)(e,r);return t[o]=s,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(hi(Nb),hi(gb),hi(_b),hi(mb))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Vb=[jb,{provide:Bb,useExisting:jb},{provide:Nb,useExisting:db}];let Hb=(()=>{class t extends x{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return $b(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const $b=$n(Hb),zb=[Hb];class Ub extends _{}let qb=(()=>{class t extends ap{constructor(t,e,n,i){super(i);const r=t.pipe(function(t,e=0){return function(n){return n.lift(new Jm(t,e))}}(Qm)).pipe(eb(e)).pipe(jp(Wb,{state:i}));this.stateSubscription=r.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(hi(db),hi(Bb),hi(Hb),hi(gb))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t.INIT=ub,t})();function Wb(t={state:void 0},[e,n]){const{state:i}=t;return{state:n(i,e),action:e}}const Gb=[qb,{provide:Ub,useExisting:qb}];let Kb=(()=>{class t extends _{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return Yb.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(hi(Ub),hi(db),hi(jb))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Qb=[Kb];function Yb(t,e,...n){return function(i){let r;if("string"==typeof t){const o=[e,...n].filter(Boolean);r=i.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>k(function(t,e){return n=>{let i=n;for(let r=0;r<e;r++){const e=null!=i?i[t[r]]:void 0;if(void 0===e)return;i=e}return i}}(t,e))(n)}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);r=i.pipe(k(n=>t(n,e)))}return r.pipe(rb())}}function Zb(t,e){return t===e}function Jb(t,e,n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!0;return!1}function Xb(t,e=Zb,n=Zb){let i,r=null,o=null;return{memoized:function(){if(void 0!==i)return i.result;if(!r)return o=t.apply(null,arguments),r=arguments,o;if(!Jb(arguments,r,e))return o;const s=t.apply(null,arguments);return r=arguments,n(o,s)?o:(o=s,s)},reset:function(){r=null,o=null},setResult:function(t){i={result:t}},clearResult:function(){i=void 0}}}function t_(...t){return function(t,e={stateFn:e_}){return function(...n){let i=n;if(Array.isArray(i[0])){const[t,...e]=i;i=[...t,...e]}const r=i.slice(0,i.length-1),o=i[i.length-1],s=r.filter(t=>t.release&&"function"==typeof t.release),a=t(function(...t){return o.apply(null,t)}),l=Xb(function(t,n){return e.stateFn.apply(null,[t,r,n,a])});return Object.assign(l.memoized,{release:function(){l.reset(),a.reset(),s.forEach(t=>t.release())},projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}(Xb)(...t)}function e_(t,e,n,i){if(void 0===n){const n=e.map(e=>e(t));return i.memoized.apply(null,n)}const r=e.map(e=>e(t,n));return i.memoized.apply(null,[...r,n])}function n_(t){return t_(e=>{const n=e[t];return!Yc()||t in e||console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},t=>t)}const i_="https://ngrx.io/guide/store/configuration/runtime-checks";function r_(t){return void 0===t}function o_(t){return null===t}function s_(t){return Array.isArray(t)}function a_(t){return"object"==typeof t&&null!==t}function l_(t){return"function"==typeof t}function c_(t){Object.freeze(t);const e=l_(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!a_(e)&&!l_(e)||Object.isFrozen(e)||c_(e)}}),t}function u_(t,e=[]){return(r_(t)||o_(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,i)=>{if(n)return n;const r=t[i];return function(t){return l_(t)&&t.hasOwnProperty("\u0275cmp")}(r)?n:!(r_(r)||o_(r)||function(t){return"number"==typeof t}(r)||function(t){return"boolean"==typeof t}(r)||function(t){return"string"==typeof t}(r)||s_(r))&&(function(t){if(!function(t){return a_(t)&&!s_(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(r)?u_(r,[...e,i]):{path:[...e,i],value:r})},!1)}function d_(t,e){if(!1===t)return;const n=t.path.join("."),i=new Error(`Detected unserializable ${e} at "${n}". ${i_}#strict${e}serializability`);throw i.value=t.value,i.unserializablePath=n,i}function h_(t){return Yc()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function p_({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,i){e.action(i)&&d_(u_(i),"action");const r=t(n,i);return e.state()&&d_(u_(r),"state"),r}}(n,{action:e=>t&&!g_(e),state:()=>e}):n}function f_({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,i){const r=e.action(i)?c_(i):i,o=t(n,r);return e.state()?c_(o):o}}(n,{action:e=>t&&!g_(e),state:()=>e}):n}function g_(t){return t.type.startsWith("@ngrx")}function m_({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,i){if(e.action(i)&&!Lc.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${i_}#strictactionwithinngzone`);return t(n,i)}}(e,{action:e=>t&&!g_(e)}):e}function b_(){return[{provide:Ib,multi:!0,deps:[Fb],useFactory:y_}]}function __(t){return t}function y_(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(ab).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${i_}#strictactiontypeuniqueness`)}let v_=(()=>{class t{constructor(t,e,n,i,r,o){}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(db),hi(Bb),hi(Hb),hi(Kb),hi(pb,8),hi(Ib,8))}}),t})(),C_=(()=>{class t{constructor(t,e,n,i,r){this.features=t,this.featureReducers=e,this.reducerManager=n;const o=t.map((t,n)=>{const i=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:i,initialState:k_(t.initialState)})});n.addFeatures(o)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(Pb),hi(kb),hi(jb),hi(v_),hi(Ib,8))}}),t})(),w_=(()=>{class t{static forRoot(t,e={}){return{ngModule:v_,providers:[{provide:pb,useFactory:M_,deps:[[Kb,new ii,new oi]]},{provide:fb,useValue:e.initialState},{provide:gb,useFactory:k_,deps:[fb]},{provide:yb,useValue:t},{provide:Cb,useExisting:t instanceof qn?t:yb},{provide:_b,deps:[rs,yb,[new ni(Cb)]],useFactory:x_},{provide:Sb,useValue:e.metaReducers?e.metaReducers:[]},{provide:Tb,deps:[Mb,Sb],useFactory:S_},{provide:bb,useValue:e.reducerFactory?e.reducerFactory:Ab},{provide:mb,deps:[bb,Tb],useFactory:Lb},hb,Vb,zb,Gb,Qb,(n=e.runtimeChecks,[{provide:Rb,useValue:n},{provide:Eb,useFactory:__,deps:[Rb]},{provide:Fb,deps:[Eb],useFactory:h_},{provide:Mb,multi:!0,deps:[Fb],useFactory:f_},{provide:Mb,multi:!0,deps:[Fb],useFactory:p_},{provide:Mb,multi:!0,deps:[Fb],useFactory:m_}]),b_()]};var n}static forFeature(t,e,n={}){return{ngModule:C_,providers:[{provide:xb,multi:!0,useValue:t instanceof Object?{}:n},{provide:vb,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:n instanceof qn||!n.reducerFactory?Ab:n.reducerFactory,metaReducers:n instanceof qn||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof qn||!n.initialState?void 0:n.initialState}},{provide:Pb,deps:[rs,xb,vb],useFactory:P_},{provide:wb,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:Ob,multi:!0,useExisting:e instanceof qn?e:wb},{provide:kb,multi:!0,deps:[rs,wb,[new ni(Ob)]],useFactory:O_},b_()]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();function x_(t,e){return e instanceof qn?t.get(e):e}function P_(t,e,n){return n.map((n,i)=>{if(e[i]instanceof qn){const r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:Ab,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function O_(t,e){return e.map(e=>e instanceof qn?t.get(e):e)}function k_(t){return"function"==typeof t?t():t}function S_(t,e){return t.concat(e)}function M_(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function T_(...t){return{reducer:t.pop(),types:t.map(t=>t.type)}}function E_(t,...e){const n=new Map;for(let i of e)for(let t of i.types){const e=n.get(t);n.set(t,e?(t,n)=>i.reducer(e(t,n),n):i.reducer)}return function(e=t,i){const r=n.get(i.type);return r?r(e,i):e}}const R_=lb("[Tree] Load preflop trees"),F_=lb("[Status] Load preflop trees success",{_as:"props",_p:void 0}),I_=lb("[Status] Load preflop trees error",{_as:"props",_p:void 0}),A_=lb("[Tree] Load postflop trees"),D_=lb("[Status] Load postflop trees success",{_as:"props",_p:void 0}),L_=lb("[Status] Load postflop trees error",{_as:"props",_p:void 0}),B_=lb("[Tree] Load preflop tree",{_as:"props",_p:void 0}),N_=lb("[Status] Load preflop tree success",{_as:"props",_p:void 0}),j_=lb("[Status] Load preflop tree error",{_as:"props",_p:void 0}),V_=lb("[Tree] Load postflop tree",{_as:"props",_p:void 0}),H_=lb("[Status] Load postflop tree success",{_as:"props",_p:void 0}),$_=lb("[Status] Load postflop tree error",{_as:"props",_p:void 0}),z_=lb("[Tree] Clear current tree");var U_=function(t){return t.EP="EP",t.EP1="EP1",t.EP2="EP2",t.MP="MP",t.CO="CO",t.BTN="BTN",t.SB="SB",t.BB="BB",t}({});const q_=t=>t?"STR":"STRADDLE";function W_(t,e){if(e)switch(t){case U_.SB:return 10;case U_.BB:return 20;case U_.EP:return 30;case U_.EP1:return 40;case U_.EP2:return 50;case U_.MP:return 60;case U_.CO:return 70;case U_.BTN:return 80}else switch(t){case U_.EP:return 10;case U_.EP1:return 20;case U_.EP2:return 30;case U_.MP:return 40;case U_.CO:return 50;case U_.BTN:return 60;case U_.SB:return 70;case U_.BB:return 80}}function G_(t,e){return[...t].sort((t,n)=>W_(t,e)-W_(n,e))}function K_(t){return[...t].sort((t,e)=>-1*(W_(t,!0)-W_(e,!0)))}var Q_=function(t){return t.FOLD="FOLD",t.CALL="CALL",t.CHECK="CHECK",t.MIN="MIN",t.MR="MR",t.RAISE="RAISE",t.RAISECHIP="RAISECHIP",t.ALLIN="ALLIN",t.flop="flop",t.turn="turn",t.river="river",t.root="root",t}({});const Y_=t=>[Q_.root,Q_.flop,Q_.turn,Q_.river].includes(t.type),Z_=t=>!Y_(t),J_=(t,e)=>t.type===Q_.RAISE&&e&&e[t.amount]?Object.assign(Object.assign({},t),{amount:e[t.amount],rfiLabel:null}):t;var X_=function(t){return t.preflop="preflop",t.postflop="postflop",t}({});const ty={"PLO-HU":0,"PLO5C-HU":0,COIN:5,PLO:10,PLO5C:10,"PLO5C-SH":11,GG:11,GG7:11.01,PLOHSA:11.05,"PLO-Apps":11.5,"PLO-Archive":12,MTT:11.1,MTTA:21,"6M-MTT-ICM":22,"PLO-MULTI":20,"PLO5C-MULTI":20,F24:19,"PLO-8M":30};function ey(t){switch(t){case"PLO-HU":return"Heads Up Pokerstars";case"PLO":return"6-Max Pokerstars";case"GG":return"6-Max GG Poker";case"GG7":return"7-Max GG Poker";case"PLOHSA":return"6-Max High Stakes Ante";case"MTT":return"6-Max Rake Free";case"MTTA":return"6-Max MTT";case"PLO-Archive":return"6-Max Archive";case"PLO-8M":return"8-max Live PLO";case"PLO-Apps":return"6-Max Apps";case"8M-MTTA":return"8-Max MTT";case"6M-MTT-ICM":return"6-Max MTT ICM";case"COIN":return"4-Max CoinPoker";case"PLO5C-HU":return"Heads Up";case"PLO5C-SH":return"Shorthanded";case"PLO5C":return"6-Max";case"PLO5-COIN":return"4-Max CoinPoker"}}function ny(t){switch(t){case"PLO-HU":return"Heads Up";case"PLO":return"6-Max One-on-one";case"PLO-MULTI":return"6-Max Multiway";case"MTTA":return"6-Max MTT";case"F24":return"6-Max Framework";case"COIN":return"4-Max CoinPoker";case"PLO5C-HU":return"Heads Up";case"PLO5C-SH":return"Shorthanded";case"PLO5C":return"6-Max One-on-one";case"PLO5C-MULTI":return"6-Max Multiway";case"PLO5-COIN":return"4-Max CoinPoker"}}function iy(t){if(t.startsWith("6M"))return"";if(t.startsWith("PLO5KPA"))return"";if(t.startsWith("GG7"))return"";switch(t){case"F24_500":return"Framework";case"GG50_200":return"PLO50-200";case"GG":case"GG500_2000":case"GG7_500_2000":return"PLO500-2000";case"GG500_2000x25":case"GG500_2000S":case"GG500_2000Sx3":case"GG50_200-10CDL":case"GG50_200-20CDL":return"";case"PLO50v2":return"PLO50";case"PLO500v2":return"PLO500";case"PLO5000x25":return"";case"8M-25-25-50":return"25-25-50";case"8M-25-25":return"25-25";case"8M-1-1-CO-2R":return"5-5 w/ 10 CO Rock";case"8M-1-1-BTN-2R":return"5-5 w/ 10 BTN Rock";case"MTT":case"MTTx25":case"MTTA":case"MTTAx25":case"MTTAL":case"8M-MTTA":case"PLO100C":case"PLO100CL":case"PLO1000C":case"PLO1000CL":case"PLO5000C":case"PLO5000CL":return"";default:return t}}const ry=t=>"PLO-MULTI"===t||"PLO-MULTI4"===t||"PLO5C-MULTI"===t,oy=(t,e,n,i)=>{var r;if(e&&(null==t?void 0:t.amount)){const o=!n&&i,s=t.amount===e.replaceAmountWithRfiValue||(null===(r=e.replaceAmountsWithRfiValue)||void 0===r?void 0:r.includes(t.amount));return o&&!!e.rfiValue&&(t.type===Q_.RAISE||t.type===Q_.RAISECHIP)&&s}return!1};function sy(t,e,n){if(t){const i=t.filter(t=>e===t.flop&&(null!=n?n:"").startsWith(t.nodePrefix)).sort((t,e)=>e.nodePrefix.length-t.nodePrefix.length)[0];if(i)return i.factor}}const ay={LMP:0,LIMP:0,SRP:1,"3BP":2,"4BP":3},ly=(t,e)=>{if(t.icmStacks)return[U_.EP,U_.EP1,U_.EP2,U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB].map(e=>t.icmStacks[e]).filter(t=>!!t).join(" - ");if(t.type===X_.preflop){if(t.label){const n=""+(e?"":iy(t.profile));return`${n?n+" - ":""}${t.label}`}return`${e?"":iy(t.profile)+" - "}${t.stack}bb`}{const n=t,i=""+(e?"":iy(t.profile)),r=i?i+" - ":"";if(ry(t.category))return`${e?"":r}${t.stack}bb - ${n.multiwayLabel}`;{const i=K_(n.activePlayers).join(" vs. ");return`${e?"":r}${t.stack}bb - ${i} - ${n.preflop.type.toUpperCase()}`}}};function cy(t){return[].concat(...t)}var uy=function(t){return t.NodeTraining="NodeTraining",t.RandomBoardTraining="RandomBoardTraining",t.MultiStreetTraining="MultiStreetTraining",t.RangeExport="RangeExport",t.ThemeToggle="ThemeToggle",t.Skills="Skills",t.Favorites="Favorites",t.CustomSims="CustomSims",t}({});function dy(t){let e;return t.pipe(Ap(1)).subscribe(t=>e=t),e}function hy(t){return t?t.next?t.next.map(t=>t.rangeId).sort().join("-"):t.code:""}const py=E_({preflop:[],postflop:[],currentTree:null,isLoadingTree:!1},T_(F_,(t,{preflopTrees:e})=>Object.assign(Object.assign({},t),{preflop:e.categories})),T_(D_,(t,{postflopTrees:e})=>Object.assign(Object.assign({},t),{postflop:e.categories})),T_(B_,t=>Object.assign(Object.assign({},t),{currentTree:null,isLoadingTree:!0})),T_(N_,(t,{tree:e})=>Object.assign(Object.assign({},t),{isLoadingTree:!1,currentTree:e})),T_(V_,t=>Object.assign(Object.assign({},t),{currentTree:null,isLoadingTree:!0})),T_(H_,(t,{tree:e})=>Object.assign(Object.assign({},t),{isLoadingTree:!1,currentTree:e})),T_(z_,t=>Object.assign(Object.assign({},t),{isLoadingTree:!1,currentTree:null})));function fy(t,e){return py(t,e)}const gy=n_("tree"),my=t_(gy,t=>t.preflop),by=t_(gy,t=>t.postflop),_y=t_(gy,t=>t.isLoadingTree),yy=t_(gy,t=>t.currentTree),vy=(t_(gy,t=>{for(const e of t.preflop)for(const t of e.profiles){const e=t.trees.find(t=>t.isDefault);if(e)return e}}),t=>t_(gy,e=>{for(const n of e.preflop)for(const e of n.profiles){const n=e.trees.find(e=>e.key===t);if(n)return n}return null})),Cy=t=>t_(gy,e=>{for(const n of e.postflop){const e=n.trees.find(e=>e.key===t);if(e)return e}return null}),wy=lb("[Range] Set filter",{_as:"props",_p:void 0}),xy=lb("[Range] Reset filter"),Py=lb("[Range] Set current range",{_as:"props",_p:void 0}),Oy=lb("[Range] Clear current range"),ky=lb("[Range] Set current range frequencies",{_as:"props",_p:void 0}),Sy=lb("[Range] Clear current range frequencies"),My=E_({currentFilter:null,currentRangeKey:null,currentRangeFrequencies:null},T_(wy,(t,e)=>Object.assign(Object.assign({},t),{currentFilter:e.filter})),T_(xy,t=>Object.assign(Object.assign({},t),{currentFilter:void 0})),T_(Oy,t=>Object.assign(Object.assign({},t),{currentRangeKey:null,currentRangeFrequencies:null})),T_(Py,(t,e)=>Object.assign(Object.assign({},t),{currentRangeKey:e.rangeKey})),T_(Sy,t=>Object.assign(Object.assign({},t),{currentRangeFrequencies:null})),T_(ky,(t,e)=>Object.assign(Object.assign({},t),{currentRangeFrequencies:Object.assign({},e)})));function Ty(t,e){return My(t,e)}const Ey=n_("range"),Ry=t_(Ey,t=>t.currentFilter),Fy=t_(Ey,t=>{var e;return(null===(e=t.currentFilter)||void 0===e?void 0:e.length)>0}),Iy=t_(Ey,t=>t.currentRangeKey),Ay=t_(Ey,t=>t.currentRangeFrequencies),Dy=lb("[Auth] Login via google",{_as:"props",_p:void 0}),Ly=lb("[Auth] Login",{_as:"props",_p:void 0}),By=lb("[Auth] Login success",{_as:"props",_p:void 0}),Ny=lb("[Auth] Login error",{_as:"props",_p:void 0}),jy=lb("[Auth] Refresh user"),Vy=lb("[Auth] logout",{_as:"props",_p:void 0}),Hy=lb("[Auth] Clear error"),$y=lb("[Auth] Do nothing"),zy=E_({isLoggingIn:!1,isLoggedIn:!1},T_(Ly,t=>Object.assign(Object.assign({},t),{error:null,isLoggingIn:!0,isLoggedIn:!1})),T_(Dy,t=>Object.assign(Object.assign({},t),{error:null,isLoggingIn:!0,isLoggedIn:!1})),T_(By,(t,e)=>Object.assign(Object.assign({},t),{error:null,user:e.user,isLoggingIn:!1,isLoggedIn:!0})),T_(Ny,(t,e)=>Object.assign(Object.assign({},t),{error:{message:e.message,code:e.code},isLoggingIn:!1,isLoggedIn:!1})),T_(Vy,t=>Object.assign(Object.assign({},t),{user:null,error:null,isLoggingIn:!1,isLoggedIn:!1})),T_(Hy,t=>Object.assign(Object.assign({},t),{isLoggingIn:!1,error:null})),T_($y,t=>Object.assign(Object.assign({},t),{isLoggingIn:!1})));function Uy(t,e){return zy(t,e)}const qy=n_("auth"),Wy=t_(qy,t=>!!(null==t?void 0:t.user)&&(null==t?void 0:t.isLoggedIn)),Gy=t_(qy,t=>null==t?void 0:t.isLoggingIn),Ky=t_(qy,t=>null==t?void 0:t.user),Qy=t_(qy,t=>null==t?void 0:t.error),Yy=lb("[Favorites] Load preflop buckets"),Zy=lb("[Favorites] Create user favorite",{_as:"props",_p:void 0}),Jy=lb("[Favorites] Delete user favorite",{_as:"props",_p:void 0}),Xy=lb("[Favorites] Set user favorites",{_as:"props",_p:void 0}),tv=E_({favorites:[]},T_(Xy,(t,e)=>Object.assign(Object.assign({},t),{favorites:e.favorites})));function ev(t,e){return tv(t,e)}const nv=n_("favorites"),iv=t_(nv,t=>t.favorites),rv=(t,e)=>t_(nv,n=>{var i,r;return null===(r=null===(i=n.favorites)||void 0===i?void 0:i.find(n=>n.path===t&&sv(n.queryParams,e)))||void 0===r?void 0:r.key}),ov=(t,e)=>t_(nv,n=>{var i;return!!(null===(i=n.favorites)||void 0===i?void 0:i.find(n=>n.path===t&&sv(n.queryParams,e)))}),sv=(t,e)=>{const n=Object.keys(t).length===Object.keys(e).length,i=Object.keys(t).every(n=>{var i,r;return(null===(i=t[n])||void 0===i?void 0:i.toString())===(null===(r=e[n])||void 0===r?void 0:r.toString())});return n&&i};function av(t,e){const n=Math.min(...t.buckets.map(t=>t.id));return`${t.key}.${e.id-n+1}`}function lv(t){const e=[];return t.buckets?e.push(...t.buckets):t.children&&t.children.forEach(t=>e.push(...lv(t))),e}const cv=lb("[Buckets] Load preflop buckets"),uv=lb("[Buckets] Load preflop buckets success",{_as:"props",_p:void 0}),dv=lb("[Buckets] Load preflop buckets error",{_as:"props",_p:void 0}),hv=lb("[Buckets] Load postflop buckets"),pv=lb("[Buckets] Load postflop buckets success",{_as:"props",_p:void 0}),fv=lb("[Buckets] Load postflop buckets error",{_as:"props",_p:void 0}),gv=lb("[Buckets] Update bucket selection",{_as:"props",_p:void 0}),mv=lb("[Buckets] Update bucket group selection",{_as:"props",_p:void 0}),bv=lb("[Buckets] Clear selection"),_v=lb("[Buckets] Clear preflop bucket lookup"),yv=lb("[Buckets] Clear postflop bucket lookup"),vv=E_({preflopGroups:null,postflopGroups:null,selection:{groups:[],buckets:[]}},T_(uv,(t,e)=>Object.assign(Object.assign({},t),{preflopGroups:e.groups})),T_(pv,(t,e)=>Object.assign(Object.assign({},t),{postflopGroups:e.groups})),T_(gv,(t,e)=>Object.assign(Object.assign({},t),{selection:Object.assign(Object.assign({},t.selection),{buckets:e.buckets})})),T_(mv,(t,e)=>Object.assign(Object.assign({},t),{selection:Object.assign(Object.assign({},t.selection),{groups:e.groups})})),T_(bv,t=>Object.assign(Object.assign({},t),{selection:{groups:[],buckets:[]}})));function Cv(t,e){return vv(t,e)}const wv=n_("bucket"),xv=t_(wv,t=>t.preflopGroups),Pv=t_(wv,t=>t.postflopGroups),Ov=t_(xv,t=>{const e=[];if(t)for(const n of t)e.push(...Ev(n));return e}),kv=t_(Pv,t=>{const e=[];if(t)for(const n of t)e.push(...Ev(n));return e}),Sv=t_(wv,t=>t.selection),Mv=t_(wv,t=>t.selection.buckets.length>0||t.selection.groups.length>0),Tv=t=>t_(Sv,xv,Pv,({groups:e,buckets:n},i,r)=>{const o=t?r:i,s=e.filter(t=>!e.find(e=>e.key!==t.key&&t.key.startsWith(e.key))),a=n.filter(t=>!s.find(e=>e.buckets?e.buckets.find(e=>e.id===t.id):e.children.some(e=>e.buckets.find(e=>e.id===t.id))));if(t){const t=t=>`(${t.syntax})`,e=[...s,...a];if(e.length>=1)return"("+(1===e.length?e[0].syntax:[...s.map(t),...a.map(t)].join(","))+")"}else{const t=[...s.map(t=>"$C"+t.key),...a.map(t=>"$C"+av(function(t,e){for(const n of e)if(n.buckets){if(n.buckets.find(e=>e.id===t.id))return n}else for(const e of n.children)if(e.buckets&&e.buckets.find(e=>e.id===t.id))return e}(t,o),t))];if(t.length>=1)return"("+(1===t.length?t[0]:[t].join(","))+")"}return""});function Ev(t){const e=[],n=lv(t).map(t=>t.id);if(e.push({token:"$C"+t.key,bucketIds:n}),t.buckets)for(const i of t.buckets)e.push({token:"$C"+av(t,i),bucketIds:[i.id]});else t.children&&t.children.forEach(t=>e.push(...Ev(t)));return e}var Rv=function(t){return t[t.Free=1]="Free",t[t.Full=2]="Full",t}({});const Fv=lb("[Status] Reset status"),Iv=lb("[Status] Set status",{_as:"props",_p:void 0}),Av=E_({status:"",rangeLimitExceededForDate:null},T_(Fv,t=>Object.assign(Object.assign({},t),{status:"",isLoading:!1})),T_(Iv,(t,{status:e,rangeLimitExceededForDate:n})=>Object.assign(Object.assign({},t),{status:e,rangeLimitExceededForDate:n})));function Dv(t,e){return Av(t,e)}const Lv=n_("status"),Bv=t_(Lv,t=>t.status),Nv=(t_(Lv,t=>t.rangeLimitExceededForDate&&Nv(t.rangeLimitExceededForDate)),t=>{const e=new Date;return t.getDate()==e.getDate()&&t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()}),jv=lb("[App] Load app info"),Vv=lb("[App] Load app info success",{_as:"props",_p:void 0}),Hv=lb("[App] Load app info error",{_as:"props",_p:void 0}),$v=E_({info:{releaseNotes:[],features:[]}},T_(Vv,(t,{info:e})=>Object.assign(Object.assign({},t),{info:e})));function zv(t,e){return $v(t,e)}const Uv={min:null,max:null},qv=lb("[Settings] Load settings"),Wv=lb("[Settings] Load settings success",{_as:"props",_p:void 0}),Gv=lb("[Settings] Load settings error",{_as:"props",_p:void 0}),Kv=lb("[Settings] Update settings for training",{_as:"props",_p:void 0}),Qv=lb("[Settings] Update settings for release notes",{_as:"props",_p:void 0}),Yv=E_({settings:{training:{minFrequency:85,minWeight:.5,evSpread:Uv,selectBalanced:!0}}},T_(Wv,(t,{settings:e})=>{var n;return(null===(n=e.training)||void 0===n?void 0:n.minFrequency)?Object.assign(Object.assign({},t),{settings:e}):Object.assign(Object.assign({},t),{settings:Object.assign(Object.assign({},e),{training:Object.assign(Object.assign({},e.training),{minFrequency:85})})})}));function Zv(t,e){return Yv(t,e)}const Jv=n_("settings"),Xv=t_(Jv,t=>{var e;return null===(e=t.settings)||void 0===e?void 0:e.training}),tC=t=>t_(Jv,e=>{var n,i;return t?null===(n=e.settings)||void 0===n?void 0:n.fivecardReleaseNotesLastSeen:null===(i=e.settings)||void 0===i?void 0:i.releaseNotesLastSeen}),eC=n_("appInfo"),nC=t_(eC,t=>{var e;return null===(e=t.info)||void 0===e?void 0:e.releaseNotes}),iC=t_(eC,t=>{var e;return null===(e=t.info)||void 0===e?void 0:e.features}),rC=t_(nC,tC(!1),(t,e)=>oC(t,e));function oC(t,e){if((null==t?void 0:t.length)>0){const n=[...t].sort((t,e)=>new Date(e.dateReleased).getTime()-new Date(t.dateReleased).getTime());return e?n.filter(t=>!e||new Date(t.dateReleased).getTime()>new Date(e).getTime())[0]:n[0]}return null}function sC(t,e){return new _(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const l=L(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,s++),r[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==i&&c||(s===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const aC=new qn("NgValueAccessor"),lC={provide:aC,useExisting:rt(()=>cC),multi:!0};let cC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(xs(Ha),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Ds("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[Fa([lC])]}),t})();const uC={provide:aC,useExisting:rt(()=>hC),multi:!0},dC=new qn("CompositionEventMode");let hC=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=gu()?gu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(xs(Ha),xs(ja),xs(dC,8))},t.\u0275dir=qt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Ds("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Fa([uC])]}),t})();function pC(t){return null==t||0===t.length}function fC(t){return null!=t&&"number"==typeof t.length}const gC=new qn("NgValidators"),mC=new qn("NgAsyncValidators"),bC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _C{static min(t){return e=>{if(pC(e.value)||pC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(pC(e.value)||pC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return pC(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return pC(t.value)||bC.test(t.value)?null:{email:!0}}static minLength(t){return e=>pC(e.value)||!fC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>fC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return _C.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(pC(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(yC);return 0==e.length?null:function(t){return CC(wC(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(yC);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return sC(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return sC(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return sC(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(k(t=>e(...t)))}return sC(t,null)}(wC(t,e).map(vC)).pipe(k(CC))}}}function yC(t){return null!=t}function vC(t){const e=Is(t)?L(t):t;return As(e),e}function CC(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function wC(t,e){return e.map(e=>e(t))}function xC(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function PC(t){return null!=t?_C.compose(xC(t)):null}function OC(t){return null!=t?_C.composeAsync(xC(t)):null}function kC(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function SC(t){return t._rawValidators}function MC(t){return t._rawAsyncValidators}let TC=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=PC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=OC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t}),t})(),EC=(()=>{class t extends TC{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return RC(e||t)},t.\u0275dir=qt({type:t,features:[ss]}),t})();const RC=$n(EC);class FC extends TC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class IC{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let AC=(()=>{class t extends IC{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(xs(FC,2))},t.\u0275dir=qt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Js("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ss]}),t})(),DC=(()=>{class t extends IC{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(xs(EC,2))},t.\u0275dir=qt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Js("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ss]}),t})();const LC={provide:aC,useExisting:rt(()=>BC),multi:!0};let BC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(xs(Ha),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Ds("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Fa([LC])]}),t})();const NC={provide:aC,useExisting:rt(()=>VC),multi:!0};let jC=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),VC=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(FC),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(xs(Ha),xs(ja),xs(jC),xs(rs))},t.\u0275dir=qt({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Ds("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Fa([NC])]}),t})();const HC={provide:aC,useExisting:rt(()=>$C),multi:!0};let $C=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(xs(Ha),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Ds("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Fa([HC])]}),t})();const zC={provide:aC,useExisting:rt(()=>UC),multi:!0};let UC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(xs(Ha),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Ds("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fa([zC])]}),t})();const qC={provide:aC,useExisting:rt(()=>WC),multi:!0};let WC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(xs(Ha),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Ds("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fa([qC])]}),t})();function GC(t,e){return[...e.path,t]}function KC(t,e){YC(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&JC(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&JC(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function QC(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function YC(t,e,n){const i=SC(t);null!==e.validator?t.setValidators(kC(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=MC(t);if(null!==e.asyncValidator?t.setAsyncValidators(kC(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){const n=()=>t.updateValueAndValidity();QC(e._rawValidators,n),QC(e._rawAsyncValidators,n)}}function ZC(t,e,n){if(null!==t){if(null!==e.validator){const n=SC(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=MC(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};QC(e._rawValidators,t),QC(e._rawAsyncValidators,t)}}function JC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function XC(t,e){YC(t,e,!1)}function tw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const ew=[cC,$C,BC,UC,WC,VC];function nw(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function iw(t,e){if(!e)return null;Array.isArray(e);let n=void 0,i=void 0,r=void 0;return e.forEach(t=>{var e;t.constructor===hC?n=t:(e=t,ew.some(t=>e.constructor===t)?i=t:r=t)}),r||i||n||null}function rw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ow(t){return(cw(t)?t.validators:t)||null}function sw(t){return Array.isArray(t)?PC(t):t||null}function aw(t,e){return(cw(e)?e.asyncValidators:t)||null}function lw(t){return Array.isArray(t)?OC(t):t||null}function cw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class uw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=sw(this._rawValidators),this._composedAsyncValidatorFn=lw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=sw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=lw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=vC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof hw?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof pw&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ql,this.statusChanges=new ql}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dw extends uw{constructor(t=null,e,n){super(ow(e),aw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){rw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){rw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class hw extends uw{constructor(t,e,n){super(ow(e),aw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof dw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class pw extends uw{constructor(t,e,n){super(ow(e),aw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof dw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const fw={provide:EC,useExisting:rt(()=>mw)},gw=(()=>Promise.resolve(null))();let mw=(()=>{class t extends EC{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new ql,this.form=new hw({},PC(t),OC(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){gw.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),KC(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){gw.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),rw(this._directives,t)})}addFormGroup(t){gw.then(()=>{const e=this._findContainer(t.path),n=new hw({});XC(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){gw.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){gw.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,nw(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(xs(gC,10),xs(mC,10))},t.\u0275dir=qt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ds("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fa([fw]),ss]}),t})();const bw={provide:FC,useExisting:rt(()=>yw)},_w=(()=>Promise.resolve(null))();let yw=(()=>{class t extends FC{constructor(t,e,n,i){super(),this.control=new dw,this._registered=!1,this.update=new ql,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=iw(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),tw(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?GC(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){KC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){_w.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;_w.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(xs(EC,9),xs(gC,10),xs(mC,10),xs(aC,10))},t.\u0275dir=qt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fa([bw]),ss,ae]}),t})(),vw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Cw=new qn("NgModelWithFormControlWarning"),ww={provide:FC,useExisting:rt(()=>xw)};let xw=(()=>{class t extends FC{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new ql,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=iw(0,n)}set isDisabled(t){}ngOnChanges(t){this._isControlChanged(t)&&(KC(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),tw(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(xs(gC,10),xs(mC,10),xs(aC,10),xs(Cw,8))},t.\u0275dir=qt({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Fa([ww]),ss,ae]}),t._ngModelWarningSentOnce=!1,t})();const Pw={provide:EC,useExisting:rt(()=>Ow)};let Ow=(()=>{class t extends EC{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new ql,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return KC(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){rw(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);XC(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);XC(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,nw(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),ZC(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&KC(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){YC(this.form,this,!1),this._oldForm&&ZC(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(xs(gC,10),xs(mC,10))},t.\u0275dir=qt({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Ds("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fa([Pw]),ss,ae]}),t})();const kw={provide:FC,useExisting:rt(()=>Sw)};let Sw=(()=>{class t extends FC{constructor(t,e,n,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new ql,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=iw(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),tw(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return GC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(xs(EC,13),xs(gC,10),xs(mC,10),xs(aC,10),xs(Cw,8))},t.\u0275dir=qt({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fa([kw]),ss,ae]}),t._ngModelWarningSentOnce=!1,t})(),Mw=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),Tw=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new hw(n,{asyncValidators:r,updateOn:o,validators:i})}control(t,e,n){return new dw(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new pw(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof dw||t instanceof hw||t instanceof pw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Ew=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[jC],imports:[Mw]}),t})(),Rw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Cw,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Tw,jC],imports:[Mw]}),t})();class Fw extends x{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Iw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let o;if(this.closed)throw new v;if(this.isStopped||this.hasError?o=d.EMPTY:(this.observers.push(t),o=new C(this,t)),i&&t.add(t=new Xm(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Ym).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let o=0;for(;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}class Iw{constructor(t,e){this.time=t,this.value=e}}class Aw extends x{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),d.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),d.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}class Dw{}let Lw=(()=>{class t extends class{constructor(){}loadScript(t,e,n,i=null){if("undefined"!=typeof document&&!document.getElementById(t)){let t=document.createElement("script");t.async=!0,t.src=e,t.onload=n,i||(i=document.head),i.appendChild(t)}}}{constructor(t,e={scope:"email"}){super(),this.clientId=t,this.initOptions=e}initialize(){return new Promise((e,n)=>{try{this.loadScript(t.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign(Object.assign({},this.initOptions),{client_id:this.clientId})),this.auth2.then(()=>{e()}).catch(t=>{n(t)})})})}catch(i){n(i)}})}getLoginStatus(e){return new Promise((n,i)=>{if(this.auth2.isSignedIn.get()){let t=new Dw;const i=this.auth2.currentUser.get().getBasicProfile();if(t.id=i.getId(),t.name=i.getName(),t.email=i.getEmail(),t.photoUrl=i.getImageUrl(),t.firstName=i.getGivenName(),t.lastName=i.getFamilyName(),t.response=i,e&&e.refreshToken)this.auth2.currentUser.get().reloadAuthResponse().then(e=>{t.authToken=e.access_token,t.idToken=e.id_token,n(t)});else{const e=this.auth2.currentUser.get().getAuthResponse(!0);t.authToken=e.access_token,t.idToken=e.id_token,n(t)}}else i("No user is currently logged in with "+t.PROVIDER_ID)})}signIn(t){const e=Object.assign(Object.assign({},this.initOptions),t);return new Promise((n,i)=>{(e&&e.offline_access?this.auth2.grantOfflineAccess(t):this.auth2.signIn(t)).then(t=>{let e=new Dw;if(t&&t.code)e.authorizationCode=t.code;else{let t=this.auth2.currentUser.get().getBasicProfile(),n=this.auth2.currentUser.get().getAuthResponse(!0).access_token,i=this.auth2.currentUser.get().getAuthResponse(!0).id_token;e.id=t.getId(),e.name=t.getName(),e.email=t.getEmail(),e.photoUrl=t.getImageUrl(),e.firstName=t.getGivenName(),e.lastName=t.getFamilyName(),e.authToken=n,e.idToken=i,e.response=t}n(e)},t=>{i(t)}).catch(t=>{i(t)})})}signOut(t){return new Promise((e,n)=>{let i;i=t?this.auth2.disconnect():this.auth2.signOut(),i.then(t=>{t?n(t):e()}).catch(t=>{n(t)})})}}return t.PROVIDER_ID="GOOGLE",t})(),Bw=(()=>{class t{constructor(t){this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new Fw(1),this.initialized=!1,this._initState=new Aw,t instanceof Promise?t.then(t=>{this.initialize(t)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:e=console.error}=t;t.providers.forEach(t=>{this.providers.set(t.id,t.provider)}),Promise.all(Array.from(this.providers.values()).map(t=>t.initialize())).then(()=>{if(this.autoLogin){const t=[];let e=!1;this.providers.forEach((n,i)=>{let r=n.getLoginStatus();t.push(r),r.then(t=>{t.provider=i,this._user=t,this._authState.next(t),e=!0}).catch(console.debug)}),Promise.all(t).catch(()=>{e||(this._user=null,this._authState.next(null))})}}).catch(t=>{e(t)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}refreshAuthToken(e){return new Promise((n,i)=>{if(this.initialized)if(e!==Lw.PROVIDER_ID)i(t.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const r=this.providers.get(e);r?r.getLoginStatus({refreshToken:!0}).then(t=>{t.provider=e,this._user=t,this._authState.next(t),n()}).catch(t=>{i(t)}):i(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(t.ERR_NOT_INITIALIZED)})}signIn(e,n){return new Promise((i,r)=>{if(this.initialized){let o=this.providers.get(e);o?o.signIn(n).then(t=>{t.provider=e,i(t),this._user=t,this._authState.next(t)}).catch(t=>{r(t)}):r(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(t.ERR_NOT_INITIALIZED)})}signOut(e=!1){return new Promise((n,i)=>{if(this.initialized)if(this._user){let r=this.providers.get(this._user.provider);r?r.signOut(e).then(()=>{n(),this._user=null,this._authState.next(null)}).catch(t=>{i(t)}):i(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(t.ERR_NOT_LOGGED_IN);else i(t.ERR_NOT_INITIALIZED)})}}return t.\u0275fac=function(e){return new(e||t)(hi("SocialAuthServiceConfig"))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",t.ERR_NOT_LOGGED_IN="Not logged in",t.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",t.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",t})(),Nw=(()=>{class t{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(e){return{ngModule:t,providers:[Bw,{provide:"SocialAuthServiceConfig",useValue:e}]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(t,12))},providers:[Bw],imports:[[Ud]]}),t})();function jw(t){return new Promise(e=>setTimeout(e,t))}function Vw(t){return null!=t&&""+t!="false"}function Hw(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function $w(t){return Array.isArray(t)?t:[t]}function zw(t){return null==t?"":"string"==typeof t?t:t+"px"}function Uw(t){return t instanceof ja?t.nativeElement:t}function qw(t,e,n,r){return i(n)&&(r=n,n=void 0),r?qw(t,e,n).pipe(k(t=>l(t)?r(...t):r(t))):new _(i=>{Ww(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function Ww(t,e,n,i,r){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),o=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),o=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),o=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)Ww(t[o],e,n,i,r)}i.add(o)}class Gw extends Um{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}class Kw extends Gm{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Qw=new Kw(Gw);let Yw=1;const Zw=(()=>Promise.resolve())(),Jw={};function Xw(t){return t in Jw&&(delete Jw[t],!0)}const tx={setImmediate(t){const e=Yw++;return Jw[e]=!0,Zw.then(()=>Xw(e)&&t()),e},clearImmediate(t){Xw(t)}};class ex extends Um{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=tx.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(tx.clearImmediate(e),t.scheduled=void 0)}}class nx extends Gm{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const ix=new nx(ex);function rx(t){return!!t&&(t instanceof _||"function"==typeof t.lift&&"function"==typeof t.subscribe)}const ox=new Gm(Um);class sx{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ax(t,this.durationSelector))}}class ax extends N{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=j(n,new B(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function lx(t){return!l(t)&&t-parseFloat(t)+1>=0}function cx(t=0,e,n){let i=-1;return lx(e)?i=Number(e)<1?1:Number(e):O(e)&&(n=e),O(n)||(n=ox),new _(e=>{const r=lx(t)?t:+t-n.now();return n.schedule(ux,r,{index:0,period:i,subscriber:e})})}function ux(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function dx(t,e=ox){return n=()=>cx(t,e),function(t){return t.lift(new sx(n))};var n}function hx(t){return e=>e.lift(new px(t))}class px{constructor(t){this.notifier=t}call(t,e){const n=new fx(t),i=j(this.notifier,new B(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class fx extends N{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class gx{call(t,e){return e.subscribe(new mx(t))}}class mx extends f{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}let bx;try{bx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(VW){bx=!1}let _x,yx=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(hi(Cc))},t.\u0275prov=at({factory:function(){return new t(hi(Cc))},token:t,providedIn:"root"}),t})(),vx=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();const Cx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function wx(){if(_x)return _x;if("object"!=typeof document||!document)return _x=new Set(Cx),_x;let t=document.createElement("input");return _x=new Set(Cx.filter(e=>(t.setAttribute("type",e),t.type===e))),_x}let xx,Px,Ox,kx;function Sx(t){return function(){if(null==xx&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xx=!0}))}finally{xx=xx||!1}return xx}()?t:!!t.capture}function Mx(){if("object"!=typeof document||!document)return 0;if(null==Px){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),Px=0,0===t.scrollLeft&&(t.scrollLeft=1,Px=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Px}function Tx(t){if(function(){if(null==kx){const t="undefined"!=typeof document?document.head:null;kx=!(!t||!t.createShadowRoot&&!t.attachShadow)}return kx}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const Ex=new qn("cdk-dir-doc",{providedIn:"root",factory:function(){return pi(mu)}});let Rx=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new ql,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(hi(Ex,8))},t.\u0275prov=at({factory:function(){return new t(hi(Ex,8))},token:t,providedIn:"root"}),t})(),Fx=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();function Ix(t){return t&&"function"==typeof t.connect}class Ax extends class{}{constructor(t){super(),this._data=t}connect(){return rx(this._data)?this._data:Ph(this._data)}disconnect(){}}class Dx{applyChanges(t,e,n,i,r){t.forEachOperation((t,i,o)=>{let s,a;if(null==t.previousIndex){const r=n(t,i,o);s=e.createEmbeddedView(r.templateRef,r.context,r.index),a=1}else null==o?(e.remove(i),a=3):(s=e.get(i),e.move(s,o),a=2);r&&r({context:null==s?void 0:s.context,operation:a,record:t})})}detach(){}}class Lx{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,n,i,r){t.forEachOperation((t,o,s)=>{let a,l;null==t.previousIndex?(a=this._insertView(()=>n(t,o,s),s,e,i(t)),l=a?1:0):null==s?(this._detachAndCacheView(o,e),l=3):(a=this._moveView(o,s,e,i(t)),l=2),r&&r({context:null==a?void 0:a.context,operation:l,record:t})})}detach(){for(const t of this._viewCache)t.destroy()}_insertView(t,e,n,i){let r=this._insertViewFromCache(e,n);if(r)return void(r.context.$implicit=i);const o=t();return n.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(t,e){const n=this._detachView(t,e);this._maybeCacheView(n,e)}_moveView(t,e,n,i){const r=n.get(t);return n.move(r,e),r.context.$implicit=i,r}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const n=e.indexOf(t);-1===n?t.destroy():e.remove(n)}}_insertViewFromCache(t,e){const n=this._viewCache.pop();return n&&e.insert(n,t),n||null}_detachView(t,e){return e.detach(t)}}class Bx{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new x,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let Nx=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})();const jx=new qn("_ViewRepeater"),Vx=["contentWrapper"],Hx=["*"],$x=new qn("VIRTUAL_SCROLL_STRATEGY");class zx{constructor(t,e,n){this._scrolledIndexChange=new x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(rb()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,n){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},n=this._viewport.getViewportSize(),i=this._viewport.getDataLength();let r=this._viewport.measureScrollOffset(),o=r/this._itemSize;if(e.end>i){const t=Math.ceil(n/this._itemSize),s=Math.max(0,Math.min(o,i-t));o!=s&&(o=s,r=s*this._itemSize,e.start=Math.floor(o)),e.end=Math.max(0,Math.min(i,e.start+t))}const s=r-e.start*this._itemSize;if(s<this._minBufferPx&&0!=e.start){const t=Math.ceil((this._maxBufferPx-s)/this._itemSize);e.start=Math.max(0,e.start-t),e.end=Math.min(i,Math.ceil(o+(n+this._minBufferPx)/this._itemSize))}else{const t=e.end*this._itemSize-(r+n);if(t<this._minBufferPx&&e.end!=i){const n=Math.ceil((this._maxBufferPx-t)/this._itemSize);n>0&&(e.end=Math.min(i,e.end+n),e.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(o))}}function Ux(t){return t._scrollStrategy}let qx=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new zx(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=Hw(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=Hw(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=Hw(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Fa([{provide:$x,useFactory:Ux,deps:[rt(()=>t)]}]),ae]}),t})(),Wx=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(dx(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ph()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(kh(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(hi(Lc),hi(yx),hi(mu,8))},t.\u0275prov=at({factory:function(){return new t(hi(Lc),hi(yx),hi(mu,8))},token:t,providedIn:"root"}),t})(),Gx=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new x,this._elementScrolled=new _(t=>this.ngZone.runOutsideAngular(()=>qw(this.elementRef.nativeElement,"scroll").pipe(hx(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=Mx()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==Mx()?t.left=t.right:1==Mx()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;!function(){if(null==Ox)if("object"==typeof document&&document||(Ox=!1),"scrollBehavior"in document.documentElement.style)Ox=!0;else{const t=Element.prototype.scrollTo;Ox=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}return Ox}()?(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left)):e.scrollTo(t)}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==Mx()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==Mx()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(Wx),xs(Lc),xs(Rx,8))},t.\u0275dir=qt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Kx=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new x,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(dx(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(hi(yx),hi(Lc),hi(mu,8))},t.\u0275prov=at({factory:function(){return new t(hi(yx),hi(Lc),hi(mu,8))},token:t,providedIn:"root"}),t})();const Qx="undefined"!=typeof requestAnimationFrame?Qw:ix;let Yx=(()=>{class t extends Gx{constructor(t,e,n,i,r,o,s){super(t,o,n,r),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=i,this._detachedSubject=new x,this._renderedRangeSubject=new x,this._orientation="vertical",this.scrolledIndexChange=new _(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=d.EMPTY,this._viewportChanges=s.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Np(null),dx(0,Qx)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(hx(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,n;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const n="horizontal"==this.orientation,i=n?"X":"Y";let r=`translate${i}(${Number((n&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(r+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=r&&(this._renderedContentTransform=r,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs(Lc),xs($x,8),xs(Rx,8),xs(Wx),xs(Kx))},t.\u0275cmp=Nt({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){if(1&t&&rc(Vx,!0),2&t){let t;ic(t=uc())&&(e._contentWrapper=t.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&Js("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Fa([{provide:Gx,useExisting:t}]),ss],ngContentSelectors:Hx,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&($s(),ks(0,"div",0,1),zs(2),Ss(),Ms(3,"div",2)),2&t&&(Ur(3),Zs("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function Zx(t,e,n){if(!n.getBoundingClientRect)return 0;const i=n.getBoundingClientRect();return"horizontal"===t?"start"===e?i.left:i.right:"start"===e?i.top:i.bottom}let Jx=(()=>{class t{constructor(t,e,n,i,r,o){this._viewContainerRef=t,this._template=e,this._differs=n,this._viewRepeater=i,this._viewport=r,this.viewChange=new x,this._dataSourceChanges=new x,this.dataStream=this._dataSourceChanges.pipe(Np(null),t=>t.lift(new gx),Rp(([t,e])=>this._changeDataSource(t,e)),function(t,e,n){let i;return i={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,o,s=0,a=!1,l=!1;return function(c){let u;s++,!r||a?(a=!1,r=new Fw(t,e,i),u=r.subscribe(this),o=c.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,o=void 0,r.complete()}})):u=r.subscribe(this),this.add(()=>{s--,u.unsubscribe(),o&&!l&&n&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(i))}()),this._differ=null,this._needsUpdate=!1,this._destroyed=new x,this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(hx(this._destroyed)).subscribe(t=>{this._renderedRange=t,o.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,Ix(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new Ax(rx(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(e,n)=>t(e+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=Hw(t)}measureRangeSize(t,e){if(t.start>=t.end)return 0;const n=t.start-this._renderedRange.start,i=t.end-t.start;let r,o;for(let s=0;s<i;s++){const t=this._viewContainerRef.get(s+n);if(t&&t.rootNodes.length){r=o=t.rootNodes[0];break}}for(let s=i-1;s>-1;s--){const t=this._viewContainerRef.get(s+n);if(t&&t.rootNodes.length){o=t.rootNodes[t.rootNodes.length-1];break}}return r&&o?Zx(e,"end",o)-Zx(e,"start",r):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}_changeDataSource(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):Ph()}_updateContext(){const t=this._data.length;let e=this._viewContainerRef.length;for(;e--;){let n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(t,e,n)=>this._getEmbeddedViewArgs(t,n),t=>t.item),t.forEachIdentityChange(t=>{this._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const t=this._viewContainerRef.get(n);t.context.index=this._renderedRange.start+n,t.context.count=e,this._updateComputedContextProperties(t.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,e){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:e}}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(fl),xs(nl),xs(jx),xs(Yx,4),xs(Lc))},t.\u0275dir=qt({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[Fa([{provide:jx,useClass:Lx}])]}),t})(),Xx=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),tP=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Fx,vx,Xx],Fx,Xx]}),t})();class eP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class nP extends eP{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class iP extends eP{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class rP extends eP{constructor(t){super(),this.element=t instanceof ja?t.nativeElement:t}}class oP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof nP?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof iP?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof rP?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class sP extends oP{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let aP=(()=>{class t extends oP{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new ql,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(xs(Da),xs(Cl),xs(mu))},t.\u0275dir=qt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ss]}),t})(),lP=(()=>{class t extends aP{}return t.\u0275fac=function(e){return cP(e||t)},t.\u0275dir=qt({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[Fa([{provide:aP,useExisting:t}]),ss]}),t})();const cP=$n(lP);let uP=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();class dP{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new hP(t,this.predicate,this.inclusive))}}class hP extends f{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}function pP(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class fP{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=zw(-this._previousScrollPosition.left),t.style.top=zw(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class gP{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class mP{enable(){}disable(){}attach(){}}function bP(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function _P(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class yP{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();bP(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vP=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new mP,this.close=t=>new gP(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new fP(this._viewportRuler,this._document),this.reposition=t=>new yP(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(hi(Wx),hi(Kx),hi(Lc),hi(mu))},t.\u0275prov=at({factory:function(){return new t(hi(Wx),hi(Kx),hi(Lc),hi(mu))},token:t,providedIn:"root"}),t})();class CP{constructor(t){if(this.scrollStrategy=new mP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class wP{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class xP{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let PP=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(hi(mu))},t.\u0275prov=at({factory:function(){return new t(hi(mu))},token:t,providedIn:"root"}),t})(),OP=(()=>{class t extends PP{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(hi(mu))},t.\u0275prov=at({factory:function(){return new t(hi(mu))},token:t,providedIn:"root"}),t})(),kP=(()=>{class t extends PP{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(hi(mu),hi(yx))},t.\u0275prov=at({factory:function(){return new t(hi(mu),hi(yx))},token:t,providedIn:"root"}),t})();const SP=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let MP=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){if(this._platform.isBrowser||SP){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),SP?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(hi(mu),hi(yx))},t.\u0275prov=at({factory:function(){return new t(hi(mu),hi(yx))},token:t,providedIn:"root"}),t})();class TP{constructor(t,e,n,i,r,o,s,a,l){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new x,this._attachments=new x,this._detachments=new x,this._locationChanges=d.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new x,this._outsidePointerEvents=new x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ap(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=zw(this._config.width),t.height=zw(this._config.height),t.minWidth=zw(this._config.minWidth),t.minHeight=zw(this._config.minHeight),t.maxWidth=zw(this._config.maxWidth),t.maxHeight=zw(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;$w(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(hx(q(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const EP=/([A-Za-z%]+)$/;class RP{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new x,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),l=this._getOverlayFit(a,e,n,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&FP(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:o}=t,s=this._getOffset(i,"x"),a=this._getOffset(i,"y");s&&(r+=s),a&&(o+=a);let l=0-o,c=o+e.height-n.height,u=this._subtractOverflows(e.width,0-r,r+e.width-n.width),d=this._subtractOverflows(e.height,l,c),h=u*d;return{visibleArea:h,isCompletelyWithinViewport:e.width*e.height===h,fitsInViewportVertically:d===e.height,fitsInViewportHorizontally:u==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,o=IP(this._overlayRef.getConfig().minHeight),s=IP(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.width,0),o=Math.max(t.y+e.height-i.height,0),s=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let l=0,c=0;return l=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,c=e.height<=i.height?s||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:c},{x:t.x+l,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new xP(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,l,c;if("top"===e.overlayY)o=t.y,r=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,o=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:o,left:l,bottom:s,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=zw(n.height),i.top=zw(n.top),i.bottom=zw(n.bottom),i.width=zw(n.width),i.left=zw(n.left),i.right=zw(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=zw(t)),r&&(i.maxWidth=zw(r))}this._lastBoundingBoxSize=n,FP(this._boundingBox.style,i)}_resetBoundingBoxStyles(){FP(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){FP(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();FP(n,this._getExactOverlayY(e,t,i)),FP(n,this._getExactOverlayX(e,t,i))}else n.position="static";let s="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),l&&(s+=`translateY(${l}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=zw(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=zw(o.maxWidth):r&&(n.maxWidth="")),FP(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=zw(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=zw(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_P(t,n),isOriginOutsideView:bP(t,n),isOverlayClipped:_P(e,n),isOverlayOutsideView:bP(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$w(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ja)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function FP(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function IP(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(EP);return n&&"px"!==n?null:parseFloat(e)}return t||null}class AP{constructor(t,e,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new RP(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new wP(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class DP{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:o,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let LP=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new DP}connectedTo(t,e,n){return new AP(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new RP(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(hi(Kx),hi(mu),hi(yx),hi(MP))},t.\u0275prov=at({factory:function(){return new t(hi(Kx),hi(mu),hi(yx),hi(MP))},token:t,providedIn:"root"}),t})(),BP=0,NP=(()=>{class t{constructor(t,e,n,i,r,o,s,a,l,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new CP(t);return r.direction=r.direction||this._directionality.value,new TP(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+BP++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(iu)),new sP(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(hi(vP),hi(MP),hi(Da),hi(LP),hi(OP),hi(rs),hi(Lc),hi(mu),hi(Rx),hi(Ru),hi(kP))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const jP=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],VP=new qn("cdk-connected-overlay-scroll-strategy");let HP=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(xs(ja))},t.\u0275dir=qt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),$P=(()=>{class t{constructor(t,e,n,i,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=d.EMPTY,this._attachSubscription=d.EMPTY,this._detachSubscription=d.EMPTY,this._positionSubscription=d.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new ql,this.positionChange=new ql,this.attach=new ql,this.detach=new ql,this.overlayKeydown=new ql,this.overlayOutsideClick=new ql,this._templatePortal=new iP(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Vw(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Vw(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Vw(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Vw(t)}get push(){return this._push}set push(t){this._push=Vw(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=jP);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||pP(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new CP({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new dP(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(xs(NP),xs(fl),xs(Cl),xs(VP),xs(Rx,8))},t.\u0275dir=qt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ae]}),t})();const zP={provide:VP,deps:[NP],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let UP=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[NP,zP],imports:[[Fx,uP,tP],tP]}),t})();function qP(t,e=ox){return n=>n.lift(new WP(t,e))}class WP{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new GP(t,this.dueTime,this.scheduler))}}class GP extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(KP,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function KP(t){t.debouncedNext()}let QP=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})(),YP=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Uw(t);return new _(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new x,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(hi(QP))},t.\u0275prov=at({factory:function(){return new t(hi(QP))},token:t,providedIn:"root"}),t})(),ZP=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new ql,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Vw(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Hw(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(qP(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(xs(YP),xs(ja),xs(Lc))},t.\u0275dir=qt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),JP=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[QP]}),t})();function XP(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}let tO=0;const eO=new Map;let nO=null,iO=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),eO.set(e,{messageElement:e,referenceCount:0})):eO.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(e&&this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=eO.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}nO&&0===nO.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");nO&&this._deleteMessagesContainer(),eO.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),nO.appendChild(e),eO.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id="cdk-describedby-message-"+tO++)}_deleteMessageElement(t){const e=eO.get(t),n=e&&e.messageElement;nO&&n&&nO.removeChild(n),eO.delete(t)}_createMessagesContainer(){if(!nO){const t=!this._platform||!this._platform.EDGE&&!this._platform.TRIDENT,e=this._document.getElementById("cdk-describedby-message-container");e&&e.parentNode&&e.parentNode.removeChild(e),nO=this._document.createElement("div"),nO.id="cdk-describedby-message-container",nO.classList.add("cdk-visually-hidden"),nO.setAttribute("aria-hidden",t+""),this._document.body.appendChild(nO)}}_deleteMessagesContainer(){nO&&nO.parentNode&&(nO.parentNode.removeChild(nO),nO=null)}_removeCdkDescribedByReferenceIds(t){const e=XP(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=eO.get(e);!function(t,e,n){const i=XP(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(t,e){const n=eO.get(e);n.referenceCount--,function(t,e,n){const i=XP(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(t,e){const n=XP(t,"aria-describedby"),i=eO.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":(""+e).trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(hi(mu),hi(yx))},t.\u0275prov=at({factory:function(){return new t(hi(mu),hi(yx))},token:t,providedIn:"root"}),t})();class rO{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new x,this._typeaheadSubscription=d.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new x,this.change=new x,t instanceof Gl&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Gp(t=>this._pressedLetters.push(t)),qP(t),kh(()=>this._pressedLetters.length>0),k(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||pP(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Gl?this._items.toArray():this._items}}class oO extends rO{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class sO extends rO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let aO=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(VW){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===cO(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=cO(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||lO(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(hi(yx))},t.\u0275prov=at({factory:function(){return new t(hi(yx))},token:t,providedIn:"root"}),t})();function lO(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function cO(t){if(!lO(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class uO{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ap(1)).subscribe(t)}}let dO=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new uO(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(hi(aO),hi(Lc),hi(mu))},t.\u0275prov=at({factory:function(){return new t(hi(aO),hi(Lc),hi(mu))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const hO=new qn("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),pO=new qn("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let fO=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(hi(hO,8),hi(Lc),hi(mu),hi(pO,8))},t.\u0275prov=at({factory:function(){return new t(hi(hO,8),hi(Lc),hi(mu),hi(pO,8))},token:t,providedIn:"root"}),t})();function gO(t){return 0===t.buttons}const mO=new qn("cdk-focus-monitor-default-options"),bO=Sx({passive:!0,capture:!0});let _O=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=gO(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=yO(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=yO(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=Uw(t);if(!this._platform.isBrowser||1!==n.nodeType)return Ph(null);const i=Tx(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const o={checkChildren:e,subject:new x,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=Uw(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=Uw(t);i===this._getDocument().activeElement&&this._elementInfo.has(i)?this._originChanged(i,e,this._elementInfo.get(i)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=yO(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===yO(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,bO),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,bO)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,bO),t.addEventListener("mousedown",this._documentMousedownListener,bO),t.addEventListener("touchstart",this._documentTouchstartListener,bO),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bO),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bO),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,bO),t.removeEventListener("mousedown",this._documentMousedownListener,bO),t.removeEventListener("touchstart",this._documentTouchstartListener,bO),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}}return t.\u0275fac=function(e){return new(e||t)(hi(Lc),hi(yx),hi(mu,8),hi(mO,8))},t.\u0275prov=at({factory:function(){return new t(hi(Lc),hi(yx),hi(mu,8),hi(mO,8))},token:t,providedIn:"root"}),t})();function yO(t){return t.composedPath?t.composedPath()[0]:t.target}let vO=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new ql}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(_O))},t.\u0275dir=qt({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})(),CO=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(hi(yx),hi(mu))},t.\u0275prov=at({factory:function(){return new t(hi(yx),hi(mu))},token:t,providedIn:"root"}),t})(),wO=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(CO))},imports:[[vx,JP]]}),t})();const xO=new Ua("11.0.3");class PO{}function OO(t,e){return{type:7,name:t,definitions:e,options:{}}}function kO(t,e=null){return{type:4,styles:e,timings:t}}function SO(t,e=null){return{type:2,steps:t,options:e}}function MO(t){return{type:6,styles:t,offset:null}}function TO(t,e,n){return{type:0,name:t,styles:e,options:n}}function EO(t){return{type:5,steps:t}}function RO(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function FO(t=null){return{type:9,options:t}}function IO(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function AO(t){Promise.resolve(null).then(t)}class DO{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){AO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class LO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?AO(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function BO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function NO(t){switch(t.length){case 0:return new DO;case 1:return t[0];default:return new LO(t)}}function jO(t,e,n,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,u=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case"!":a=r[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}u[i]=a}),i||a.push(u),c=u,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function VO(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&HO(n,"start",t)));break;case"done":t.onDone(()=>i(n&&HO(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&HO(n,"destroy",t)))}}function HO(t,e,n){const i=n.totalTime,r=$O(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function $O(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function zO(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function UO(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let qO=(t,e)=>!1,WO=(t,e)=>!1,GO=(t,e,n)=>[];const KO=BO();(KO||"undefined"!=typeof Element)&&(qO=(t,e)=>t.contains(e),WO=(()=>{if(KO||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):WO}})(),GO=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let QO=null,YO=!1;function ZO(t){QO||(QO=("undefined"!=typeof document?document.body:null)||{},YO=!!QO.style&&"WebkitAppearance"in QO.style);let e=!0;return QO.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in QO.style,!e&&YO)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in QO.style),e}const JO=WO,XO=qO,tk=GO;function ek(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let nk=(()=>{class t{validateStyleProperty(t){return ZO(t)}matchesElement(t,e){return JO(t,e)}containsElement(t,e){return XO(t,e)}query(t,e,n){return tk(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],s){return new DO(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),ik=(()=>{class t{}return t.NOOP=new nk,t})();function rk(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ok(parseFloat(e[1]),e[2])}function ok(t,e){switch(e){case"s":return 1e3*t;default:return t}}function sk(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=ok(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=ok(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:o}}(t,e,n)}function ak(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function lk(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else ak(t,n);return n}function ck(t,e,n){return n?e+":"+n+";":""}function uk(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=ck(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=ck(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function dk(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=yk(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),BO()&&uk(t))}function hk(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=yk(e);t.style[n]=""}),BO()&&uk(t))}function pk(t){return Array.isArray(t)?1==t.length?t[0]:SO(t):t}const fk=new RegExp("{{\\s*(.+?)\\s*}}","g");function gk(t){let e=[];if("string"==typeof t){let n;for(;n=fk.exec(t);)e.push(n[1]);fk.lastIndex=0}return e}function mk(t,e,n){const i=t.toString(),r=i.replace(fk,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function bk(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const _k=/-+([a-z0-9])/g;function yk(t){return t.replace(_k,(...t)=>t[1].toUpperCase())}function vk(t,e){return 0===t||0===e}function Ck(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach(function(e){n[e]=xk(t,e)})}}return e}function wk(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function xk(t,e){return window.getComputedStyle(t)[e]}function Pk(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(Sk(r,s)),"<"!=o[0]||"*"==r&&"*"==s||e.push(Sk(s,r))}(t,n,e)):n.push(t),n}const Ok=new Set(["true","1"]),kk=new Set(["false","0"]);function Sk(t,e){const n=Ok.has(t)||kk.has(t),i=Ok.has(e)||kk.has(e);return(r,o)=>{let s="*"==t||t==r,a="*"==e||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?Ok.has(t):kk.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?Ok.has(e):kk.has(e)),s&&a}}const Mk=new RegExp("s*:selfs*,?","g");function Tk(t,e,n){return new Ek(t).build(e,n)}class Ek{constructor(t){this._driver=t}build(t,e){const n=new Rk(e);return this._resetContextStyleTimingState(n),wk(this,pk(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,o.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(t=>{if(Fk(t)){const e=t;Object.keys(e).forEach(t=>{gk(e[t]).forEach(t=>{o.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=bk(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=wk(this,pk(t.animation),e);return{type:1,matchers:Pk(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ik(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>wk(this,t,e)),options:Ik(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=wk(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:Ik(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ak(sk(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Ak(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||sk(i,e),Ak(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:MO({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=MO(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=o,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(Fk(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=gk(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Fk(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Fk(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),s=s||c<0||c>1,o=o||c<a,a=c,r.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const d=c-1,h=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const o=u>0?i==d?1:u*i:r[i],s=o*f;e.currentTime=h+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:wk(this,pk(t.animation),e),options:Ik(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ik(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ik(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Mk,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,zO(e.collectedStyles,e.currentQuerySelector,{});const s=wk(this,pk(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Ik(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:sk(t.timings,e.errors,!0);return{type:12,animation:wk(this,pk(t.animation),e),timings:n,options:null}}}class Rk{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Fk(t){return!Array.isArray(t)&&"object"==typeof t}function Ik(t){var e;return t?(t=ak(t)).params&&(t.params=(e=t.params)?ak(e):null):t={},t}function Ak(t,e,n){return{duration:t,delay:e,easing:n}}function Dk(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Lk{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Bk=new RegExp(":enter","g"),Nk=new RegExp(":leave","g");function jk(t,e,n,i,r,o={},s={},a,l,c=[]){return(new Vk).buildKeyframes(t,e,n,i,r,o,s,a,l,c)}class Vk{buildKeyframes(t,e,n,i,r,o,s,a,l,c=[]){l=l||new Lk;const u=new $k(t,e,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),wk(this,n,u);const d=u.timelines.filter(t=>t.containsAnimation());if(d.length&&Object.keys(s).length){const t=d[d.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,u.errors,a)}return d.length?d.map(t=>t.buildKeyframes()):[Dk(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?rk(n.duration):null,o=null!=n.delay?rk(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),wk(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Hk);const t=rk(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>wk(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?rk(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),wk(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return sk(e.params?mk(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?rk(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Hk);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),wk(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;wk(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const Hk={};class $k{constructor(t,e,n,i,r,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new zk(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=rk(n.duration)),null!=n.delay&&(i.delay=rk(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=mk(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new $k(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Hk,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Uk(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(Bk,"."+this._enterClassName)).replace(Nk,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class zk{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new zk(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):lk(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=mk(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=lk(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=t.size?bk(t.values()):[],o=e.size?bk(e.values()):[];if(n){const t=i[0],e=ak(t);t.offset=0,e.offset=1,i=[t,e]}return Dk(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class Uk extends zk{constructor(t,e,n,i,r,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=n+e,s=e/o,a=lk(t[0],!1);a.offset=0,r.push(a);const l=lk(t[0],!1);l.offset=qk(s),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let s=lk(t[i],!1);s.offset=qk((e+s.offset*n)/o),r.push(s)}n=o,e=0,i="",t=r}return Dk(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function qk(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Wk{}class Gk extends Wk{normalizePropertyName(t,e){return yk(t)}normalizeStyleValue(t,e,n,i){let r="";const o=n.toString().trim();if(Kk[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+r}}const Kk=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Qk(t,e,n,i,r,o,s,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Yk={};class Zk{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}build(t,e,n,i,r,o,s,a,l,c){const u=[],d=this.ast.options&&this.ast.options.params||Yk,h=this.buildStyles(n,s&&s.params||Yk,u),p=a&&a.params||Yk,f=this.buildStyles(i,p,u),g=new Set,m=new Map,b=new Map,_="void"===i,y={params:Object.assign(Object.assign({},d),p)},v=c?[]:jk(t,e,this.ast.animation,r,o,h,f,y,l,u);let C=0;if(v.forEach(t=>{C=Math.max(t.duration+t.delay,C)}),u.length)return Qk(e,this._triggerName,n,i,_,h,f,[],[],m,b,C,u);v.forEach(t=>{const n=t.element,i=zO(m,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=zO(b,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const w=bk(g.values());return Qk(e,this._triggerName,n,i,_,h,f,v,w,m,b,C)}}class Jk{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=ak(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let o=r[t];o.length>1&&(o=mk(o,i,e)),n[t]=o})}}),n}}class Xk{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Jk(t.style,t.options&&t.options.params||{})}),tS(this.states,"true","1"),tS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Zk(t,e,this.states))}),this.fallbackTransition=new Zk(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function tS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const eS=new Lk;class nS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Tk(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=jO(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const s=new Map;if(r?(o=jk(this._driver,e,r,"ng-enter","ng-leave",{},{},n,eS,i),o.forEach(t=>{const e=zO(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=NO(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,i){const r=$O(e,"","","");return VO(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const iS=[],rS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class sS{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=ak(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const aS=new sS("void");class lS{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,gS(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const o=zO(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=zO(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(gS(t,"ng-trigger"),gS(t,"ng-trigger-"+e),a[e]=aS),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),o=new uS(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(gS(t,"ng-trigger"),gS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new sS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=aS),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{hk(t,n),dk(t,i)})}return}const c=zO(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,l.value,t,l.params),d=!1;if(!u){if(!i)return;u=r.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:o,isFallbackTransition:d}),d||(gS(t,"ng-animate-queued"),o.onStart(()=>{mS(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&NO(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=this._engine.statesByElement.get(t)[i]||aS,s=new sS("void"),a=new uS(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==rS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){gS(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=$O(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,VO(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class cS{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new lS(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(dS(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!dS(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),gS(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),mS(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(dS(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return dS(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return NO(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=rS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)gS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?NO(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Lk,i=[],r=new Map,o=[],s=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=fS(d,this.collectedEnterElements),p=new Map;let f=0;h.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>gS(t,n))});const g=[],m=new Set,b=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){const t=this.collectedLeaveElements[E],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const _=new Map,y=fS(d,Array.from(m));y.forEach((t,e)=>{const n="ng-leave"+f++;_.set(e,n),t.forEach(t=>gS(t,n))}),t.push(()=>{h.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>mS(t,n))}),y.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>mS(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const v=[],C=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(v.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,r),d=_.get(r),h=p.get(r),f=this._buildInstruction(t,n,h,d,c);if(f.errors&&f.errors.length)C.push(f);else{if(c)return e.onStart(()=>hk(r,f.fromStyles)),e.onDestroy(()=>dk(r,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>hk(r,f.fromStyles)),e.onDestroy(()=>dk(r,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),o.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>zO(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(C.length){const t=[];C.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const w=new Map,x=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(x.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,w))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{zO(w,e,[]).push(t),t.destroy()})});const P=g.filter(t=>yS(t,a,l)),O=new Map;pS(O,this.driver,b,l,"*").forEach(t=>{yS(t,a,l)&&P.push(t)});const k=new Map;h.forEach((t,e)=>{pS(k,this.driver,new Set(t),a,"!")}),P.forEach(t=>{const e=O.get(t),n=k.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const S=[],M=[],T={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>dk(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let t=T;if(x.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=x.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>x.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,w,r,k,O);if(o.setRealPlayer(n),t===T)S.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=NO(e)),i.push(o)}}else hk(e,s.fromStyles),o.onDestroy(()=>dk(e,s.toStyles)),M.push(o),c.has(e)&&i.push(o)}),M.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=NO(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let E=0;E<g.length;E++){const t=g[E],e=t.__ng_removed;if(mS(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?bS(this,t,i):this.processLeaveNode(t)}return g.length=0,S.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),S}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,l=zO(n,t,[]);this._getPreviousPlayers(t,a,r,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}hk(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const s=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,d=e.timelines.map(e=>{const d=e.element;c.add(d);const h=d.__ng_removed;if(h&&h.removedBeforeQueried)return new DO(e.duration,e.delay);const p=d!==a,f=function(t){const e=[];return _S(t,e),e}((n.get(d)||iS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===d),g=r.get(d),m=o.get(d),b=jO(0,this._normalizer,0,e.keyframes,g,m),_=this._buildPlayer(e,b,f);if(e.subTimeline&&i&&u.add(d),p){const e=new uS(t,s,d);e.setRealPlayer(_),l.push(e)}return _});l.forEach(t=>{zO(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>gS(t,"ng-animating"));const h=NO(d);return h.onDestroy(()=>{c.forEach(t=>mS(t,"ng-animating")),dk(a,e.toStyles)}),u.forEach(t=>{zO(i,t,[]).push(h)}),h}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new DO(t.duration,t.delay)}}class uS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new DO,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>VO(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){zO(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dS(t){return t&&1===t.nodeType}function hS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function pS(t,e,n,i,r){const o=[];n.forEach(t=>o.push(hS(t)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=oS,s.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>hS(t,o[a++])),s}function fS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function o(t){if(!t)return 1;let e=r.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:i.has(s)?1:o(s),r.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function gS(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function mS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function bS(t,e,n){NO(n).onDone(()=>t.processLeaveNode(e))}function _S(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof LO?_S(i.players,e):e.push(i)}}function yS(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class vS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new cS(t,e,n),this._timelineEngine=new nS(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const t=[],e=Tk(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new Xk(t,e)}(i,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=UO(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=UO(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function CS(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=xS(e[0]),e.length>1&&(i=xS(e[e.length-1]))):e&&(n=xS(e)),n||i?new wS(t,n,i):null}let wS=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&dk(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dk(this._element,this._initialStyles),this._endStyles&&(dk(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(hk(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hk(this._element,this._endStyles),this._endStyles=null),dk(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function xS(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];PS(r)&&(e=e||{},e[r]=t[r])}return e}function PS(t){return"display"===t||"position"===t}class OS{constructor(t,e,n,i,r,o,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=RS(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),ES(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),TS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){kS(this._element,this._name,"paused")}resume(){kS(this._element,this._name,"running")}setPosition(t){const e=SS(this._element,this._name);this._position=t*this._duration,ES(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),TS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=RS(t,"").split(","),i=MS(n,e);i>=0&&(n.splice(i,1),ES(t,"",n.join(",")))}(this._element,this._name))}}function kS(t,e,n){ES(t,"PlayState",n,SS(t,e))}function SS(t,e){const n=RS(t,"");return n.indexOf(",")>0?MS(n.split(","),e):MS([n],e)}function MS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function TS(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function ES(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function RS(t,e){return t.style["animation"+e]||""}class FS{constructor(t,e,n,i,r,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new OS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:xk(this.element,n))})}this.currentSnapshot=t}}class IS extends DO{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ek(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class AS{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return ZO(t)}matchesElement(t,e){return JO(t,e)}containsElement(t,e){return XO(t,e)}query(t,e,n){return tk(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ek(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(t,e,n,i,r,o=[],s){const a=o.filter(t=>t instanceof FS),l={};vk(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ck(t,e,l));if(0==n)return new IS(t,c);const u="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(d);const h=CS(t,e),p=new FS(t,e,u,n,i,r,c,h);return p.onDestroy(()=>{var t;(t=d).parentNode.removeChild(t)}),p}}class DS{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:xk(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class LS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(BS().toString()),this._cssKeyframesDriver=new AS}validateStyleProperty(t){return ZO(t)}matchesElement(t,e){return JO(t,e)}containsElement(t,e){return XO(t,e)}query(t,e,n){return tk(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=o.filter(t=>t instanceof DS);vk(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=CS(t,e=Ck(t,e=e.map(t=>lk(t,!1)),l));return new DS(t,e,a,u)}}function BS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let NS=(()=>{class t extends PO{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:wt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?SO(t):t;return HS(this._renderer,null,e,"register",[n]),new jS(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(hi(Va),hi(mu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class jS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new VS(this._id,t,e||{},this._renderer)}}class VS{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return HS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function HS(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let $S=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new zS("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(o),new US(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(hi(Va),hi(vS),hi(Lc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class zS{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class US extends zS{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let qS=(()=>{class t extends vS{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(hi(mu),hi(ik),hi(Wk))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const WS=new qn("AnimationModuleType"),GS=[{provide:ik,useFactory:function(){return"function"==typeof BS()?new LS:new AS}},{provide:WS,useValue:"BrowserAnimations"},{provide:PO,useClass:NS},{provide:Wk,useFactory:function(){return new Gk}},{provide:vS,useClass:qS},{provide:Va,useFactory:function(t,e,n){return new $S(t,e,n)},deps:[ch,vS,Lc]}];let KS=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:GS,imports:[xh]}),t})();function QS(t,e){if(1&t&&Ms(0,"mat-pseudo-checkbox",3),2&t){const t=Vs();Ps("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const YS=["*"],ZS=new Ua("11.0.3"),JS=new qn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let XS,tM=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Yc()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&ZS.full!==xO.full&&console.warn("The Angular Material version ("+ZS.full+") does not match the Angular CDK version ("+xO.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(CO),hi(JS,8),hi(mu))},imports:[[Fx],Fx]}),t})();function eM(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Vw(t)}}}function nM(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function iM(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Vw(t)}}}function rM(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Hw(t):this.defaultTabIndex}}}function oM(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new x}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{XS="undefined"!=typeof Intl}catch(VW){XS=!1}let sM=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})();class aM{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lM={enterDuration:450,exitDuration:400},cM=Sx({passive:!0}),uM=["mousedown","touchstart"],dM=["mouseup","mouseleave","touchend","touchcancel"];class hM{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Uw(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},lM),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),s=t-i.left,a=e-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-o+"px",c.style.top=a-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=l+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new aM(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},lM),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Uw(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(uM))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dM),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=gO(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,cM)})})}_removeTriggerEvents(){this._triggerElement&&(uM.forEach(t=>{this._triggerElement.removeEventListener(t,this,cM)}),this._pointerUpEventsRegistered&&dM.forEach(t=>{this._triggerElement.removeEventListener(t,this,cM)}))}}const pM=new qn("mat-ripple-global-options");let fM=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new hM(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(Lc),xs(yx),xs(pM,8),xs(WS,8))},t.\u0275dir=qt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&Js("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),gM=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[tM,vx],tM]}),t})(),mM=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(xs(WS,8))},t.\u0275cmp=Nt({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&Js("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),bM=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[tM]]}),t})();class _M{}const yM=eM(_M);let vM=0,CM=(()=>{class t extends yM{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+vM++}}return t.\u0275fac=function(e){return wM(e||t)},t.\u0275dir=qt({type:t,inputs:{label:"label"},features:[ss]}),t})();const wM=$n(CM),xM=new qn("MatOptgroup");let PM=0;class OM{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const kM=new qn("MAT_OPTION_PARENT_COMPONENT");let SM=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+PM++,this.onSelectionChange=new ql,this._stateChanges=new x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Vw(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||pP(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new OM(this,t))}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs(void 0),xs(CM))},t.\u0275dir=qt({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),MM=(()=>{class t extends SM{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs(kM,8),xs(xM,8))},t.\u0275cmp=Nt({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&Ds("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(ga("id",e.id),ys("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),Js("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[ss],ngContentSelectors:YS,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&($s(),Cs(0,QS,1,2,"mat-pseudo-checkbox",0),ks(1,"span",1),zs(2),Ss(),Ms(3,"div",2)),2&t&&(Ps("ngIf",e.multiple),Ur(3),Ps("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[Pd,fM,mM],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function TM(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[o]&&o++;return o}return 0}let EM=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[gM,Ud,tM,bM]]}),t})();function RM(t,e){}class FM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const IM={dialogContainer:OO("dialogContainer",[TO("void, exit",MO({opacity:0,transform:"scale(0.7)"})),TO("enter",MO({transform:"none"})),RO("* => enter",kO("150ms cubic-bezier(0, 0, 0.2, 1)",MO({transform:"none",opacity:1}))),RO("* => void, * => exit",kO("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",MO({opacity:0})))])};let AM=(()=>{class t extends oP{constructor(t,e,n,i,r,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=r,this._focusMonitor=o,this._animationStateChanged=new ql,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(dO),xs(ll),xs(mu,8),xs(FM),xs(_O))},t.\u0275dir=qt({type:t,viewQuery:function(t,e){if(1&t&&rc(aP,!0),2&t){let t;ic(t=uc())&&(e._portalOutlet=t.first)}},features:[ss]}),t})(),DM=(()=>{class t extends AM{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return LM(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Ls("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(ga("id",e._id),ys("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),ma("@dialogContainer",e._state))},features:[ss],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Cs(0,RM,0,0,"ng-template",0)},directives:[aP],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[IM.dialogContainer]}}),t})();const LM=$n(DM);let BM=0;class NM{constructor(t,e,n="mat-dialog-"+BM++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new x,this._afterClosed=new x,this._beforeClosed=new x,this._state=0,e._id=n,e._animationStateChanged.pipe(kh(t=>"opened"===t.state),Ap(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(kh(t=>"closed"===t.state),Ap(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(kh(t=>27===t.keyCode&&!this.disableClose&&!pP(t))).subscribe(t=>{t.preventDefault(),jM(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():jM(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(kh(t=>"closing"===t.state),Ap(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function jM(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const VM=new qn("MatDialogData"),HM=new qn("mat-dialog-default-options"),$M=new qn("mat-dialog-scroll-strategy"),zM={provide:$M,deps:[NP],useFactory:function(t){return()=>t.scrollStrategies.block()}};let UM=(()=>{class t{constructor(t,e,n,i,r,o,s,a,l){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=r,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x,this._afterOpenedAtThisLevel=new x,this._ariaHiddenElements=new Map,this.afterAllClosed=_p(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Np(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new FM)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),i._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new CP({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=rs.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:FM,useValue:e}]}),i=new nP(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const r=new this._dialogRefConstructor(n,e,i.id);if(t instanceof fl)e.attachTemplatePortal(new iP(t,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,e),o=e.attachComponentPortal(new nP(t,i.viewContainerRef,n));r.componentInstance=o.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(Rx,null)||r.push({provide:Rx,useValue:{value:t.direction,change:Ph()}}),rs.create({parent:i||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(xs(NP),xs(rs),xs(void 0),xs(void 0),xs(MP),xs(void 0),xs(Gn),xs(Gn),xs(qn))},t.\u0275dir=qt({type:t}),t})(),qM=(()=>{class t extends UM{constructor(t,e,n,i,r,o,s){super(t,e,i,o,s,r,NM,DM,VM)}}return t.\u0275fac=function(e){return new(e||t)(hi(NP),hi(rs),hi(Ru,8),hi(HM,8),hi($M),hi(t,12),hi(MP))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),WM=0,GM=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=ZM(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){jM(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM,8),xs(ja),xs(qM))},t.\u0275dir=qt({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ds("click",function(t){return e._onButtonClick(t)}),2&t&&ys("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[ae]}),t})(),KM=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+WM++}ngOnInit(){this._dialogRef||(this._dialogRef=ZM(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(xs(NM,8),xs(ja),xs(qM))},t.\u0275dir=qt({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&ga("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),QM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),YM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function ZM(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let JM=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[qM,zM],imports:[[UP,uP,tM],tM]}),t})();function XM(t,e){if(1&t&&(sn(),Ms(0,"circle",3)),2&t){const t=Vs();Zs("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ys("r",t._getCircleRadius())}}function tT(t,e){if(1&t&&(sn(),Ms(0,"circle",3)),2&t){const t=Vs();Zs("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ys("r",t._getCircleRadius())}}function eT(t,e){if(1&t&&(sn(),Ms(0,"circle",3)),2&t){const t=Vs();Zs("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ys("r",t._getCircleRadius())}}function nT(t,e){if(1&t&&(sn(),Ms(0,"circle",3)),2&t){const t=Vs();Zs("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ys("r",t._getCircleRadius())}}const iT=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class rT{constructor(t){this._elementRef=t}}const oT=nM(rT,"primary"),sT=new qn("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let aT=(()=>{class t extends oT{constructor(e,n,i,r,o){super(e),this._elementRef=e,this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const s=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),s.has(i.head)||s.set(i.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Hw(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Hw(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Hw(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=Tx(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,i=t._diameters;let r=i.get(e);if(!r||!r.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),r||(r=new Set,i.set(e,r)),r.add(n)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,""+this._spinnerAnimationLabel)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(yx),xs(mu,8),xs(WS,8),xs(sT))},t.\u0275cmp=Nt({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(ys("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),Zs("width",e.diameter,"px")("height",e.diameter,"px"),Js("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[ss],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(sn(),ks(0,"svg",0),Cs(1,XM,1,9,"circle",1),Cs(2,tT,1,7,"circle",2),Ss()),2&t&&(Zs("width",e.diameter,"px")("height",e.diameter,"px"),Ps("ngSwitch","indeterminate"===e.mode),ys("viewBox",e._getViewBox()),Ur(1),Ps("ngSwitchCase",!0),Ur(1),Ps("ngSwitchCase",!1))},directives:[Md,Td],styles:[iT],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),lT=(()=>{class t extends aT{constructor(t,e,n,i,r){super(t,e,n,i,r),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(yx),xs(mu,8),xs(WS,8),xs(sT))},t.\u0275cmp=Nt({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(Zs("width",e.diameter,"px")("height",e.diameter,"px"),Js("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[ss],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(sn(),ks(0,"svg",0),Cs(1,eT,1,9,"circle",1),Cs(2,nT,1,7,"circle",2),Ss()),2&t&&(Zs("width",e.diameter,"px")("height",e.diameter,"px"),Ps("ngSwitch","indeterminate"===e.mode),ys("viewBox",e._getViewBox()),Ur(1),Ps("ngSwitchCase",!0),Ur(1),Ps("ngSwitchCase",!1))},directives:[Md,Td],styles:[iT],encapsulation:2,changeDetection:0}),t})(),cT=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[tM,Ud],tM]}),t})(),uT=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM))},t.\u0275cmp=Nt({type:t,selectors:[["app-please-wait-dialog"]],decls:8,vars:2,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"text"],[1,"spinner"],["color","accent"]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1),Ss(),ks(2,"mat-dialog-content",1),ks(3,"div",2),ks(4,"p"),ua(5),Ss(),Ss(),ks(6,"div",3),Ms(7,"mat-spinner",4),Ss(),Ss()),2&t&&(Ur(1),ha(" ",e.data.title,""),Ur(4),da(e.data.message))},directives:[KM,QM,lT],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.text[_ngcontent-%COMP%]{width:10rem;text-align:justify}.spinner[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;zoom:.5}"]}),t})(),dT=(()=>{class t{constructor(t){this.dialogRef=t}close(){this.dialogRef.close(!1)}openBlackFridayPromo(){window.open("https://plomastermind.com/blackfriday","_blank")}}return t.\u0275fac=function(e){return new(e||t)(xs(NM))},t.\u0275cmp=Nt({type:t,selectors:[["app-black-friday-dialog"]],decls:11,vars:0,consts:[["mat-dialog-title",""],[1,"fas","fa-bullhorn"],[1,"content","mat-typography"],[1,"regular-link",3,"click"],["align","center"],[1,"confirm-link",3,"click"]],template:function(t,e){1&t&&(ks(0,"h2",0),Ms(1,"i",1),ua(2," Black Friday is Live!\n"),Ss(),ks(3,"mat-dialog-content",2),ks(4,"p"),ua(5," Unlock lifetime access to the Legacy Vault + bonuses, included on any yearly membership: "),Ss(),ks(6,"a",3),Ds("click",function(){return e.openBlackFridayPromo()}),ua(7,"https://plomastermind.com/blackfriday"),Ss(),Ss(),ks(8,"mat-dialog-actions",4),ks(9,"a",5),Ds("click",function(){return e.close()}),ua(10,"Close"),Ss(),Ss())},directives:[KM,QM,YM],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.fa-bullhorn[_ngcontent-%COMP%]{margin-right:1rem}.content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.regular-link[_ngcontent-%COMP%]{cursor:pointer;color:var(--text-color);text-decoration:none;-webkit-user-select:text;-moz-user-select:text;user-select:text;border:none}.regular-link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover);text-decoration:underline}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.confirm-link[_ngcontent-%COMP%]:hover, .dismiss-link[_ngcontent-%COMP%]:hover{padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})(),hT=(()=>{class t{get(t){return localStorage?localStorage.getItem(t):null}set(t,e){localStorage&&localStorage.setItem(t,e)}remove(t){localStorage&&localStorage.removeItem(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var pT=function(t){return t[t.Success=0]="Success",t[t.WrongUser=1]="WrongUser",t[t.WrongPassword=2]="WrongPassword",t[t.NoAccess=3]="NoAccess",t[t.Error=4]="Error",t}({});let fT=(()=>{class t{constructor(t,e,n,i,r,o,s){this.http=t,this.socialAuthService=e,this.store=n,this.storage=i,this.route=r,this.router=o,this.dialog=s}get baseUrl(){return""+pu}tryAutoLogin(){const t=this.route.snapshot.queryParamMap.get("loginToken");if(t){const e=this.getLoginResponseFromUrlToken(t);if(this.removeTokenFromUrl(),e.user&&e.accessToken){if(!this.isExpired(e.accessToken))return this.storage.set("plo-auth-4c",JSON.stringify(e)),this.store.dispatch(By({user:e.user,noRedirect:!0})),this.refreshUserIfNecessary(e.user,!1),!0;console.warn("URL login token expired!")}}const e=this.getLoginResponseFromLocalStorage();if(e.user&&e.accessToken){if(!this.isExpired(e.accessToken))return this.store.dispatch(By({user:e.user,noRedirect:!0})),this.refreshUserIfNecessary(e.user,!1),!0;console.warn("Access token expired!")}return!1}refreshUserIfNecessary(t,e){return $m(this,void 0,void 0,function*(){let n;if(e&&(n=this.dialog.open(uT,{disableClose:!0,data:{title:"Please wait",message:"Refreshing account status. You might be logged out and need to log back in if there are pending changes for your account!"}})),!t){const e=this.getLoginResponseFromLocalStorage();t=e.user}const i=yield this.checkRefresh();if(n&&e&&n.close(),i.needsRefresh){const e=Object.assign(Object.assign({},t),i.user);this.storage.set("plo-auth-4c",JSON.stringify({user:e,accessToken:i.accessToken})),this.store.dispatch(By({user:e,noRedirect:!0}))}})}removeTokenFromUrl(){jw(250).then(()=>this.router.navigate([],{relativeTo:this.route,queryParams:{loginToken:null},queryParamsHandling:"merge",replaceUrl:!0}))}getLoginResponseFromUrlToken(t){if(t){const e=JSON.parse(atob(t));if(e.user&&e.accessToken)return{user:e.user,accessToken:e.accessToken}}return{user:null,accessToken:null}}getAccessTokenFromLocalStorage(){const{accessToken:t}=this.getLoginResponseFromLocalStorage();return t}getLoginResponseFromLocalStorage(){const t=this.storage.get("plo-auth-4c");if((null==t?void 0:t.length)>0)try{return JSON.parse(t)}catch(e){console.warn("No stored accessToken in local storage")}return{user:null,accessToken:null}}isExpired(t){const e=JSON.parse(atob(t.split(".")[1]));return new Date(1e3*e.exp).getTime()<=(new Date).getTime()}checkRefresh(){return $m(this,void 0,void 0,function*(){return yield this.http.get(this.baseUrl+"/refresh").toPromise()})}login(t,e){return this.http.post(this.baseUrl+"/login",{userName:t,password:e},{withCredentials:!0}).pipe(k(t=>this.handleLoginResponse(t)))}loginViaGoogle(){return L(this.socialAuthService.initState).pipe(kh(t=>!!t),V(()=>this.socialAuthService.signIn(Lw.PROVIDER_ID)),V(t=>this.socialLogin(t.idToken)),k(t=>this.handleLoginResponse(t)))}socialLogin(t){return this.http.post(this.baseUrl+"/login/social",{idToken:t},{withCredentials:!0}).pipe(k(t=>t))}handleLoginResponse(t){return t.status===pT.Success?t.user&&t.accessToken?(this.storage.set("plo-auth-4c",JSON.stringify(t)),{status:pT.Success,user:t.user}):(this.removeLastLoginResponseFromStorage(),{status:pT.Error}):(this.removeLastLoginResponseFromStorage(),{status:t.status})}logout(){return $m(this,void 0,void 0,function*(){this.removeLastLoginResponseFromStorage(),dy(this.socialAuthService.authState.pipe(k(t=>!!t)))&&(yield this.socialAuthService.signOut())})}getEncodedLoginToken(){const t=this.getLoginResponseFromLocalStorage();return btoa(JSON.stringify(t))}showAnnouncements(){this.storage.get("announcement-black-friday-2024")||0!==this.dialog.openDialogs.length||(this.storage.set("announcement-black-friday-2024","true"),this.dialog.open(dT))}removeLastLoginResponseFromStorage(){this.storage.remove("plo-auth-4c")}}return t.\u0275fac=function(e){return new(e||t)(hi(qh),hi(Bw),hi(Kb),hi(hT),hi(rg),hi(wm),hi(qM))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gT=(()=>{class t{constructor(t){this.store=t,this.features=[],this.lockedFeatures=[],hp([this.store.pipe(Yb(Ky)),this.store.pipe(Yb(iC))]).pipe(kh(([t,e])=>!!(null==t?void 0:t.accessLevel)||(null==e?void 0:e.length)>0),k(([t,e])=>(null==t?void 0:t.accessLevel)?e.find(e=>e.accessLevel===t.accessLevel)||t:e.find((null==t?void 0:t.isActive)?t=>t.accessLevel===Rv.Full:t=>t.accessLevel===Rv.Free))).subscribe(({defaultTreeKey:t,features:e,lockedFeatures:n})=>{this.defaultTree=t,this.features=e||[],this.lockedFeatures=n||[]})}isAvailable(t){var e,n;return(null===(e=this.features)||void 0===e?void 0:e.includes(t))||(null===(n=this.lockedFeatures)||void 0===n?void 0:n.includes(t))}isAvailableAndNotLocked(t){var e,n;return(null===(e=this.features)||void 0===e?void 0:e.includes(t))&&!(null===(n=this.lockedFeatures)||void 0===n?void 0:n.includes(t))}isLocked(t){var e;return null===(e=this.lockedFeatures)||void 0===e?void 0:e.includes(t)}isDisabled(t){return!this.isAvailable(t)}get defaultTreeKey(){return this.defaultTree}}return t.\u0275fac=function(e){return new(e||t)(hi(Kb))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var mT=function(t){return t[t.DARK=0]="DARK",t[t.LIGHT=1]="LIGHT",t[t.FIVECARD=2]="FIVECARD",t}({}),bT=function(t){return t[t.MODERN=0]="MODERN",t[t.COLORBLIND=1]="COLORBLIND",t}({});let _T=(()=>{class t{constructor(t,e,n){this.document=t,this.storage=e,this.feature=n,this.$theme=new ap(this.isFiveCard?mT.FIVECARD:mT.DARK),this.$modernColors=new ap(bT.MODERN),this.THEME_KEY="THEME",this.DARK_THEME_VALUE="DARK",this.LIGHT_THEME_VALUE="LIGHT",this.LIGHT_THEME_CLASS_NAME="theme-light",this.DARK_THEME_CLASS_NAME="theme-dark",this.FIVECARD_THEME_CLASS_NAME="theme-fivecard",this.THEME_KEY_COLORS="THEME_COLORS",this.COLORS_MODERN="modern",this.COLORS_COLORBLIND="colorblind",this.lightThemeSelected=!1,this.modernColors=!0}get isFiveCard(){return!1}setThemeOnStart(){this.isFiveCard?this.setFiveCardTheme():this.feature.isDisabled(uy.ThemeToggle)?this.setDarkTheme():this.isLightThemeSelected()?this.setLightTheme():this.setDarkTheme(),this.feature.isDisabled(uy.ThemeToggle)||this.areModernColorsSelected()?this.setModernColors():this.setColorblindColors()}toggle(){this.isFiveCard||(this.lightThemeSelected?this.setDarkTheme():this.setLightTheme())}toggleColors(){this.modernColors?this.setColorblindColors():this.setModernColors()}get theme$(){return this.$theme.asObservable()}get modernColors$(){return this.$modernColors.asObservable()}get isDark(){return dy(this.theme$.pipe(k(t=>t===mT.DARK)))}get isModern(){return dy(this.modernColors$.pipe(k(t=>t===bT.MODERN)))}isLightThemeSelected(){return this.lightThemeSelected=this.storage.get(this.THEME_KEY)===this.LIGHT_THEME_VALUE,this.lightThemeSelected}areModernColorsSelected(){return this.modernColors=!0,this.storage.get(this.THEME_KEY_COLORS)===this.COLORS_COLORBLIND&&(this.modernColors=!1),this.modernColors}setLightTheme(){this.storage.set(this.THEME_KEY,this.LIGHT_THEME_VALUE),this.document.body.classList.remove(this.DARK_THEME_CLASS_NAME),this.document.body.classList.add(this.DARK_THEME_CLASS_NAME),this.lightThemeSelected=!0,this.$theme.next(mT.LIGHT)}setDarkTheme(){this.storage.set(this.THEME_KEY,this.DARK_THEME_VALUE),this.document.body.classList.remove(this.LIGHT_THEME_CLASS_NAME),this.document.body.classList.add(this.DARK_THEME_CLASS_NAME),this.lightThemeSelected=!1,this.$theme.next(mT.DARK)}setModernColors(){this.storage.set(this.THEME_KEY_COLORS,this.COLORS_MODERN),this.document.body.classList.remove(this.COLORS_COLORBLIND),this.document.body.classList.add(this.COLORS_MODERN),this.modernColors=!0,this.$modernColors.next(bT.MODERN)}setColorblindColors(){this.storage.set(this.THEME_KEY_COLORS,this.COLORS_COLORBLIND),this.document.body.classList.remove(this.COLORS_MODERN),this.document.body.classList.add(this.COLORS_COLORBLIND),this.modernColors=!1,this.$modernColors.next(bT.COLORBLIND)}setFiveCardTheme(){this.document.body.classList.add(this.FIVECARD_THEME_CLASS_NAME),this.lightThemeSelected=!1,this.$theme.next(mT.FIVECARD)}}return t.\u0275fac=function(e){return new(e||t)(hi(mu),hi(hT),hi(gT))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yT=["underline"],vT=["connectionContainer"],CT=["inputContainer"],wT=["label"];function xT(t,e){1&t&&(Ts(0),ks(1,"div",14),Ms(2,"div",15),Ms(3,"div",16),Ms(4,"div",17),Ss(),ks(5,"div",18),Ms(6,"div",15),Ms(7,"div",16),Ms(8,"div",17),Ss(),Es())}function PT(t,e){1&t&&(ks(0,"div",19),zs(1,1),Ss())}function OT(t,e){if(1&t&&(Ts(0),zs(1,2),ks(2,"span"),ua(3),Ss(),Es()),2&t){const t=Vs(2);Ur(3),da(t._control.placeholder)}}function kT(t,e){1&t&&zs(0,3,["*ngSwitchCase","true"])}function ST(t,e){1&t&&(ks(0,"span",23),ua(1," *"),Ss())}function MT(t,e){if(1&t){const t=Fs();ks(0,"label",20,21),Ds("cdkObserveContent",function(){return Re(t),Vs().updateOutlineGap()}),Cs(2,OT,4,1,"ng-container",12),Cs(3,kT,1,0,"ng-content",12),Cs(4,ST,2,0,"span",22),Ss()}if(2&t){const t=Vs();Js("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Ps("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),ys("for",t._control.id)("aria-owns",t._control.id),Ur(2),Ps("ngSwitchCase",!1),Ur(1),Ps("ngSwitchCase",!0),Ur(1),Ps("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function TT(t,e){1&t&&(ks(0,"div",24),zs(1,4),Ss())}function ET(t,e){if(1&t&&(ks(0,"div",25,26),Ms(2,"span",27),Ss()),2&t){const t=Vs();Ur(2),Js("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function RT(t,e){1&t&&(ks(0,"div"),zs(1,5),Ss()),2&t&&Ps("@transitionMessages",Vs()._subscriptAnimationState)}function FT(t,e){if(1&t&&(ks(0,"div",31),ua(1),Ss()),2&t){const t=Vs(2);Ps("id",t._hintLabelId),Ur(1),da(t.hintLabel)}}function IT(t,e){if(1&t&&(ks(0,"div",28),Cs(1,FT,2,2,"div",29),zs(2,6),Ms(3,"div",30),zs(4,7),Ss()),2&t){const t=Vs();Ps("@transitionMessages",t._subscriptAnimationState),Ur(1),Ps("ngIf",t.hintLabel)}}const AT=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],DT=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],LT=new qn("MatError"),BT={transitionMessages:OO("transitionMessages",[TO("enter",MO({opacity:1,transform:"translateY(0%)"})),RO("void => enter",[MO({opacity:0,transform:"translateY(-100%)"}),kO("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let NT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t}),t})();const jT=new qn("MatHint");let VT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["mat-label"]]}),t})(),HT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["mat-placeholder"]]}),t})();const $T=new qn("MatPrefix"),zT=new qn("MatSuffix");let UT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["","matSuffix",""]],features:[Fa([{provide:zT,useExisting:t}])]}),t})(),qT=0;class WT{constructor(t){this._elementRef=t}}const GT=nM(WT,"primary"),KT=new qn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),QT=new qn("MatFormField");let YT=(()=>{class t extends GT{constructor(t,e,n,i,r,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+qT++,this._labelId="mat-form-field-label-"+qT++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Vw(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Np(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(hx(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(hx(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),q(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Np(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Np(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(hx(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,qw(this._label.nativeElement,"transitionend").pipe(Ap(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(r),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let l=0;for(let t=0;t<s.length;t++)l+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=l>0?.75*l+10:0}for(let s=0;s<r.length;s++)r[s].style.width=e+"px";for(let s=0;s<o.length;s++)o[s].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs(ja),xs(Rx,8),xs(KT,8),xs(yx),xs(Lc),xs(WS,8))},t.\u0275cmp=Nt({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(ac(n,NT,!0),lc(n,NT,!0),ac(n,VT,!0),lc(n,VT,!0),ac(n,HT,!0),ac(n,LT,!0),ac(n,jT,!0),ac(n,$T,!0),ac(n,zT,!0)),2&t){let t;ic(t=uc())&&(e._controlNonStatic=t.first),ic(t=uc())&&(e._controlStatic=t.first),ic(t=uc())&&(e._labelChildNonStatic=t.first),ic(t=uc())&&(e._labelChildStatic=t.first),ic(t=uc())&&(e._placeholderChild=t.first),ic(t=uc())&&(e._errorChildren=t),ic(t=uc())&&(e._hintChildren=t),ic(t=uc())&&(e._prefixChildren=t),ic(t=uc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(oc(yT,!0),rc(vT,!0),oc(CT,!0),oc(wT,!0)),2&t){let t;ic(t=uc())&&(e.underlineRef=t.first),ic(t=uc())&&(e._connectionContainerRef=t.first),ic(t=uc())&&(e._inputContainerRef=t.first),ic(t=uc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&Js("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Fa([{provide:QT,useExisting:t}]),ss],ngContentSelectors:DT,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&($s(AT),ks(0,"div",0),ks(1,"div",1,2),Ds("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),Cs(3,xT,9,0,"ng-container",3),Cs(4,PT,2,0,"div",4),ks(5,"div",5,6),zs(7),ks(8,"span",7),Cs(9,MT,5,16,"label",8),Ss(),Ss(),Cs(10,TT,2,0,"div",9),Ss(),Cs(11,ET,3,4,"div",10),ks(12,"div",11),Cs(13,RT,2,1,"div",12),Cs(14,IT,5,2,"div",13),Ss(),Ss()),2&t&&(Ur(3),Ps("ngIf","outline"==e.appearance),Ur(1),Ps("ngIf",e._prefixChildren.length),Ur(5),Ps("ngIf",e._hasFloatingLabel()),Ur(1),Ps("ngIf",e._suffixChildren.length),Ur(1),Ps("ngIf","outline"!=e.appearance),Ur(1),Ps("ngSwitch",e._getDisplayedMessages()),Ur(1),Ps("ngSwitchCase","error"),Ur(1),Ps("ngSwitchCase","hint"))},directives:[Pd,Md,Td,ZP],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[BT.transitionMessages]},changeDetection:0}),t})(),ZT=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Ud,tM,JP],tM]}),t})();const JT=Sx({passive:!0});let XT=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return mp;const e=Uw(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new x,r="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,JT),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",o,JT)}}),i}stopMonitoring(t){const e=Uw(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(hi(yx),hi(Lc))},t.\u0275prov=at({factory:function(){return new t(hi(yx),hi(Lc))},token:t,providedIn:"root"}),t})(),tE=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[vx]]}),t})();const eE=new qn("MAT_INPUT_VALUE_ACCESSOR"),nE=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let iE=0;class rE{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const oE=oM(rE);let sE=(()=>{class t extends oE{constructor(t,e,n,i,r,o,s,a,l,c){super(o,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+iE++,this.focused=!1,this.stateChanges=new x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>wx().has(t));const u=this._elementRef.nativeElement,d=u.nodeName.toLowerCase();this._inputValueAccessor=s||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===d,this._isTextarea="textarea"===d,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Vw(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Vw(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&wx().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Vw(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){nE.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(yx),xs(FC,10),xs(mw,8),xs(Ow,8),xs(sM),xs(eE,10),xs(XT),xs(Lc),xs(QT,8))},t.\u0275dir=qt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&Ds("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(ga("disabled",e.disabled)("required",e.required),ys("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),Js("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Fa([{provide:NT,useExisting:t}]),ss,ae]}),t})(),aE=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[sM],imports:[[tE,ZT,tM],tE,ZT]}),t})();const lE=["mat-button",""],cE=["*"],uE=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class dE{constructor(t){this._elementRef=t}}const hE=nM(eM(iM(dE)));let pE=(()=>{class t extends hE{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of uE)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(_O),xs(WS,8))},t.\u0275cmp=Nt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&oc(fM,!0),2&t){let t;ic(t=uc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(ys("disabled",e.disabled||null),Js("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ss],attrs:lE,ngContentSelectors:cE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&($s(),ks(0,"span",0),zs(1),Ss(),Ms(2,"span",1),Ms(3,"span",2)),2&t&&(Ur(2),Js("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ps("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[fM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),fE=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[gM,tM],tM]}),t})(),gE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["app-mobile-warning"]],decls:5,vars:0,consts:[[1,"mobile-warning"],[1,"logo"],["src","assets/svg/M5C3.svg"],[1,"header"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"div",1),Ms(2,"img",2),Ss(),ks(3,"div",3),ua(4," 5-Card PLO Trainer mobile is being optimized and coming soon. Please join Discord to get updates. "),Ss(),Ss())},styles:["[_nghost-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.mobile-warning[_ngcontent-%COMP%]{width:20rem;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);padding:1.5625rem}.mobile-warning[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:0 1.25rem 1.25rem}.mobile-warning[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin-bottom:.625rem}"]}),t})();function mE(t,e){1&t&&(Ts(0),Ms(1,"img",20),Es())}function bE(t,e){1&t&&Ms(0,"img",22)}function _E(t,e){if(1&t&&(Ts(0),Cs(1,bE,1,0,"img",21),Es()),2&t){const t=Vs();Ur(1),Ps("ngIf",t.isDarkTheme)}}function yE(t,e){1&t&&(ks(0,"a",23),ua(1,"See Pricing"),Ss()),2&t&&Ps("href",Vs().subscribeLink,Qi)}function vE(t,e){1&t&&(ks(0,"a",24),ua(1,"Create account"),Ss())}function CE(t,e){1&t&&(ks(0,"a",25),ua(1,"Forgot password?"),Ss())}const wE="https://plomastermind.com/pricing/";let xE=(()=>{class t{constructor(t,e,n,i,r,o){this.authService=t,this.store=e,this.router=n,this.route=i,this.feature=r,this.theme=o,this.loginForm=new hw({username:new dw("",[_C.required]),password:new dw("",[_C.required])}),this.LoginStatus=pT}ngOnInit(){return $m(this,void 0,void 0,function*(){yield this.authService.tryAutoLogin(),this.error$=this.store.pipe(Yb(Qy)),this.isLoggingIn$=this.store.pipe(Yb(Gy));const t=dy(this.store.pipe(Yb(Wy))),e=this.route.snapshot.queryParams;if(t){const t=Object.assign(Object.assign({},e),{redirectTo:void 0,forced:void 0}),n=e.redirectTo;this.router.navigate(null!=n?n:[""],{queryParams:t})}})}get isFiveCard(){return!1}get isDarkTheme(){return this.theme.isDark}get subscribeLink(){return wE}clearError(){this.store.dispatch(Hy())}login(){this.loginForm.valid&&(this.clearError(),this.store.dispatch(Ly({user:this.loginForm.value.username,password:this.loginForm.value.password,redirect:{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{logout:void 0})}})))}loginViaGoogle(){return $m(this,void 0,void 0,function*(){this.store.dispatch(Dy({redirect:{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{logout:void 0})}}))})}}return t.\u0275fac=function(e){return new(e||t)(xs(fT),xs(Kb),xs(wm),xs(rg),xs(gT),xs(_T))},t.\u0275cmp=Nt({type:t,selectors:[["app-login"]],decls:33,vars:29,consts:[[1,"login-container"],[1,"link-button","subscribe"],[1,"link",3,"href"],[1,"login"],[1,"logo"],[4,"ngIf"],[1,"login-form",3,"formGroup","ngSubmit"],["color","accent"],["type","text","matInput","","placeholder","Username","formControlName","username",3,"focus"],["type","password","matInput","","placeholder","Password","formControlName","password",3,"focus"],[1,"error"],[1,"learn-more",3,"ngSwitch"],[3,"href",4,"ngSwitchCase"],["href","https://plomastermind.com/register/",4,"ngSwitchCase"],["href","https://plomastermind.com/login/?action=lostpassword",4,"ngSwitchCase"],[1,"login-button"],["type","submit","mat-flat-button","","aria-label","Login",3,"disabled"],["color","accent",3,"diameter"],[1,"social-login"],[3,"click"],["src","assets/svg/M5C3.svg"],["src","assets/svg/M4C3.svg",4,"ngIf"],["src","assets/svg/M4C3.svg"],[3,"href"],["href","https://plomastermind.com/register/"],["href","https://plomastermind.com/login/?action=lostpassword"]],template:function(t,e){if(1&t&&(ks(0,"div",0),ks(1,"div",1),ks(2,"a",2),ua(3,"Subscribe for Full Access"),Ss(),Ss(),ks(4,"div",3),ks(5,"div",4),Cs(6,mE,2,0,"ng-container",5),Cs(7,_E,2,1,"ng-container",5),Ss(),ks(8,"form",6),Ds("ngSubmit",function(){return e.login()}),ks(9,"mat-form-field",7),ks(10,"input",8),Ds("focus",function(){return e.clearError()}),Ss(),Ss(),ks(11,"mat-form-field",7),ks(12,"input",9),Ds("focus",function(){return e.clearError()}),Ss(),Ss(),ks(13,"p",10),Vl(14,"async"),ua(15),Vl(16,"async"),Ss(),ks(17,"div",11),Vl(18,"async"),Vl(19,"async"),Cs(20,yE,2,1,"a",12),Cs(21,vE,2,0,"a",13),Cs(22,CE,2,0,"a",14),Ss(),ks(23,"div",15),ks(24,"button",16),Vl(25,"async"),ua(26,"Login"),Ss(),ks(27,"mat-spinner",17),Vl(28,"async"),Ss(),Ss(),Ss(),ks(29,"div",18),ks(30,"span",19),Ds("click",function(){return e.loginViaGoogle()}),ua(31,"Login via Google"),Ss(),Ss(),Ss(),Ss(),Ms(32,"app-mobile-warning")),2&t){let t=null,n=null,i=null;Ur(2),Ps("href",e.subscribeLink,Qi),Ur(4),Ps("ngIf",e.isFiveCard),Ur(1),Ps("ngIf",!e.isFiveCard),Ur(1),Ps("formGroup",e.loginForm),Ur(5),Js("show",!(null==(t=Hl(14,17,e.error$))||!t.message)),Ur(2),ha(" ",null==(n=Hl(16,19,e.error$))?null:n.message," "),Ur(2),Js("show",!!Hl(18,21,e.error$)),Ps("ngSwitch",null==(i=Hl(19,23,e.error$))?null:i.code),Ur(3),Ps("ngSwitchCase",e.LoginStatus.NoAccess),Ur(1),Ps("ngSwitchCase",e.LoginStatus.WrongUser),Ur(1),Ps("ngSwitchCase",e.LoginStatus.WrongPassword),Ur(2),Ps("disabled",!e.loginForm.valid||Hl(25,25,e.isLoggingIn$)),Ur(3),Js("show",Hl(28,27,e.isLoggingIn$)),Ps("diameter",20)}},directives:[Pd,vw,DC,Ow,YT,sE,hC,AC,Sw,Md,Td,pE,lT,gE],pipes:[Bd],styles:["[_nghost-%COMP%]     .mat-form-field-label{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-form-field-ripple, [_nghost-%COMP%]     .mat-form-field-underline{background-color:var(--text-color)!important}[_nghost-%COMP%]     .mat-button-disabled{color:var(--login-button-text-color-disabled)!important}.login-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.link-button[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.link-button[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:1rem}.link-button.register[_ngcontent-%COMP%]{margin-bottom:3.125rem}.link-button[_ngcontent-%COMP%]   .up[_ngcontent-%COMP%]{vertical-align:top}.link-button[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;width:100%;cursor:pointer;color:var(--link-color);border:var(--border-style);border-radius:var(--link-border-radius);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link-button[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:var(--app-color)}.link-button[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.75rem}app-login[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{width:20rem!important}.login[_ngcontent-%COMP%]{width:20rem;padding:2rem;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);display:flex;flex-direction:column;justify-content:center;align-items:center}.login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:3rem}.login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{visibility:hidden;height:1.25rem;color:red;margin-bottom:0}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .error.show[_ngcontent-%COMP%]{visibility:visible}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .learn-more[_ngcontent-%COMP%]{visibility:hidden;height:1.25rem;margin-bottom:.625rem}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .learn-more.show[_ngcontent-%COMP%]{visibility:visible}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:.625rem;margin-right:calc(-20px - .625rem)}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{visibility:hidden;margin-left:.625rem}.login[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]   mat-spinner.show[_ngcontent-%COMP%]{visibility:visible}.login[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]{margin-top:.625rem}.login[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3125rem 1.25rem;color:var(--link-color);cursor:pointer}.login[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{padding:.25rem 1.1875rem;border:1px solid #fff;color:var(--link-color-hover);border-radius:var(--link-border-radius)}a[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer;text-decoration:none}button[_ngcontent-%COMP%]{border-radius:var(--link-border-radius);border:var(--border-style);color:var(--link-button-color);background-color:var(--link-button-background-color)}button[_ngcontent-%COMP%]:hover:enabled{color:var(--app-color)}"]}),t})();function PE(t,e){if(1&t&&(ks(0,"div",17),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t,"")}}function OE(t,e){if(1&t&&(Ts(0),Cs(1,PE,2,1,"div",16),Es()),2&t){const t=Vs().$implicit;Ur(1),Ps("ngForOf",t.labels)}}function kE(t,e){if(1&t&&(ks(0,"li",18),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t," ")}}function SE(t,e){if(1&t&&(ks(0,"div",13),Cs(1,OE,2,1,"ng-container",14),ks(2,"ul"),Cs(3,kE,2,1,"li",15),Ss(),Ss()),2&t){const t=e.$implicit;Ur(1),Ps("ngIf",t.labels),Ur(2),Ps("ngForOf",t.items)}}function ME(t,e){if(1&t&&(ks(0,"div",10),ks(1,"div",11),ua(2),Ss(),Cs(3,SE,4,2,"div",12),Ss()),2&t){const t=e.$implicit;Ur(2),ha("",t.header," "),Ur(1),Ps("ngForOf",t.sections)}}function TE(t,e){if(1&t&&(ks(0,"div",6),ks(1,"div",7),ks(2,"div",8),ua(3),Vl(4,"date"),Ss(),Ss(),Cs(5,ME,4,2,"div",9),Ss()),2&t){const t=e.$implicit;Ur(3),da($l(4,2,t.dateReleased,"YYYY-MM-dd")),Ur(2),Ps("ngForOf",t.description)}}let EE=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.store=n,this.releaseNotes=[]}ngOnInit(){this.sub=this.store.pipe(Yb(nC)).subscribe(t=>{this.releaseNotes=[...t].sort((t,e)=>new Date(e.dateReleased).getTime()-new Date(t.dateReleased).getTime())})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}dismiss(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM),xs(Kb))},t.\u0275cmp=Nt({type:t,selectors:[["app-info-dialog"]],decls:9,vars:2,consts:[["mat-dialog-title",""],[1,"app-info-dialog-content","mat-typography"],[1,"note"],["class","release",4,"ngFor","ngForOf"],["align","center"],[1,"dismiss-link",3,"click"],[1,"release"],[1,"info"],[1,"version"],["class","description",4,"ngFor","ngForOf"],[1,"description"],[1,"header"],["class","section",4,"ngFor","ngForOf"],[1,"section"],[4,"ngIf"],["class","item",4,"ngFor","ngForOf"],["class","label",4,"ngFor","ngForOf"],[1,"label"],[1,"item"]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1),Ss(),ks(2,"mat-dialog-content",1),ks(3,"div",2),ua(4,"You might need to refresh your browser for the updates to be available."),Ss(),Cs(5,TE,6,5,"div",3),Ss(),ks(6,"mat-dialog-actions",4),ks(7,"a",5),Ds("click",function(){return e.dismiss()}),ua(8,"Close"),Ss(),Ss()),2&t&&(Ur(1),da(e.data.hasNewUpdates?"New updates!":"Update history"),Ur(4),Ps("ngForOf",e.releaseNotes))},directives:[KM,QM,wd,YM,Pd],pipes:[jd],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-dialog-content{margin:0;overflow-x:hidden}.note[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}.note[_ngcontent-%COMP%]{width:100%;font-size:.75rem}.release[_ngcontent-%COMP%]{width:calc(100% - .5rem);border-bottom:1px solid #e6e6e6;margin:1.25rem 0}.release[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.release[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:.625rem}.release[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:.625rem}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]:last-child{margin-bottom:0}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.3125rem;font-size:1rem}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:.3125rem}.release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .release[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{user-select:text;-ms-user-select:text;-moz-user-select:text;-ms-touch-select:text;-webkit-user-select:text;overflow-wrap:break-word}.dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.dismiss-link[_ngcontent-%COMP%]:hover{padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();function RE(t,e){if(1&t&&(ks(0,"div"),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t," ")}}function FE(t,e){if(1&t){const t=Fs();ks(0,"a",7),Ds("click",function(){return Re(t),Vs().dismiss()}),ua(1),Ss()}if(2&t){const t=Vs();Ur(1),da(t.dismissLabel)}}let IE=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}get confirmLabel(){var t;return null!==(t=this.data.confirmLabel)&&void 0!==t?t:"Yes"}get dismissLabel(){var t;return null!==(t=this.data.dismissLabel)&&void 0!==t?t:"No"}dismiss(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM))},t.\u0275cmp=Nt({type:t,selectors:[["app-confirmation-dialog"]],decls:9,vars:4,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"text"],[4,"ngFor","ngForOf"],["align","center"],[1,"confirm-link",3,"click"],["class","dismiss-link",3,"click",4,"ngIf"],[1,"dismiss-link",3,"click"]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1),Ss(),ks(2,"mat-dialog-content",1),ks(3,"div",2),Cs(4,RE,2,1,"div",3),Ss(),Ss(),ks(5,"mat-dialog-actions",4),ks(6,"a",5),Ds("click",function(){return e.confirm()}),ua(7),Ss(),Cs(8,FE,2,1,"a",6),Ss()),2&t&&(Ur(1),ha(" ",e.data.title,""),Ur(3),Ps("ngForOf",e.data.content),Ur(3),ha(" ",e.confirmLabel,""),Ur(1),Ps("ngIf",!e.data.confirmOnly))},directives:[KM,QM,wd,YM,Pd],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.text[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:.5rem;text-align:justify}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.confirm-link[_ngcontent-%COMP%]:hover, .dismiss-link[_ngcontent-%COMP%]:hover{padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();var AE={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let DE;const LE=new Uint8Array(16);function BE(){if(!DE&&(DE="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!DE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return DE(LE)}const NE=[];for(let HW=0;HW<256;++HW)NE.push((HW+256).toString(16).slice(1));var jE=function(t,e,n){if(AE.randomUUID&&!e&&!t)return AE.randomUUID();const i=(t=t||{}).random||(t.rng||BE)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return function(t,e=0){return(NE[t[e+0]]+NE[t[e+1]]+NE[t[e+2]]+NE[t[e+3]]+"-"+NE[t[e+4]]+NE[t[e+5]]+"-"+NE[t[e+6]]+NE[t[e+7]]+"-"+NE[t[e+8]]+NE[t[e+9]]+"-"+NE[t[e+10]]+NE[t[e+11]]+NE[t[e+12]]+NE[t[e+13]]+NE[t[e+14]]+NE[t[e+15]]).toLowerCase()}(i)},VE=n("NpuA");let HE=(()=>{let t=class{constructor(){this._papa=VE}parse(t,e){return this._papa.parse(t,e)}unparse(t,e){return this._papa.unparse(t,e)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})();var $E=n("Iab2");let zE=(()=>{class t{get isFileSaverSupported(){try{return!!new Blob}catch(t){return!1}}genType(t){if(!t||-1===t.lastIndexOf("."))return"text/plain";const e=t.substr(t.lastIndexOf(".")+1);switch(e){case"txt":return"text/plain";case"xml":case"html":return"text/"+e;case"json":return"octet/stream";default:return"application/"+e}}save(t,e,n,i){if(!t)throw new Error("Data argument should be a blob instance");const r=new Blob([t],{type:n||t.type||this.genType(e)});Object($E.saveAs)(r,decodeURI(e||"download"),i)}saveText(t,e,n){const i=new Blob([t]);this.save(i,e,null,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})(),UE=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),qE=(()=>{class t{constructor(t,e,n,i,r){this.dialog=t,this.store=e,this.csvParser=n,this.fileSaver=i,this.storage=r,this.userFavorites=[],this.store.pipe(Yb(iv)).subscribe(t=>{this.userFavorites=t})}loadUserFavorites(){const t=this.storage.get("USER-FAVORITES");if(t){const e=JSON.parse(t);this.updateUserFavorites(e,!1)}else this.updateUserFavorites([],!1)}exportUserFavorites(){const t=this.userFavorites.map(t=>{const{path:e,queryParams:n}=t,i=Object.entries(n).map(([t,e])=>`${t}=${e}`).join("&"),r=`${window.location.origin}/${e}?${i}`;return[t.name,r,t.dateCreatedISO].map(t=>`"${t}"`).join(",")}).join("\n");this.fileSaver.save(new Blob([t],{type:"text/csv"}),"favorites.csv")}importUserFavorites(t){if(t)try{const e=new FileReader;e.onloadend=()=>{var n;const i=this.csvParser.parse(e.result,{});if((null===(n=i.data)||void 0===n?void 0:n.length)>0){const e=i.data.map(t=>{const[e,n,i]=t,r=n.split("?")[0],o=n.split("?")[1].split("&"),s=r.substring(r.lastIndexOf("/")),a={};for(const l of o){const[t,e]=l.split("=");a[t]=e}return{key:jE(),name:e,path:s,queryParams:a,dateCreatedISO:i}});this.confirmImport(t.name,e)}},e.readAsText(t)}catch(e){console.error(e)}}confirmImport(t,e){this.dialog.open(IE,{data:{title:"Import Favorites",content:[`Are you sure you want to replace your current favorites with ${e.length} favorites from "${t}"?`,"If not make sure to export your current favorites before importing a new set of favorites."],confirmLabel:"Confirm",dismissLabel:"Cancel"}}).afterClosed().subscribe(t=>{t&&this.updateUserFavorites(e)})}createUserFavorites(t){const e=[...this.userFavorites,t];this.updateUserFavorites(e)}deleteUserFavorites(t){const e=this.userFavorites.filter(e=>e.key!==t);this.updateUserFavorites(e)}updateUserFavorites(t,e=!0){this.store.dispatch(Xy({favorites:t})),e&&this.storage.set("USER-FAVORITES",JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(hi(qM),hi(Kb),hi(HE),hi(zE),hi(hT))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class WE{constructor(t){this.total=t}call(t,e){return e.subscribe(new GE(t,this.total))}}class GE extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const KE=new Set;let QE,YE=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZE}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!KE.has(t))try{QE||(QE=document.createElement("style"),QE.setAttribute("type","text/css"),document.head.appendChild(QE)),QE.sheet&&(QE.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),KE.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(hi(yx))},t.\u0275prov=at({factory:function(){return new t(hi(yx))},token:t,providedIn:"root"}),t})();function ZE(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let JE=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return XE($w(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=hp(XE($w(t)).map(t=>this._registerQuery(t).observable));return e=Bp(e.pipe(Ap(1)),e.pipe(t=>t.lift(new WE(1)),qP(0))),e.pipe(k(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new _(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Np(e),k(({matches:e})=>({query:t,matches:e})),hx(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(hi(YE),hi(Lc))},t.\u0275prov=at({factory:function(){return new t(hi(YE),hi(Lc))},token:t,providedIn:"root"}),t})();function XE(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const tR={tooltipState:OO("state",[TO("initial, void, hidden",MO({opacity:0,transform:"scale(0)"})),TO("visible",MO({transform:"scale(1)"})),RO("* => visible",kO("200ms cubic-bezier(0, 0, 0.2, 1)",EO([MO({opacity:0,transform:"scale(0)",offset:0}),MO({opacity:.5,transform:"scale(0.99)",offset:.5}),MO({opacity:1,transform:"scale(1)",offset:1})]))),RO("* => hidden",kO("100ms cubic-bezier(0, 0, 0.2, 1)",MO({opacity:0})))])},eR=Sx({passive:!0}),nR=new qn("mat-tooltip-scroll-strategy"),iR={provide:nR,deps:[NP],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},rR=new qn("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let oR=(()=>{class t{constructor(t,e,n,i,r,o,s,a,l,c,u){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=o,this._ariaDescriber=s,this._focusMonitor=a,this._dir=c,this._defaultOptions=u,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new x,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!pP(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),r.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Vw(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(hx(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,eR)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new nP(sR,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(hx(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(hx(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(hx(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ap(1),hx(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,eR)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(xs(NP),xs(ja),xs(Wx),xs(Cl),xs(Lc),xs(yx),xs(iO),xs(_O),xs(nR),xs(Rx,8),xs(rR,8))},t.\u0275dir=qt({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),sR=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new x,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(xs(ll),xs(JE))},t.\u0275cmp=Nt({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&Ds("click",function(){return e._handleBodyInteraction()},!1,ir),2&t&&Zs("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(ks(0,"div",0),Ds("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),Vl(1,"async"),ua(2),Ss()),2&t){let t=null;Js("mat-tooltip-handset",null==(t=Hl(1,5,e._isHandset))?null:t.matches),Ps("ngClass",e.tooltipClass)("@state",e._visibility),Ur(2),da(e.message)}},directives:[vd],pipes:[Bd],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[tR.tooltipState]},changeDetection:0}),t})(),aR=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[iR],imports:[[wO,Ud,UP,tM],tM,Xx]}),t})();function lR(t,e){1&t&&(ks(0,"div"),ua(1," You don't have any favorites yet. "),Ss())}function cR(t,e){1&t&&Ms(0,"i",18)}function uR(t,e){1&t&&Ms(0,"i",19)}function dR(t,e){if(1&t){const t=Fs();ks(0,"div",11),ks(1,"div",12),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(2).select(n)}),Cs(2,cR,1,0,"i",13),Cs(3,uR,1,0,"i",14),ks(4,"div",15),ua(5),Ss(),Ss(),ks(6,"div",16),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(2).delete(n)}),Ms(7,"i",17),Ss(),Ss()}if(2&t){const t=e.$implicit,n=Vs(2);Ur(2),Ps("ngIf",n.isRange(t)),Ur(1),Ps("ngIf",n.isTraining(t)),Ur(1),Ps("matTooltip",t.name),Ur(1),ha(" ",t.name," ")}}function hR(t,e){if(1&t&&(Ts(0),ks(1,"div",8),ua(2,"Preflop"),Ss(),ks(3,"div",9),Cs(4,dR,8,4,"div",10),Vl(5,"async"),Ss(),Es()),2&t){const t=Vs();Ur(4),Ps("ngForOf",Hl(5,1,t.preflopFavorites$))}}function pR(t,e){1&t&&Ms(0,"i",18)}function fR(t,e){1&t&&Ms(0,"i",19)}function gR(t,e){if(1&t){const t=Fs();ks(0,"div",11),ks(1,"div",12),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(2).select(n)}),Cs(2,pR,1,0,"i",13),Cs(3,fR,1,0,"i",14),ks(4,"div",15),ua(5),Ss(),Ss(),ks(6,"div",16),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(2).delete(n)}),Ms(7,"i",17),Ss(),Ss()}if(2&t){const t=e.$implicit,n=Vs(2);Ur(2),Ps("ngIf",n.isRange(t)),Ur(1),Ps("ngIf",n.isTraining(t)),Ur(1),Ps("matTooltip",t.name),Ur(1),ha(" ",t.name," ")}}function mR(t,e){if(1&t&&(Ts(0),ks(1,"div",20),ua(2,"Postflop"),Ss(),ks(3,"div",9),Cs(4,gR,8,4,"div",10),Vl(5,"async"),Ss(),Es()),2&t){const t=Vs();Ur(4),Ps("ngForOf",Hl(5,1,t.postflopFavorites$))}}let bR=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.store=e,this.favoritesService=n;const i=(t,e)=>{const{tree:n,node:i}=t.queryParams,{tree:r,node:o}=e.queryParams;if(n!==r)return n.localeCompare(r);if(i!==o){const t=(null==i?void 0:i.split("-").length)||0,e=(null==o?void 0:o.split("-").length)||0;return t!==e?t-e:i.localeCompare(o)}return new Date(t.dateCreatedISO).getTime()-new Date(e.dateCreatedISO).getTime()};this.favorites$=this.store.pipe(Yb(iv)),this.preflopFavorites$=this.favorites$.pipe(k(t=>t.filter(t=>"preflop"===t.queryParams.type)),k(t=>t.sort(i))),this.postflopFavorites$=this.favorites$.pipe(k(t=>t.filter(t=>"postflop"===t.queryParams.type)),k(t=>t.sort(i)))}cancel(){this.dialogRef.close(null)}select(t){this.dialogRef.close(t)}delete(t){this.store.dispatch(Jy({key:t.key}))}isTraining(t){return t.path.startsWith("train")||t.path.startsWith("game")}isRange(t){return!this.isTraining(t)}import(t){const e=t.target.files[0];e&&this.favoritesService.importUserFavorites(e)}export(){this.favoritesService.exportUserFavorites()}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(Kb),xs(qE))},t.\u0275cmp=Nt({type:t,selectors:[["app-favorites-dialog"]],decls:19,vars:9,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[4,"ngIf"],[1,"favorites-list"],["align","center"],[1,"dismiss-link",3,"click"],["type","file",1,"file-input",3,"change"],["fileUpload",""],[1,"label"],[1,"favorites"],["class","favorite-item",4,"ngFor","ngForOf"],[1,"favorite-item"],[1,"name",3,"click"],["class","fas fa-eye",4,"ngIf"],["class","fas fa-dumbbell",4,"ngIf"],["matTooltipClass","medium-tooltip","matTooltipPosition","above",1,"label",3,"matTooltip"],[1,"delete",3,"click"],[1,"icon","far","fa-times-circle"],[1,"fas","fa-eye"],[1,"fas","fa-dumbbell"],[1,"label","margin-top"]],template:function(t,e){if(1&t){const t=Fs();ks(0,"h2",0),ua(1,"Your favorites"),Ss(),ks(2,"mat-dialog-content",1),Cs(3,lR,2,0,"div",2),Vl(4,"async"),ks(5,"div",3),Cs(6,hR,6,3,"ng-container",2),Vl(7,"async"),Cs(8,mR,6,3,"ng-container",2),Vl(9,"async"),Ss(),Ss(),ks(10,"mat-dialog-actions",4),ks(11,"a",5),Ds("click",function(){return Re(t),ws(18).click()}),ua(12,"Import"),Ss(),ks(13,"a",5),Ds("click",function(){return e.export()}),ua(14,"Export"),Ss(),ks(15,"a",5),Ds("click",function(){return e.cancel()}),ua(16,"Close"),Ss(),Ss(),ks(17,"input",6,7),Ds("change",function(t){return e.import(t)}),Ss()}if(2&t){let t=null,n=null,i=null;Ur(3),Ps("ngIf",0===(null==(t=Hl(4,3,e.favorites$))?null:t.length)),Ur(3),Ps("ngIf",(null==(n=Hl(7,5,e.preflopFavorites$))?null:n.length)>0),Ur(2),Ps("ngIf",(null==(i=Hl(9,7,e.postflopFavorites$))?null:i.length)>0)}},directives:[KM,QM,Pd,YM,wd,oR],pipes:[Bd],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  #mat-dialog-0{min-width:65vw!important}.file-input[_ngcontent-%COMP%]{display:none}.margin-top[_ngcontent-%COMP%]{margin-top:1rem}.favorites[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:20vh;overflow-y:auto}.favorite-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;cursor:pointer;padding:5px;color:var(--text-color)}.favorite-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5rem;padding:0 5px;margin-right:5px}.favorite-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.favorite-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{background-color:var(--tree-item-hover)}.favorite-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--fa-icon-color)}.favorite-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{background-color:var(--tree-item-hover)}.dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.dismiss-link.disabled[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none;color:var(--text-color-disabled)}.dismiss-link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})(),_R=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}get featureText(){return this.data.featureText}confirm(){this.dialogRef.close(!0)}openShop(){window.open(wE)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM))},t.\u0275cmp=Nt({type:t,selectors:[["app-feature-locked-dialog"]],decls:12,vars:1,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link","shop",3,"click"],[1,"link",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"PLO Mastermind"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div"),ks(5,"p"),ua(6),Ss(),Ss(),Ss(),ks(7,"mat-dialog-actions",3),ks(8,"a",4),Ds("click",function(){return e.openShop()}),ua(9,"Upgrade now"),Ss(),ks(10,"a",5),Ds("click",function(){return e.confirm()}),ua(11,"Close"),Ss(),Ss()),2&t&&(Ur(6),ha("",e.featureText," is only available for subscribers."))},directives:[KM,QM,YM],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),t})();var yR=n("6nyB");function vR(t,e,n){const{isTurnOrRiver:i,evFactor:r,turnInvest:o,plainEV:s}=e,a=r||1,l=o?o/2:0;let c;return c=s?null!==t?a*t+l:null:null!==t?a*(t/(i?2e4:2e3))+l:null,n&&c>=-.1&&(c=0),c}const CR=t=>t[0],wR=t=>t[1],xR=t=>t[2],PR=t=>t[3],OR=t=>t[4],kR=t=>t[5],SR=t=>t[6],MR=t=>t[7],TR=t=>t.items.filter(t=>kR(t)>0&&null!==PR(t));function ER(t){const e=t.map(t=>TR(t).map(t=>SR(t)*kR(t)).reduce((t,e)=>t+e,0)).reduce((t,e)=>t+e,0);return t.map(t=>{const n=TR(t).map(t=>SR(t)*kR(t)).reduce((t,e)=>t+e,0);return{action:t.action,overallFreq:n/e}})}class RR{constructor(t,e){this.http=t,this.compactComboLookup=e,this.compactComboLookup||(this.compactComboLookup={})}get isFiveCard(){return!1}get baseUrl(){return this.isFiveCard?pu+"/fivecard":""+pu}loadPreflopRange(t,e,n){return $m(this,void 0,void 0,function*(){const i=t.map(({action:t,rangeId:i},r)=>$m(this,void 0,void 0,function*(){const o={key:i};n&&n.length>0&&(o.node=n),0===r&&(o.primary="true");const s=yield this.http.getText(this.baseUrl+`/preflop/tree/${e}/range`,o);return{action:t,range:s}}));console.time("[ASYNC] load raw ranges");const r=(yield Promise.all(i)).filter(t=>!!t);console.timeEnd("[ASYNC] load raw ranges"),console.time("[BLOCKING] parse action ranges");const o=r.map(({action:t,range:e})=>({action:t,items:JSON.parse(e).items}));console.timeEnd("[BLOCKING] parse action ranges");const{ranges:s,rangeFrequencies:a}=this.assembleRangeFromLegacyItems(o);return{ranges:s,rangeFrequencies:a}})}assembleRangeFromLegacyItems(t){console.time("[BLOCKING] enrich ranges");const e=t.map(t=>({action:t.action,range:this.enrichPreflopRangeItems(t.items)}));console.timeEnd("[BLOCKING] enrich ranges"),console.time("[BLOCKING] assemble range");const n=this.assembleActionRanges(e);console.timeEnd("[BLOCKING] assemble range"),console.time("[BLOCKING] range frequencies");const i=ER(n);return console.timeEnd("[BLOCKING] range frequencies"),{ranges:n,rangeFrequencies:i}}enrichPreflopRangeItems(t){const e=[],n=this.isFiveCard?10:8;for(const i of t)if(this.compactComboLookup[i.combo]){const{variations:t,comboKey:n}=this.compactComboLookup[i.combo];e.push(Object.assign(Object.assign({},i),{combo:n,variations:t}))}else if(i.combo.length!==n||i.combo.includes("]")){const{representative:t,variations:n}=Object(yR.expandSuitsForCombo)(i.combo),r=Object(yR.cardsToString)(Object(yR.parseCards)(t),!0);this.compactComboLookup[i.combo]={comboKey:r,variations:n},e.push(Object.assign(Object.assign({},i),{combo:r,variations:n}))}else{const t=Object(yR.cardsToString)(Object(yR.parseCards)(i.combo),!0);this.compactComboLookup[i.combo]={comboKey:t,variations:1},e.push(Object.assign(Object.assign({},i),{combo:t,variations:1}))}return e}assembleActionRanges(t){if(this.hasComboWeightsAndFrequencies(t.map(t=>t.range)))return t.map(t=>({action:t.action,items:t.range.map(t=>this.toRangeItem(t))}));{const e=function(t){const e={};for(const n of t){const t=n.combo;e[t]=e[t]?[...e[t],n]:[n]}return e}(cy(t.map(t=>t.range)));return t.map(t=>{const n=t.range.map(t=>{const n=e[t.combo].map(t=>t.weight).reduce((t,e)=>t+e,0),i=0===n?0:t.weight/n,r=Object.assign(Object.assign({},t),{comboWeight:n,frequency:i});return this.toRangeItem(r)});return{action:t.action,items:n}})}}hasComboWeightsAndFrequencies(t){var e,n;const i=t[0];return(null===(e=i[0])||void 0===e?void 0:e.comboWeight)>=0&&(null===(n=i[0])||void 0===n?void 0:n.frequency)>=0}toRangeItem(t){return[t.combo,Object(yR.parseCards)(t.combo),t.frequency,t.ev,t.comboWeight,t.comboWeight*t.frequency,t.variations]}}function FR(t){const e={};for(const n of t){const t=CR(n[0]);e[t]=e[t]?[...e[t],n]:[n]}return e}class IR{constructor(t){this.http=t}get isFiveCard(){return!1}get baseUrl(){return this.isFiveCard?pu+"/fivecard":""+pu}loadPostflopRange(t){return $m(this,void 0,void 0,function*(){const e=yield this.loadActionRangeItems(t),{ranges:n,rangeFrequencies:i}=this.assembleRangeFromLegacyItems(e);return{ranges:n,rangeFrequencies:i}})}assembleRangeFromLegacyItems(t){const e=t.map(({action:t,items:e})=>{const n=this.addRepresentativeAndVariations(e);return this.convertToRangeItems(t,n)});console.time("[BLOCKING] lookup");const n=FR(cy(e.map(t=>t.items.map(e=>[e,t.action.type]))));return console.timeEnd("[BLOCKING] lookup"),this.hasComboWeightsAndFrequencies(e.map(t=>t.items))||(console.time("[BLOCKING] enrich action range item"),e.forEach(t=>{t.items=t.items.map(t=>{const e=n[CR(t)].map(t=>kR(t[0])).reduce((t,e)=>t+e,0),i=0===e?0:kR(t)/e;return[CR(t),wR(t),i,PR(t),e,kR(t),SR(t)]})}),console.timeEnd("[BLOCKING] enrich action range item")),{ranges:e,rangeFrequencies:ER(e)}}loadActionRangeItems(t){return $m(this,void 0,void 0,function*(){const e=t.map(({action:t,url:e})=>$m(this,void 0,void 0,function*(){const n=yield this.http.getText(e,{},!0,"gzip");return{action:t,range:n}}));console.time("[ASYNC] load raw ranges");const n=(yield Promise.all(e)).filter(t=>!!t);console.timeEnd("[ASYNC] load raw ranges"),console.time("[BLOCKING] parse action ranges");const i=n.map(({action:t,range:e})=>({action:t,items:JSON.parse(e).items}));return console.timeEnd("[BLOCKING] parse action ranges"),i})}addRepresentativeAndVariations(t){const e=[];for(const n of t){const t=Object(yR.cardsToString)(Object(yR.parseCards)(n.combo));e.push(Object.assign(Object.assign({},n),{combo:t,variations:1}))}return e}convertToRangeItems(t,e){return{action:t,items:e.map(t=>this.toRangeItem(t))}}hasComboWeightsAndFrequencies(t){const e=t[0],n=OR(e[0]),i=xR(e[0]);return null!==n&&null!==i&&n>=0&&i>=0}toRangeItem(t){return[t.combo,Object(yR.parseCards)(t.combo),t.frequency,t.ev,t.comboWeight,t.weight>=0?t.weight:t.comboWeight*t.frequency,t.variations]}}const AR=t=>t.every(e=>1===t.filter(t=>e===t).length),DR=lb("[Training] Check stats"),LR=lb("[Training] Check stats success",{_as:"props",_p:void 0}),BR=lb("[Training] Check stats failure",{_as:"props",_p:void 0}),NR=lb("[Training] Track result",{_as:"props",_p:void 0}),jR=lb("[Status] Track result success",{_as:"props",_p:void 0}),VR=lb("[Status] Track result failure",{_as:"props",_p:void 0}),HR=lb("[Training] Start node training",{_as:"props",_p:void 0}),$R=lb("[Training] Start random board training",{_as:"props",_p:void 0}),zR=lb("[Training] Start game training",{_as:"props",_p:void 0});let UR=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.route=e,this.router=n}confirm(){this.close()}openShop(){this.close(),window.open(wE)}close(){this.router.url.includes("train")&&this.exitTraining(),this.dialogRef.close(!0)}exitTraining(){const t=Object.assign(Object.assign({},this.route.snapshot.queryParams),{user:void 0,hands:void 0,randomBoard:void 0,boards:void 0,boardFilter:void 0,minFrequency:void 0,minWeight:void 0,minEV:void 0,maxEV:void 0,selection:void 0,freeze:void 0});this.router.navigate([""],{queryParams:t})}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(rg),xs(wm))},t.\u0275cmp=Nt({type:t,selectors:[["app-daily-range-limit-dialog"]],decls:15,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link","shop",3,"click"],[1,"link",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"Daily range limit"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div"),ks(5,"p"),ks(6,"b"),ua(7,"You have reached your limit of daily free postflop browsing."),Ss(),Ss(),ks(8,"p"),ua(9,"Come back tomorrow, or upgrade for unlimited access."),Ss(),Ss(),Ss(),ks(10,"mat-dialog-actions",3),ks(11,"a",4),Ds("click",function(){return e.openShop()}),ua(12,"Upgrade now"),Ss(),ks(13,"a",5),Ds("click",function(){return e.confirm()}),ua(14,"Close"),Ss(),Ss())},directives:[KM,QM,YM],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),t})(),qR=(()=>{class t{constructor(t){this.dialogRef=t,t.disableClose=!0}close(){this.dialogRef.close()}openShop(){window.open(wE)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM))},t.\u0275cmp=Nt({type:t,selectors:[["app-upgrade-dialog"]],decls:12,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link","shop",3,"click"],[1,"link",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"PLO Mastermind"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div"),ks(5,"p"),ua(6,"This solution is only available for subscribers. "),Ss(),Ss(),Ss(),ks(7,"mat-dialog-actions",3),ks(8,"a",4),Ds("click",function(){return e.openShop()}),ua(9,"Upgrade now"),Ss(),ks(10,"a",5),Ds("click",function(){return e.close()}),ua(11,"Close"),Ss(),Ss())},directives:[KM,QM,YM],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),t})(),WR=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}dismiss(){this.dialogRef.close(!1)}get mailUrl(){return"support@plomastermind.com"}get mailLink(){return`mailto:${this.mailUrl}?subject=Range loading issue&body=${this.body}`}get body(){return`Could not load range for tree ${this.data.tree}${this.data.board?" with board "+this.data.board:""}${this.data.node?" and node "+this.data.node:""}`}sendMail(){window.open(this.mailLink,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(xs(VM),xs(NM))},t.\u0275cmp=Nt({type:t,selectors:[["range-loading-error-dialog"]],decls:14,vars:1,consts:[["mat-dialog-title",""],[1,"app-info-dialog-content","mat-typography"],[3,"click"],["align","center"],[1,"dismiss-link",3,"click"]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1,"Error"),Ss(),ks(2,"mat-dialog-content",1),ks(3,"div"),ks(4,"p"),ua(5," An error was encountered loading the range. "),Ss(),ks(6,"p"),ua(7," Please click the email address below to report the issue to our support team."),Ms(8,"br"),ks(9,"a",2),Ds("click",function(){return e.sendMail()}),ua(10),Ss(),Ss(),Ss(),Ss(),ks(11,"mat-dialog-actions",3),ks(12,"a",4),Ds("click",function(){return e.dismiss()}),ua(13,"Close"),Ss(),Ss()),2&t&&(Ur(10),da(e.mailUrl))},directives:[KM,QM,YM],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-dialog-content{margin:0;overflow-x:hidden}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}a[_ngcontent-%COMP%]{cursor:pointer;color:var(--link-color);border:none}a[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.dismiss-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--text-color)}.dismiss-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();var GR=function(t){return t[t.Frequency=0]="Frequency",t[t.EV=1]="EV",t[t.EVDiff=2]="EVDiff",t[t.Weight=3]="Weight",t}({}),KR=function(t){return t[t.Desc=0]="Desc",t[t.Asc=1]="Asc",t}({});function QR(t,e){const n=e===KR.Desc?1:-1;switch(t){case GR.EV:return ZR(n);case GR.Frequency:return YR(n);case GR.Weight:return function(t){const e=YR(t);return(n,i)=>{if(null===kR(n)&&null===kR(i))return e(n,i);if(null===kR(n))return t;if(null===kR(i))return-1*t;{const r=kR(n),o=kR(i);return r===o?e(n,i):t*(o-r)}}}(n);case GR.EVDiff:return function(t){const e=ZR(t);return(n,i)=>{if(null===MR(n)&&null===MR(i))return e(n,i);if(null===MR(n))return t;if(null===MR(i))return-1*t;{const r=MR(n),o=MR(i);return r===o?e(n,i):t*(o-r)}}}(n);default:return YR(n)}}function YR(t){return(e,n)=>e[2]===n[2]?((e,n)=>null===e[3]?t:null===n[3]?-1*t:n[3]-e[3])(e,n):t*(n[2]-e[2])}function ZR(t){const e=(t,e)=>e[2]-t[2];return(n,i)=>null===n[3]&&null===i[3]?e(n,i):null===n[3]?t:null===i[3]?-1*t:n[3]===i[3]?e(n,i):t*(i[3]-n[3])}function JR(t,e=!1){if(t.toUpperCase().startsWith(Q_.RAISECHIP)){const n=+t.substring(Q_.RAISECHIP.length);return Object.assign({type:Q_.RAISECHIP,amount:n},e?{hasPrevBet:!0}:{})}if(t.toUpperCase().startsWith(Q_.RAISE)){const n=+t.substring(Q_.RAISE.length);return Object.assign({type:Q_.RAISE,amount:n},e?{hasPrevBet:!0}:{})}return Object.assign({type:t.toUpperCase()},e?{hasPrevBet:!0}:{})}class XR{constructor(t){this.http=t}loadRange(t,e){return $m(this,void 0,void 0,function*(){const n=new Date;console.time("[ASYNC] load binary action ranges");const i=t.map(({url:t})=>this.http.getRaw(t,{},!0,!0)),r=(yield Promise.all(i)).map((e,n)=>({key:t[n].key,data:e})).filter(t=>!!t);console.timeEnd("[ASYNC] load binary action ranges");const o=(new Date).getTime()-n.getTime();this.trackTime(o,e),console.time("[BLOCKING] unpack binary action ranges");const s=Object(yR.unpackBinaryRanges)(r);console.timeEnd("[BLOCKING] unpack binary action ranges"),console.time("[BLOCKING] range frequencies");const a=s.map(t=>t.totalWeight).reduce((t,e)=>t+e,0),l=s.map((e,n)=>Object.assign(Object.assign({},e),{action:t[n].action,frequency:e.totalWeight/a})),c=s.map((e,n)=>({action:t[n].action,overallFreq:e.totalWeight/a}));return console.timeEnd("[BLOCKING] range frequencies"),{ranges:l,rangeFrequencies:c}})}loadPureRange(t,e){return $m(this,void 0,void 0,function*(){console.time("[ASYNC] load binary action ranges");const n=t.map(({url:t,params:e})=>this.http.getRaw(t,e)),i=(yield Promise.all(n)).map((e,n)=>({key:t[n].key,data:e})).filter(t=>!!t);console.timeEnd("[ASYNC] load binary action ranges"),console.time("[BLOCKING] unpack binary action ranges");const r=Object(yR.unpackBinaryRanges)(i);console.timeEnd("[BLOCKING] unpack binary action ranges"),console.time("[BLOCKING] range frequencies");const o=r.map(t=>t.totalWeight).reduce((t,e)=>t+e,0),s=r.map(t=>Object.assign(Object.assign({},t),{action:JR(t.key.split("_")[1],e),frequency:t.totalWeight/o})),a=r.map(t=>({action:JR(t.key.split("_")[1],e),overallFreq:t.totalWeight/o}));return console.timeEnd("[BLOCKING] range frequencies"),{ranges:s,rangeFrequencies:a}})}get client(){return"4c"}trackTime(t,e){return $m(this,void 0,void 0,function*(){try{yield this.http.post(`${pu}/track/range/time/${this.client}`,Object.assign({loadingtime:t},e))}catch(n){console.log("Could not track range loading time"),console.error(n)}})}}let tF=(()=>{class t{constructor(t){this.httpClient=t}get(t,e,n=!1,i){return $m(this,void 0,void 0,function*(){const r={};n&&(r["skip-auth"]="true"),i&&(r["content-encoding"]="contentEncoding");const o=this.httpClient.get(t,{headers:r,params:e}).pipe(k(t=>t)).toPromise();return yield this.makeRequest(o)})}getText(t,e,n=!1,i){return $m(this,void 0,void 0,function*(){const r={};n&&(r["skip-auth"]="true"),i&&(r["content-encoding"]="contentEncoding");const o=this.httpClient.get(t,{headers:r,params:e,responseType:"text"}).toPromise();return yield this.makeRequest(o)})}getRaw(t,e,n=!1,i){return $m(this,void 0,void 0,function*(){const r={};n&&(r["skip-auth"]="true"),i&&(r["content-encoding"]="gzip");const o=this.httpClient.get(t,{headers:r,params:e,responseType:"arraybuffer"}).toPromise();return yield this.makeRequest(o)})}put(t,e,n=!1){return $m(this,void 0,void 0,function*(){const i=this.httpClient.put(t,e,{headers:n?{"skip-auth":"true"}:void 0}).pipe(k(t=>t)).toPromise();return this.makeRequest(i)})}post(t,e,n=!1){return $m(this,void 0,void 0,function*(){const i=this.httpClient.post(t,e,{headers:n?{"skip-auth":"true"}:void 0}).pipe(k(t=>t)).toPromise();return this.makeRequest(i)})}postText(t,e,n=!1){return $m(this,void 0,void 0,function*(){const i=this.httpClient.post(t,e,{headers:n?{"skip-auth":"true"}:void 0,responseType:"text"}).toPromise();return yield this.makeRequest(i)})}delete(t,e=!1){return $m(this,void 0,void 0,function*(){const n=this.httpClient.delete(t,{headers:e?{"skip-auth":"true"}:void 0}).toPromise();yield n})}makeRequest(t){return $m(this,void 0,void 0,function*(){return yield t})}}return t.\u0275fac=function(e){return new(e||t)(hi(qh))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eF(t,e,n,i){return`${t}-${e}-${n}-${i}`}const nF=t=>t.items.filter(t=>kR(t)>0&&null!==PR(t)),iF={sortBy:GR.Frequency,sortDir:KR.Desc,hideZeroPercentItems:!0,hideEvDifference:!0};let rF=(()=>{class t{constructor(t,e,n){this.http=t,this.store=e,this.dialog=n,this.$isLoading=new ap(!1),this.compactComboLookup=null,this.isLoadingLookupFor="",this._sortingOptions=iF}get isFiveCard(){return!1}get baseUrl(){return this.isFiveCard?pu+"/fivecard":""+pu}get isLoading$(){return this.$isLoading.asObservable()}get rangeSortingOptions(){return this._sortingOptions}setSortingAndDirection(t,e){this._sortingOptions=Object.assign(Object.assign({},this._sortingOptions),{sortBy:t,sortDir:e})}setHideEvDifference(t){this._sortingOptions.hideEvDifference=t}setHideZeroPercentItems(t){this._sortingOptions.hideZeroPercentItems=t}getRange(t){var e;if((null===(e=this.currentRange)||void 0===e?void 0:e.rangeKey)===t)return this.currentRange.range}hasRange(t){return!!this.currentRange&&this.currentRange.rangeKey===t}clearRange(){this.currentRange=null}clearPreflopClassificationLookup(){this.compactComboLookup=null,this.preflopClassificationLookups=null}clearPostflopClassificationLookup(){this.postflopClassificationLookup=null}loadCompactComboLookup(){return $m(this,void 0,void 0,function*(){if(!this.compactComboLookup)try{if(this.isFiveCard){const t=yield this.http.get(this.baseUrl+"/preflop/compact/url"),e=yield this.http.getText(t.url,{},!0);this.compactComboLookup=JSON.parse(e)}}catch(t){console.error(t)}})}loadPreflopClassificationLookup(){var t;return $m(this,void 0,void 0,function*(){if(!((null===(t=this.preflopClassificationLookups)||void 0===t?void 0:t.length)>0))if("preflop"!==this.isLoadingLookupFor){this.isLoadingLookupFor="preflop";try{if(this.isFiveCard){const t=[this.http.get(this.baseUrl+"/preflop/classifications/1/url"),this.http.get(this.baseUrl+"/preflop/classifications/2/url")],e=yield Promise.all(t),[n,i]=yield Promise.all(e.map(({url:t})=>this.http.getText(t,{},!0)));this.preflopClassificationLookups=[new Map(Object.entries(JSON.parse(n))),new Map(Object.entries(JSON.parse(i)))]}else{const t=yield this.http.get(this.baseUrl+"/preflop/classifications");this.preflopClassificationLookups=[new Map(Object.entries(t))]}}finally{this.isLoadingLookupFor=""}}else for(;!this.preflopClassificationLookups;)yield jw(250)})}hasPreflopClassifications(t){var e;return(null===(e=this.preflopClassificationLookups)||void 0===e?void 0:e.length)>0}updatePreflopFilterItems(t){const e=t.map(t=>[t[0],this.getPreflopClassification(t[2]),t[2]]);return this.currentRange.range.filterItems=e,e}loadPostflopClassificationLookup(t){return $m(this,void 0,void 0,function*(){if(this.postflopClassificationLookup||(this.postflopClassificationLookup={}),!this.postflopClassificationLookup[t])if(this.isLoadingLookupFor!==t){this.isLoadingLookupFor=t;try{if(this.isFiveCard){const{url:e}=yield this.http.get(`${this.baseUrl}/postflop/classifications/${t}`),n=yield this.http.get(e,{},!0);this.postflopClassificationLookup={[t]:new Map(Object.entries(n))}}else{const e=yield this.loadPlo4PostflopClassificationLookup(t);this.postflopClassificationLookup={[t]:new Map(Object.entries(e))}}}catch(e){console.error("Could not load classification lookup for "+t),console.error(e)}finally{this.isLoadingLookupFor=""}}else for(;!this.postflopClassificationLookup[t];)yield jw(250)})}loadPlo4PostflopClassificationLookup(t){return $m(this,void 0,void 0,function*(){let e=1;for(;e<=12;)try{return yield this.http.get(`${pu}/postflop/classifications/${t}`)}catch(n){console.log("Could not load lookup ... waiting 5s before trying again",e),e<12&&(yield jw(5e3)),e+=1}})}assembleFilterItems(t,e){var n,i;const r=e===(null===(n=this.currentRange)||void 0===n?void 0:n.rangeKey);if(r&&(null===(i=this.currentRange.range.filterItems)||void 0===i?void 0:i.length)>0)return this.currentRange.range.filterItems;console.time("FILTER ITEMS");const o=new Set(t[0].items.map(t=>CR(t))),s=t[0].items.map(t=>[wR(t),[],CR(t)]);for(let a=1;a<t.length;a++)t[a].items.forEach(t=>{const e=CR(t);o.has(e)||(o.add(e),s.push([wR(t),[],e]))});return console.timeEnd("FILTER ITEMS"),r&&(this.currentRange.range.filterItems=s),s}addClassificationsToPostflopFilterItems(t,e){return $m(this,void 0,void 0,function*(){try{if(this.isFiveCard){const{url:n}=yield this.http.get(`${this.baseUrl}/postflop/classifications/${e}`),i=yield this.http.get(n,{},!0);return t.map(t=>[t[0],i[t[2]],t[2]])}{const n=yield this.loadPlo4PostflopClassificationLookup(e);return t.map(t=>[t[0],n[t[2]],t[2]])}}catch(n){console.error("Could not load classification lookup for "+e),console.error(n)}})}updatePostflopFilterItems(t,e){const n=this.postflopClassificationLookup[e],i=t.map(t=>[t[0],n.get(t[2]),t[2]]);return this.currentRange.range.filterItems=i,i}hasPostflopClassifications(t,e){return!!this.postflopClassificationLookup&&!!this.postflopClassificationLookup[e]}loadPreflopActionRanges(t,e,n){return $m(this,void 0,void 0,function*(){const{ranges:i}=yield new RR(this.http,this.compactComboLookup).loadPreflopRange(n,t,e);return i})}setCurrentNode(t){this.currentNodeId=t}loadPreflopRanges(t,e,n,i,r,o){return $m(this,void 0,void 0,function*(){this.$isLoading.next(!0),yield this.loadCompactComboLookup();const s=eF("preflop",e,"",i);if(this.hasRange(s)){const t=this.currentRange.range;return this.store.dispatch(Py({rangeKey:s})),this.$isLoading.next(!1),t}try{const{ranges:a,rangeFrequencies:l}=yield new RR(this.http,this.compactComboLookup).loadPreflopRange(r,e,n),c=a[0].items.map(t=>[wR(t),[],CR(t)]),u={rangeKey:s,treeName:e,nodeId:i,position:t,filterItems:c,ranges:a,adjustEvBy:o,rangeFrequencies:l};return this.currentNodeId&&i!==this.currentNodeId||(this.currentRange={rangeKey:s,range:u},this.store.dispatch(ky({tree:e,node:n,rangeFrequencies:l})),this.store.dispatch(Py({rangeKey:s})),this.store.dispatch(DR())),u}catch(a){429===a.status?0===this.dialog.openDialogs.length&&this.dialog.open(UR):403===a.status?0===this.dialog.openDialogs.length&&this.dialog.open(qR):401!==a.status&&(console.error(a),this.dialog.open(WR,{data:{tree:e,node:n}}))}finally{this.$isLoading.next(!1)}})}loadPostflopActionRanges(t,e,n,i){return $m(this,void 0,void 0,function*(){const{urls:r,format:o}=yield this.getPostflopRangeURLs(n,i,e,t),s={tree:t,node:e,board:[i.flop,i.turn,i.river].filter(t=>!!t).join("")},{ranges:a}="binary"===o?yield new XR(this.http).loadRange(r,s):yield new IR(this.http).loadPostflopRange(r);return a})}loadPostflopRanges(t,e,n,i,r,o,s){return $m(this,void 0,void 0,function*(){this.$isLoading.next(!0);try{return yield this.loadPostflopRangesFromUrl(t,e,n,i,r,o,s)}catch(a){console.error(a),401!==a.status&&this.dialog.open(WR,{data:{tree:e,board:[o.flop,o.turn,o.river].filter(t=>!!t).join(""),node:n}})}finally{this.$isLoading.next(!1)}})}loadPostflopRangesFromUrl(t,e,n,i,r,o,s){return $m(this,void 0,void 0,function*(){const a=[o.flop,o.turn,o.river].join(""),l=eF("postflop",e,a,i);if(this.hasRange(l)){this.$isLoading.next(!1);const t=this.currentRange.range;return this.store.dispatch(Py({rangeKey:l})),t}try{const{urls:a,format:c}=yield this.getPostflopRangeURLs(r,o,n,e),u={tree:e,node:n,board:[o.flop,o.turn,o.river].filter(t=>!!t).join("")},{ranges:d,rangeFrequencies:h}="binary"===c?yield new XR(this.http).loadRange(a,u):yield new IR(this.http).loadPostflopRange(a),p={rangeKey:l,treeName:e,nodeId:i,position:t,filterItems:[],ranges:d,adjustEvBy:s,rangeFrequencies:h,turnInvest:null==s?void 0:s.turnInvest};return this.currentNodeId&&i!==this.currentNodeId||(this.currentRange={rangeKey:l,range:p},this.store.dispatch(ky({tree:e,node:n,rangeFrequencies:h})),this.store.dispatch(Py({rangeKey:l})),this.store.dispatch(DR())),p}catch(c){if(429===c.status)0===this.dialog.openDialogs.length&&this.dialog.open(UR);else{if(403!==c.status)throw c;0===this.dialog.openDialogs.length&&this.dialog.open(qR)}}})}startLoading(){this.$isLoading.next(!0)}finishLoading(){this.$isLoading.next(!1)}setCurrentRange(t,e,n){const i=n.rangeKey,r=n.rangeFrequencies;this.currentRange={rangeKey:i,range:n},this.store.dispatch(ky({tree:t,node:e,rangeFrequencies:r})),this.store.dispatch(Py({rangeKey:i}))}getPostflopRangeURLs(t,e,n,i){return $m(this,void 0,void 0,function*(){const{flop:r,turn:o,river:s}=e,a={keys:t.map(t=>t.rangeId).join(","),flop:r};(null==n?void 0:n.length)>0&&(a.node=n),o&&(a.turn=e.turn,s&&(a.river=e.river));const l=yield this.http.get(this.baseUrl+`/postflop/tree/${i}/range/url`,a);return{format:l.format,urls:t.map(t=>Object.assign({action:t.action},l.urls.find(e=>e.key===t.rangeId)))}})}getPreflopClassification(t){let e;return e=this.lookupPreflopCombo(t),e||(e=Object(yR.classifyPreflopCards)(Object(yR.parseCards)(t))),e}lookupPreflopCombo(t){const e=this.preflopClassificationLookups||[];for(const n of e){const e=n[t];if(e)return e}return null}}return t.\u0275fac=function(e){return new(e||t)(hi(tF),hi(Kb),hi(qM))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oF(t,e){return!(!t||!e||t.type!==e.type||(t.amountLabel&&e.amountLabel?t.amountLabel!==e.amountLabel:t.amount&&e.amount&&t.amount!==e.amount))}function sF(t,e=!1,n=!1,i,r){return t.label?t.label:t.type===Q_.RAISECHIP?i?cF(i):r>0?cF(lF(r)):""+t.amount/2:t.type===Q_.RAISE?t.amountLabel?t.amountLabel:cF(t.amount?r>0?lF(r):""+(i||lF(t.amount)):"Raise"):t.type===Q_.ALLIN?"All-in":cF(t.type)}function aF(t,e,n){return t.short?t.short:t.type===Q_.RAISECHIP?cF(`${t.hasPrevBet?"R":"B"}${e||n||t.amount/2}`):t.type===Q_.RAISE?cF(`${t.hasPrevBet?"R":"B"}${e||n||t.amount}`):t.type===Q_.CHECK?"X":t.type===Q_.ALLIN?"AI":t.type.charAt(0).toUpperCase()}function lF(t){switch(t){case 100:case 77:case 72:return"pot";case 75:return"3/4 pot";case 68:case 67:case 66:return"2/3 pot";case 60:return"3/5 pot";case 50:return"1/2 pot";case 40:return"2/5 pot";case 33:return"1/3 pot";case 25:return"1/4 pot";case 20:return"1/5 pot";default:return t+"%"}}function cF(t){return Array.from(t).map((t,e)=>0===e?t.toUpperCase():t.toLowerCase()).join("")}function uF(t,e){return t.type===Q_.FOLD?-1:t.type===Q_.CHECK||t.type===Q_.CALL?e.type===Q_.FOLD?1:-1:t.type===Q_.MIN?[Q_.FOLD,Q_.CHECK,Q_.CALL].includes(e.type)?1:-1:t.type===Q_.RAISE?e.type===Q_.RAISE?t.amount-e.amount:e.type===Q_.ALLIN?-1:1:1}function dF(){const t=navigator.userAgent;return/\b(BlackBerry|webOS|iPhone|IEMobile|Android|Windows Phone|iPad|iPod)\b/i.test(t)}const hF=["button"],pF=["*"],fF=new qn("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),gF=new qn("MatButtonToggleGroup"),mF={provide:aC,useExisting:rt(()=>yF),multi:!0};let bF=0;class _F{constructor(t,e){this.source=t,this.value=e}}let yF=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+bF++,this.valueChange=new ql,this.change=new ql,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=Vw(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Vw(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Vw(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new Bx(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new _F(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,i=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(xs(ll),xs(fF,8))},t.\u0275dir=qt({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){if(1&t&&ac(n,wF,!0),2&t){let t;ic(t=uc())&&(e._buttonToggles=t)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(ys("aria-disabled",e.disabled),Js("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[Fa([mF,{provide:gF,useExisting:t}])]}),t})();class vF{}const CF=iM(vF);let wF=(()=>{class t extends CF{constructor(t,e,n,i,r,o){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=i,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new ql;const s=Number(r);this.tabIndex=s||0===s?s:null,this.buttonToggleGroup=t,this.appearance=o&&o.appearance?o.appearance:"standard"}get buttonId(){return this.id+"-button"}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=Vw(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Vw(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+bF++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new _F(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(xs(gF,8),xs(ll),xs(ja),xs(_O),zn("tabindex"),xs(fF,8))},t.\u0275cmp=Nt({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){if(1&t&&oc(hF,!0),2&t){let t;ic(t=uc())&&(e._buttonElement=t.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&Ds("focus",function(){return e.focus()}),2&t&&(ys("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),Js("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[ss],ngContentSelectors:pF,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&($s(),ks(0,"button",0,1),Ds("click",function(){return e._onButtonClick()}),ks(2,"span",2),zs(3),Ss(),Ss(),Ms(4,"span",3),Ms(5,"span",4)),2&t){const t=ws(1);Ps("id",e.buttonId)("disabled",e.disabled||null),ys("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),Ur(5),Ps("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[fM],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),xF=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[tM,gM],tM]}),t})();const PF=["minInput"],OF=["maxInput"];function kF(t,e){1&t&&(ks(0,"span",28),ua(1,"%\xa0"),Ss())}function SF(t,e){1&t&&Ms(0,"i",32)}function MF(t,e){1&t&&Ms(0,"i",33)}function TF(t,e){if(1&t&&(ks(0,"div",29),Cs(1,SF,1,0,"i",30),Cs(2,MF,1,0,"i",31),Ss()),2&t){const t=Vs();Ur(1),Ps("ngIf",t.settings.evDiff<0),Ur(1),Ps("ngIf",t.settings.evDiff>0)}}function EF(t,e){if(1&t){const t=Fs();ks(0,"button",34),Ds("touchstart",function(){return Re(t),Vs().negateMin()}),ua(1,"Neg"),Ss()}}function RF(t,e){if(1&t){const t=Fs();ks(0,"button",34),Ds("touchstart",function(){return Re(t),Vs().negateMax()}),ua(1,"Neg"),Ss()}}let FF=(()=>{class t{constructor(t,e,n){this.dialog=t,this.dialogRef=e,this.data=n,this.settings=n}get MIN_ALLOWED_FREQ(){return 1}get MAX_ALLOWED_FREQ(){return 100}get MIN_ALLOWED_WEIGHT(){return 0}get MAX_ALLOWED_WEIGHT(){return 1}get isFrozen(){return this.settings.frozen}get isValid(){return!(this.isInvalid(this.settings.minFrequency,this.MIN_ALLOWED_FREQ,this.MAX_ALLOWED_FREQ)||this.isInvalid(this.settings.minWeight,this.MIN_ALLOWED_WEIGHT,this.MAX_ALLOWED_WEIGHT)||this.isInvalidEVSpread(this.settings.evSpread))}isInvalid(t,e,n){return t<e||t>n}isInvalidEVSpread(t){return!!t&&(t.min&&t.max?+t.min>+t.max:null!==t.min||null!==t.max)}hasValue(t){return null!=t&&!isNaN(t)&&t>=0}changeHandSelection(t){switch(t.value){case"random":this.settings.selectBalanced=!1;break;case"balanced":this.settings.selectBalanced=!0}}changeEvSpread(t,e){this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign(Object.assign({},Uv),this.settings.evSpread),{[t]:""!==e?e:null})})}isMobile(){return dF()}negateMin(){const t=this.MinInputElement.nativeElement.value;this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),{min:-1*t})})}negateMax(){const t=this.MaxInputElement.nativeElement.value;this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),{max:-1*t})})}resetToDefault(){this.settings={minFrequency:85,minWeight:.5,evSpread:Uv,selectBalanced:!0}}exit(){this.dialogRef.close(null)}confirm(){this.isValid&&this.dialogRef.close(this.settings)}showEvDiffExplanation(){this.dialog.open(IE,{data:{title:"EVDiff Filter",content:["This filter can be applied to create a more enhanced training experience by removing hands from the training where the EV between one action and the other is very close.","A positive EVDiff filter will filter by the difference between the best answer and the second best. A negative EVDiff will filter by the difference between the worst and the best answer."],confirmLabel:"Got it",confirmOnly:!0}})}}return t.\u0275fac=function(e){return new(e||t)(xs(qM),xs(NM),xs(VM))},t.\u0275cmp=Nt({type:t,selectors:[["app-training-settings-dialog"]],viewQuery:function(t,e){if(1&t&&(rc(PF,!0),rc(OF,!0)),2&t){let t;ic(t=uc())&&(e.MinInputElement=t.first),ic(t=uc())&&(e.MaxInputElement=t.first)}},decls:65,vars:31,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"horizontal"],["color","accent"],["matInput","","type","number","min","0","max","100","step","5","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["class","freq-percent-suffix","matSuffix","",4,"ngIf"],["matInput","","type","number","min","0","max","1","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],[1,"error"],[1,"message"],[1,"horizontal","grouped"],["class","icon small",4,"ngIf"],[1,"number-container"],["matInput","","type","number","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["evDiffInput",""],[1,"icon","info",3,"click"],[1,"fas","fa-info-circle"],[1,"heading"],["class","on-input-focus",3,"touchstart",4,"ngIf"],["matInput","","type","number","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","value","change"],["minInput",""],["maxInput",""],[1,"button-toggle"],["name","handSelection","aria-label","Hand Selection",3,"disabled"],["value","balanced","matTooltip","Balanced hand selection based on number of actions","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"checked","change"],["value","random","matTooltip","Completely random hand selection","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"checked","change"],[1,"link",3,"click"],["align","center"],["matSuffix","",1,"freq-percent-suffix"],[1,"icon","small"],["class","fas fa-less-than-equal",4,"ngIf"],["class","fas fa-greater-than-equal",4,"ngIf"],[1,"fas","fa-less-than-equal"],[1,"fas","fa-greater-than-equal"],[1,"on-input-focus",3,"touchstart"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"Training settings"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div"),ks(5,"div",3),ks(6,"mat-form-field",4),ks(7,"mat-label"),ua(8,"Min. Frequency"),Ss(),ks(9,"input",5),Ds("ngModelChange",function(t){return e.settings.minFrequency=t}),Ss(),Cs(10,kF,2,0,"span",6),Ss(),ks(11,"mat-form-field",4),ks(12,"mat-label"),ua(13,"Min. Weight"),Ss(),ks(14,"input",7),Ds("ngModelChange",function(t){return e.settings.minWeight=t}),Ss(),Ss(),Ss(),ks(15,"div",8),ks(16,"div",9),ua(17),Ss(),ks(18,"div",9),ua(19),Ss(),Ss(),ks(20,"div",10),Cs(21,TF,3,2,"div",11),ks(22,"mat-form-field",4),ks(23,"mat-label"),ua(24,"EVDiff"),Ss(),ks(25,"div",12),ks(26,"input",13,14),Ds("ngModelChange",function(t){return e.settings.evDiff=t}),Ss(),Ss(),Ss(),ks(28,"div",15),Ds("click",function(){return e.showEvDiffExplanation()}),Ms(29,"i",16),Ss(),Ss(),ks(30,"div",17),ua(31," EV Spread "),Ss(),ks(32,"div",3),ks(33,"mat-form-field",4),ks(34,"mat-label"),ua(35,"Min. EV"),Ss(),ks(36,"div",12),Cs(37,EF,2,0,"button",18),ks(38,"input",19,20),Ds("change",function(t){return e.changeEvSpread("min",t.target.value)}),Ss(),Ss(),Ss(),ks(40,"mat-form-field",4),ks(41,"mat-label"),ua(42,"Max. EV"),Ss(),ks(43,"div",12),Cs(44,RF,2,0,"button",18),ks(45,"input",19,21),Ds("change",function(t){return e.changeEvSpread("max",t.target.value)}),Ss(),Ss(),Ss(),Ss(),ks(47,"div",8),ks(48,"div",9),ua(49,"Please pick both a min and max value for the EV spread"),Ss(),Ss(),ks(50,"div",17),ua(51," Hand selection "),Ss(),ks(52,"div",22),ks(53,"mat-button-toggle-group",23),ks(54,"mat-button-toggle",24),Ds("change",function(t){return e.changeHandSelection(t)}),ua(55," Balanced "),Ss(),ks(56,"mat-button-toggle",25),Ds("change",function(t){return e.changeHandSelection(t)}),ua(57," Random "),Ss(),Ss(),Ss(),ks(58,"a",26),Ds("click",function(){return e.resetToDefault()}),ua(59,"Use default"),Ss(),Ss(),Ss(),ks(60,"mat-dialog-actions",27),ks(61,"a",26),Ds("click",function(){return e.confirm()}),ua(62,"Confirm"),Ss(),ks(63,"a",26),Ds("click",function(){return e.exit()}),ua(64,"Cancel"),Ss(),Ss()),2&t&&(Ur(9),Ps("disabled",e.isFrozen)("ngModel",e.settings.minFrequency),Ur(1),Ps("ngIf",e.hasValue(e.settings.minFrequency)),Ur(4),Ps("disabled",e.isFrozen)("ngModel",e.settings.minWeight),Ur(2),Js("show",e.isInvalid(e.settings.minFrequency,e.MIN_ALLOWED_FREQ,e.MAX_ALLOWED_FREQ)),Ur(1),pa("Please pick a min. frequency between ",e.MIN_ALLOWED_FREQ,"% and ",e.MAX_ALLOWED_FREQ,"%"),Ur(1),Js("show",e.isInvalid(e.settings.minWeight,e.MIN_ALLOWED_WEIGHT,e.MAX_ALLOWED_WEIGHT)),Ur(1),pa("Please pick a min. weight between ",e.MIN_ALLOWED_WEIGHT," and ",e.MAX_ALLOWED_WEIGHT,""),Ur(2),Ps("ngIf",e.settings.evDiff>0||e.settings.evDiff<0),Ur(5),Ps("disabled",e.isFrozen)("ngModel",e.settings.evDiff),Ur(11),Ps("ngIf",e.isMobile()),Ur(1),Ps("disabled",e.isFrozen)("value",null==e.settings.evSpread?null:e.settings.evSpread.min),Ur(6),Ps("ngIf",e.isMobile()),Ur(1),Ps("disabled",e.isFrozen)("value",null==e.settings.evSpread?null:e.settings.evSpread.max),Ur(3),Js("show",e.isInvalidEVSpread(e.settings.evSpread)),Ur(5),Ps("disabled",e.isFrozen),Ur(1),Ps("checked",e.settings.selectBalanced),Ur(2),Ps("checked",!e.settings.selectBalanced),Ur(2),Js("disabled",e.isFrozen),Ur(3),Js("disabled",e.isFrozen||!e.isValid))},directives:[KM,QM,YT,VT,sE,BC,hC,AC,yw,Pd,yF,wF,oR,YM,UT],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-form-field-infix{width:8.75rem!important}[_nghost-%COMP%]     .freq-percent-suffix{position:absolute;left:-6.75rem;top:-.875rem;font-size:1rem}  .mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-button-toggle-label-content{line-height:2.75rem!important}  .mat-button-toggle{background-color:#999!important}  .mat-button-toggle.mat-button-toggle-checked{background-color:#e0e0e0!important}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.error[_ngcontent-%COMP%]{color:var(--eval-color-mistake);font-size:.75rem;margin-top:-.75rem}.error[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{visibility:hidden}.error[_ngcontent-%COMP%]   .message.show[_ngcontent-%COMP%]{visibility:visible}.info[_ngcontent-%COMP%]{cursor:pointer}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}div.heading[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.3125rem}div.horizontal[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-start;align-items:center;gap:1rem}div.horizontal.grouped[_ngcontent-%COMP%]{gap:.5rem}div.horizontal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;margin-right:.5rem;border:none;border-radius:.1rem;color:var(--link-color);background:transparent;cursor:pointer;opacity:.5}div.horizontal[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-bottom:.3rem}div.horizontal[_ngcontent-%COMP%]   .icon.small[_ngcontent-%COMP%]{font-size:.6rem}div.number-container[_ngcontent-%COMP%]{flex-direction:row}div.button-toggle[_ngcontent-%COMP%]{display:unset;margin-bottom:1.5625rem}.on-input-focus[_ngcontent-%COMP%]{display:none}.number-container[_ngcontent-%COMP%]:focus-within   button[_ngcontent-%COMP%]{display:block!important}.link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--link-color)}.link.disabled[_ngcontent-%COMP%]{cursor:unset;color:#888}.link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();function IF(t,e){1&t&&(ks(0,"span"),ua(1,"Good job!"),Ss())}function AF(t,e){1&t&&(ks(0,"span"),ua(1,"Unlucky!"),Ss())}function DF(t,e){1&t&&(ks(0,"div"),ks(1,"p"),ua(2,"You have trained all hands correctly!"),Ss(),ks(3,"p"),ua(4,"You can either continue training with new random hands or exit the training!"),Ss(),Ss())}function LF(t,e){1&t&&(ks(0,"div"),ks(1,"p"),ua(2,"You still made some mistakes. Would you like to try again?!"),Ss(),Ss())}function BF(t,e){if(1&t){const t=Fs();ks(0,"a",6),Ds("click",function(){return Re(t),Vs().retry()}),ua(1,"Retry remaining mistakes "),Ss()}}var NF=function(t){return t[t.Retry=0]="Retry",t[t.Exit=1]="Exit",t[t.Continue=2]="Continue",t}({});let jF=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}get allCorrect(){return this.data}retry(){this.dialogRef.close(NF.Retry)}exit(){this.dialogRef.close(NF.Exit)}continue(){this.dialogRef.close(NF.Continue)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM))},t.\u0275cmp=Nt({type:t,selectors:[["app-finished-hands-dialog"]],decls:13,vars:5,consts:[[1,"title"],["mat-dialog-title",""],[4,"ngIf"],[1,"confirm-dialog-content","mat-typography"],["align","center"],["class","link",3,"click",4,"ngIf"],[1,"link",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),Cs(2,IF,2,0,"span",2),Cs(3,AF,2,0,"span",2),Ss(),Ss(),ks(4,"mat-dialog-content",3),Cs(5,DF,5,0,"div",2),Cs(6,LF,3,0,"div",2),Ss(),ks(7,"mat-dialog-actions",4),Cs(8,BF,2,0,"a",5),ks(9,"a",6),Ds("click",function(){return e.continue()}),ua(10,"Continue with random hands"),Ss(),ks(11,"a",6),Ds("click",function(){return e.exit()}),ua(12,"Exit"),Ss(),Ss()),2&t&&(Ur(2),Ps("ngIf",e.allCorrect),Ur(1),Ps("ngIf",!e.allCorrect),Ur(2),Ps("ngIf",e.allCorrect),Ur(1),Ps("ngIf",!e.allCorrect),Ur(2),Ps("ngIf",!e.allCorrect))},directives:[KM,Pd,QM,YM],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();const VF=[72,77];function HF(t,e,n,i,r){if(t.size)return t.size<r?t.size:r;if(t.type===Q_.RAISECHIP)return n+t.amount;if(t.type===Q_.CHECK)return i;if(t.type===Q_.CALL)return n<r+i?n:r+i;if(t.type===Q_.ALLIN)return r+i;if(t.type===Q_.MIN||t.type===Q_.MR)return 2*n-i;if(t.amount){const o=e+n,s=n-i+(VF.includes(t.amount)?100:t.amount)/100*o;return s<r?function(t,e=1){const n=e,i=Math.pow(10,n),r=+(n?t*i:t).toFixed(8),o=Math.floor(r),s=r-o,a=s>.5-1e-8&&s<.5+1e-8?o%2==0?o:o+1:Math.round(r);return n?a/i:a}(s):r}return 0}function $F(t){return t.filter(t=>![Q_.flop,Q_.turn,Q_.river,Q_.root].includes(t.type)).map(t=>function(t){const e=t.type[0];return t.type===Q_.RAISECHIP?"RC"+t.amount:t.amount?`${e}${t.amount}`:[Q_.MIN,Q_.MR].includes(t.type)?"MR":e}(t)).join("-")}function zF(t,e,n){const i=[];let r=!!n,o=0,s=0,a=0;for(const l of t.split("-")){const t=UF(l);t&&(i.push(t),[Q_.RAISE,Q_.RAISECHIP,Q_.ALLIN].includes(t.type)?(r=!0,o=1,s=0):t.type===Q_.CALL?s+=1:t.type===Q_.FOLD&&(a+=1),n&&0===o?s+a===e-1&&(r=!1,o=0,s=0,a=0):o+s+a===e&&(r=!1,o=0,s=0,a=0))}return i}function UF(t){if(t.startsWith("RC")){const e=+t.substring(2);return{type:Q_.RAISECHIP,amount:e}}if(t.startsWith("R")){const e=+t.substring(1);return{type:Q_.RAISE,amount:e}}switch(t){case"M":case"MR":return{type:Q_.MIN};case"X":return{type:Q_.CHECK};case"C":return{type:Q_.CALL};case"F":return{type:Q_.FOLD};case"A":return{type:Q_.ALLIN}}}const qF=[U_.EP,U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB],WF=[U_.SB,U_.BB];function GF(t,e){switch(t){case 2:return[U_.SB,U_.BB];case 3:return e?[U_.SB,U_.BB,U_.BTN]:[U_.BTN,U_.SB,U_.BB];case 4:return e?[U_.SB,U_.BB,U_.CO,U_.BTN]:[U_.CO,U_.BTN,U_.SB,U_.BB];case 5:return e?[U_.SB,U_.BB,U_.MP,U_.CO,U_.BTN]:[U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB];case 6:return e?[U_.SB,U_.BB,U_.EP,U_.MP,U_.CO,U_.BTN]:[U_.EP,U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB];case 7:return e?[U_.SB,U_.BB,U_.EP,U_.EP1,U_.MP,U_.CO,U_.BTN]:[U_.EP,U_.EP1,U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB];case 8:return e?[U_.SB,U_.BB,U_.EP,U_.EP1,U_.EP2,U_.MP,U_.CO,U_.BTN]:[U_.EP,U_.EP1,U_.EP2,U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB]}}function KF(t,e,n){if(2===t)return n?U_.BB:U_.SB;{const i=GF(t,n);return e.sort((t,e)=>i.indexOf(t)-i.indexOf(e))[0]}}function QF(t){return["As","Ah","Ad","Ac","Ks","Kh","Kd","Kc","Qs","Qh","Qd","Qc","Js","Jh","Jd","Jc","Ts","Th","Td","Tc","9s","9h","9d","9c","8s","8h","8d","8c","7s","7h","7d","7c","6s","6h","6d","6c","5s","5h","5d","5c","4s","4h","4d","4c","3s","3h","3d","3c","2s","2h","2d","2c"].filter(e=>!t.includes(e))}class YF{constructor(t,e,n,i,r,o,s){this.treeService=t,this.actionHistory=[],this._isInvalid=!1,this.$isLoading=new ap(!1),this.$currentAction=new ap(null),this._startHistoryIndex=0,this._tree=e,s&&(this._flopTree=s.flop&&s.flop.flop===i?s.flop:null,this._turnTree=s.turn&&s.turn.flop===i&&s.turn.turn?s.turn:null,this._riverTree=s.river&&s.river.flop===i&&s.river.turn&&s.river.river?s.river:null),i?this.loadFlopTree(i,n,r,o):(this.init(),n&&this.goToNode(n))}loadFlopTree(t,e,n,i){var r;return $m(this,void 0,void 0,function*(){this.$isLoading.next(!0);const o=this._tree;if((null==o?void 0:o.flop)!==t||(null==o?void 0:o.turn)){if((null===(r=this._flopTree)||void 0===r?void 0:r.flop)!==t){const e=yield this.treeService.loadPostflopTree(this.details,t).toPromise();this._flopTree=e,this._tree=this._flopTree}}else this._flopTree=this._tree;this._availableTurns=null,this._availableRivers=null,this.init(),e&&(yield this.goToNode(e,n,i)),this.$isLoading.next(!1)})}waitUntilLoaded(){return $m(this,void 0,void 0,function*(){do{yield jw(100)}while(dy(this.isLoading$));return this.currentTreeNext})}get startHistoryIndex(){return this._startHistoryIndex}get cachedTrees(){return{flop:this._flopTree,turn:this._turnTree,river:this._riverTree}}get isValid(){return!this._isInvalid}get isLoading$(){return this.$isLoading.asObservable()}get currentAction$(){return this.$currentAction.asObservable()}get details(){return this._tree}get key(){return this._tree.key}get type(){return this._tree.type}get isPostFlop(){var t;return(null===(t=this._tree)||void 0===t?void 0:t.type)===X_.postflop}get isHeadsUp(){var t;return 2===(null===(t=this._tree)||void 0===t?void 0:t.players)}get hasStraddle(){var t;return(null===(t=this._tree)||void 0===t?void 0:t.straddle)>0}get history(){return this.actionHistory.map(t=>{var e,n;return t.action.type===Q_.turn?Object.assign(Object.assign({},t),{card:null===(e=this.board.turn)||void 0===e?void 0:e.card}):t.action.type===Q_.river?Object.assign(Object.assign({},t),{card:null===(n=this.board.river)||void 0===n?void 0:n.card}):t})}get nodePath(){return $F(this.actionHistory.map(t=>t.action))}get board(){return this._board}get flop(){var t;return(null===(t=this.board)||void 0===t?void 0:t.flop)||[]}get turn(){var t,e;return null===(e=null===(t=this.board)||void 0===t?void 0:t.turn)||void 0===e?void 0:e.card}get river(){var t,e;return null===(e=null===(t=this.board)||void 0===t?void 0:t.river)||void 0===e?void 0:e.card}get currentTree(){return this._tree}get currentNode(){return this._currentNode}get currentPlayer(){return this._currentPlayer}get allPlayers(){return this._allPlayers}get activePlayers(){return this._activePlayers}get numberOfPlayers(){return this._tree.players}get chipState(){return this._chipState}get hasPrevBet(){var t;return(null===(t=this.chipState)||void 0===t?void 0:t.prevBet)>0}get treeStackInChips(){return this._tree.simBB*this._tree.stack}get turnStakes(){return this._turnStakes}get isRFI(){const t=this.actionHistory.every(t=>!t.action.amount);return!this.isPostFlop&&t}get rfiValue(){var t;return null===(t=this.getRFIValue())||void 0===t?void 0:t.rfiValue}get title(){return ly(this._tree,this.isFiveCard)}get selectableFlops(){return this.isPostFlop?this._tree.selectableFlops:[]}get pathToFlop(){return this.isPostFlop?this._tree.pathToFlop:{}}get canReachTurn(){const t=this._tree,e=Object(yR.cardsToString)(this.board.flop,!1),n=Object(yR.cardsToString)(this.board.flop,!0),i=t.boards,r=i[e]||i[n]||{};return Object.keys(r).filter(t=>t.startsWith(this.nodePath)).map(t=>r[t]).some(t=>{var e;return(null===(e=Object.keys(t))||void 0===e?void 0:e.length)>0})}get availableTurns(){return this._availableTurns||[]}get availableRivers(){return this._availableRivers||[]}get isFiveCard(){return!1}goToNode(t,e,n){return $m(this,void 0,void 0,function*(){if(t&&t.length>0){const i=zF(t,this._activePlayers.length,!this.isPostFlop);for(const t of i){const i=yield this.update(t);if(i.continue||(i.availableTurns&&e?(this._availableTurns=i.availableTurns,i.availableTurns.some(t=>Object(yR.cardIsEqual)(t,e))&&(yield this.update({type:Q_.turn,card:e}))):i.availableRivers&&n&&(this._availableRivers=i.availableRivers,i.availableRivers.some(t=>Object(yR.cardIsEqual)(t,n))&&(yield this.update({type:Q_.river,card:n})))),!this.isValid)break}}this._startHistoryIndex=this.history.length})}update(t,e,n,i){var r,o;return $m(this,void 0,void 0,function*(){let s;const a=(null===(o=null===(r=this.currentNode)||void 0===r?void 0:r.next)||void 0===o?void 0:o.map(t=>t.action))||[];if(Y_(t)){const e={action:t,allActions:a,card:void 0};this.actionHistory.push(e),this.$currentAction.next(e),s=yield this.handleDealerAction(t)}else{const r=this.isRFI,o=this.useRFIvalueForAction(t,r)?this.getRFIValue().rfiLabel:null,l=this.currentNode.next.find(e=>{return oF(e.action,t)||!!oF(n=e.action,i=t)||n.type===Q_.CALL&&i.type===Q_.CHECK||n.type===Q_.CHECK&&i.type===Q_.CALL;var n,i});if(!l)return this._isInvalid=!0,{continue:!1};const c=l.action,u={action:Object.assign(Object.assign({},c),{hasPrevBet:this.hasPrevBet,rfiLabel:o}),allActions:a,rangeId:l.rangeId,player:this.currentPlayer,rangeValues:e,handBucket:n,actionFreq:i};this.actionHistory.push(u),this.$currentAction.next(u),s=yield this.handlePlayerAction(c,r)}return this.currentTreeNext=s,s})}restart(){this._tree=Object.assign(Object.assign({},this.details),{flop:null,turn:null,river:null}),this.init()}prev(t=1){var e,n,i,r,o,s;return $m(this,void 0,void 0,function*(){if(this.actionHistory.length>0){const a=this.actionHistory.slice(-1*t)[0],l=this.actionHistory.slice(0,this.actionHistory.length-t),c=$F(l.map(t=>t.action));if(this.isPostFlop){const t=t=>l.some(e=>e.action.type===t),u=(null===(n=null===(e=this._board)||void 0===e?void 0:e.turn)||void 0===n?void 0:n.card)&&t(Q_.turn)?Object(yR.cardToString)(null===(i=this._board.turn)||void 0===i?void 0:i.card):null,d=(null===(o=null===(r=this._board)||void 0===r?void 0:r.river)||void 0===o?void 0:o.card)&&t(Q_.river)?Object(yR.cardToString)(null===(s=this._board.river)||void 0===s?void 0:s.card):null;return this._tree=d?this._riverTree:u?this._turnTree:this._flopTree,this.init(),yield this.goToNode(c,u,d),a.action.type===Q_.turn?{continue:!1,availableTurns:this.getAvailableTurns()}:a.action.type===Q_.river?{continue:!1,availableRivers:this.getAvailableRivers()}:{continue:!0}}return this.init(),yield this.goToNode(c),{continue:!0}}return this.restart(),{continue:!1}})}getActions(){if(this.currentNode&&this.currentNode.next&&this.currentNode.next.length>0){let t=this.currentNode.next.map(t=>t.action);t.find(t=>t.type===Q_.CHECK)&&(t=t.filter(t=>t.type!==Q_.CALL));const e=[];for(const n of t)e.find(t=>oF(t,n))||e.push(n);return e.sort(uF)}return[]}prepareDataForAHK(){return{pot:this._chipState.totalPot+this._chipState.prevBet-this._chipState.stakes[this.currentPlayer],stacks:Object.values(this._chipState.stacks).reduce((t,e)=>t<e?t:e),simBB:this._tree.simBB,nodePath:this.nodePath,simKey:this.key,allPlayers:this.allPlayers}}getFormattedAction(t){var e;if(t.label)return t.label;const n=J_(t,null===(e=this.currentTree)||void 0===e?void 0:e.raiseSizeMapping);if(this.useRFIvalueForAction(n,this.isRFI)){const{rfiLabel:t}=this.getRFIValue();return sF(n,this.hasPrevBet,!this.isPostFlop,t,this.details.fixedRaiseSize)}return sF(n,this.hasPrevBet,!this.isPostFlop,null,this.details.fixedRaiseSize)}init(){this._currentNode=this._tree.root,this.updateBoard(),this.initPlayersAndStacks(),this.actionHistory=[]}updateBoard(){if(this._tree.type===X_.postflop){const t=this._tree;t.flop?(this._board={flop:Object(yR.parseCards)(t.flop)},t.turn&&(this._board=Object.assign(Object.assign({},this._board),{turn:{card:t.turn}}),t.river&&(this._board=Object.assign(Object.assign({},this._board),{river:{card:t.river}})))):this._board={flop:[null,null,null]}}else this._board=null}initPlayersAndStacks(){const t=this.getPlayerState(this._tree);this._chipState=this.getInitialChipState(this._tree,t.all),this._turnStakes={},this._allPlayers=t.all,this._activePlayers=t.active,this._currentPlayer=this.getCurrentPlayer(this._tree,t)}getCurrentPlayer(t,e){var n;return(null===(n=t.setup)||void 0===n?void 0:n.firstToAct)?t.setup.firstToAct:KF(t.players,e.active,this.isPostFlop)}getPlayerState(t){const e=GF(t.players,this.isPostFlop);if(t.type===X_.preflop)return{all:e,active:G_(e,!1),folded:[]};{const n=G_(t.activePlayers,!0),i=e.filter(t=>!n.includes(t));return{all:e,active:n,folded:i}}}getInitialChipState(t,e){var n,i;const r={},o={},s=this.treeStackInChips;if(t.type===X_.preflop){const a=t.straddle*t.simBB,l=t.icmStacks;for(const i of e){const e=l?l[i]*t.simBB:null;if(null===(n=t.setup)||void 0===n?void 0:n.stakes[i]){const n=t.setup.stakes[i]*t.simBB;o[i]=n,r[i]=null!==e?e-n:s-n}else o[i]=0,r[i]=null!==e?e:s}return{stacks:r,stakes:o,pot:0,totalPot:Object.values(o).reduce((t,e)=>t+e,0),prevBet:a||t.simBB,ante:null!==(i=t.ante)&&void 0!==i?i:0}}return function(t,e){const n=["PLO-HU","PLO5C-HU"].includes(t.category)?[...WF]:[...qF],i=zF(t.preflop.code,n.length,!0),r=function(t,e,n){const i={},r={};for(const s of e)s===U_.SB?(r[s]=1,i[s]=n-1):s===U_.BB?(r[s]=2,i[s]=n-2):(r[s]=0,i[s]=n);const o=t.ante?t.ante:0;return{stacks:i,stakes:r,pot:0,totalPot:3+o,ante:o,prevBet:2}}(t,n,e);let o=0;for(const s of i){const t=n[o],e=r.stakes[t],i=HF(s,r.totalPot,r.prevBet,e,r.stacks[t]);if(i>0&&(r.prevBet=i),s.type!==Q_.FOLD){r.stakes[t]=i;const n=r.stacks[t]-(i-e);r.stacks[t]=n>0?n:0}r.totalPot=r.pot+Object.values(r.stakes).reduce((t,e)=>t+e,0),s.type===Q_.FOLD?n.splice(o,1):o+=1,o>=n.length&&(o=0)}return t.startingPot&&(r.totalPot=t.startingPot),Object.assign(Object.assign({},r),{pot:r.totalPot,prevBet:0,stakes:{[U_.EP]:0,[U_.MP]:0,[U_.CO]:0,[U_.BTN]:0,[U_.SB]:0,[U_.BB]:0}})}(t,this.treeStackInChips)}handlePlayerAction(t,e){return $m(this,void 0,void 0,function*(){const n=this.getNextActivePlayer();t.type===Q_.FOLD&&(this._activePlayers=this._activePlayers.filter(t=>t!==this._currentPlayer));const i=this._chipState.stakes[this._currentPlayer],r=this.calculateAmount(t,e,i,this._chipState.stacks[this._currentPlayer]);if(r>0&&(this._chipState.prevBet=r),t.type!==Q_.FOLD){this._chipState.stakes[this._currentPlayer]=r;const t=this._chipState.stacks[this._currentPlayer]-(r-i);this._chipState.stacks[this._currentPlayer]=t>0?t:0}this._chipState.totalPot=this._chipState.pot+Object.values(this._chipState.stakes).reduce((t,e)=>t+e,0);const o=this._currentNode.next.find(e=>oF(e.action,t));if(o){if(this._currentNode=o,this.isTurnNode(o))return{continue:!1,availableTurns:this.getAvailableTurns()};if(this.isRiverNode(o))return{continue:!1,availableRivers:this.getAvailableRivers()};if(o.next&&o.next.length>0)return this._currentPlayer=n,{continue:!0}}else this._isInvalid=!0;return{continue:!1}})}calculateAmount(t,e,n,i){var r;let o;if(t.size)o=t.size*this._tree.simBB;else{const s=J_(t,null===(r=this.currentTree)||void 0===r?void 0:r.raiseSizeMapping),a=this.useRFIvalueForAction(s,e);o=a?this.rfiValue*this._tree.simBB:HF(s,this._chipState.totalPot,this._chipState.prevBet,n,i),o>0&&(!this.currentTree.rfiValue||!a&&this.currentTree.addAnteAfterRFI)&&o>0&&t.type===Q_.RAISE&&this._chipState.ante>0&&(o+=this._chipState.ante,o-n>i&&(o=i))}return o}getAvailableTurns(){const t=this._tree,e=this.nodePath,n=Object(yR.cardsToString)(this.board.flop,!0),i=Object(yR.cardsToString)(this.board.flop,!1),r=t.boards[n]?t.boards[n][e]:t.boards[i][e];return r?Object.keys(r).map(t=>{const e=r[t];return"boolean"==typeof e?{card:t,include:e}:{card:t,paths:Object.keys(r[t])}}).filter(t=>t.include||t.paths.length>0&&t.paths.every(t=>t.startsWith(e))).map(t=>t.card):[]}getAvailableRivers(){return QF([...this.board.flop,this.board.turn.card])}useRFIvalueForAction(t,e){return oy(t,this.currentTree,this.isPostFlop,e)}getNextActivePlayer(){const t=this._activePlayers.findIndex(t=>t===this._currentPlayer);return this._activePlayers[(t+1)%this._activePlayers.length]}handleDealerAction(t){return $m(this,void 0,void 0,function*(){const e=this.flop.map(yR.cardToString).join("");if(t.type===Q_.turn){if(t.card){const n=Object(yR.cardToString)(t.card),i=this._turnTree;if((null==i?void 0:i.flop)!==e||(null==i?void 0:i.turn)!==n){this.$isLoading.next(!0);const t=yield this.treeService.loadPostflopTree(this._tree,e,n).toPromise();this._turnTree=t,this._tree=t}else this._tree=this._turnTree;this._availableRivers=null;const r=this.actionHistory.findIndex(t=>t.action.type===Q_.turn),o=r>0?[...this.actionHistory.slice(0,r),{action:{type:Q_.turn}}]:[...this.actionHistory];this.init();for(const{action:t,rangeValues:e,handBucket:s,actionFreq:a}of o)yield this.update(t,e,s,a)}else this._currentNode=this._currentNode.next[0],this._currentPlayer=KF(this.numberOfPlayers,this._activePlayers,this.isPostFlop),this.updateChipStateForTurnAndRiver();return this.$isLoading.next(!1),{continue:!0}}if(t.type===Q_.river){if(t.card){const n=Object(yR.cardToString)(this.turn),i=Object(yR.cardToString)(t.card),r=this.actionHistory.findIndex(t=>t.action.type===Q_.river),o=r>0?[...this.actionHistory.slice(0,r),{action:{type:Q_.river}}]:[...this.actionHistory],s=this._riverTree;if((null==s?void 0:s.flop)!==e||(null==s?void 0:s.turn)!==n||(null==s?void 0:s.river)!==i){this.$isLoading.next(!0);const t=$F(o.map(t=>t.action)),r=yield this.treeService.loadPostflopTree(this._tree,e,n,i,t).toPromise();this._riverTree=r,this._tree=r}else this._tree=this._riverTree;this.init();for(const{action:t,rangeValues:e,handBucket:a,actionFreq:l}of o)yield this.update(t,e,a,l)}else this._currentNode=this._currentNode.next[0],this._currentPlayer=KF(this.numberOfPlayers,this._activePlayers,this.isPostFlop),this._turnStakes=this._chipState.stakes,this.updateChipStateForTurnAndRiver();return this.$isLoading.next(!1),{continue:!0}}return{continue:!1}})}updateChipStateForTurnAndRiver(){const t=2===this._allPlayers.length?{[U_.SB]:0,[U_.BB]:0}:{[U_.EP]:0,[U_.EP1]:0,[U_.EP2]:0,[U_.MP]:0,[U_.CO]:0,[U_.BTN]:0,[U_.SB]:0,[U_.BB]:0};this._chipState=Object.assign(Object.assign({},this._chipState),{pot:this._chipState.totalPot,prevBet:0,stakes:t})}isTurnNode(t){return!(!t.next||1!==t.next.length)&&t.next[0].action.type===Q_.turn}isRiverNode(t){return!(!t.next||1!==t.next.length)&&t.next[0].action.type===Q_.river}getRFIValue(){var t;const e=(null!==(t=this._tree.rfiValues)&&void 0!==t?t:{})[this.currentPlayer]||this._tree.rfiValue;return{rfiValue:this._tree.straddle?e*this._tree.straddle:e,rfiLabel:e?e+"x":null}}}function ZF(t){return t[Math.floor(Math.random()*t.length)]}var JF=function(t){return t.filter="filter",t.settings="settings",t}({});function XF(t){return t?{currentTree:t.currentTree,currentNode:t.currentNode,board:t.board,flopCards:t.flop,turnCard:t.turn,riverCard:t.river,currentPlayer:t.currentPlayer,allPlayers:t.allPlayers,activePlayers:t.activePlayers,chipState:t.chipState,hasPrevBet:t.hasPrevBet,turnStakes:t.turnStakes,isRFI:t.isRFI,rfiValue:t.rfiValue,fixedRaiseSize:t.details.fixedRaiseSize,multiplyEvBy:t.details.multiplyEVBy,simBB:t.details.simBB}:null}class tI{constructor(t,e,n,i){this.treeService=t,this.rangeService=e,this.bucketService=n,this.store=i}get currentSituation(){return XF(this.tree)}get isPostFlop(){return this.tree.isPostFlop}initPreflop(t,e){return $m(this,void 0,void 0,function*(){this.reset();const n=yield this.treeService.loadPreflopTree(t.key).toPromise();this.store.dispatch(N_({tree:n}));const i=new YF(this.treeService,n,e);yield i.waitUntilLoaded(),this.tree=i})}initPostflop(t,e,n,i,r){return $m(this,void 0,void 0,function*(){this.reset();const o=yield this.treeService.loadPostflopTree(t,n,i,r).toPromise();this.store.dispatch(H_({tree:o}));const s=new YF(this.treeService,o,e,n,i,r);yield s.waitUntilLoaded(),this.tree=s})}reset(){this.tree=null,this.resetHands()}loadRangeForSituation(t,e=""){return $m(this,void 0,void 0,function*(){const{currentNode:n}=t;if(n&&n.next){let r=n.next;r.find(t=>t.action.type===Q_.CHECK)&&(r=r.filter(t=>t.action.type!==Q_.CALL));const o=[];for(const t of r)o.find(e=>e.rangeId===t.rangeId)||o.push({action:t.action,rangeId:t.rangeId});try{let i;const{currentTree:r,currentPlayer:s,flopCards:a,turnCard:l,riverCard:c,turnStakes:u,multiplyEvBy:d}=t;if(this.isPostFlop){const t=a.map(yR.cardToString).join(""),h=l?Object(yR.cardToString)(l):null,p=c?Object(yR.cardToString)(c):null,{modifyEV:f}=r,g=f?sy(f,t,e):d,m=u?u[s]:null,b=!!h||!!p;i=yield this.rangeService.loadPostflopRanges(s,r.key,e,hy(n),o,{flop:t,turn:h,river:p},{isTurnOrRiver:b,evFactor:g,turnInvest:m})}else i=yield this.rangeService.loadPreflopRanges(s,r.key,e,hy(n),o,{isTurnOrRiver:!1,evFactor:d});return i.filterItems=this.rangeService.assembleFilterItems(i.ranges,i.rangeKey),i}catch(i){return console.error(i),null}}})}getHandFromRange(t,e,n,i,r){const{rangeKey:o,ranges:s,adjustEvBy:a,filterItems:l}=e,c=0===l.length?this.rangeService.assembleFilterItems(s,o):l;return eI(this.isPostFlop,0,s,a,c,n,i,{lookups:this.bucketLookups,macros:this.bucketMacros},[],[],r)}getBucketValues(t,e,n){return $m(this,void 0,void 0,function*(){if(t){const{bucketGroups:i}=yield this.bucketService.segmentPostflopRange(t,{ranges:n},e);return i[0]}{const{bucketGroups:t}=yield this.bucketService.segmentPreflopRange({ranges:n},e);return t[0]}})}getAllClassificationsForFilter(t,e,n){if(!t||0===t.trim().length)return[];try{const i=Object(yR.parseFilterSyntax)(t,!1,e,n);return Object(yR.getClassificationsForFilter)(i)}catch(i){return[]}}requiresLoadingClassifications(t,e){return t.length>0&&(this.isPostFlop?!this.rangeService.hasPostflopClassifications(t,e):!this.rangeService.hasPreflopClassifications(t))}getAllBucketsForFilter(t,e,n){if(!t||0===t.trim().length)return[];try{const i=Object(yR.parseFilterSyntax)(t,!1,e,n);return Object(yR.getBucketsForFilter)(i)}catch(i){return[]}}requiresLoadingBuckets(t,e){return t.length>0&&(this.isPostFlop?!this.bucketService.hasPostflopBucketLookup(t,e):!this.bucketService.hasPreflopBucketLookup(t))}}function eI(t,e,n,i,r,o,s,a=null,l=[],c,u){const{items:d}=Object(yR.filterItems)(t,r,o,null,null==a?void 0:a.lookups,null==a?void 0:a.macros);if(d.length>0){const t=Array.from(new Set([...l||[]])),e=new Set(d.filter(e=>e[0].every(e=>!t.find(t=>Object(yR.cardIsEqual)(e,t)))).map(t=>t[2]));console.time("comboValues");const r=new Map,o=t=>t.amountLabel?`${t.type}_${t.amountLabel}`:`${t.type}${t.amount?"_"+t.amount:""}`;for(const s of n){const t=o(s.action),n=s.items.filter(t=>e.has(CR(t)));for(const e of n){const n=xR(e),o=s.action.type===Q_.FOLD,a={type:s.action.type,amount:s.action.amount,amountLabel:s.action.amountLabel,weight:OR(e),freq:n,ev:vR(PR(e),i,o),variations:SR(e)},l=CR(e);if(r.has(l)){const e=r.get(l);r.set(l,Object.assign(Object.assign({},e),{actionValues:Object.assign(Object.assign({},e.actionValues),{[t]:a})}))}else r.set(l,{hand:wR(e),actionValues:{[t]:a}})}}console.timeEnd("comboValues");const a=(t,e,n,i,r,o,s)=>{const a=Object.values(e);if((null==s?void 0:s.length)>0&&a.some(t=>s.includes(+t.freq.toFixed(2))))return!1;const l=Math.max(...a.map(t=>{var e;return null===(e=t.ev)||void 0===e?void 0:e.toFixed(3)}).filter(t=>!!t).map(t=>+t));if(null!=l&&!isNaN(l)){const t=Math.max(...a.map(t=>t.freq));if(a.filter(e=>e.freq===t).every(t=>{var e;return+(null===(e=t.ev)||void 0===e?void 0:e.toFixed(3))<l}))return!1}if(a.some(t=>t.weight>=i&&t.freq>=n)){if(r){const t=Object.values(e).map(t=>t.ev),n=Math.max(...t);if(r>0){const e=t.filter(t=>t<n),i=e.length>0?Math.max(...e):n;if(n-i<r)return!1}else if(r<0&&Math.min(...t)-n>r)return!1}if(!o||null===o.min&&null===o.max)return!0;{const t=o.min||Number.MIN_SAFE_INTEGER,e=o.max||Number.MAX_SAFE_INTEGER;return a.some(t=>[Q_.RAISE,Q_.ALLIN,Q_.MIN].includes(t.type))?a.filter(t=>[Q_.RAISE,Q_.ALLIN,Q_.MIN].includes(t.type)).map(t=>t.ev).some(n=>n>=t&&n<=e):a.map(t=>t.ev).every(n=>n>=t&&n<=e)}}return!1},{minWeight:h,evDiff:p,evSpread:f}=s;let{minFrequency:g}=s;g||(g=85);const m=oI(n);console.time("assemble actions with hands");const b=m.map(t=>({action:t.action,hands:[],weight:0}));let _,y=0;for(const[n,{hand:i,actionValues:s}]of r.entries())if(a(m.length,s,g/100,h,p,f,c)){const t=Object.values(s).filter(t=>t.freq>0).map(t=>t),e={hand:i,combo:n,actionValues:s,rangeValues:m};u&&n===u&&(_=e);for(const n of t){const t=b.find(t=>oF(t.action,n)),i=Object.values(s).find(t=>oF(t,n)),r=i.variations*i.weight;t.weight+=r,t.hands.push(e),y+=r}}return console.timeEnd("assemble actions with hands"),b.forEach(t=>t.overallFreq=t.weight/y),b.every(t=>0===t.hands.length)?{hand:null,actionsWithHands:[],error:JF.settings}:_?{hand:_,actionsWithHands:b}:{hand:s.selectBalanced&&nI(b)?iI(b):rI(b),actionsWithHands:b}}return{hand:null,actionsWithHands:[],error:JF.filter}}function nI(t){return t.every(t=>t.hands.length>=50)}function iI(t){const e=ZF(t);return ZF(e.hands)}function rI(t){let e;const n=t.map(t=>({action:t.action,overallFreq:t.overallFreq})).sort((t,e)=>e.overallFreq-t.overallFreq),i=Math.random();let r=0;for(const o of n){if(i<=o.overallFreq+r){e=ZF(t.find(t=>oF(t.action,o.action)).hands);break}r+=o.overallFreq}return e}function oI(t){const e=t.map(t=>nF(t).map(t=>SR(t)*kR(t)).reduce((t,e)=>t+e,0)).reduce((t,e)=>t+e,0);return t.map(t=>{const n=nF(t),i=n.map(t=>SR(t)).reduce((t,e)=>t+e,0),r=n.map(t=>SR(t)*kR(t)).reduce((t,e)=>t+e,0);return{action:t.action,overallFreq:r/e,totalItems:i}})}const sI=["cardfilter"];function aI(t,e){if(1&t&&(ks(0,"mat-option",17),ua(1),Ss()),2&t){const t=e.$implicit;Ps("value",t.value),Ur(1),ha(" ",t.viewValue," ")}}function lI(t,e){if(1&t&&(ks(0,"mat-option",17),ua(1),Ss()),2&t){const t=e.$implicit;Ps("value",t.value),Ur(1),ha(" ",t.viewValue," ")}}function cI(t,e){if(1&t&&(ks(0,"mat-option",17),ua(1),Ss()),2&t){const t=e.$implicit;Ps("value",t.value),Ur(1),ha(" ",t.viewValue," ")}}function uI(t,e){if(1&t){const t=Fs();ks(0,"mat-checkbox",18),Ds("ngModelChange",function(e){return Re(t),Vs().mustHaveTurn=e})("change",function(e){return Re(t),Vs().setMustHaveTurn(e)}),ua(1,"Has turn"),Ss()}2&t&&Ps("ngModel",Vs().mustHaveTurn)}function dI(t,e){if(1&t){const t=Fs();ks(0,"div",27),Ds("click",function(){Re(t);const n=e.ngIf;return Vs(3).selectFlop(n)}),Ms(1,"app-cards",28),ks(2,"div",29),ua(3," >> "),Ss(),Ss()}if(2&t){const t=e.ngIf;Ur(1),Ps("cards",t.cards),Ur(1),Js("visible",t.hasTurn)}}function hI(t,e){if(1&t){const t=Fs();ks(0,"div",30),Ds("click",function(){Re(t);const n=e.ngIf;return Vs(3).selectFlop(n)}),Ms(1,"app-cards",28),ks(2,"div",29),ua(3," >> "),Ss(),Ss()}if(2&t){const t=e.ngIf;Ur(1),Ps("cards",t.cards),Ur(1),Js("visible",t.hasTurn)}}function pI(t,e){if(1&t&&(ks(0,"div",24),Cs(1,dI,4,3,"div",25),Cs(2,hI,4,3,"div",26),Ss()),2&t){const t=e.$implicit;Ur(1),Ps("ngIf",t.flop1),Ur(1),Ps("ngIf",t.flop2)}}function fI(t,e){if(1&t&&(Ts(0),ks(1,"div",19),ks(2,"div",20),Ms(3,"i",21),Ss(),ks(4,"div"),ua(5,"This flop is not available."),Ms(6,"br"),ua(7,"Here are similar boards to try:"),Ss(),Ss(),ks(8,"cdk-virtual-scroll-viewport",22),Cs(9,pI,3,2,"div",23),Ss(),Es()),2&t){const t=Vs();Ur(8),Ps("itemSize",t.itemSize)("minBufferPx",20*t.itemSize)("maxBufferPx",40*t.itemSize),Ur(1),Ps("cdkVirtualForOf",t.currentSimilarFlopRows)}}function gI(t,e){if(1&t){const t=Fs();ks(0,"div",27),Ds("click",function(){Re(t);const n=e.ngIf;return Vs(3).selectFlop(n)}),Ms(1,"app-cards",28),ks(2,"div",29),ua(3," >> "),Ss(),Ss()}if(2&t){const t=e.ngIf;Ur(1),Ps("cards",t.cards),Ur(1),Js("visible",t.hasTurn)}}function mI(t,e){if(1&t){const t=Fs();ks(0,"div",30),Ds("click",function(){Re(t);const n=e.ngIf;return Vs(3).selectFlop(n)}),Ms(1,"app-cards",28),ks(2,"div",29),ua(3," >> "),Ss(),Ss()}if(2&t){const t=e.ngIf;Ur(1),Ps("cards",t.cards),Ur(1),Js("visible",t.hasTurn)}}function bI(t,e){if(1&t&&(ks(0,"div",24),Cs(1,gI,4,3,"div",25),Cs(2,mI,4,3,"div",26),Ss()),2&t){const t=e.$implicit;Ur(1),Ps("ngIf",t.flop1),Ur(1),Ps("ngIf",t.flop2)}}function _I(t,e){if(1&t&&(ks(0,"cdk-virtual-scroll-viewport",31),Cs(1,bI,3,2,"div",23),Ss()),2&t){const t=Vs();Ps("itemSize",t.itemSize)("minBufferPx",20*t.itemSize)("maxBufferPx",40*t.itemSize),Ur(1),Ps("cdkVirtualForOf",t.currentFlopRows)}}var yI=function(t){return t[t.Any=0]="Any",t[t.Straight=1]="Straight",t[t.Paired=2]="Paired",t[t.Unpaired=3]="Unpaired",t}({}),vI=function(t){return t[t.Any=0]="Any",t[t.Monotone=1]="Monotone",t[t.SingleSuited=2]="SingleSuited",t[t.Rainbow=3]="Rainbow",t}({}),CI=function(t){return t[t.Any=0]="Any",t[t.Ace=1]="Ace",t[t.King=2]="King",t[t.Queen=3]="Queen",t[t.Jack=4]="Jack",t[t.Ten=5]="Ten",t[t.Nine=6]="Nine",t[t.Eight=7]="Eight",t[t.Seven=8]="Seven",t[t.Six=9]="Six",t[t.Five=10]="Five",t[t.Four=11]="Four",t[t.Three=12]="Three",t[t.Two=13]="Two",t}({});let wI=(()=>{class t{constructor(t,e){this.cdr=t,this.feature=e,this.closed=new ql,this.selected=new ql,this.textureFilter=yI.Any,this.suitFilter=vI.Any,this.highCardFilter=CI.Any,this.textureFilterOptions=[{value:yI.Any,viewValue:"Any",syntax:""},{value:yI.Unpaired,viewValue:"Unpaired",syntax:"!(RR,$0g,$1g,$2g)"},{value:yI.Straight,viewValue:"Straight",syntax:"($0g,$1g,$2g)"},{value:yI.Paired,viewValue:"Paired",syntax:"RR"}],this.suitFilterOptions=[{value:vI.Any,viewValue:"Any",syntax:""},{value:vI.Rainbow,viewValue:"Rainbow",syntax:"$rb"},{value:vI.SingleSuited,viewValue:"Twotoned",syntax:"$ss"},{value:vI.Monotone,viewValue:"Monotone",syntax:"$mt"}],this.highCardFilterOptions=[{value:CI.Any,viewValue:"Any"},{value:CI.Ace,viewValue:"A",syntax:"A"},{value:CI.King,viewValue:"K",syntax:"K!A"},{value:CI.Queen,viewValue:"Q",syntax:"Q!(A,K)"},{value:CI.Jack,viewValue:"J",syntax:"J!(A,K,Q)"},{value:CI.Ten,viewValue:"T",syntax:"T!(A,K,Q,J)"},{value:CI.Nine,viewValue:"9",syntax:"9!(A,K,Q,J,T)"},{value:CI.Eight,viewValue:"8",syntax:"8!(A,K,Q,J,T,9)"},{value:CI.Seven,viewValue:"7",syntax:"7!(A,K,Q,J,T,9,8)"},{value:CI.Six,viewValue:"6",syntax:"6!(A,K,Q,J,T,9,8,7)"},{value:CI.Five,viewValue:"5",syntax:"5!(A,K,Q,J,T,9,8,7,6)"},{value:CI.Four,viewValue:"4",syntax:"4!(A,K,Q,J,T,9,8,7,6,5)"},{value:CI.Three,viewValue:"3",syntax:"3!(A,K,Q,J,T,9,8,7,6,5,4)"},{value:CI.Two,viewValue:"2",syntax:"2!(A,K,Q,J,T,9,8,7,6,5,4,3)"}],this.mustHaveTurn=!1}ngOnInit(){this.filteredFlops=this.updateFlops("",this.mustHaveTurn)}get anyoneHasTurns(){return this.flops.some(t=>t.hasTurn)}get currentTextureFilter(){return this.textureFilter}set currentTextureFilter(t){this.textureFilter=t,this.updateCardFilter()}get currentSuitFilter(){return this.suitFilter}set currentSuitFilter(t){this.suitFilter=t,this.updateCardFilter()}get currentHighCardFilter(){return this.highCardFilter}set currentHighCardFilter(t){this.highCardFilter=t,this.updateCardFilter()}get itemSize(){const t=document.getElementsByTagName("html")[0];if(t){const e=window.getComputedStyle(t).getPropertyValue("font-size");return 2*parseFloat(e)}return 36}get showSimilarFlops(){return 0===this.filteredFlops.length&&this.similarFlops.length>0}get currentFlopRows(){const t=[];for(let e=0;e<this.filteredFlops.length;e+=2)t.push({flop1:this.filteredFlops[e],flop2:e+1<this.filteredFlops.length?this.filteredFlops[e+1]:null});return t}get currentSimilarFlopRows(){const t=[];for(let e=0;e<this.similarFlops.length;e+=2)t.push({flop1:this.similarFlops[e],flop2:e+1<this.similarFlops.length?this.similarFlops[e+1]:null});return t}setMustHaveTurn(t){this.mustHaveTurn=t.checked,this.filteredFlops=this.updateFlops(this.cardFilter.value,this.mustHaveTurn),this.cdr.markForCheck()}setCardFilter(t=""){this.textureFilterOptions.filter(t=>t.value!==yI.Any).every(e=>!t.includes(e.syntax))&&(this.textureFilter=yI.Any),this.suitFilterOptions.filter(t=>t.value!==vI.Any).every(e=>!t.includes(e.syntax))&&(this.suitFilter=vI.Any),this.highCardFilterOptions.filter(t=>t.value!==CI.Any).every(e=>!t.includes(e.syntax))&&(this.highCardFilter=CI.Any),this.filterFlops(t)}updateCardFilter(){var t,e,n,i,r,o;const s=(null!==(e=null===(t=this.textureFilterOptions.find(t=>t.value===this.currentTextureFilter))||void 0===t?void 0:t.syntax)&&void 0!==e?e:"")+(null!==(i=null===(n=this.suitFilterOptions.find(t=>t.value===this.currentSuitFilter))||void 0===n?void 0:n.syntax)&&void 0!==i?i:"")+(null!==(o=null===(r=this.highCardFilterOptions.find(t=>t.value===this.currentHighCardFilter))||void 0===r?void 0:r.syntax)&&void 0!==o?o:"");this.cardFilter.setValue(s),this.filterFlops(s)}filterFlops(t){this.filteredFlops=this.updateFlops(t,this.mustHaveTurn),this.cdr.markForCheck()}updateFlops(t="",e){const n=(e?this.flops.filter(t=>t.hasTurn):this.flops).map(({cards:t,classifications:e})=>[t,e,t.join("")]),{items:i}=Object(yR.filterItems)(!1,n,t),r=[...this.flops].filter(t=>AR(t.cards)).filter(t=>i.some(e=>Object(yR.cardsAreEqual)(t.cards,e[0]))).sort((t,e)=>Object(yR.sortFlops)(t.cards,e.cards));return this.similarFlops=0===r.length?this.findSimilarFlops(t):[],r}loadRandomFlop(){const t=ZF(this.filteredFlops);this.selectFlop(t)}selectFlop(t){this.selected.emit(t.cards)}emitClosed(){this.allowClose&&this.closed.emit()}findSimilarFlops(t){const e=Object(yR.sortBoardsByDistance)(t,this.flops),n=e.filter(t=>t.distance<=12);return(n.length<4?e.slice(0,4):n).map(t=>this.flops.find(e=>Object(yR.cardsAreEqual)(e.cards,t.cards)))}}return t.\u0275fac=function(e){return new(e||t)(xs(ll),xs(gT))},t.\u0275cmp=Nt({type:t,selectors:[["app-flop-selector"]],viewQuery:function(t,e){if(1&t&&oc(sI,!0),2&t){let t;ic(t=uc())&&(e.cardFilter=t.first)}},inputs:{flops:"flops",allowClose:"allowClose"},outputs:{closed:"closed",selected:"selected"},decls:33,vars:12,consts:[["id","flop-selection-container"],[1,"close-btn",3,"click"],[1,"icon","fas","fa-times-circle"],[1,"centered"],["label","Filter","placeholder","Filter flops",3,"isBoardFilter","filter"],["cardfilter",""],[1,"panels"],[1,"filters"],["color","accent","appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","turn-check",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"results"],[4,"ngIf","ngIfElse"],["regularFlops",""],[1,"rdm-link"],[3,"click"],[3,"value"],[1,"turn-check",3,"ngModel","ngModelChange","change"],[1,"title"],[1,"icon"],[1,"fas","fa-exclamation-circle"],[1,"flops","similar",3,"itemSize","minBufferPx","maxBufferPx"],["class","flop-row",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"flop-row"],["class","flop left",3,"click",4,"ngIf"],["class","flop right",3,"click",4,"ngIf"],[1,"flop","left",3,"click"],[3,"cards"],[1,"turn-icon"],[1,"flop","right",3,"click"],[1,"flops",3,"itemSize","minBufferPx","maxBufferPx"]],template:function(t,e){if(1&t&&(ks(0,"div",0),ks(1,"div",1),Ds("click",function(){return e.emitClosed()}),Ms(2,"i",2),Ss(),ks(3,"div"),ua(4,"Select a flop"),Ss(),ks(5,"div",3),ks(6,"app-card-filter",4,5),Ds("filter",function(t){return e.setCardFilter(t)}),Ss(),ks(8,"div",6),ks(9,"div",7),ks(10,"mat-form-field",8),ks(11,"mat-label"),ua(12,"Texture"),Ss(),ks(13,"mat-select",9),Ds("valueChange",function(t){return e.currentTextureFilter=t}),Cs(14,aI,2,2,"mat-option",10),Ss(),Ss(),ks(15,"mat-form-field",8),ks(16,"mat-label"),ua(17,"Suits"),Ss(),ks(18,"mat-select",9),Ds("valueChange",function(t){return e.currentSuitFilter=t}),Cs(19,lI,2,2,"mat-option",10),Ss(),Ss(),ks(20,"mat-form-field",8),ks(21,"mat-label"),ua(22,"High Card"),Ss(),ks(23,"mat-select",9),Ds("valueChange",function(t){return e.currentHighCardFilter=t}),Cs(24,cI,2,2,"mat-option",10),Ss(),Ss(),Cs(25,uI,2,1,"mat-checkbox",11),Ss(),ks(26,"div",12),Cs(27,fI,10,4,"ng-container",13),Cs(28,_I,2,4,"ng-template",null,14,fc),Ss(),Ss(),ks(30,"div",15),ks(31,"a",16),Ds("click",function(){return e.loadRandomFlop()}),ua(32,"Load random board"),Ss(),Ss(),Ss(),Ss()),2&t){const t=ws(29);Ur(1),Js("show",e.allowClose),Ur(5),Ps("isBoardFilter",!0),Ur(7),Ps("value",e.currentTextureFilter),Ur(1),Ps("ngForOf",e.textureFilterOptions),Ur(4),Ps("value",e.currentSuitFilter),Ur(1),Ps("ngForOf",e.suitFilterOptions),Ur(4),Ps("value",e.currentHighCardFilter),Ur(1),Ps("ngForOf",e.highCardFilterOptions),Ur(1),Ps("ngIf",e.anyoneHasTurns),Ur(2),Ps("ngIf",e.showSimilarFlops)("ngIfElse",t)}},styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:7.5rem}[_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}#flop-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:21.875rem;margin-top:.625rem;padding:.625rem;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);border-radius:.3125rem;background-color:var(--background-color);color:var(--text-color)}#flop-selection-container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:-.625rem;cursor:pointer;visibility:hidden}#flop-selection-container[_ngcontent-%COMP%]   .close-btn.show[_ngcontent-%COMP%]{visibility:visible}#flop-selection-container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;background-color:#000;border-radius:100%}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   app-card-filter[_ngcontent-%COMP%]{width:11rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]{display:flex;flex-direction:row}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{width:8.125rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:.5rem;font-size:.8rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.875rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]{width:13.4rem;height:15rem;max-height:15rem;overflow-y:auto;overflow-x:hidden}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops.similar[_ngcontent-%COMP%]{height:12.5rem;max-height:12.5rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;height:2rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;cursor:pointer;height:2rem;margin-right:.3125rem;padding:.1875rem;margin-bottom:1px;width:50%}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]:hover{padding:0;border:.1875rem solid var(--app-color)}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]:nth-child(2n){margin-right:0}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]   .turn-icon[_ngcontent-%COMP%]{visibility:hidden;margin-left:.125rem}#flop-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]   .turn-icon.visible[_ngcontent-%COMP%]{visibility:visible}.rdm-link[_ngcontent-%COMP%]{margin-left:6.875rem;margin-top:.625rem;padding:1px .625rem;cursor:pointer;font-size:.875rem;color:var(--link-color)}.rdm-link[_ngcontent-%COMP%]:hover{padding:0 .5625rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"],changeDetection:0}),t})();const xI=["cardfilter"];function PI(t,e){if(1&t&&(ks(0,"mat-option",16),ua(1),Ss()),2&t){const t=e.$implicit;Ps("value",t.value),Ur(1),ha(" ",t.viewValue," ")}}function OI(t,e){if(1&t&&(ks(0,"mat-option",16),ua(1),Ss()),2&t){const t=e.$implicit;Ps("value",t.value),Ur(1),ha(" ",t.viewValue," ")}}function kI(t,e){if(1&t&&(ks(0,"mat-option",16),ua(1),Ss()),2&t){const t=e.$implicit;Ps("value",t.value),Ur(1),ha(" ",t.viewValue," ")}}function SI(t,e){if(1&t){const t=Fs();ks(0,"mat-checkbox",17),Ds("ngModelChange",function(e){return Re(t),Vs().mustHaveTurn=e})("change",function(e){return Re(t),Vs().setMustHaveTurn(e)}),ua(1,"Has turn"),Ss()}2&t&&Ps("ngModel",Vs().mustHaveTurn)}function MI(t,e){if(1&t){const t=Fs();ks(0,"div",21),Ds("click",function(){Re(t);const n=e.ngIf;return Vs(2).selectFlop(n)}),Ms(1,"app-cards",22),ks(2,"div",23),ua(3," >>\n"),Ss(),Ss()}if(2&t){const t=e.ngIf;Ur(1),Ps("cards",t.cards),Ur(1),Js("visible",t.hasTurn)}}function TI(t,e){if(1&t){const t=Fs();ks(0,"div",24),Ds("click",function(){Re(t);const n=e.ngIf;return Vs(2).selectFlop(n)}),Ms(1,"app-cards",22),ks(2,"div",23),ua(3," >>\n"),Ss(),Ss()}if(2&t){const t=e.ngIf;Ur(1),Ps("cards",t.cards),Ur(1),Js("visible",t.hasTurn)}}function EI(t,e){if(1&t&&(ks(0,"div",18),Cs(1,MI,4,3,"div",19),Cs(2,TI,4,3,"div",20),Ss()),2&t){const t=e.$implicit;Ur(1),Ps("ngIf",t.flop1),Ur(1),Ps("ngIf",t.flop2)}}let RI=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.cdr=n,this.textureFilter=yI.Any,this.suitFilter=vI.Any,this.highCardFilter=CI.Any,this.textureFilterOptions=[{value:yI.Any,viewValue:"Any",syntax:""},{value:yI.Unpaired,viewValue:"Unpaired",syntax:"!(RR,$0g,$1g,$2g)"},{value:yI.Straight,viewValue:"Straight",syntax:"($0g,$1g,$2g)"},{value:yI.Paired,viewValue:"Paired",syntax:"RR"}],this.suitFilterOptions=[{value:vI.Any,viewValue:"Any",syntax:""},{value:vI.Rainbow,viewValue:"Rainbow",syntax:"$rb"},{value:vI.SingleSuited,viewValue:"Twotoned",syntax:"$ss"},{value:vI.Monotone,viewValue:"Monotone",syntax:"$mt"}],this.highCardFilterOptions=[{value:CI.Any,viewValue:"Any"},{value:CI.Ace,viewValue:"A",syntax:"A"},{value:CI.King,viewValue:"K",syntax:"K!A"},{value:CI.Queen,viewValue:"Q",syntax:"Q!(A,K)"},{value:CI.Jack,viewValue:"J",syntax:"J!(A,K,Q)"},{value:CI.Ten,viewValue:"T",syntax:"T!(A,K,Q,J)"},{value:CI.Nine,viewValue:"9",syntax:"9!(A,K,Q,J,T)"},{value:CI.Eight,viewValue:"8",syntax:"8!(A,K,Q,J,T,9)"},{value:CI.Seven,viewValue:"7",syntax:"7!(A,K,Q,J,T,9,8)"},{value:CI.Six,viewValue:"6",syntax:"6!(A,K,Q,J,T,9,8,7)"},{value:CI.Five,viewValue:"5",syntax:"5!(A,K,Q,J,T,9,8,7,6)"},{value:CI.Four,viewValue:"4",syntax:"4!(A,K,Q,J,T,9,8,7,6,5)"},{value:CI.Three,viewValue:"3",syntax:"3!(A,K,Q,J,T,9,8,7,6,5,4)"},{value:CI.Two,viewValue:"2",syntax:"2!(A,K,Q,J,T,9,8,7,6,5,4,3)"}],this.mustHaveTurn=!1,this.allFlops=e,this.filteredFlops=[...this.allFlops]}ngOnInit(){this.filteredFlops=this.updateFlops("",this.mustHaveTurn)}get itemSize(){const t=document.getElementsByTagName("html")[0];if(t){const e=window.getComputedStyle(t).getPropertyValue("font-size");return 2*parseFloat(e)}return 36}exit(){this.dialogRef.close({start:!1})}startTraining(){this.canStartTraining&&this.dialogRef.close({start:!0,filter:this.filterSyntax})}get canStartTraining(){return this.numberOfBoards>0}get anyoneHasTurns(){return this.allFlops.some(t=>t.hasTurn)}get currentTextureFilter(){return this.textureFilter}set currentTextureFilter(t){this.textureFilter=t,this.updateCardFilter()}get currentSuitFilter(){return this.suitFilter}set currentSuitFilter(t){this.suitFilter=t,this.updateCardFilter()}get currentHighCardFilter(){return this.highCardFilter}set currentHighCardFilter(t){this.highCardFilter=t,this.updateCardFilter()}get currentFlopRows(){const t=[];for(let e=0;e<this.filteredFlops.length;e+=2)t.push({flop1:this.filteredFlops[e],flop2:e+1<this.filteredFlops.length?this.filteredFlops[e+1]:null});return t}get numberOfBoards(){return this.filteredFlops.length}setMustHaveTurn(t){this.mustHaveTurn=t.checked,this.filteredFlops=this.updateFlops(this.cardFilter.value,this.mustHaveTurn),this.cdr.markForCheck()}setCardFilter(t=""){this.textureFilterOptions.filter(t=>t.value!==yI.Any).every(e=>!t.includes(e.syntax))&&(this.textureFilter=yI.Any),this.suitFilterOptions.filter(t=>t.value!==vI.Any).every(e=>!t.includes(e.syntax))&&(this.suitFilter=vI.Any),this.highCardFilterOptions.filter(t=>t.value!==CI.Any).every(e=>!t.includes(e.syntax))&&(this.highCardFilter=CI.Any),this.filterFlops(t)}updateCardFilter(){var t,e,n,i,r,o;const s=(null!==(e=null===(t=this.textureFilterOptions.find(t=>t.value===this.currentTextureFilter))||void 0===t?void 0:t.syntax)&&void 0!==e?e:"")+(null!==(i=null===(n=this.suitFilterOptions.find(t=>t.value===this.currentSuitFilter))||void 0===n?void 0:n.syntax)&&void 0!==i?i:"")+(null!==(o=null===(r=this.highCardFilterOptions.find(t=>t.value===this.currentHighCardFilter))||void 0===r?void 0:r.syntax)&&void 0!==o?o:"");this.cardFilter.setValue(s),this.filterFlops(s)}filterFlops(t){this.filteredFlops=this.updateFlops(t,this.mustHaveTurn),this.cdr.markForCheck()}updateFlops(t="",e){const n=(e?this.allFlops.filter(t=>t.hasTurn):this.allFlops).map(({cards:t,classifications:e})=>[t,e,t.join("")]),{items:i}=Object(yR.filterItems)(!1,n,t),r=[...this.allFlops].filter(t=>i.some(e=>Object(yR.cardsAreEqual)(t.cards,e[0]))).sort((t,e)=>Object(yR.sortCards)(t.cards,e.cards));return this.filterSyntax=e?r.map(t=>Object(yR.cardsToString)(t.cards)).join(","):t,r}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM),xs(ll))},t.\u0275cmp=Nt({type:t,selectors:[["app-random-board-dialog"]],viewQuery:function(t,e){if(1&t&&oc(xI,!0),2&t){let t;ic(t=uc())&&(e.cardFilter=t.first)}},decls:32,vars:15,consts:[[1,"title"],["mat-dialog-title",""],[1,"random-board-dialog-content","mat-typography"],[1,"centered"],["label","Filter","placeholder","Filter flops",3,"isBoardFilter","filter"],["cardfilter",""],[1,"panels"],[1,"filters"],["color","accent","appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","turn-check",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"flops",3,"itemSize","minBufferPx","maxBufferPx"],["class","flop-row",4,"cdkVirtualFor","cdkVirtualForOf"],["align","center"],[1,"link",3,"click"],[3,"value"],[1,"turn-check",3,"ngModel","ngModelChange","change"],[1,"flop-row"],["class","flop left",3,"click",4,"ngIf"],["class","flop right",3,"click",4,"ngIf"],[1,"flop","left",3,"click"],[3,"cards"],[1,"turn-icon"],[1,"flop","right",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"Filter boards for training"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div",3),ks(5,"app-card-filter",4,5),Ds("filter",function(t){return e.setCardFilter(t)}),Ss(),ks(7,"div",6),ks(8,"div",7),ks(9,"mat-form-field",8),ks(10,"mat-label"),ua(11,"Texture"),Ss(),ks(12,"mat-select",9),Ds("valueChange",function(t){return e.currentTextureFilter=t}),Cs(13,PI,2,2,"mat-option",10),Ss(),Ss(),ks(14,"mat-form-field",8),ks(15,"mat-label"),ua(16,"Suits"),Ss(),ks(17,"mat-select",9),Ds("valueChange",function(t){return e.currentSuitFilter=t}),Cs(18,OI,2,2,"mat-option",10),Ss(),Ss(),ks(19,"mat-form-field",8),ks(20,"mat-label"),ua(21,"High Card"),Ss(),ks(22,"mat-select",9),Ds("valueChange",function(t){return e.currentHighCardFilter=t}),Cs(23,kI,2,2,"mat-option",10),Ss(),Ss(),Cs(24,SI,2,1,"mat-checkbox",11),Ss(),ks(25,"cdk-virtual-scroll-viewport",12),Cs(26,EI,3,2,"div",13),Ss(),Ss(),Ss(),Ss(),ks(27,"mat-dialog-actions",14),ks(28,"a",15),Ds("click",function(){return e.startTraining()}),ua(29),Ss(),ks(30,"a",15),Ds("click",function(){return e.exit()}),ua(31,"Cancel"),Ss(),Ss()),2&t&&(Ur(5),Ps("isBoardFilter",!0),Ur(7),Ps("value",e.currentTextureFilter),Ur(1),Ps("ngForOf",e.textureFilterOptions),Ur(4),Ps("value",e.currentSuitFilter),Ur(1),Ps("ngForOf",e.suitFilterOptions),Ur(4),Ps("value",e.currentHighCardFilter),Ur(1),Ps("ngForOf",e.highCardFilterOptions),Ur(1),Ps("ngIf",e.anyoneHasTurns),Ur(1),Ps("itemSize",e.itemSize)("minBufferPx",20*e.itemSize)("maxBufferPx",40*e.itemSize),Ur(1),Ps("cdkVirtualForOf",e.currentFlopRows),Ur(2),Js("disabled",!e.canStartTraining),Ur(1),ha("Start training ",e.numberOfBoards," boards"))},styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-form-field-infix{width:7rem!important}  .mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.filter-form[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{width:10rem!important}.random-board-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:.625rem;padding:.625rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   app-card-filter[_ngcontent-%COMP%]{width:11rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]{display:flex;flex-direction:row}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{width:8.125rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]{width:13.4375rem;height:18.75rem;max-height:18.75rem;overflow-y:auto;overflow-x:hidden}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;height:2.25rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:2rem;margin-right:.3125rem;padding:.185rem;margin-bottom:1px}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]:nth-child(2n){margin-right:0}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]   .turn-icon[_ngcontent-%COMP%]{visibility:hidden;margin-left:.125rem}.random-board-dialog-content[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .panels[_ngcontent-%COMP%]   .flops[_ngcontent-%COMP%]   .flop-row[_ngcontent-%COMP%]   .flop[_ngcontent-%COMP%]   .turn-icon.visible[_ngcontent-%COMP%]{visibility:visible}.link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--link-color)}.link.disabled[_ngcontent-%COMP%]{cursor:unset;color:#888}.link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"],changeDetection:0}),t})();const FI=["labelInput"];let II=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.store=n}ngOnInit(){const{type:t,tree:e,node:n}=this.data.queryParams,i=t=>t.filter(t=>!!t).join(" - ");if("preflop"===t){const t=dy(this.store.pipe(Yb(vy(e))));this.label=i([ey(t.category),ly(t,this.isFiveCard),n])}else{const{flop:t,turn:r,river:o}=this.data.queryParams,s=[t,r,o].filter(t=>!!t).join(""),a=dy(this.store.pipe(Yb(Cy(e))));this.label=i([ny(a.category),ly(a,this.isFiveCard),s,n])}}get isFiveCard(){return!1}cancel(){this.dialogRef.close()}confirm(){if(this.label.length>0){const{path:t,queryParams:e}=this.data,n={key:jE(),name:this.label,path:t,queryParams:e,dateCreatedISO:(new Date).toISOString()};this.store.dispatch(Zy({favorite:n})),this.dialogRef.close()}else this.labelInput.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM),xs(Kb))},t.\u0275cmp=Nt({type:t,selectors:[["app-create-favorite-dialog"]],viewQuery:function(t,e){if(1&t&&rc(FI,!0),2&t){let t;ic(t=uc())&&(e.labelInput=t.first)}},decls:14,vars:3,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["color","accent",1,"card-filter-field"],["matInput","","type","text","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],["labelInput",""],["align","center"],[1,"confirm-link",3,"click"],[1,"dismiss-link",3,"click"]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1,"Create favorite"),Ss(),ks(2,"mat-dialog-content",1),ks(3,"p"),ks(4,"mat-form-field",2),ks(5,"mat-label"),ua(6,"Label"),Ss(),ks(7,"input",3,4),Ds("ngModelChange",function(t){return e.label=t}),Ss(),Ss(),Ss(),Ss(),ks(9,"mat-dialog-actions",5),ks(10,"a",6),Ds("click",function(){return e.confirm()}),ua(11,"Create"),Ss(),ks(12,"a",7),Ds("click",function(){return e.cancel()}),ua(13,"Cancel"),Ss(),Ss()),2&t&&(Ur(7),Ps("ngModel",e.label),Ur(3),Js("disabled",!e.label))},directives:[KM,QM,YT,VT,sE,hC,AC,yw,YM],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}[_nghost-%COMP%]     .mat-form-field{width:30rem!important}  .mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.confirm-link.disabled[_ngcontent-%COMP%], .dismiss-link.disabled[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none;color:var(--text-color-disabled)}.confirm-link[_ngcontent-%COMP%]:hover:not(.disabled), .dismiss-link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();function AI(t,e){const n=Math.max(...e.filter(t=>t.overallFreq>=0).map(t=>t.overallFreq));return(null==t?void 0:t.overallFreq)>=n}var DI=function(t){return t.MUSTMOVE="MUSTMOVE",t.CORRECT="CORRECT",t.FREQ_CORRECT="FREQ_CORRECT",t.INACCURACY="INACCURACY",t.MISTAKE="MISTAKE",t.FREQ_MISTAKE="FREQ_MISTAKE",t.BLUNDER="BLUNDER",t}({});const LI=[DI.MUSTMOVE,DI.CORRECT,DI.FREQ_CORRECT,DI.INACCURACY,DI.MISTAKE,DI.FREQ_MISTAKE,DI.BLUNDER];function BI(t,e,n){return n?e>5?DI.MUSTMOVE:DI.CORRECT:t>3?DI.BLUNDER:t>1.5?DI.MISTAKE:DI.INACCURACY}function NI(t){return t?DI.FREQ_CORRECT:DI.FREQ_MISTAKE}function jI(t){return[DI.CORRECT,DI.FREQ_CORRECT,DI.MUSTMOVE].includes(t)}function VI(t){return[DI.INACCURACY,DI.FREQ_MISTAKE,DI.MISTAKE,DI.BLUNDER].includes(t)}function HI(t){switch(t){case DI.MUSTMOVE:case DI.FREQ_CORRECT:case DI.CORRECT:return"Correct";case DI.INACCURACY:case DI.FREQ_MISTAKE:case DI.MISTAKE:case DI.BLUNDER:return"Mistake"}}function $I(t,e){const n=Object.assign({},t);if(e){const{minFrequency:t,minWeight:i,evDiff:r,evSpread:o}=e;+t>=0?n.minFrequency=t:delete n.minFrequency,+i>=0?n.minWeight=i:delete n.minWeight,isNaN(+r)||(n.evDiff=r),isNaN(null==o?void 0:o.min)||isNaN(null==o?void 0:o.max)?(delete n.minEV,delete n.maxEV):(n.minEV=o.min,n.maxEV=o.max)}return n}function zI(t,e){const n=Object.assign({},t);if(e){const{minFrequency:t,minWeight:i,evSpread:r,evDiff:o,selectBalanced:s}=e;85!=+t?n.minFrequency=t:delete n.minFrequency,.5!=+i?n.minWeight=i:delete n.minWeight,isNaN(+o)||(n.evDiff=o),isNaN(+(null==r?void 0:r.min))||isNaN(+(null==r?void 0:r.max))?(delete n.minEV,delete n.maxEV):(n.minEV=r.min,n.maxEV=r.max),!0!==s?n.selection=s?"balanced":"random":delete n.selection}return n}let UI=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}dismiss(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}openShop(){window.open(wE)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM))},t.\u0275cmp=Nt({type:t,selectors:[["app-daily-training-limit-dialog"]],decls:15,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link","shop",3,"click"],[1,"link",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"Daily training limit"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div"),ks(5,"p"),ks(6,"b"),ua(7,"You have reached your limit of daily free training."),Ss(),Ss(),ks(8,"p"),ua(9,"Come back tomorrow, or upgrade for unlimited access."),Ss(),Ss(),Ss(),ks(10,"mat-dialog-actions",3),ks(11,"a",4),Ds("click",function(){return e.openShop()}),ua(12,"Upgrade now"),Ss(),ks(13,"a",5),Ds("click",function(){return e.dismiss()}),ua(14,"Close"),Ss(),Ss())},directives:[KM,QM,YM],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),t})();function qI(t){return Array.from(new Set(t))}let WI=(()=>{class t{constructor(t,e){this.http=t,this.store=e}get baseUrl(){return""+pu}loadPreflopTrees(){return L(this.http.get(this.baseUrl+"/preflop/tree")).pipe(k(t=>this.getPreflopTreeList(t)))}loadPostflopTrees(){return L(this.http.get(this.baseUrl+"/postflop/tree")).pipe(k(t=>this.getPostflopTreeList(t)))}loadPreflopTree(t){return L(this.loadPreflopTreeDirect(t)).pipe(eb(this.store.pipe(Yb(vy(t)))),k(([e,n])=>Object.assign(Object.assign(Object.assign({},n),e),{key:t,type:X_.preflop})))}loadPreflopTreeDirect(t){return $m(this,void 0,void 0,function*(){return yield this.http.get(this.baseUrl+"/preflop/tree/"+t)})}loadPostflopTree(t,e,n,i,r){const o={};return e&&(o.flop=e,n&&(o.turn=n,i&&(o.river=i))),r&&(o.transition=r),!t.boards&&e?L(this.http.get(this.baseUrl+"/postflop/tree/"+t.key)).pipe(Oh(e=>L(this.http.get(this.baseUrl+"/postflop/tree/"+t.key,o)).pipe(k(t=>{const n=this.getEnrichedFlops(e.boards);return Object.assign(Object.assign(Object.assign({},e),t),{selectableFlops:n})})))):L(this.http.get(this.baseUrl+"/postflop/tree/"+t.key,o)).pipe(k(e=>{const n=this.getEnrichedFlops(t.boards&&"string"!=typeof t?t.boards:e.boards);return Object.assign(Object.assign(Object.assign({},Object.assign(Object.assign({},t),{flop:void 0,turn:void 0,river:void 0})),e),{selectableFlops:n})}))}getPreflopTreeList(t){return{categories:qI(t.map(t=>t.groupByCategory)).map(e=>{const n=t.filter(t=>t.groupByCategory===e),i=qI(n.map(t=>t.profileOrder).sort()).map(t=>{const e=n.filter(e=>e.profileOrder===t).map(t=>Object.assign({},t)).sort((t,e)=>t.stack-e.stack);return{label:e[0].profile,trees:e}}),r=i.every(t=>t.trees.every(t=>t.isLocked));return{label:e,profiles:i,isLocked:r}})}}getPostflopTreeList(t){return{categories:qI(t.map(t=>t.groupByCategory)).map(e=>{const n=t.filter(t=>t.groupByCategory===e),i=n.every(t=>t.isLocked);return{label:e,trees:n,isLocked:i}})}}getEnrichedFlops(t){return t?Object.keys(t).map(e=>{const n=Object(yR.parseCards)(e);return{cards:n,hasTurn:Object.keys(t[e]).length>0,classifications:Object(yR.classifyPreflopCards)(n)}}):[]}getAndResetPathToNode(){const t=this.pathToNode;return this.pathToNode=null,t}goToNode(t,e,n,i){this.pathToNode={path:t,flop:e,turn:n,river:i}}}return t.\u0275fac=function(e){return new(e||t)(hi(tF),hi(Kb))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GI=(()=>{class t{constructor(t,e,n,i){this.store=t,this.http=e,this.feature=n,this.route=i,this.isLoadingPreflopLookup=!1,this.isLoadingPostflopLookup=!1,this.store.pipe(Yb(xv)).subscribe(t=>{this.preflopBucketGroups=t}),this.store.pipe(Yb(Pv)).subscribe(t=>{this.postflopBucketGroups=t}),this.postflopBucketLookup={}}get isFiveCard(){return!1}get baseUrl(){return this.isFiveCard?pu+"/fivecard":""+pu}clearPreflopBucketLookup(){this.preflopBucketLookups=null}clearPostflopBucketLookup(){this.postflopBucketLookup=null}hasPreflopBucketLookup(t){var e;return(null===(e=this.preflopBucketLookups)||void 0===e?void 0:e.length)>0}hasPostflopBucketLookup(t,e){var n;return(null===(n=this.postflopBucketLookup)||void 0===n?void 0:n.board)===e}getPreparedPreflopLookup(){return this.preflopBucketLookups}loadPreflopLookup(){return $m(this,void 0,void 0,function*(){return this.preflopBucketLookups&&0!==this.preflopBucketLookups.length||(yield this.loadPreflopBucketLookup()),this.preflopBucketLookups})}getPreflopLookup(){return this.preflopBucketLookups}loadPreflopBuckets(){return L(this.http.get(this.baseUrl+"/preflop/bucket")).pipe(k(t=>t.map(t=>this.addKey(t))))}loadPostflopBuckets(){return L(this.http.get(this.baseUrl+"/postflop/bucket")).pipe(k(t=>t.map(t=>this.addKey(t))))}addKey(t,e=""){const n=e?`${e}.${t.id}`:""+t.id;if(t.children){const e=t.children.map(t=>this.addKey(t,n));return Object.assign(Object.assign({},t),{children:e,key:n})}return Object.assign(Object.assign({},t),{key:n})}loadPreflopBucketLookup(){var t;return $m(this,void 0,void 0,function*(){if(this.isLoadingPreflopLookup)for(;!this.preflopBucketLookups;)yield jw(250);else if(!((null===(t=this.preflopBucketLookups)||void 0===t?void 0:t.length)>0)){this.isLoadingPreflopLookup=!0;try{if(this.isFiveCard){const t=[this.http.get(this.baseUrl+"/preflop/bucket/lookup/1"),this.http.get(this.baseUrl+"/preflop/bucket/lookup/2")],[e,n]=yield Promise.all(t);this.preflopBucketLookups=[new Map(Object.entries(e)),new Map(Object.entries(n))]}else{const t=yield this.http.get(this.baseUrl+"/preflop/bucket/lookup");this.preflopBucketLookups=[new Map(Object.entries(t))]}}finally{this.isLoadingPreflopLookup=!1}}})}segmentPreflopRange(t,e){var n;return $m(this,void 0,void 0,function*(){const i=null!==(n=this.route.snapshot.queryParamMap.get("node"))&&void 0!==n?n:"",r=dy(this.store.pipe(Yb(yy),kh(t=>!!t),k(t=>t.key)));if(this.isFiveCard&&!t){try{const{url:t}=yield this.http.get(`${this.baseUrl}/preflop/${r}/${i}/bucket`);return{tree:r,node:i,bucketGroups:yield this.http.get(t,{},!0)}}catch(o){console.warn(o.error)}return{tree:r,node:i,bucketGroups:[]}}{this.preflopBucketLookups||(yield this.loadPreflopBucketLookup());const n=t.ranges.sort((t,e)=>uF(t.action,e.action)).map(t=>{const e=nF(t).map(t=>{const e=this.lookupPreflopBuckets(CR(t));return{weight:SR(t)*kR(t),freq:xR(t),bucketIds:e}});return Object.assign(Object.assign({},t),{items:e})}),o=n.map(t=>t.items.map(t=>t.weight).reduce((t,e)=>t+e,0)).reduce((t,e)=>t+e,0);let s;if(e){const t=this.getBucketsForHand(e,this.preflopBucketLookups);s=(null==t?void 0:t.length)>0?[this.findBucketGroupForBucket(!1,this.preflopBucketGroups,t)]:[],s=(null==t?void 0:t.length)>0?[this.findBucketGroupForBucket(!1,this.preflopBucketGroups,t)]:[this.getBucketGroupForHand(e,null,this.preflopBucketGroups)]}else s=this.preflopBucketGroups;return{tree:r,node:i,bucketGroups:this.processBucketGroups(s,n,o).sort((t,e)=>t.id-e.id)}}})}lookupPreflopBuckets(t){const e=Object(yR.cardsToString)(Object(yR.parseCards)(t));for(const n of this.preflopBucketLookups){const t=n.get(e);if(t)return t}return[]}segmentPostflopRange(t,e,n,i){var r,o,s;return $m(this,void 0,void 0,function*(){const a=null!==(r=this.route.snapshot.queryParamMap.get("node"))&&void 0!==r?r:"",l=dy(this.store.pipe(Yb(yy),k(t=>t.key)));if(this.isFiveCard){const e=12,r=5;let s=1;for(;s<=e;)try{const e=i||a,r=yield this.tryToLoadPostflopBucketChart(l,e,t);if(n){(null===(o=this.postflopBucketLookup)||void 0===o?void 0:o.board)!==t&&(yield this.loadPostflopBucketLookup(t));const i=this.postflopBucketLookup.lookup||new Map([]),s=this.getBucketsForHand(n,[i]);return(null==s?void 0:s.length)>0?{tree:l,node:e,bucketGroups:[this.findBucketGroupForBucket(!0,r,s)]}:{tree:l,node:e,bucketGroups:[this.getBucketGroupForHand(n,Object(yR.parseCards)(t),this.postflopBucketGroups)]}}return{tree:l,node:e,bucketGroups:r}}catch(c){console.log(`Could not load chart ... waiting ${r}s before trying again`,s),s<e&&(yield jw(1e3*r)),s+=1}return{tree:l,node:a,bucketGroups:[]}}{if((null===(s=this.postflopBucketLookup)||void 0===s?void 0:s.board)!==t){const e=12,n=5;let i=1;for(;i<=e;)try{yield this.loadPostflopBucketLookup(t);break}catch(c){if(404!==c.status){console.error(c.error);break}console.log(`Could not load lookup ... waiting ${n}s before trying again`,i),i<e&&(yield jw(1e3*n)),i+=1}}const i=this.postflopBucketLookup.lookup||new Map([]),r=e.ranges.sort((t,e)=>uF(t.action,e.action)).map(t=>{const e=nF(t).map(t=>{const e=i.get(CR(t))||[];return{weight:SR(t)*kR(t),freq:xR(t),bucketIds:e}});return Object.assign(Object.assign({},t),{items:e})}),o=r.map(t=>t.items.map(t=>t.weight).reduce((t,e)=>t+e,0)).reduce((t,e)=>t+e,0);let u;if(n){const e=this.getBucketsForHand(n,[i]);u=(null==e?void 0:e.length)>0?[this.findBucketGroupForBucket(!0,this.postflopBucketGroups,e)]:[this.getBucketGroupForHand(n,Object(yR.parseCards)(t),this.postflopBucketGroups)]}else u=this.postflopBucketGroups;return{tree:l,node:a,bucketGroups:this.processBucketGroups(u,r,o).sort((t,e)=>t.id-e.id)}}})}getBucketsForHand(t,e){const n=t=>{for(const n of e){const e=n.get(t);if(e)return e}return null};let i=n(Object(yR.cardsToString)(t,!1));return i&&0!==i.length||(i=n(Object(yR.cardsToString)(t,!0))),i||[]}getBucketGroupForHand(t,e,n){var i;const r=!!e,o=[t,r?Object(yR.classifyPostflopCardsAndBoard)(t,e):Object(yR.classifyPreflopCards)(t),Object(yR.cardsToString)(t,!1)];for(const s of n)if(1===(null===(i=Object(yR.filterItems)(r,[o],s.syntax).items)||void 0===i?void 0:i.length))return s}tryToLoadPostflopBucketChart(t,e,n){return $m(this,void 0,void 0,function*(){const{url:i}=yield this.http.get(`${this.baseUrl}/postflop/${t}/${e}/${n}/bucket`),r=yield this.http.get(i,{},!0),o=dy(this.store.pipe(Yb(Pv)));return this.checkAndReplaceLabels(r,o)})}findBucketGroupForBucket(t,e,n=[]){if(!e||!n)return null;for(const i of e)if(i.buckets){const t=i.buckets.find(t=>n.includes(t.id));if(t){const e=i.label!==t.label?`${i.label} > ${t.label}`:i.label,n=av(i,t);return Object.assign(Object.assign({},t),{key:"$C"+n,label:e,buckets:[t]})}}else for(const e of i.children)if(e.buckets){const r=e.buckets.find(t=>n.includes(t.id));if(r){const n=t?[e.label,r.label]:[i.label,e.label,r.label],o=[];for(const t of n)o.includes(t)||o.push(t);const s=av(e,r);return Object.assign(Object.assign({},r),{key:"$C"+s,label:o.join(" > "),buckets:[r]})}}}loadPostflopBucketLookup(t){var e;return $m(this,void 0,void 0,function*(){if(this.isLoadingPostflopLookup)for(;!this.postflopBucketLookup;)yield jw(250);else if((null===(e=this.postflopBucketLookup)||void 0===e?void 0:e.board)!==t)try{if(this.isFiveCard){const{url:e}=yield this.http.get(`${this.baseUrl}/postflop/board/${t}/bucket/lookup`),n=yield this.http.get(e,{},!0);this.postflopBucketLookup={board:t,lookup:new Map(Object.entries(n))}}else{const e=yield this.http.get(`${pu}/postflop/board/${t}/bucket/lookup`);this.postflopBucketLookup={board:t,lookup:new Map(Object.entries(e))}}}finally{this.isLoadingPostflopLookup=!1}})}processBucketGroups(t,e,n){return t.map(t=>{if(t.children){const i=this.processBucketGroups(t.children,e,n),r=i.map(t=>lv(t)).reduce((t,e)=>[...t,...e],[]),o=this.calculateBucketGroupValues(r,e),s=r.map(t=>t.totalWeight).reduce((t,e)=>t+e,0);return{key:t.key,id:t.id,label:t.label,syntax:t.syntax,canExpand:t.children.length>1,children:i,values:o,totalItems:r.map(t=>t.totalItems).reduce((t,e)=>t+e,0),percentOfRangeInBucket:s/n}}{const i=t.buckets.map(t=>this.calculateBucket(t,e,n)).filter(t=>t.totalItems>0),r=this.calculateBucketGroupValues(t.buckets,e),o=i.map(t=>t.totalWeight).reduce((t,e)=>t+e,0);return{key:t.key,id:t.id,label:t.label,syntax:t.syntax,canExpand:t.buckets.length>1,buckets:i,values:r,totalItems:i.map(t=>t.totalItems).reduce((t,e)=>t+e,0),percentOfRangeInBucket:o/n}}})}calculateBucketGroupValues(t,e){const n=e.map(e=>({action:e.action,items:e.items.filter(e=>t.find(t=>e.bucketIds.includes(t.id)))})),i=n.map(t=>t.items.map(t=>t.weight).reduce((t,e)=>t+e,0)).reduce((t,e)=>t+e,0);return n.map(t=>{const e=t.items.map(t=>t.weight).reduce((t,e)=>t+e,0);return{action:t.action,overallFreq:e/i}})}calculateBucket(t,e,n){const i=e.map(e=>({action:e.action,items:e.items.filter(e=>e.bucketIds.includes(t.id))})),r=i.map(t=>t.items.map(t=>t.weight).reduce((t,e)=>t+e,0)).reduce((t,e)=>t+e,0),o=i.map(t=>{const e=t.items.map(t=>t.weight).reduce((t,e)=>t+e,0);return{action:t.action,overallFreq:e/r,totalItems:t.items.length,totalWeight:e}});return Object.assign(Object.assign({},t),{values:o,totalItems:o.map(t=>t.totalItems).reduce((t,e)=>t+e,0),totalWeight:r,percentOfRangeInBucket:r/n})}checkAndReplaceLabels(t,e){var n,i,r;for(const o of t){const t=e.find(t=>t.id===o.id);if(o.label=t.label||o.label,(null===(n=o.children)||void 0===n?void 0:n.length)>0)for(const e of o.children){const n=t.children.find(t=>t.id===e.id);if(e.label=n.label||e.label,(null===(i=e.buckets)||void 0===i?void 0:i.length)>0)for(const t of e.buckets){const e=n.buckets.find(e=>e.id===t.id);t.label=e.label||t.label}}if((null===(r=o.buckets)||void 0===r?void 0:r.length)>0)for(const e of o.buckets){const n=t.buckets.find(t=>t.id===e.id);e.label=n.label||e.label}}return t}}return t.\u0275fac=function(e){return new(e||t)(hi(Kb),hi(tF),hi(gT),hi(rg))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function KI(t,e){if(1&t){const t=Fs();ks(0,"div",1),ks(1,"button",2),Ds("click",function(){return Re(t),Vs().action()}),ua(2),Ss(),Ss()}if(2&t){const t=Vs();Ur(2),da(t.data.action)}}function QI(t,e){}const YI=new qn("MatSnackBarData");class ZI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const JI=Math.pow(2,31)-1;class XI{constructor(t,e){this._overlayRef=e,this._afterDismissed=new x,this._afterOpened=new x,this._onAction=new x,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,JI))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let tA=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(xs(XI),xs(YI))},t.\u0275cmp=Nt({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(ks(0,"span"),ua(1),Ss(),Cs(2,KI,3,1,"div",0)),2&t&&(Ur(1),da(e.data.message),Ur(1),Ps("ngIf",e.hasAction))},directives:[Pd,pE],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const eA={snackBarState:OO("state",[TO("void, hidden",MO({transform:"scale(0.8)",opacity:0})),TO("visible",MO({transform:"scale(1)",opacity:1})),RO("* => visible",kO("150ms cubic-bezier(0, 0, 0.2, 1)")),RO("* => void, * => hidden",kO("75ms cubic-bezier(0.4, 0.0, 1, 1)",MO({opacity:0})))])};let nA=(()=>{class t extends oP{constructor(t,e,n,i,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=i,this.snackBarConfig=r,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new x,this._onExit=new x,this._onEnter=new x,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?"off":"polite":"assertive"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Ap(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(xs(Lc),xs(ja),xs(ll),xs(yx),xs(ZI))},t.\u0275cmp=Nt({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&rc(aP,!0),2&t){let t;ic(t=uc())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&Ls("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&ma("@state",e._animationState)},features:[ss],decls:3,vars:1,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(ks(0,"div",0),Cs(1,QI,0,0,"ng-template",1),Ss(),Ms(2,"div")),2&t&&(Ur(2),ys("aria-live",e._live))},directives:[aP],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[eA.snackBarState]}}),t})(),iA=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[UP,uP,Ud,fE,tM],tM]}),t})();const rA=new qn("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new ZI}});let oA=(()=>{class t{constructor(t,e,n,i,r,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=r,this._defaultConfig=o,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=tA,this.snackBarContainerComponent=nA,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage===t&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=rs.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:ZI,useValue:e}]}),i=new nP(this.snackBarContainerComponent,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new ZI),this._defaultConfig),e),i=this._createOverlay(n),r=this._attachSnackBarContainer(i,n),o=new XI(r,i);if(t instanceof fl){const e=new iP(t,null,{$implicit:n.data,snackBarRef:o});o.instance=r.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),i=new nP(t,void 0,e),s=r.attachComponentPortal(i);o.instance=s.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(hx(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&r._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new CP;e.direction=t.direction;let n=this._overlay.position().global();const i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,o=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return rs.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:XI,useValue:e},{provide:YI,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(hi(NP),hi(fO),hi(rs),hi(JE),hi(t,12),hi(rA))},t.\u0275prov=at({factory:function(){return new t(hi(NP),hi(fO),hi($o),hi(JE),hi(t,12),hi(rA))},token:t,providedIn:iA}),t})(),sA=(()=>{class t extends tI{constructor(t,e,n,i,r){super(t,e,i,n),this.snackBar=r}initPreflop(t,e){const n=Object.create(null,{initPreflop:{get:()=>super.initPreflop}});return $m(this,void 0,void 0,function*(){yield n.initPreflop.call(this,t,e),this.nodePath=e,this.bucketMacros=dy(this.store.pipe(Yb(Ov)))})}initPostflop(t,e,n,i,r){const o=Object.create(null,{initPostflop:{get:()=>super.initPostflop}});return $m(this,void 0,void 0,function*(){yield o.initPostflop.call(this,t,e,n,i,r),this.nodePath=e,this.bucketMacros=[]})}reset(){super.reset(),this.currentRange=null}resetHands(){this.actionsWithHands=null}nextHand(t,e,n){return $m(this,void 0,void 0,function*(){if(!this.currentRange&&(this.canSelectBalanced=!0,this.currentRange=yield this.loadRangeForSituation(this.currentSituation,this.nodePath),this.rangeValues=oI(this.currentRange.ranges),!this.currentRange))return null;let i;if(!this.actionsWithHands){const n=this.getAllClassificationsForFilter(t,this.bucketMacros,this.isPostFlop),r=this.isPostFlop?[]:this.getAllBucketsForFilter(t,this.bucketMacros,this.isPostFlop),o=this.requiresLoadingClassifications(n,this.board);if(r.length>0&&(this.bucketLookups=yield this.bucketService.loadPreflopLookup()),o){let t;this.isPostFlop?(yield this.rangeService.loadPostflopClassificationLookup(this.board),t=this.rangeService.updatePostflopFilterItems(this.currentRange.filterItems,this.board)):(yield this.rangeService.loadPreflopClassificationLookup(),t=this.rangeService.updatePreflopFilterItems(this.currentRange.filterItems)),this.currentRange=Object.assign(Object.assign({},this.currentRange),{filterItems:t})}else if(n.length>0){const t=this.isPostFlop?this.rangeService.updatePostflopFilterItems(this.currentRange.filterItems,this.board):this.rangeService.updatePreflopFilterItems(this.currentRange.filterItems);this.currentRange.filterItems=t}const s=this.getHandFromRange(this.currentSituation,this.currentRange,t,e);if(e.selectBalanced&&!nI(s.actionsWithHands)&&this.snackBar.open("Can not select balanced hands for this range!",null,{duration:5e3}),s.error)return{hand:null,error:s.error};this.actionsWithHands=s.actionsWithHands,i=s.hand}i=(null==n?void 0:n.length)>0?ZF(n):e.selectBalanced&&nI(this.actionsWithHands)?iI(this.actionsWithHands):rI(this.actionsWithHands),i=Object.assign(Object.assign({},i),{rangeValues:this.rangeValues});const r=yield this.getBucketValues(this.board,i.hand,this.currentRange.ranges);return{hand:Object.assign(Object.assign({},i),{bucket:r})}})}get board(){if(this.isPostFlop){const{flop:t,turn:e,river:n}=this.tree;return[...t,e,n].filter(t=>!!t).map(yR.cardToString).join("")}return null}}return t.\u0275fac=function(e){return new(e||t)(hi(WI),hi(rF),hi(Kb),hi(GI),hi(oA))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aA=(()=>{class t{constructor(t){this.dialogRef=t}confirm(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(xs(NM))},t.\u0275cmp=Nt({type:t,selectors:[["app-invalid-random-boards-dialog"]],decls:12,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"Invalid boards for filter!"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div"),ks(5,"p"),ua(6,"There are no valid boards for your selected filter!"),Ss(),ks(7,"p"),ua(8,"Please change your board selection and/or your hand filter!"),Ss(),Ss(),Ss(),ks(9,"mat-dialog-actions",3),ks(10,"a",4),Ds("click",function(){return e.confirm()}),ua(11,"Close"),Ss(),Ss())},directives:[KM,QM,YM],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),t})(),lA=(()=>{class t extends tI{constructor(t,e,n,i,r,o,s){super(t,e,n,i),this.dialog=r,this.router=o,this.route=s,this.boards=[],this.handsInPreparation=0}get isPreparing(){return this.handsInPreparation>=3}reset(){super.reset()}get isPostFlop(){return!0}init(t,e,n,i,r){return $m(this,void 0,void 0,function*(){if(this.baseTree=t,r){const t=Object(yR.parseCards)(i),e=this.getSelectableRivers(t,r);this.boards=e.map(e=>[...t,r,e])}else if(i){const n=Object(yR.parseCards)(i),r=yield this.treeService.loadPostflopTree(t,i).toPromise(),o=this.getSelectableTurns(r.boards,n,e);this.boards=o.map(t=>[...n,t])}else{const e=(yield this.treeService.loadPostflopTree(t).toPromise()).selectableFlops.filter(t=>AR(t.cards));if(n){const t=e.map(({cards:t,classifications:e})=>[t,e,t.join("")]),{items:i}=Object(yR.filterItems)(!1,t,n);this.boards=i.map(t=>t[0])}else this.boards=e.map(t=>t.cards)}this.pathToNode=e&&e.length>0?e:null,this.handsInPreparation=0,this.handQueue=[]})}resetHands(){this.handsInPreparation=0,this.handQueue=[]}nextHand(t,e,n){return $m(this,void 0,void 0,function*(){if(n){if(n.length>0){const i=ZF(n),{hand:r,treeForBoard:o,tree:s}=yield this.loadHandForBoard(i.board,t,e,i.hand,this.treeForBoard);return this.tree=s,this.treeForBoard=o,{hand:r}}return null}if(this.handQueue[0]){const{hand:n,tree:i}=this.handQueue.shift();return this.prepareHands(3,t,e),this.tree=i,{hand:n}}if(this.prepareHands(2,t,e),this.boards.length>0){const n=this.nextBoard(this.boards),{hand:i,treeForBoard:r,tree:o,keepBoard:s}=yield this.loadHandForBoard(n,t,e,null,this.treeForBoard);return o?(this.tree=o,this.treeForBoard=r,{hand:i}):(s||this.removeInvalidBoard(n),yield this.nextHand(t,e))}this.exitAndShowInvalidBoardsWarning(t)})}loadHandForBoard(t,e,n,i,r){return $m(this,void 0,void 0,function*(){if(t){const o=this.boardToString(t.slice(0,3)),s=t.length>3?Object(yR.cardToString)(t[3]):null,a=t.length>4?Object(yR.cardToString)(t[4]):null;let l;l=r||(yield this.treeService.loadPostflopTree(this.baseTree,o,s,a).toPromise());const c=new YF(this.treeService,l,this.pathToNode,o,s,a);if(yield c.waitUntilLoaded(),c.isValid){const r=XF(c);if(s&&!r.turnCard||a&&!r.riverCard)return{hand:null,treeForBoard:null,tree:null,keepBoard:!0};const o=yield this.loadRangeForSituation(r,this.pathToNode);if((null==o?void 0:o.ranges)&&o.ranges.every(t=>t.items.filter(t=>null!==PR(t)&&void 0!==PR(t)).length>50)){if(i&&(e=Object(yR.cardsToString)(i)),this.getAllClassificationsForFilter(e,[],!0).length>0){o.filterItems=this.rangeService.assembleFilterItems(o.ranges,o.rangeKey);const e=yield this.rangeService.addClassificationsToPostflopFilterItems(o.filterItems,this.boardToString(t));(null==e?void 0:e.length)>0&&(o.filterItems=e)}const s=i?Object(yR.cardsToString)(i,!1):null,{hand:a}=this.getHandFromRange(r,o,e,n,s);if(a)return{hand:a,treeForBoard:l,tree:c}}}}return{hand:null,treeForBoard:null,tree:null}})}boardToString(t){return t.map(yR.cardToString).join("")}nextBoard(t){return ZF(t)}prepareHands(t,e,n){return $m(this,void 0,void 0,function*(){const i=t-this.handQueue.length-this.handsInPreparation;this.handsInPreparation+=i;const r=[];for(let t=0;t<i;t++){let t=this.boards.filter(t=>!r.includes(t));t||(t=this.boards),r.push(this.nextBoard(t))}for(const t of r)this.loadHandForBoard(t,e,n).then(e=>{e.tree&&e.hand?this.handQueue.push(e):e.keepBoard||this.removeInvalidBoard(t),this.handsInPreparation>0&&(this.handsInPreparation-=1)})})}getSelectableTurns(t,e,n){const i=Object(yR.cardsToString)(e,!0),r=Object(yR.cardsToString)(e,!1),o=t[i]?t[i]:t[r],s=Object.keys(o).find(t=>n.startsWith(t));return s?Object.keys(o[s]):[]}getSelectableRivers(t,e){return QF([...t,e])}removeInvalidBoard(t){(null==t?void 0:t.length)>=3&&(this.boards=this.boards.filter(e=>!Object(yR.cardsAreEqual)(e,t)))}exitAndShowInvalidBoardsWarning(t){this.router.navigate([""],{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{loadRange:t?!!t:void 0,user:void 0,filter:t||void 0,hands:void 0,randomBoard:void 0,boards:void 0})}),this.dialog.open(aA)}}return t.\u0275fac=function(e){return new(e||t)(hi(WI),hi(rF),hi(GI),hi(Kb),hi(qM),hi(wm),hi(rg))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cA=["tabs"],uA=["range"],dA=["bucketChart"];function hA(t,e){1&t&&(ks(0,"div",4),ks(1,"p"),ua(2,"Loading range for training, this can take a while..."),Ss(),Ms(3,"mat-spinner",5),Ss())}function pA(t,e){if(1&t){const t=Fs();ks(0,"app-action-button",22),Ds("clicked",function(){Re(t);const n=e.$implicit;return Vs(2).pickAction(n)}),Ss()}if(2&t){const t=e.$implicit,n=e.index,i=Vs(2);Ps("show",i.hasPickedUserHand)("barelyVisible",t.barelyVisible)("disabled",!i.hasRemainingHands)("action",!0)("label",i.getFormattedAction(t))("hotkey",(n+1).toString())("responsive",!0)("usable",!i.isFinished&&!i.disableKeybinds)("result",i.getResult(t))}}function fA(t,e){if(1&t){const t=Fs();ks(0,"app-action-button",23),Ds("clicked",function(){return Re(t),Vs(2).confirmApplyFilterAndRestart()}),Ss()}if(2&t){const t=Vs(2);Ps("trainNode",!0)("disabled",!t.hasRemainingHands)("label",t.restartLabel.firstLine)("secondLabel",t.restartLabel.secondLine)("useSmallFont",!0)}}function gA(t,e){if(1&t){const t=Fs();ks(0,"div",6),ks(1,"div",7),ks(2,"span"),ua(3),Ss(),Ss(),ks(4,"div",8),ks(5,"div"),ks(6,"span",9),ua(7,"Accuracy:"),Ss(),ks(8,"span",10),ua(9),Vl(10,"percent"),Ss(),Ss(),Ss(),ks(11,"app-poker-table",11),Ds("toggleFlop",function(){return Re(t),Vs().openRandomBoardSelector()}),Ss(),ks(12,"div",12),ks(13,"div",13),ks(14,"app-action-button",14),Ds("clicked",function(){return Re(t),Vs().confirmExit()}),Ms(15,"i",15),Ss(),Ss(),ks(16,"div",16),Cs(17,pA,1,9,"app-action-button",17),Ss(),ks(18,"app-action-button",18),Ms(19,"i",19),Ss(),Ss(),ks(20,"div",20),Cs(21,fA,1,5,"app-action-button",21),Ss(),Ss()}if(2&t){const t=Vs();Ur(3),da(t.treeTitle),Ur(2),Js("hide",0===t.totalHands),Ur(4),fa("",$l(10,29,t.accuracy,"1.0-0")," (",t.totalCorrect,"/",t.totalHands,")"),Ur(2),Ps("icmInfo",t.icmInfo)("replaceWithStraddle",t.replaceWithStraddle)("allPlayers",t.allPlayers)("activePlayers",t.activePlayers)("currentPlayer",t.currentPlayer)("chips",t.chipState)("board",t.board)("training",!0)("alignPositionsTo",t.userPlayer)("disableSelectors",!t.allowSelectors)("showLargeCards",!0)("hands",t.assignedHands),Ur(3),Ps("show",t.hasPickedUserHand)("secondaryButton",!0)("icon",!0)("hotkey","Esc")("roundButton",!0),Ur(3),Ps("ngForOf",t.actions),Ur(1),Ps("disabled",!0)("barelyVisible",!0)("icon",!0)("roundButton",!0),Ur(3),Ps("ngIf",t.showApplyFilterAndRestartButton)}}function mA(t,e){if(1&t){const t=Fs();ks(0,"mat-tab",33),ks(1,"div",34),ks(2,"app-training-summary",35),Ds("retry",function(){return Re(t),Vs(2).retryMistakes()})("settingsClicked",function(){return Re(t),Vs(2).openSettings()}),Ss(),Ss(),Ss()}if(2&t){const t=Vs(2);Ur(1),Ps("ngClass",t.infoPanelLayout),Ur(1),Ps("tree",t.tree)("node",t.nodePath)("actions",t.actionsForSummary)("hasPrevBet",t.hasPrevBet)("rfiLabel",t.rfiLabel)("results",t.results)("position",t.userPlayer)("filter",t.filter)("maxHands",t.maxHands)("isPostFlop",t.isPostFlop)("showBoard",t.trainRandomBoard)("settings",t.settings)("allowRetry",!t.isRetryingMistakes)}}function bA(t,e){if(1&t&&(ks(0,"mat-tab",36),ks(1,"div",34),Ms(2,"app-range-overview",37,38),Ss(),Ss()),2&t){const t=Vs(2);Ur(1),Ps("ngClass",t.infoPanelLayout),Ur(1),Ps("isRFI",t.isRFI)("hasStraddle",t.hasStraddle)("currentNode",t.currentNode)("currentNodeId",t.currentNodeId)("board",t.currentBoard)}}function _A(t,e){if(1&t){const t=Fs();ks(0,"mat-tab",39),ks(1,"div",34),ks(2,"app-bucket-chart",40,41),Ds("trainSelection",function(){return Re(t),Vs(2).trainBucketSelection()})("showRangeForSelection",function(e){return Re(t),Vs(2).showRangeForBucketSelection(e)}),Ss(),Ss(),Ss()}if(2&t){const t=Vs(2);Ps("label",t.isPostFlop?"Strength Buckets":"Categories"),Ur(1),Ps("ngClass",t.infoPanelLayout),Ur(1),Ps("isRFI",t.isRFI)("board",t.boardForBucketChart)}}function yA(t,e){if(1&t){const t=Fs();ks(0,"div",42),Ds("click",function(){return Re(t),Vs(2).createOrDeleteFavorite()}),Vl(1,"async"),Ms(2,"i",43),Ms(3,"i",44),Ss()}2&t&&Js("highlight",Hl(1,2,Vs(2).isFavorite$))}function vA(t,e){if(1&t){const t=Fs();ks(0,"div",45),Ds("click",function(){return Re(t),Vs(2).openSettings()}),Ms(1,"i",46),Ss()}}function CA(t,e){if(1&t){const t=Fs();ks(0,"div",24),ks(1,"mat-tab-group",25,26),Ds("selectedTabChange",function(e){return Re(t),Vs().onTabChanged(e)}),Cs(3,mA,3,14,"mat-tab",27),Cs(4,bA,4,6,"mat-tab",28),Cs(5,_A,4,4,"mat-tab",29),Ss(),ks(6,"div",30),Cs(7,yA,4,4,"div",31),Cs(8,vA,2,0,"div",32),Ss(),Ss()}if(2&t){const t=Vs();Ur(3),Ps("ngIf",(null==t.actions?null:t.actions.length)>0),Ur(1),Ps("ngIf",t.hasTreeLoaded&&!t.trainRandomBoard),Ur(1),Ps("ngIf",t.hasTreeLoaded&&!t.trainRandomBoard),Ur(2),Ps("ngIf",t.showFavoritesIcon),Ur(1),Ps("ngIf",t.showSettingsIcon)}}const wA={minFrequency:85,minWeight:.5,evSpread:Uv,evDiff:null,selectBalanced:!0},xA=(t,e)=>new Set([...t.map(t=>"g"+t.key),...e.map(t=>"b"+t.id)]);let PA=(()=>{class t{constructor(t,e,n,i,r,o,s,a){this.feature=t,this.route=e,this.router=n,this.store=i,this.singleRangeTrainingService=r,this.multiRangeTrainingService=o,this.dialog=s,this.snackBar=a,this.isLoadingTurnOrRiver=!1,this.disableKeybinds=!1,this.trainRandomBoard=!1,this._isReady=!1,this.processing=!1,this._totalHands=0,this._totalCorrect=0,this.activeTab="results",this._filter="",this.currentRangeFilter="",this._selection=new Set,this.currentBucketSelection=new Set,this.store.pipe(Yb(Sv)).subscribe(({groups:t,buckets:e})=>{this.currentBucketSelection=xA(t,e)}),this.store.pipe(Yb(Ry)).subscribe(t=>{this.currentRangeFilter=t})}ngOnInit(){var t;return $m(this,void 0,void 0,function*(){this.feature.isDisabled(uy.NodeTraining)&&this.router.navigate([""]),this.unsubscribeAll();const e=this.route.snapshot.queryParams,n=dy(this.store.pipe(Yb(Xv),k(t=>{var e;return Object.assign(Object.assign(Object.assign({},wA),t),{evSpread:null===(e=this.settings)||void 0===e?void 0:e.evSpread})})));if(this.route.queryParams.subscribe(t=>{const e=this.getSettings(t);this.settings=this.replaceSavedSettingsWithUrlSettings(n,e)}),e.randomBoard){const t=this.feature.isAvailable(uy.RandomBoardTraining),e=this.feature.isLocked(uy.RandomBoardTraining);t?e?this.dialog.open(qR):this.trainRandomBoard=!0:this.trainRandomBoard=!1}this._results=[],e.user&&(this._userPlayer=e.user),this._filter=null!==(t=e.filter)&&void 0!==t?t:"",this._filter&&this.store.dispatch(wy({filter:this._filter})),this._selection=dy(this.store.pipe(Yb(Sv),k(({groups:t,buckets:e})=>xA(t,e)))),"preflop"===e.type&&e.tree?this.treeSubscription=this.store.pipe(Yb(my),kh(t=>t.length>0),k(t=>t||[]),k(t=>cy(cy(t.map(t=>t.profiles)).map(t=>t.trees))),k(t=>t.find(t=>t.key===e.tree)),Ap(1)).subscribe(t=>$m(this,void 0,void 0,function*(){t&&!t.isLocked?(yield this.trainingService.initPreflop(t,this.nodePath),yield this.startTraining()):this.router.navigate([""])})):"postflop"===e.type&&e.tree&&(e.flop||this.trainRandomBoard)?this.treeSubscription=this.store.pipe(Yb(by),kh(t=>t.length>0),k(t=>t||[]),k(t=>cy(t.map(t=>t.trees))),k(t=>t.find(t=>t.key===e.tree)),Ap(1)).subscribe(t=>$m(this,void 0,void 0,function*(){if(t&&!t.isLocked){const{flop:n,turn:i,river:r}=e;this.trainRandomBoard?r?yield this.multiRangeTrainingService.init(t,this.nodePath,null,n,i):i?yield this.multiRangeTrainingService.init(t,this.nodePath,null,n):yield this.multiRangeTrainingService.init(t,this.nodePath,e.boardFilter):yield this.trainingService.initPostflop(t,this.nodePath,n,i,r),yield this.startTraining()}else this.router.navigate([""])})):this.router.navigate([""]),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe(),this.keyPressSubscription=qw(document,"keyup").subscribe(t=>$m(this,void 0,void 0,function*(){var e;if(!(0!==(null===(e=this.tabGroup)||void 0===e?void 0:e.selectedIndex)||this.disableKeybinds||this.processing||this.dialog.openDialogs&&0!==this.dialog.openDialogs.length))switch(t.key){case"Escape":this.confirmExit();break;case"Enter":yield this.nextHand();break;case"1":yield this.pickActionByIndex(0);break;case"2":yield this.pickActionByIndex(1);break;case"3":yield this.pickActionByIndex(2);break;case"4":yield this.pickActionByIndex(3);break;case"5":yield this.pickActionByIndex(4)}}))})}ngOnDestroy(){this.unsubscribeAll()}createOrDeleteFavorite(){var t;const e=(null===(t=this.route.snapshot.url)||void 0===t?void 0:t.length)>0?this.route.snapshot.url[0].path:"",n=zI(Object.assign({},this.route.snapshot.queryParams),this.settings);if(dy(this.isFavorite$)){const t=dy(this.store.pipe(Yb(rv(e,n))));this.store.dispatch(Jy({key:t}))}else this.dialog.open(II,{data:{path:e,queryParams:n}})}get isFavorite$(){return hp([this.route.queryParams,this.route.url]).pipe(Rp(([t,e])=>{const n=(null==e?void 0:e.length)>0?e[0].path:"",i=zI(t,this.settings);return this.store.pipe(Yb(ov(n,i)))}))}get showSettingsIcon(){return"range"===this.activeTab||"results"===this.activeTab}get showFavoritesIcon(){var t,e;return this.feature.isAvailable(uy.Favorites)&&!(null===(e=null===(t=this.situation)||void 0===t?void 0:t.currentTree)||void 0===e?void 0:e.isCustom)}get isFiveCard(){return!1}get allowTrainingRandomBoard(){return this.isPostFlop&&this.feature.isAvailable(uy.RandomBoardTraining)}get allowSelectors(){var t,e,n;return this.trainRandomBoard&&(null===(t=this.board)||void 0===t?void 0:t.flop)&&!(null===(n=null===(e=this.board)||void 0===e?void 0:e.turn)||void 0===n?void 0:n.card)}get nodePath(){return this.route.snapshot.queryParams.node||""}get trainingService(){return this.trainRandomBoard?this.multiRangeTrainingService:this.singleRangeTrainingService}get situation(){return this.trainingService.currentSituation}get userPlayer(){var t;return this._userPlayer||(null===(t=this.situation)||void 0===t?void 0:t.currentPlayer)}get tree(){var t;return null===(t=this.situation)||void 0===t?void 0:t.currentTree}get replaceWithStraddle(){var t,e;return null===(e=null===(t=this.tree)||void 0===t?void 0:t.setup)||void 0===e?void 0:e.replaceWithStraddle}get currentNode(){var t;return null===(t=this.situation)||void 0===t?void 0:t.currentNode}get board(){var t;return null===(t=this.situation)||void 0===t?void 0:t.board}get currentBoard(){if(this.board){const{flop:t,turn:e,river:n}=this.board;return[...t,null==e?void 0:e.card,null==n?void 0:n.card].filter(t=>!!t).map(yR.cardToString).join("")}return null}get allPlayers(){var t;return null===(t=this.situation)||void 0===t?void 0:t.allPlayers}get activePlayers(){var t;return null===(t=this.situation)||void 0===t?void 0:t.activePlayers}get chipState(){var t;return null===(t=this.situation)||void 0===t?void 0:t.chipState}get hasPrevBet(){var t;return null===(t=this.situation)||void 0===t?void 0:t.hasPrevBet}get isRFI(){var t;return null===(t=this.situation)||void 0===t?void 0:t.isRFI}get rfiValue(){return this.situation.rfiValue}get rfiLabel(){if(this.isRFI)return this.rfiValue?this.rfiValue+"x":null}get isRetryingMistakes(){var t;return(null===(t=this.mistakesToBeRetried)||void 0===t?void 0:t.length)>=0}useRFIvalueForAction(t){return oy(t,this.tree,this.isPostFlop,this.isRFI)}openRandomBoardSelector(){if(this.trainRandomBoard&&this.isPostFlop){const t=this.tree;let e=t.selectableFlops.filter(t=>AR(t.cards));if(t.pathToFlop){const n=t.pathToFlop[this.nodePath].map(t=>Object(yR.parseCards)(t));e=t.selectableFlops.filter(t=>n.some(e=>Object(yR.cardsAreEqual)(e,t.cards)))}this.dialog.open(RI,{data:e}).afterClosed().subscribe(e=>$m(this,void 0,void 0,function*(){if(e.start){const n=e.filter;this.store.dispatch($R({boardFilter:n,queryParams:this.route.snapshot.queryParams})),yield this.multiRangeTrainingService.init(t,this.nodePath,n),yield this.loadNextHandForCurrentPlayer()}}))}}openSettings(){"results"===this.activeTab?this.openTrainingSettings():"range"===this.activeTab&&this.openRangeSettings()}openTrainingSettings(t=!1){this.disableKeybinds=!0,this.dialog.open(FF,{data:this.settings}).afterClosed().subscribe(e=>$m(this,void 0,void 0,function*(){if(e){this.settings=Object.assign({},e);const t=Object.assign(Object.assign({},this.settings),{evSpread:{min:null,max:null}});this.store.dispatch(Kv({training:t})),this._assignedHands={},this._results=[],this.trainingService.resetHands(),yield this.loadNextHandForCurrentPlayer()}else t&&this.exit();this.disableKeybinds=!1}))}openRangeSettings(){this.rangeOverview.openSettings()}unsubscribeAll(){this.remainingHandsSubscription&&!this.remainingHandsSubscription.closed&&this.remainingHandsSubscription.unsubscribe(),this.treeSubscription&&!this.treeSubscription.closed&&this.treeSubscription.unsubscribe(),this.statsSubscription&&!this.statsSubscription.closed&&this.statsSubscription.unsubscribe(),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe()}onTabChanged(t){switch(t.index){case 2:this.activeTab="chart",this.restartLabel={firstLine:"Restart with",secondLine:"new selection"};break;case 1:this.activeTab="range",this.restartLabel={firstLine:"Restart with",secondLine:"new filter"},this.rangeOverview.update();break;case 0:default:this.activeTab="results",this.restartLabel=null}this.scrollToBottom()}scrollToBottom(){window.scrollTo(0,document.body.scrollHeight)}get boardForBucketChart(){var t,e,n,i,r;return[null===(t=this.board)||void 0===t?void 0:t.flop.map(t=>Object(yR.cardToString)(t)).join(""),(null===(n=null===(e=this.board)||void 0===e?void 0:e.turn)||void 0===n?void 0:n.card)?Object(yR.cardToString)(this.board.turn.card):null,(null===(r=null===(i=this.board)||void 0===i?void 0:i.river)||void 0===r?void 0:r.card)?Object(yR.cardToString)(this.board.river.card):null].filter(t=>!!t).join("")}showRangeForBucketMacro(t){this.rangeOverview.setFilter(t),this.tabGroup.selectedIndex=1}get maxHands(){var t;return null===(t=this.remainingHands)||void 0===t?void 0:t.maxDailyHands}get hasRemainingHands(){return!this.remainingHands||this.remainingHands.remainingHands>0}confirmExit(){this.dialog.open(IE,{data:{title:"Exit training",content:["Are you sure you want to quit the training?"]}}).afterClosed().pipe(Ap(1)).subscribe(t=>{t&&this.exit()})}exit(){var t;this.currentRange=null;const e=(null===(t=this.filter)||void 0===t?void 0:t.length)>0?this.filter:void 0;this.trainRandomBoard&&this.store.dispatch(Oy()),this.rangeOverview&&!e&&this.rangeOverview.setFilter(""),this.router.navigate([""],{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{filter:e,loadRange:this.trainRandomBoard?void 0:this.route.snapshot.queryParams.loadRange,user:void 0,hands:void 0,randomBoard:void 0,boards:void 0,boardFilter:void 0,minFrequency:void 0,minWeight:void 0,minEV:void 0,maxEV:void 0,selection:void 0,freeze:void 0})})}setCurrentRangeFilter(t){this.currentRangeFilter=t}showRangeForBucketSelection(t){this.rangeOverview.setFilter(t),this.store.dispatch(wy({filter:t})),this.tabGroup.selectedIndex=1}trainBucketSelection(){this.confirmApplyFilterAndRestart()}confirmApplyFilterAndRestart(){this.showApplyFilterAndRestartButton&&this.dialog.open(IE,{data:{title:"Restart training",content:["Are you sure you want to restart the training?","This will reset your current results."]}}).afterClosed().pipe(Ap(1)).subscribe(t=>$m(this,void 0,void 0,function*(){t&&(yield this.applyFilterAndRestart())}))}get showApplyFilterAndRestartButton(){return!this.settings.frozen&&("range"===this.activeTab?this.currentRangeFilter&&this.currentRangeFilter!==this.filter:"chart"===this.activeTab&&this.currentBucketSelection&&!((t=this.currentBucketSelection).size===(e=this._selection).size&&Array.from(t).every(t=>e.has(t))));var t,e}retryMistakes(){return $m(this,void 0,void 0,function*(){this.mistakesToBeRetried=this.results.filter(t=>VI(t.result)),this._results=[],yield this.loadNextHandForCurrentPlayer()})}applyFilterAndRestart(){return $m(this,void 0,void 0,function*(){this._results=[],this._filter=this.currentRangeFilter,this.tabGroup.selectedIndex=0,this.trainingService.resetHands();const t=this.route.snapshot.queryParams;if("chart"===this.activeTab){this._selection=this.currentBucketSelection;const{bucketGroupSelection:t,bucketSelection:e}=this.bucketChart;this.store.dispatch(mv({groups:t})),this.store.dispatch(gv({buckets:e}));const n=dy(this.store.pipe(Yb(Tv(this.isPostFlop))));this._filter=n,this.rangeOverview.setFilter(n),this.store.dispatch(wy({filter:n}))}else"range"===this.activeTab&&(this._filter=this.currentRangeFilter);this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign(Object.assign({},t),{filter:this._filter})}),yield this.loadNextHandForCurrentPlayer()})}nextHand(){return $m(this,void 0,void 0,function*(){this.isFinished&&(yield this.loadNextHandForCurrentPlayer())})}startTraining(){return $m(this,void 0,void 0,function*(){this._evaluation=null,this._assignedHands={},this.assignedHands[this.userPlayer]||(yield this.loadNextHandForCurrentPlayer()),this._isReady=!0})}loadNextHandForCurrentPlayer(){var t;return $m(this,void 0,void 0,function*(){if(!this.hasRemainingHands)return void this.showMaxDailyHandsReached();let e;if(this._evaluation=null,this._actionResults=null,0===(null===(t=this.mistakesToBeRetried)||void 0===t?void 0:t.length)){const t=this.results.filter(t=>VI(t.result));this.showFinishedRetryMistakesDialog(t)}else{if(this.trainRandomBoard){this.currentHand=null,this._assignedHands={};const t=yield this.multiRangeTrainingService.nextHand(this._filter,this.settings,this.mistakesToBeRetried);e=null==t?void 0:t.hand}else{const t=yield this.singleRangeTrainingService.nextHand(this._filter,this.settings,this.mistakesToBeRetried);if(e=null==t?void 0:t.hand,null==t?void 0:t.error)switch(t.error){case JF.filter:this.dialog.open(IE,{data:{title:"Empty filter",content:["There are no hands for your current filter!","Please change your range filter."],confirmLabel:"Ok",confirmOnly:!0}}),this.exit();break;case JF.settings:this.snackBar.open("There are no hands for your current settings! Please change your training settings.",null,{duration:5e3}),this.openTrainingSettings(!0)}}if(this.mistakesToBeRetried&&!e){const t=this.results.filter(t=>VI(t.result));this.showFinishedRetryMistakesDialog(t)}else e&&(this.mistakesToBeRetried&&(this.mistakesToBeRetried=this.mistakesToBeRetried.filter(t=>t.combo!==e.combo)),this.currentHand=e,this._assignedHands[this.userPlayer]={hand:e.hand,show:this.userPlayer==this.userPlayer})}})}showFinishedRetryMistakesDialog(t){this.dialog.open(jF,{data:0===t.length}).afterClosed().pipe(Ap(1)).subscribe(e=>$m(this,void 0,void 0,function*(){e===NF.Continue?(this.mistakesToBeRetried=null,this._results=[],yield this.loadNextHandForCurrentPlayer()):e===NF.Retry?(this.mistakesToBeRetried=t,this._results=[],yield this.loadNextHandForCurrentPlayer()):this.exit()}))}get numberOfActions(){var t,e;return null!==(e=null===(t=this.currentNode)||void 0===t?void 0:t.next.length)&&void 0!==e?e:0}get infoPanelLayout(){switch(this.numberOfActions){case 4:return"wide";default:return"regular"}}get icmInfo(){return this.tree?{payouts:this.tree.icmPayouts,stacks:this.tree.icmStacks}:{payouts:null,stacks:null}}get currentNodeId(){var t;return null===(t=this.currentRange)||void 0===t?void 0:t.nodeId}get filter(){return this._filter}get hasTreeLoaded(){return!!this.currentNode}get treeTitle(){if(this.hasTreeLoaded){if(this.tree.type===X_.preflop){const t=2===this.tree.players?"Heads Up":this.tree.players+"-max";if(this.tree.label){const e=""+(this.isFiveCard?"":iy(this.tree.profile));return`${e?e+" - ":""}${this.tree.label} - ${t}`}return`${this.isFiveCard?"":iy(this.tree.profile)+" - "}${this.tree.stack}bb - ${t}`}{const t=this.tree;if(ry(t.category))return`${this.isFiveCard?"":iy(this.tree.profile)+" - "}${this.tree.stack}bb - ${t.multiwayLabel}`;{const e=K_(t.activePlayers).join(" vs. ");return`${this.isFiveCard?"":iy(this.tree.profile)+" - "}${this.tree.stack}bb - ${e} - ${t.preflop.type.toUpperCase()}`}}}return null}get isPostFlop(){return this.tree&&this.tree.type===X_.postflop}get assignedHands(){return this._assignedHands}get isReady(){return this._isReady}get hasPickedUserHand(){return this.assignedHands&&!!this.assignedHands[this.userPlayer]}get isFinished(){return!this.hasActions||!!this._actionResults}get evaluation(){return this._evaluation}get actions(){if(this.currentNode&&this.currentNode.next&&this.currentNode.next.length>0){let t=this.currentNode.next.map(t=>t.action);t.find(t=>t.type===Q_.CHECK)&&(t=t.filter(t=>t.type!==Q_.CALL));const e=[];for(const n of t.filter(Z_))e.find(t=>oF(t,n))||e.push(n);return e.sort(uF)}return[]}getActionButtonsNotRaises(){const t=this.actions,e=[];let n=0;return t.length>n&&t[n].type===Q_.FOLD?(e.push(t[n]),n++):e.push({type:Q_.FOLD,barelyVisible:!0}),t.length>n&&(t[n].type===Q_.CALL||t[n].type===Q_.CHECK)?(e.push(t[n]),n++):e.push({type:Q_.CALL,barelyVisible:!0}),e}getActionButtonsRaises(){const t=this.actions,e=[];let n=0;if(t.length>n&&t[n].type===Q_.FOLD&&n++,t.length>n&&(t[n].type===Q_.CALL||t[n].type===Q_.CHECK)&&n++,n>=t.length)e.push({type:Q_.RAISE,barelyVisible:!0});else for(let i=n;i<t.length;i++)e.push(t[i]);return e}get actionsForSummary(){const t=[...this.actions];for(const e of this.results.flatMap(t=>t.frequencies.flatMap(t=>t.action)))t.find(t=>oF(t,e))||t.push(e);return t.sort(uF)}get hasActions(){return this.actions&&this.actions.length>0}get totalHands(){return this._totalHands}get totalCorrect(){return this._totalCorrect}get accuracy(){return this.totalHands>0?this.totalCorrect/this.totalHands:null}get results(){return this._results}getRangeKey(t,e){var n,i;let r="";return(null==e?void 0:e.flop)&&(r+=Object(yR.cardsToString)(e.flop),(null===(n=null==e?void 0:e.turn)||void 0===n?void 0:n.card)&&(r+=Object(yR.cardToString)(e.turn.card),(null===(i=null==e?void 0:e.river)||void 0===i?void 0:i.card)&&(r+=Object(yR.cardToString)(e.river.card)))),`${t}:${r}:${this.nodePath||""}`}getFormattedAction(t){var e;const{hasPrevBet:n,fixedRaiseSize:i}=this.trainingService.currentSituation,r=J_(t,null===(e=this.tree)||void 0===e?void 0:e.raiseSizeMapping);return this.useRFIvalueForAction(r)?sF(r,n,!this.isPostFlop,this.rfiValue?this.rfiValue+"x":null,i):sF(r,n,!this.isPostFlop,null,i)}isCorrect(t){return AI(this.getActionFrequency(t),this.getCurrentActionFrequencies())}isMistake(t){return!this.isCorrect(t)}getFrequency(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.overallFreq}getEV(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.ev}getResult(t){var e;return this.isFinished?null===(e=this._actionResults.find(e=>oF(e.action,t)))||void 0===e?void 0:e.result:null}pickActionByIndex(t){return $m(this,void 0,void 0,function*(){const e=this.actions[t];e&&!this.isFinished&&(yield this.pickAction(e))})}get isPreparingHand(){return this.trainRandomBoard&&this.multiRangeTrainingService.isPreparing}pickAction(t){var e,n;return $m(this,void 0,void 0,function*(){if(this.processing)return;this.processing=!0,this._totalHands+=1;const i=this.getActionFrequency(t),r=this.getCurrentActionFrequencies(),{chipState:o,simBB:s}=this.trainingService.currentSituation,a=o.totalPot/s,{isCorrectAnswer:l,result:c,evLoss:u,evDiff:d}=this.getEvaluation(t,a);this._evaluation=c,this._actionResults=this.actions.map(t=>({action:t,result:this.getEvaluation(t,a).result})),l&&(this._totalCorrect+=1);const h=this.isPostFlop?[...this.board.flop,null===(e=this.board.turn)||void 0===e?void 0:e.card,null===(n=this.board.river)||void 0===n?void 0:n.card].filter(t=>!!t):null;this._results=[Object.assign(Object.assign({},this.currentHand),{board:h,action:i.action,isCorrect:l,result:c,freq:i.overallFreq,ev:i.ev,evLoss:u,evDiff:d,frequencies:r}),...this._results];const{currentTree:p,board:f}=this.trainingService.currentSituation,g=this.getRangeKey(p.key,f);if(this.store.dispatch(NR({rangeKey:g,filter:this.filter,outcome:this._evaluation})),this.isPreparingHand)do{yield jw(250)}while(this.multiRangeTrainingService.isPreparing);else yield jw(500);yield this.nextHand(),this.processing=!1})}getActionFrequency(t){return this.getCurrentActionFrequencies().find(e=>e.action.type===t.type&&e.action.amount===t.amount)||{action:t,overallFreq:null,ev:null}}getEvaluation(t,e){const n=t=>+t.toFixed(3),i=this.isCorrect(t),r=this.getEV(t);if(null==r||isNaN(r))return{isCorrectAnswer:i,result:NI(i)};{const o=n(r),s=t=>null!=t.ev&&!isNaN(t.ev);let a=o-Math.max(...Object.values(this.currentHand.actionValues).filter(s).map(t=>t.ev).map(n));isNaN(a)&&(a=0);const l=o-Math.max(...Object.values(this.currentHand.actionValues).filter(e=>!oF(e,t)).filter(s).map(t=>t.ev).map(n));return{isCorrectAnswer:i,result:BI(Math.abs(a)/e*100,l/e*100,i),evLoss:a,evDiff:l}}}getCurrentActionFrequencies(){if(this.currentHand){const t=Object.values(this.currentHand.actionValues).map(t=>({action:{type:t.type,amount:t.amount},overallFreq:t.freq,ev:t.ev}));return this.actions.map(e=>{const n=t.find(t=>oF(e,t.action));return{action:e,overallFreq:null==n?void 0:n.overallFreq,ev:null==n?void 0:n.ev}})}return[]}getSettings(t){const e=+t.minFrequency,n=+t.minWeight,i=+t.minEV,r=+t.maxEV,o=+t.evDiff;let s=null;return isNaN(i)&&isNaN(r)||(s={min:i,max:r}),{minFrequency:e,minWeight:n,evSpread:s,evDiff:o,selectBalanced:t.selection?"balanced"===t.selection:null,frozen:!!t.freeze}}replaceSavedSettingsWithUrlSettings(t,e){const n=t=>isNaN(t)||null==t,i=n(e.minFrequency)?t.minFrequency:e.minFrequency;return{minWeight:n(e.minWeight)?t.minWeight:e.minWeight,minFrequency:i,evSpread:e.evSpread?e.evSpread:t.evSpread,evDiff:e.evDiff?e.evDiff:t.evDiff,selectBalanced:null!==e.selectBalanced?e.selectBalanced:t.selectBalanced,frozen:e.frozen}}showMaxDailyHandsReached(){this.dialog.openDialogs.some(t=>t.componentInstance instanceof UI)||this.dialog.open(UI,{data:{maxHands:this.remainingHands.maxDailyHands}}).afterClosed().subscribe(()=>{this.exit()})}}return t.\u0275fac=function(e){return new(e||t)(xs(gT),xs(rg),xs(wm),xs(Kb),xs(sA),xs(lA),xs(qM),xs(oA))},t.\u0275cmp=Nt({type:t,selectors:[["app-node-training"]],viewQuery:function(t,e){if(1&t&&(oc(cA,!0),oc(uA,!0),oc(dA,!0)),2&t){let t;ic(t=uc())&&(e.tabGroup=t.first),ic(t=uc())&&(e.rangeOverview=t.first),ic(t=uc())&&(e.bucketChart=t.first)}},decls:6,vars:3,consts:[[1,"layout-container"],["class","spinner-container",4,"ngIf"],["class","table-container",4,"ngIf"],["class","side-panel",4,"ngIf"],[1,"spinner-container"],["color","accent"],[1,"table-container"],[1,"table-title"],[1,"performance","small-screen-only"],[1,"label"],[1,"value"],[3,"icmInfo","replaceWithStraddle","allPlayers","activePlayers","currentPlayer","chips","board","training","alignPositionsTo","disableSelectors","showLargeCards","hands","toggleFlop"],[1,"controls"],[1,"buttons"],[3,"show","secondaryButton","label","icon","hotkey","roundButton","clicked"],[1,"fas","fa-times-circle"],[1,"buttons","right"],[3,"show","barelyVisible","disabled","action","label","hotkey","responsive","usable","result","clicked",4,"ngFor","ngForOf"],[3,"disabled","barelyVisible","label","icon","roundButton"],[1,"fas","fa-eye"],[1,"buttons","next","right"],[3,"trainNode","disabled","label","secondLabel","useSmallFont","clicked",4,"ngIf"],[3,"show","barelyVisible","disabled","action","label","hotkey","responsive","usable","result","clicked"],[3,"trainNode","disabled","label","secondLabel","useSmallFont","clicked"],[1,"side-panel"],["animationDuration","200ms",1,"no-border-bottom",3,"selectedTabChange"],["tabs",""],["label","Results",4,"ngIf"],["label","Range",4,"ngIf"],[3,"label",4,"ngIf"],[1,"icon-bar"],["class","control create-favorite",3,"highlight","click",4,"ngIf"],["class","settings",3,"click",4,"ngIf"],["label","Results"],[1,"tab-content",3,"ngClass"],[3,"tree","node","actions","hasPrevBet","rfiLabel","results","position","filter","maxHands","isPostFlop","showBoard","settings","allowRetry","retry","settingsClicked"],["label","Range"],[3,"isRFI","hasStraddle","currentNode","currentNodeId","board"],["range",""],[3,"label"],[3,"isRFI","board","trainSelection","showRangeForSelection"],["bucketChart",""],[1,"control","create-favorite",3,"click"],[1,"icon","regular","far","fa-star"],[1,"icon","highlight","fas","fa-star"],[1,"settings",3,"click"],[1,"fas","fa-cog"]],template:function(t,e){1&t&&(Ms(0,"app-status-bar"),ks(1,"div",0),Cs(2,hA,4,0,"div",1),Cs(3,gA,22,32,"div",2),Cs(4,CA,9,5,"div",3),Ss(),Ms(5,"app-mobile-warning")),2&t&&(Ur(2),Ps("ngIf",!e.hasTreeLoaded||!e.isReady),Ur(1),Ps("ngIf",e.hasTreeLoaded&&e.isReady),Ur(1),Ps("ngIf",e.hasTreeLoaded&&e.hasPickedUserHand||(null==e.results?null:e.results.length)>0))},styles:["[_nghost-%COMP%]     .mat-tab-label{font-size:1rem;width:8.125rem!important;min-width:8.125rem!important}[_nghost-%COMP%]     .mat-tab-body, [_nghost-%COMP%]     .mat-tab-body .mat-tab-body-content{overflow-y:hidden!important}[_nghost-%COMP%]     .mat-tab-group{overflow:hidden}[_nghost-%COMP%]     div[role=tab]{color:var(--text-color);height:3rem}[_nghost-%COMP%]     div[role=tab].mat-tab-label-active{color:var(--tree-category-color-active)}[_nghost-%COMP%]     div[role=tab].mat-tab-disabled{color:var(--tree-category-color-disabled)}[_nghost-%COMP%]     div[role=tab]:hover{color:var(--tree-category-color-hover)}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header{border-bottom:none}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-labels{margin-left:3.125rem}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:1rem;margin-bottom:1.125rem;line-height:1.25rem;font-size:1.25rem;font-weight:500;border-radius:.3125rem;padding:.3125rem .625rem;color:var(--text-color)}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title.hidden[_ngcontent-%COMP%]{visibility:hidden}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:.125rem}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;margin-right:1.25rem}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img.expand[_ngcontent-%COMP%]{transform:rotate(180deg)}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:inline}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%], .layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]{display:inline}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-end}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div.hide[_ngcontent-%COMP%]{visibility:hidden}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-right:.625rem}.layout-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500}.side-panel[_ngcontent-%COMP%]{position:relative;visibility:visible;display:flex;flex-direction:row;justify-content:space-between;align-content:flex-start}.side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]{position:absolute;top:0;right:1rem;margin:.5rem;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1rem;line-height:2rem}.side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:block;justify-content:center;align-items:center;z-index:14;cursor:pointer;color:var(--scrollbar-color);font-size:1.5rem}.side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite.highlight[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.side-panel[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite.highlight[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{display:block;color:var(--favorite-highlight-color)}.controls[_ngcontent-%COMP%]{align-items:flex-start;justify-content:space-between;margin-top:4rem;width:100%}.buttons[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]{display:flex;flex-direction:row}.buttons[_ngcontent-%COMP%]{align-items:center}.buttons.right[_ngcontent-%COMP%]{width:70%;justify-content:center;align-items:flex-start;gap:.5rem}.buttons.right[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:30%}.buttons.right[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.buttons.right[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:100%}.buttons.next[_ngcontent-%COMP%]{width:100%;margin-top:1.25rem}app-action-button[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),t})(),OA=(()=>{class t extends tI{constructor(t,e,n,i,r,o){super(t,e,i,n),this.dialog=r,this.snackBar=o,this._results=[],this.$currentHand=new ap(null),this.$isFinished=new ap(!1),this.processing=!1,this._isReady=!1,this._inProgress=!1}get isReady(){return this._isReady}get inProgress(){return this._inProgress}get currentHand$(){return this.$currentHand.asObservable()}get isFinished$(){return this.$isFinished.asObservable()}get isPostFlop(){var t;return(null===(t=this.board)||void 0===t?void 0:t.length)>0}get actionsForSummary(){return this.actions?[...this.actions]:[]}get results(){return this._results}get filter(){return this._filter}get settings(){return this._settings}get isRetryingMistakes(){var t;return(null===(t=this.mistakesToBeRetried)||void 0===t?void 0:t.length)>=0}reset(){super.reset(),this._isReady=!1,this._inProgress=!1,this.actions=null,this.board=null,this.currentRange=null,this._filter=""}resetHands(){this._results=[],this.actionsWithHands=null,this.mistakesToBeRetried=null}init(t,e,n,i){return $m(this,void 0,void 0,function*(){this.reset(),this.actions=t,this.board=n,this.currentRange=e,this.pot=i,this.bucketMacros=dy(this.store.pipe(Yb(Ov))),this._settings=dy(this.store.pipe(Yb(Xv),k(t=>{var e;return Object.assign(Object.assign(Object.assign({},wA),t),{evSpread:null===(e=this.settings)||void 0===e?void 0:e.evSpread})}))),this._isReady=!0})}updateSettings(t){this._settings=t}updateFilterAndRestart(t){this.$currentHand.next(null),this._filter=t,this.resetHands(),this.next()}getResult(t){var e;return null===(e=this.getEvaluation(t,this.pot))||void 0===e?void 0:e.result}pickAction(t){return $m(this,void 0,void 0,function*(){if(this.processing)return;this.$isFinished.next(!0),this.processing=!0;const e=this.$currentHand.value,n=this.getCurrentActionFrequencies(),i=this.getActionFrequency(t),{isCorrectAnswer:r,result:o,evLoss:s,evDiff:a}=this.getEvaluation(t,this.pot),l=this.isPostFlop?Object(yR.parseCards)(this.board):null;this._results.unshift(Object.assign(Object.assign({},e),{board:l,action:i.action,freq:i.overallFreq,ev:i.ev,evLoss:s,evDiff:a,frequencies:n,result:o,isCorrect:r})),yield jw(250),this.$isFinished.next(!1),this.processing=!1})}isCorrect(t){return AI(this.getActionFrequency(t),this.getCurrentActionFrequencies())}isMistake(t){return!this.isCorrect(t)}getFrequency(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.overallFreq}getEV(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.ev}next(){var t;return $m(this,void 0,void 0,function*(){if(0===(null===(t=this.mistakesToBeRetried)||void 0===t?void 0:t.length)){const t=this.results.filter(t=>VI(t.result));this.showFinishedRetryMistakesDialog(t)}else{const t=yield this.nextHand(this._filter,this._settings,this.mistakesToBeRetried);if(this.mistakesToBeRetried&&!t.hand){const t=this.results.filter(t=>VI(t.result));this.showFinishedRetryMistakesDialog(t)}else this.mistakesToBeRetried&&(this.mistakesToBeRetried=this.mistakesToBeRetried.filter(e=>e.combo!==t.hand.combo)),this.$currentHand.next(t.hand)}})}showFinishedRetryMistakesDialog(t){this.dialog.open(jF,{data:0===t.length}).afterClosed().pipe(Ap(1)).subscribe(e=>$m(this,void 0,void 0,function*(){e===NF.Continue?(this.mistakesToBeRetried=null,this._results=[],yield this.next()):e===NF.Retry?(this.mistakesToBeRetried=t,this._results=[],yield this.next()):this.onExit()}))}nextHand(t,e,n){return $m(this,void 0,void 0,function*(){let i;if(this._inProgress=!0,!this.actionsWithHands){const n=this.getAllClassificationsForFilter(t,this.bucketMacros,this.isPostFlop),r=this.isPostFlop?[]:this.getAllBucketsForFilter(t,this.bucketMacros,this.isPostFlop),o=this.requiresLoadingClassifications(n,this.board);if(r.length>0&&(this.bucketLookups=yield this.bucketService.loadPreflopLookup()),o){let t;this.isPostFlop?(yield this.rangeService.loadPostflopClassificationLookup(this.board),t=this.rangeService.updatePostflopFilterItems(this.currentRange.filterItems,this.board)):(yield this.rangeService.loadPreflopClassificationLookup(),t=this.rangeService.updatePreflopFilterItems(this.currentRange.filterItems)),this.currentRange=Object.assign(Object.assign({},this.currentRange),{filterItems:t})}else if(n.length>0){const t=this.isPostFlop?this.rangeService.updatePostflopFilterItems(this.currentRange.filterItems,this.board):this.rangeService.updatePreflopFilterItems(this.currentRange.filterItems);this.currentRange.filterItems=t}const s=this.getHandFromRange(this.currentSituation,this.currentRange,t,e);if(e.selectBalanced&&!nI(s.actionsWithHands)&&this.snackBar.open("Can not select balanced hands for this range!",null,{duration:5e3}),s.error){if(null==s?void 0:s.error)switch(s.error){case JF.filter:this.dialog.open(IE,{data:{title:"Empty filter",content:["There are no hands for your current filter!","Please change your range filter."],confirmLabel:"Ok",confirmOnly:!0}}),this.onExit();break;case JF.settings:this.snackBar.open("There are no hands for your current settings! Please change your training settings.",null,{duration:5e3}),this.openSettings(!0)}return{hand:null,error:s.error}}this.actionsWithHands=s.actionsWithHands,i=s.hand}i=(null==n?void 0:n.length)>0?ZF(n):e.selectBalanced&&nI(this.actionsWithHands)?iI(this.actionsWithHands):rI(this.actionsWithHands);const r=yield this.getBucketValues(this.board,i.hand,this.currentRange.ranges);return{hand:Object.assign(Object.assign({},i),{bucket:r})}})}retryMistakes(){return $m(this,void 0,void 0,function*(){this.mistakesToBeRetried=this.results.filter(t=>VI(t.result)),this._results=[],yield this.next()})}openSettings(t=!1){this.dialog.open(FF,{data:this.settings}).afterClosed().subscribe(e=>$m(this,void 0,void 0,function*(){if(e){this._settings=Object.assign({},e);const t=Object.assign(Object.assign({},this.settings),{evSpread:{min:null,max:null}});this.store.dispatch(Kv({training:t})),this.updateSettings(this._settings),this.resetHands(),yield this.next()}else t&&this.onExit()}))}getActionFrequency(t){return this.getCurrentActionFrequencies().find(e=>e.action.type===t.type&&e.action.amountLabel===t.amountLabel)||{action:t,overallFreq:null,ev:null}}getCurrentActionFrequencies(){const t=this.$currentHand.value;if(t){const e=Object.values(t.actionValues).map(t=>({action:{type:t.type,amountLabel:t.amountLabel},overallFreq:t.freq,ev:t.ev}));return this.actions.map(t=>{const n=e.find(e=>oF(t,e.action));return{action:t,overallFreq:null==n?void 0:n.overallFreq,ev:null==n?void 0:n.ev}})}return[]}getEvaluation(t,e){const n=t=>+t.toFixed(3),i=dy(this.currentHand$),r=this.isCorrect(t),o=this.getEV(t);if(null==o||isNaN(o))return{isCorrectAnswer:r,result:NI(r)};{const s=n(o),a=t=>null!=t.ev&&!isNaN(t.ev);let l=s-Math.max(...Object.values(i.actionValues).filter(a).map(t=>t.ev).map(n));isNaN(l)&&(l=0);const c=s-Math.max(...Object.values(i.actionValues).filter(e=>!oF(e,t)).filter(a).map(t=>t.ev).map(n));return{isCorrectAnswer:r,result:BI(Math.abs(l)/e*100,c/e*100,r),evLoss:l,evDiff:c}}}}return t.\u0275fac=function(e){return new(e||t)(hi(WI),hi(rF),hi(Kb),hi(GI),hi(qM),hi(oA))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kA=(()=>{class t{constructor(t,e,n,i,r,o){this.rangeService=t,this.trainingService=e,this.store=n,this.fileSaver=i,this.dialog=r,this._isCreatingOrEditingSim=!1,this.jsonPreflopLoader=new RR(o),this.jsonPostflopLoader=new IR(o)}get currentSim(){return this._currentSim}get hasCustomSim(){return!!this.currentSim}get isCreatingOrEditingSim(){return this._isCreatingOrEditingSim}set isCreatingOrEditingSim(t){this._isCreatingOrEditingSim=t}reset(){this._currentSim=null}exportCurrentSim(){const t=this.currentSim.label.replace(/[^a-z0-9_-]/gi," ").replace(/\s+/gi," ")+".json";this.fileSaver.save(new Blob([JSON.stringify(this.currentSim)],{type:"application/json"}),t)}loadCustomSim(t){try{const e=new FileReader;e.onloadend=()=>{const t=JSON.parse(e.result),{label:n,actions:i,bbSize:r,board:o,setup:s}=t;this.importCustomSim(n,i,r,o,s)},e.readAsText(t)}catch(e){console.error(e)}}importCustomSim(t,e,n,i,r){this.startImport(),this.rangeService.clearRange();try{const a=[];for(const t of e)try{const e=Object.assign(Object.assign({},t),{range:void 0}),i=this.parseActionRangeFromCsv(e,t.range,n);a.push(i)}catch(s){return console.error(s),this.dialog.open(IE,{data:{title:"Import Error",content:[`Could not import the range for '${t.label+(t.amountLabel?" "+t.amountLabel:"")}'.`," ","Please input the range in standard CSV format.","Make sure to use a . as decimal separator, e.g. 1.0 and not 1,0"," ","Example: AsAdAhAc,1.0,10"],confirmOnly:!0,confirmLabel:"Ok"}}),!1}a.some(t=>t.items.some(t=>!t.weight))||this.dialog.open(IE,{data:{title:"Frequency training only",content:["The imported ranges do not include 0% hands.","The training feedback will only be based on the frequencies and not EV."],confirmOnly:!0,confirmLabel:"Ok"}}),a.some(t=>t.items.some(t=>t.ev>0||t.ev<0))||this.dialog.open(IE,{data:{title:"Frequency training only",content:["The imported ranges do not have EVs.","The training feedback will only be based on the frequencies and not EV."],confirmOnly:!0,confirmLabel:"Ok"}});let l,c=!1;if((null==i?void 0:i.length)>=6)try{if(l=Object(yR.parseCards)(i),l.length<3||l.length>5)throw"Board too long";if(!AR(l))return this.dialog.open(IE,{data:{title:"Import Error",content:[`Board has duplicated cards: '${i}'.`],confirmOnly:!0,confirmLabel:"Ok"}}),!1;if(!(o=l).every(t=>2===t.length&&["A","K","Q","J","T","9","8","7","6","5","4","3","2"].includes(t[0])&&["s","h","d","c"].includes(t[1]))||!AR(o))throw"Invalid board";c=!0}catch(s){return this.dialog.open(IE,{data:{title:"Import Error",content:[`Could not parse the board '${i}'.`],confirmOnly:!0,confirmLabel:"Ok"}}),!1}const{tree:u,nodeId:d,position:h}=this.createCustomSituation(c,a.map(t=>t.action),i,r);let p;try{p=this.assembleRange(u.key,d,h,a,l)}catch(s){return console.error(s),this.dialog.open(IE,{data:{title:"Import Error",content:["Could not assemble the range.","Please check all your inputs."],confirmOnly:!0,confirmLabel:"Ok"}}),!1}return this._currentSim={label:t,actions:e,bbSize:n,board:i,setup:r,disableTraining:!1},this.updateCurrentRange(u,d,i,p),!0}catch(s){return console.error(s),this.dialog.open(IE,{data:{title:"Import Error",content:["Could not import the custom node.","Please check all your inputs."],confirmOnly:!0,confirmLabel:"Ok"}}),!1}finally{this.finishImport()}var o}startImport(){this.rangeService.startLoading()}finishImport(){this.rangeService.finishLoading()}createCustomSituation(t,e,n,i){let r;const o={};i.players.forEach(t=>{o[t.label]=t.bets});const s={action:{type:Q_.root},code:"",rangeId:"root",next:e.map(t=>{const e=`${t.type.toLowerCase()}${t.amount?"_"+t.amount.toFixed(2):""}`;return{action:t,code:e,rangeId:"custom_"+e,next:[]}})};return r=t?{isCustom:!0,type:X_.postflop,key:"CustomTree",category:"Custom",groupByCategory:"Custom",profile:"Custom",label:"Custom",root:s,actionlog:{},activePlayers:[],boards:null,isLocked:!1,players:i.numberOfPlayers,preflop:{code:"",history:[],type:"SRP"},selectableFlops:null,setup:null,simBB:1,stack:100,board:n,flop:n.slice(0,6),turn:n.length>=8?n.slice(6,8):void 0,river:n.length>=10?n.slice(8,10):void 0,customSimSetup:i}:{isCustom:!0,type:X_.preflop,key:"CustomTree",category:"Custom",groupByCategory:"Custom",profile:"Custom",label:"Custom",root:s,isLocked:!1,players:i.numberOfPlayers,setup:null,simBB:1,stack:100,customSimSetup:i},{tree:r,nodeId:jE(),position:U_.BTN}}parseActionRangeFromCsv(t,e,n){const i=e.split("\n").map(t=>t.trim()).filter(t=>(null==t?void 0:t.length)>0);let r=0,o=0,s=1,a=2;if(i[0].toLowerCase().includes("combo")||i[0].toLowerCase().includes("hand")){const t=i[0].split(",").map(t=>t.trim().toLowerCase());o=t.findIndex(t=>"combo"===t||"hand"===t),s=t.findIndex(t=>"weight"===t||"freq"===t),a=t.findIndex(t=>"ev"===t),r=1}return{action:t,items:i.slice(r).map(t=>{const e=t.split(",").map(t=>t.trim());return{combo:(i=e[o],Object(yR.cardsToString)(Object(yR.parseCards)(i),!0)),weight:+e[s],ev:+e[a]/n};var i})}}assembleRange(t,e,n,i,r){const o=jE(),s=(null==r?void 0:r.length)>=3,{ranges:a,rangeFrequencies:l}=s?this.jsonPostflopLoader.assembleRangeFromLegacyItems(i):this.jsonPreflopLoader.assembleRangeFromLegacyItems(i);return{treeName:t,nodeId:e,position:n,rangeKey:o,ranges:a,rangeFrequencies:l,filterItems:this.rangeService.assembleFilterItems(a,o),adjustEvBy:{isTurnOrRiver:!1,evFactor:1,plainEV:!0}}}updateCurrentRange(t,e,n,i){this.store.dispatch(t.type===X_.postflop?H_({tree:t}):N_({tree:t}));const r=i.ranges.map(t=>t.action);this.rangeService.setCurrentRange(t.key,e,i),this.trainingService.init(r,i,n,t.customSimSetup.pot)}}return t.\u0275fac=function(e){return new(e||t)(hi(rF),hi(OA),hi(Kb),hi(zE),hi(qM),hi(tF))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const SA=["*",[["mat-toolbar-row"]]],MA=["*","mat-toolbar-row"];class TA{constructor(t){this._elementRef=t}}const EA=nM(TA);let RA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),FA=(()=>{class t extends EA{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(yx),xs(mu))},t.\u0275cmp=Nt({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&ac(n,RA,!0),2&t){let t;ic(t=uc())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&Js("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ss],ngContentSelectors:MA,decls:2,vars:0,template:function(t,e){1&t&&($s(SA),zs(0),zs(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),IA=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[tM],tM]}),t})();function AA(t,e){if(1&t){const t=Fs();ks(0,"div",1),Ds("click",function(){return Re(t),Vs().toggle()}),Ms(1,"i",2),ks(2,"div",3),ua(3,"Vibrant"),Ss(),Ss()}}function DA(t,e){if(1&t){const t=Fs();ks(0,"div",1),Ds("click",function(){return Re(t),Vs().toggle()}),Ms(1,"i",2),ks(2,"div",3),ua(3,"Pale"),Ss(),Ss()}}let LA=(()=>{class t{constructor(t){this.themeService=t,this.themeService.modernColors$.subscribe(t=>{this.isModernColors=t===bT.MODERN})}toggle(){this.themeService.toggleColors()}}return t.\u0275fac=function(e){return new(e||t)(xs(_T))},t.\u0275cmp=Nt({type:t,selectors:[["app-theme-toggle"]],decls:2,vars:2,consts:[["class","theme-toggle",3,"click",4,"ngIf"],[1,"theme-toggle",3,"click"],[1,"icon","small","fas","fa-paint-roller"],[1,"hint"]],template:function(t,e){1&t&&(Cs(0,AA,4,0,"div",0),Cs(1,DA,4,0,"div",0)),2&t&&(Ps("ngIf",!e.isModernColors),Ur(1),Ps("ngIf",e.isModernColors))},directives:[Pd],styles:[".theme-toggle[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;pointer-events:auto;color:var(--theme-toggle-icon-color);font-weight:400;margin:.5rem 0;width:100%;max-height:calc(1.2 * var(--navbar-size));border-radius:.5rem;display:flex;gap:.2rem;flex-direction:column;justify-items:center;align-items:center;transition:color .2s,background-color .2s}.theme-toggle.horizontal[_ngcontent-%COMP%]{flex-direction:row}.theme-toggle[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.8rem;line-height:1.2rem;width:100%;display:flex;justify-content:center;text-wrap:wrap}.theme-toggle.active[_ngcontent-%COMP%]{--accent-color:var(--clubs-background)}.theme-toggle.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--link-color-hover);background-color:var(--highlight-color)}.theme-toggle.active.fiveCard[_ngcontent-%COMP%]{--accent-color:var(--diamonds-background)}.theme-toggle.active[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]{border-color:var(--accent-color)!important}.theme-toggle.active[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]{background-color:var(--accent-color)!important}.theme-toggle[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--theme-toggle-icon-color);box-sizing:border-box;padding:.5rem;width:80%;height:calc(100% - 1.2rem);max-height:3rem}.theme-toggle[_ngcontent-%COMP%]   .icon.small[_ngcontent-%COMP%]{padding:.8rem}.theme-toggle[_ngcontent-%COMP%]   .icon.rotate[_ngcontent-%COMP%]{padding-top:.5rem;transform:rotate(30deg)}.theme-toggle[_ngcontent-%COMP%]:not(.disabled):hover   .icon[_ngcontent-%COMP%]{color:var(--link-color-hover);background-color:var(--highlight-color)}"]}),t})();function BA(t,e){1&t&&Ms(0,"img",37)}function NA(t,e){1&t&&Ms(0,"img",38)}function jA(t,e){if(1&t){const t=Fs();ks(0,"div",5),Ds("click",function(){Re(t);const e=Vs();return e.select(e.Module.custom)}),Ms(1,"img",39),ks(2,"div",8),ua(3,"Custom"),Ss(),Ss()}if(2&t){const t=Vs();Js("active",t.isSelected(t.Module.custom))("disabled",t.isLocked(t.Module.custom)),Ur(1),Ps("src",t.isSelected(t.Module.custom)?"assets/svg/custom-icon-active.svg":"assets/svg/custom-icon.svg",Qi)}}function VA(t,e){if(1&t){const t=Fs();ks(0,"div",5),Ds("click",function(){Re(t);const e=Vs();return e.select(e.Module.favorites)}),Ms(1,"i",40),ks(2,"div",8),ua(3,"Favorites"),Ss(),Ss()}if(2&t){const t=Vs();Js("disabled",t.isLocked(t.Module.favorites))("fiveCard",t.isFiveCard)}}function HA(t,e){if(1&t){const t=Fs();ks(0,"div",5),Ds("click",function(){return Re(t),Vs().openSkills()}),Ms(1,"img",41),ks(2,"div",8),ua(3,"Skills"),Ss(),Ss()}if(2&t){const t=Vs();Js("disabled",t.isLocked(t.Module.skills))}}function $A(t,e){if(1&t){const t=Fs();ks(0,"div",5),Ds("click",function(){return Re(t),Vs().openNewUI()}),Ms(1,"i",42),ks(2,"div",8),ua(3,"New UI"),Ss(),Ss()}}function zA(t,e){if(1&t){const t=Fs();ks(0,"div",5),Ds("click",function(){return Re(t),Vs().exitTraining()}),Ms(1,"i",43),ks(2,"div",8),ua(3,"Exit"),Ss(),Ss()}}function UA(t,e){if(1&t&&(ks(0,"div",44),ua(1),Vl(2,"async"),Ss()),2&t){const t=Vs();Ur(1),da(Hl(2,1,t.status$))}}function qA(t,e){1&t&&Ms(0,"app-theme-toggle")}function WA(t,e){if(1&t){const t=Fs();Ts(0),ks(1,"div",24),Ds("click",function(){return Re(t),Vs().showAppInfo()}),Ms(2,"img",45),ks(3,"div",8),ua(4,"Updates"),Ss(),Ss(),Es()}2&t&&(Ur(2),Js("blinking",!0))}function GA(t,e){if(1&t){const t=Fs();Ts(0),ks(1,"div",5),Ds("click",function(){return Re(t),Vs().showAppInfo()}),Ms(2,"img",46),ks(3,"div",8),ua(4,"Updates"),Ss(),Ss(),Es()}}function KA(t,e){if(1&t){const t=Fs();ks(0,"div",29),Ds("click",function(){return Re(t),Vs().openSkills()}),ks(1,"span"),ua(2,"Skills"),Ss(),Ss()}}function QA(t,e){if(1&t){const t=Fs();ks(0,"div",33),Ds("click",function(){return Re(t),Vs().openNewUI()}),Ms(1,"i",47),ks(2,"span"),ua(3,"New UI"),Ss(),Ss()}}function YA(t,e){if(1&t){const t=Fs();ks(0,"div",29),Ds("click",function(){return Re(t),Vs().toggleColors()}),ua(1,"Switch accent colors"),Ss()}}function ZA(t,e){if(1&t){const t=Fs();Ts(0),ks(1,"div",33),Ds("click",function(){return Re(t),Vs().showAppInfo()}),Ms(2,"i",48),ks(3,"span"),ua(4,"Updates"),Ss(),Ss(),Es()}2&t&&(Ur(2),Js("blinking",!0))}function JA(t,e){if(1&t){const t=Fs();Ts(0),ks(1,"div",33),Ds("click",function(){return Re(t),Vs().showAppInfo()}),Ms(2,"i",48),ks(3,"span"),ua(4,"Updates"),Ss(),Ss(),Es()}}var XA=function(t){return t.favorites="favorites",t.preflop="preflop",t.postflop="postflop",t.custom="custom",t.skills="skills",t}({});let tD=(()=>{class t{constructor(t,e,n,i,r,o,s,a){this.store=t,this.feature=e,this.dialog=n,this.themeService=i,this.authService=r,this.router=o,this.route=s,this.customSimService=a,this.selected=new ql,this.burgerMenuShowing=!1,this.Module=XA,this._selected=XA.preflop}ngOnInit(){this.status$=this.store.pipe(Yb(Bv)),this.user$=this.store.pipe(Yb(Ky)),this.newestUnseenReleaseNote$=this.store.pipe(Yb(rC)),this.hasNewReleaseNotes$=this.newestUnseenReleaseNote$.pipe(k(t=>!!t));const t=this.route.snapshot.queryParamMap.get("type");t===XA.preflop?this._selected=XA.preflop:t===XA.postflop&&(this._selected=XA.postflop)}get isFiveCard(){return!1}get showNewUI$(){return this.user$.pipe(k(t=>t.accessLevel>=Rv.Full&&(null==="https://plo4.plomastermind.com"?void 0:"https://plo4.plomastermind.com".length)>0))}get showThemeToggle(){return this.feature.isAvailable(uy.ThemeToggle)}get showCustomModule(){return this.feature.isAvailable(uy.CustomSims)}get showSkillsModule(){return this.feature.isAvailable(uy.Skills)}get showFavoritesModule(){return this.feature.isAvailable(uy.Favorites)}get isTraining(){var t,e,n,i;return"train"===(null===(e=null===(t=this.route.snapshot)||void 0===t?void 0:t.url[0])||void 0===e?void 0:e.path)||"game"===(null===(i=null===(n=this.route.snapshot)||void 0===n?void 0:n.url[0])||void 0===i?void 0:i.path)}isLocked(t){switch(t){case XA.custom:return this.feature.isLocked(uy.CustomSims);case XA.favorites:return this.feature.isLocked(uy.Favorites);case XA.skills:return this.feature.isLocked(uy.Skills)}}select(t){if(t===XA.favorites){if(this.feature.isLocked(uy.Favorites))return void this.dialog.open(_R,{data:{featureText:"Creating favorites"}});this.dialog.open(bR).afterClosed().subscribe(t=>$m(this,void 0,void 0,function*(){t&&(yield this.loadFavorite(t))}))}else if(t===XA.custom&&this._selected!==XA.custom){if(this.feature.isLocked(uy.CustomSims))return void this.dialog.open(_R,{data:{featureText:"Custom sims"}});this.store.dispatch(Oy()),this.store.dispatch(Sy()),this.store.dispatch(z_()),this.switchModule(t)}else this._selected===XA.custom&&t!==XA.custom?this.dialog.open(IE,{data:{title:"Exit custom",content:["Please save your custom sim if you don't want to lose your data"],confirmLabel:"Confirm",dismissLabel:"Go back"}}).afterClosed().subscribe(e=>{e&&(this.store.dispatch(Oy()),this.store.dispatch(Sy()),this.store.dispatch(z_()),this.customSimService.reset(),this.store.dispatch(B_({key:this.feature.defaultTreeKey})),this.switchModule(t))}):this.switchModule(t)}loadFavorite(t){return $m(this,void 0,void 0,function*(){yield this.router.navigate([t.path],{queryParams:t.queryParams,replaceUrl:!0}),this.store.dispatch(Oy());const e=t.queryParams.tree;if("preflop"===t.queryParams.type)this.switchModule(XA.preflop),this.store.dispatch(B_({key:e}));else{this.switchModule(XA.postflop);const n=dy(this.store.pipe(Yb(Cy(e)))),{flop:i,turn:r,river:o}=t.queryParams;this.store.dispatch(V_({tree:n,flop:i,turn:r,river:o}))}})}switchModule(t){t!==XA.favorites&&(this._selected=t),this.selected.emit(t)}isSelected(t){return this._selected===t}refreshUser(){this.store.dispatch(jy())}logout(){this.store.dispatch(Vy({}))}openNewUI(){if((null==="https://plo4.plomastermind.com"?void 0:"https://plo4.plomastermind.com".length)>0){const t=this.authService.getEncodedLoginToken();window.open("https://plo4.plomastermind.com/?loginToken="+t)}}openSkills(){const t=this.authService.getEncodedLoginToken();window.open(`https://${this.isFiveCard?"5card-":""}skills.plomastermind.com/?loginToken=${t}`)}openShop(){window.open(wE)}openMastermindShop(){window.open("https://plomastermind.com/register/plo-trainer-web-app-and-plo-mm-bundle-monthly/")}duplicateWindow(){const t=window.location.href.replace("freeze=true","").replace("freeze=false","");window.open(t)}openMainWebsite(){window.open("https://plomastermind.com")}openDiscord(){window.open("https://plomastermind.com/discord")}exitTraining(){const t=Object.assign(Object.assign({},this.route.snapshot.queryParams),{user:void 0,hands:void 0,randomBoard:void 0,boards:void 0,boardFilter:void 0,minFrequency:void 0,minWeight:void 0,minEV:void 0,maxEV:void 0,selection:void 0,freeze:void 0});this.router.navigate([""],{queryParams:t})}showAppInfo(){const t=dy(this.newestUnseenReleaseNote$);t&&this.store.dispatch(Qv({releaseNotesLastSeen:new Date(t.dateReleased)})),this.dialog.open(EE,{data:{hasNewUpdates:!!t}})}toggleMenu(){this.burgerMenuShowing=!this.burgerMenuShowing}toggleColors(){this.themeService.toggleColors()}}return t.\u0275fac=function(e){return new(e||t)(xs(Kb),xs(gT),xs(qM),xs(_T),xs(fT),xs(wm),xs(rg),xs(kA))},t.\u0275cmp=Nt({type:t,selectors:[["app-status-bar"]],outputs:{selected:"selected"},decls:82,vars:45,consts:[[1,"navbar-container"],[1,"module-menu"],[1,"main-logo",3,"click"],["src","assets/favicon_5c.ico","alt","",4,"ngIf"],["src","assets/favicon.ico","alt","",4,"ngIf"],[1,"app-info",3,"click"],[1,"preflop-icon","icon"],[1,"preflop-icon-card"],[1,"hint"],[1,"postflop-icon","icon"],[1,"postflop-icon-card"],["class","app-info",3,"active","disabled","click",4,"ngIf"],["class","app-info",3,"disabled","fiveCard","click",4,"ngIf"],["class","app-info",3,"disabled","click",4,"ngIf"],["class","app-info",3,"click",4,"ngIf"],[1,"secondary-menu"],[1,"icon","small","fas","fa-external-link-alt"],[1,"subscription-menu"],["regular",""],[1,"info-menu"],[4,"ngIf"],[1,"icon","small","fas","fa-sync-alt"],["src","assets/svg/discord-mark-white.svg",1,"icon","small"],[1,"last-menu"],[1,"app-info","exit",3,"click"],["src","assets/svg/logout-icon.svg",1,"icon","small"],[1,"burger-icon",3,"click"],[1,"middle-line"],[1,"burger-menu"],[3,"click"],[3,"click",4,"ngIf"],["class","app-info horizontal",3,"click",4,"ngIf"],[1,"divider"],[1,"app-info","horizontal",3,"click"],[1,"fas","fa-sync-alt"],[1,"close-burger"],[1,"burger-overlay",3,"click"],["src","assets/favicon_5c.ico","alt",""],["src","assets/favicon.ico","alt",""],[1,"icon",3,"src"],[1,"icon","fas","fa-star"],["src","assets/svg/skills-icon.svg",1,"icon"],[1,"icon","fas","fa-fire"],[1,"icon","small","far","fa-times-circle"],[1,"status"],["src","assets/svg/updates-icon.svg",1,"icon"],["src","assets/svg/updates-icon.svg",1,"icon","small"],[1,"fas","fa-fire"],[1,"fas","fa-bell"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"mat-toolbar"),ks(2,"div",1),ks(3,"div",2),Ds("click",function(){return e.openMainWebsite()}),Cs(4,BA,1,0,"img",3),Cs(5,NA,1,0,"img",4),Ss(),ks(6,"div",5),Ds("click",function(){return e.select(e.Module.preflop)}),ks(7,"div",6),Ms(8,"div",7),Ms(9,"div",7),Ms(10,"div",7),Ss(),ks(11,"div",8),ua(12,"Preflop"),Ss(),Ss(),ks(13,"div",5),Ds("click",function(){return e.select(e.Module.postflop)}),ks(14,"div",9),Ms(15,"div",10),Ms(16,"div",10),Ms(17,"div",10),Ss(),ks(18,"div",8),ua(19,"Postflop"),Ss(),Ss(),Cs(20,jA,4,5,"div",11),Cs(21,VA,4,4,"div",12),Cs(22,HA,4,2,"div",13),Cs(23,$A,4,0,"div",14),Vl(24,"async"),Ss(),ks(25,"div",15),ks(26,"div",5),Ds("click",function(){return e.duplicateWindow()}),Ms(27,"i",16),ks(28,"div",8),ua(29,"Window"),Ss(),Ss(),Cs(30,zA,4,0,"div",14),ks(31,"div",17),Cs(32,UA,3,3,"ng-template",null,18,fc),Ss(),ks(34,"div",19),Cs(35,qA,1,0,"app-theme-toggle",20),ks(36,"div",5),Ds("click",function(){return e.refreshUser()}),Ms(37,"i",21),ks(38,"div",8),ua(39,"Refresh"),Ss(),Ss(),ks(40,"div",5),Ds("click",function(){return e.openDiscord()}),Ms(41,"img",22),ks(42,"div",8),ua(43,"Get Help"),Ss(),Ss(),Ss(),Ss(),ks(44,"div",23),Cs(45,WA,5,2,"ng-container",20),Vl(46,"async"),Cs(47,GA,5,0,"ng-container",20),Vl(48,"async"),ks(49,"div",24),Ds("click",function(){return e.logout()}),Ms(50,"img",25),ks(51,"div",8),ua(52,"Log out"),Ss(),Ss(),Ss(),Ss(),ks(53,"div",26),Ds("click",function(){return e.toggleMenu()}),Ms(54,"div",27),ks(55,"div",28),ks(56,"div",29),Ds("click",function(){return e.select(e.Module.preflop)}),ks(57,"span"),ua(58,"Preflop"),Ss(),Ss(),ks(59,"div",29),Ds("click",function(){return e.select(e.Module.postflop)}),ks(60,"span"),ua(61,"Postflop"),Ss(),Ss(),Cs(62,KA,3,0,"div",30),Cs(63,QA,4,0,"div",31),Vl(64,"async"),Ms(65,"div",32),Cs(66,YA,2,0,"div",30),ks(67,"div",33),Ds("click",function(){return e.refreshUser()}),Ms(68,"i",34),ks(69,"span"),ua(70,"Refresh"),Ss(),Ss(),Ms(71,"div",32),Cs(72,ZA,5,2,"ng-container",20),Vl(73,"async"),Cs(74,JA,5,0,"ng-container",20),Vl(75,"async"),ks(76,"div",29),Ds("click",function(){return e.logout()}),ua(77,"Log out"),Ss(),Ts(78),ks(79,"div",35),ua(80," Close "),Ss(),Es(),Ss(),Ss(),Ss(),ks(81,"div",36),Ds("click",function(){return e.toggleMenu()}),Ss()),2&t&&(Ur(4),Ps("ngIf",e.isFiveCard),Ur(1),Ps("ngIf",!e.isFiveCard),Ur(1),Js("active",e.isSelected(e.Module.preflop))("fiveCard",e.isFiveCard),Ur(7),Js("active",e.isSelected(e.Module.postflop))("fiveCard",e.isFiveCard),Ur(7),Ps("ngIf",e.showCustomModule),Ur(1),Ps("ngIf",e.showFavoritesModule),Ur(1),Ps("ngIf",e.showSkillsModule),Ur(1),Ps("ngIf",Hl(24,33,e.showNewUI$)),Ur(7),Ps("ngIf",e.isTraining),Ur(5),Ps("ngIf",e.showThemeToggle),Ur(10),Ps("ngIf",Hl(46,35,e.hasNewReleaseNotes$)),Ur(2),Ps("ngIf",!Hl(48,37,e.hasNewReleaseNotes$)),Ur(6),Js("opened",e.burgerMenuShowing),Ur(2),Js("show",e.burgerMenuShowing),Ur(1),Js("active",e.isSelected(e.Module.preflop)),Ur(3),Js("active",e.isSelected(e.Module.postflop)),Ur(3),Ps("ngIf",e.showSkillsModule),Ur(1),Ps("ngIf",Hl(64,39,e.showNewUI$)),Ur(3),Ps("ngIf",e.showThemeToggle),Ur(6),Ps("ngIf",Hl(73,41,e.hasNewReleaseNotes$)),Ur(2),Ps("ngIf",!Hl(75,43,e.hasNewReleaseNotes$)),Ur(7),Js("showing",e.burgerMenuShowing))},directives:[FA,Pd,LA],pipes:[Bd],styles:['[_ngcontent-%COMP%]:root{--border-color:hsla(0,0%,100%,0.25098039215686274);--border-style:1px solid var(--border-color);--border-style-bold:2px solid var(--border-color);--border-radius:0;--highlight-color-half:rgba(0,0,0,0.08235294117647059);--highlight-color:rgba(0,0,0,0.18823529411764706);--box-shadow:0 0 0.5rem var(--highlight-color);--link-border-radius:0;--navbar-size:3.5rem}@keyframes blink{0%,to{opacity:1}50%{opacity:0}}.navbar-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;pointer-events:none}.burger-overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;pointer-events:auto;z-index:11;display:none;background:rgba(31,31,31,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.burger-overlay.showing[_ngcontent-%COMP%]{display:block}mat-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;background-color:transparent;padding:0;justify-content:space-between}mat-toolbar[_ngcontent-%COMP%]   .main-logo[_ngcontent-%COMP%]{cursor:pointer;width:calc(100% - .6rem);box-sizing:border-box;background:var(--app-background);padding:.4rem;border-radius:.3rem;margin:.9rem .3rem 1.5rem;display:flex}mat-toolbar[_ngcontent-%COMP%]   .main-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.burger-icon[_ngcontent-%COMP%]{display:none;align-items:center;position:absolute;pointer-events:auto;top:0;left:.5rem;width:2.5rem;height:3rem;z-index:12;cursor:pointer}.burger-icon[_ngcontent-%COMP%]   .middle-line[_ngcontent-%COMP%]{width:100%;height:3px;background-color:var(--border-color);transition:opacity .2s .2s}.burger-icon.opened[_ngcontent-%COMP%]   .middle-line[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.burger-icon[_ngcontent-%COMP%]:before{top:.5rem}.burger-icon[_ngcontent-%COMP%]:after, .burger-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:3px;background:var(--border-color);z-index:12;transform-origin:left;transform:rotate(0deg);transition:transform .2s ease-in-out}.burger-icon[_ngcontent-%COMP%]:after{bottom:.5rem}.burger-icon.opened[_ngcontent-%COMP%]:before{transform-origin:left;transform:rotate(45deg)}.burger-icon.opened[_ngcontent-%COMP%]:after{transform-origin:left;transform:rotate(-45deg)}.burger-menu[_ngcontent-%COMP%]{position:absolute;left:0;top:0;opacity:0;z-index:10;border-bottom:var(--border-style);border-right:var(--border-style);background:var(--background-color);width:180px;padding:40px 16px 16px;font-size:16px;transform:translate(-100%,-.8rem);transition:transform .3s,opacity .1s;display:flex;flex-direction:column}.burger-menu.show[_ngcontent-%COMP%]{opacity:1;transform:translate(-1rem,-.8rem)}.burger-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;justify-content:flex-start;padding:0 10px}.burger-menu[_ngcontent-%COMP%]   div.divider[_ngcontent-%COMP%]{height:20px}.burger-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(.divider):hover{background:hsla(0,0%,100%,.3137254901960784)}.burger-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px}app-theme-toggle[_ngcontent-%COMP%]{color:var(--theme-toggle-icon-color)}.bar-icon[_ngcontent-%COMP%]{cursor:pointer;width:var(--navbar-size);height:var(--navbar-size);color:var(--link-color)}.bar-icon[_ngcontent-%COMP%]:first-child{margin-left:0}.bar-icon[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.bar-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;pointer-events:auto}.bar-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{box-sizing:border-box;padding:1rem;width:100%;height:100%}.status[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;justify-content:center;align-items:center;font-size:1rem;font-weight:400;padding-left:6.25rem;color:var(--text-color)}.secondary-menu[_ngcontent-%COMP%]{flex-grow:1;justify-content:space-between;padding-bottom:2rem;padding-top:1rem;border-top:var(--border-style);border-bottom:var(--border-style);background-color:rgba(0,0,0,.1568627450980392)}.app-info[_ngcontent-%COMP%], .info-menu[_ngcontent-%COMP%], .last-menu[_ngcontent-%COMP%], .secondary-menu[_ngcontent-%COMP%], .subscription-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.app-info[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;pointer-events:auto;color:var(--theme-toggle-icon-color);font-weight:400;margin:0;max-height:calc(1.2 * var(--navbar-size));border-radius:.5rem;gap:.2rem;justify-items:center;align-items:center;transition:color .2s,background-color .2s}.app-info.horizontal[_ngcontent-%COMP%]{flex-direction:row}.app-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.8rem;line-height:.8rem;text-wrap:wrap}.app-info[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%], .app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]{box-sizing:border-box;padding:.5rem 0;height:calc(100% - 1.2rem)}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]{height:1.5rem;width:1rem;border:var(--border-style);border-color:var(--theme-toggle-icon-color);border-width:2px;margin-left:-.8rem;background-color:var(--background-color);border-radius:2px}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]:first-child{margin:0;z-index:3}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]:nth-child(2){z-index:2}.app-info[_ngcontent-%COMP%]   .preflop-icon[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]:nth-child(3){z-index:1}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;padding:.5rem 0;justify-content:center;width:100%;height:calc(100% - 1.2rem)}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]{height:1.5rem;width:1rem;border:var(--border-style);border-color:var(--background-color);border-width:2px;margin-left:-.8rem;background-color:var(--theme-toggle-icon-color);border-radius:2px}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]:first-child{margin:0;z-index:3}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]:nth-child(2){z-index:2}.app-info[_ngcontent-%COMP%]   .postflop-icon[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]:nth-child(3){z-index:1}.app-info.active[_ngcontent-%COMP%]{--accent-color:var(--clubs-background)}.app-info.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--link-color-hover);background-color:var(--highlight-color)}.app-info.active.fiveCard[_ngcontent-%COMP%]{--accent-color:var(--diamonds-background)}.app-info.active[_ngcontent-%COMP%]   .preflop-icon-card[_ngcontent-%COMP%]{border-color:var(--accent-color)!important}.app-info.active[_ngcontent-%COMP%]   .postflop-icon-card[_ngcontent-%COMP%]{background-color:var(--accent-color)!important}.app-info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--theme-toggle-icon-color);box-sizing:border-box;padding:.5rem;width:80%;height:calc(100% - 1.2rem)}.app-info[_ngcontent-%COMP%]   .icon.small[_ngcontent-%COMP%]{padding:.8rem}.app-info[_ngcontent-%COMP%]   .icon.rotate[_ngcontent-%COMP%]{padding-top:.5rem;transform:rotate(30deg)}.app-info.exit[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.app-info.disabled[_ngcontent-%COMP%]{transition:none;opacity:.35;cursor:not-allowed}.app-info[_ngcontent-%COMP%]:not(.disabled):hover   .icon[_ngcontent-%COMP%]{color:var(--link-color-hover);background-color:var(--highlight-color)}.app-info[_ngcontent-%COMP%]:not(.disabled)   .blinking[_ngcontent-%COMP%]{color:var(--app-color);animation:blink 2s ease-in infinite}.link[_ngcontent-%COMP%]{pointer-events:auto;font-size:1rem;font-weight:400;box-sizing:border-box;cursor:pointer;color:var(--link-color);display:flex;flex-direction:column;align-items:center;width:100%;transition:color .2s}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%]{margin-left:1.25rem;padding:0 1.1875rem;border:var(--border-style);border-radius:var(--link-border-radius);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}.link.exit[_ngcontent-%COMP%]{margin-bottom:2rem}.link[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.8rem}.link[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{box-sizing:border-box;color:var(--theme-toggle-icon-color);padding:0 .8rem;width:100%;height:100%}.link[_ngcontent-%COMP%]   .icon.small[_ngcontent-%COMP%]{padding:0 .9rem}.module-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin:0 0 1rem}']}),t})();function eD(t,e){1&t&&(ks(0,"span",6),Ms(1,"i",7),Ss())}function nD(t,e){1&t&&(ks(0,"span",6),Ms(1,"i",8),Ss())}function iD(t,e){1&t&&(ks(0,"div",13),Ms(1,"i",14),Ss())}function rD(t,e){if(1&t){const t=Fs();ks(0,"div",11),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(2).selectCategory(n)}),ks(1,"div"),ua(2),Ss(),Cs(3,iD,2,0,"div",12),Ss()}if(2&t){const t=e.$implicit,n=Vs(2);Js("selected",n.isSelectedCategory(t))("disabled",t.isLocked),Ur(2),da(n.getCategoryTitle(t)),Ur(1),Ps("ngIf",t.isLocked)}}function oD(t,e){if(1&t&&(ks(0,"div",9),Cs(1,rD,4,6,"div",10),Ss()),2&t){const t=Vs();Ur(1),Ps("ngForOf",t.sortedCategories)}}function sD(t,e){1&t&&(ks(0,"span",6),Ms(1,"i",7),Ss())}function aD(t,e){1&t&&(ks(0,"span",6),Ms(1,"i",8),Ss())}function lD(t,e){if(1&t&&(ks(0,"div",20),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t," ")}}function cD(t,e){if(1&t&&(ks(0,"div",18),Cs(1,lD,2,1,"div",19),Ss()),2&t){const t=Vs(2);Ur(1),Ps("ngForOf",t.sortedPositions)}}function uD(t,e){if(1&t&&(Ts(0),ua(1),Es()),2&t){const t=Vs().$implicit,e=Vs(3);Ur(1),ha(" ",e.getTreeLabel(t)," ")}}function dD(t,e){if(1&t&&(ks(0,"div",20),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t," ")}}function hD(t,e){if(1&t&&(ks(0,"div",24),Cs(1,dD,2,1,"div",19),Ss()),2&t){const t=Vs().$implicit,e=Vs(3);Ur(1),Ps("ngForOf",e.sortedIcmStacks(t))}}function pD(t,e){1&t&&(ks(0,"div",13),Ms(1,"i",14),Ss())}function fD(t,e){if(1&t){const t=Fs();ks(0,"div",11),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(3).emitSelect(n)}),ks(1,"div",21),Cs(2,uD,2,1,"ng-container",22),Cs(3,hD,2,1,"ng-template",null,23,fc),Ss(),Cs(5,pD,2,0,"div",12),Ss()}if(2&t){const t=e.$implicit,n=ws(4),i=Vs(3);Js("selected",i.isSelected(t))("disabled",t.isLocked),Ur(2),Ps("ngIf",!i.hasIcmStacks(t))("ngIfElse",n),Ur(3),Ps("ngIf",t.isLocked)}}function gD(t,e){if(1&t&&(ks(0,"div",15),Cs(1,fD,6,7,"div",10),Ss()),2&t){const t=e.$implicit,n=Vs(2);Ur(1),Ps("ngForOf",n.sortedTrees(t.trees))}}function mD(t,e){if(1&t&&(ks(0,"div",9),ks(1,"div",15),Cs(2,cD,2,1,"div",16),Ss(),Cs(3,gD,2,1,"div",17),Ss()),2&t){const t=Vs();Ur(2),Ps("ngIf",t.isIcmCategory),Ur(1),Ps("ngForOf",t.profilesForSelectedCategory)}}let bD=(()=>{class t{constructor(t){this.dialog=t,this.selectedTree=null,this.selected=new ql,this.categoryPanelExpanded=!1,this.treePanelExpanded=!1}onGlobalClick(t){var e;if(this.categoryPanelExpanded||this.treePanelExpanded){for(const n of t.composedPath()){const t=n;if(null===(e=null==t?void 0:t.classList)||void 0===e?void 0:e.contains("expansion-panel"))return}this.closePanels()}}ngOnChanges(t){var e;(null===(e=t.selectedTree)||void 0===e?void 0:e.currentValue)&&(this.selectedCategory=this.getCategoryForTree(t.selectedTree.currentValue))}expandTreePanel(){this.categoryPanelExpanded=!1,this.treePanelExpanded=!0}toggleCategoryPanel(){this.categoryPanelExpanded=!this.categoryPanelExpanded,this.treePanelExpanded=!1}toggleTreePanel(){this.treePanelExpanded=!this.treePanelExpanded,this.categoryPanelExpanded=!1}get isFiveCard(){return!1}get sortedCategories(){return this.treesByCategory.sort((t,e)=>ty[t.label]-ty[e.label])}get categoryPanelTitle(){return this.selectedCategory&&!this.categoryPanelExpanded?this.getCategoryTitle(this.selectedCategory):"Categories"}get treePanelTitle(){const t=this.getTree(this.selectedTree);return this.treePanelExpanded||!t?"Trees":ly(t,this.isFiveCard)}get profilesForSelectedCategory(){var t;return null===(t=this.selectedCategory)||void 0===t?void 0:t.profiles}getTree(t){for(const e of this.treesByCategory)for(const n of e.profiles){const e=n.trees.find(e=>e.key===t);if(e)return e}}getCategoryForTree(t){for(const e of this.treesByCategory)for(const n of e.profiles)if(n.trees.find(e=>e.key===t))return e}selectCategory(t){this.selectedCategory=t,this.categoryPanelExpanded=!1,this.treePanelExpanded=!0}isSelectedCategory(t){return t===this.selectedCategory}isSelected(t){return this.selectedTree&&this.selectedTree===t.key}getCategoryTitle(t){return ey(t.label)}get isIcmCategory(){return this.selectedCategory.label.toLowerCase().includes("icm")}hasIcmStacks(t){return!!t.icmStacks}get sortedPositions(){return[U_.EP,U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB]}sortedIcmStacks(t){return this.sortedPositions.map(e=>t.icmStacks[e]).filter(t=>!!t)}getTreeLabel(t){if(t.label)return t.label;if(t.type===X_.preflop)return this.isFiveCard?t.stack+"bb":`${iy(t.profile)} - ${t.stack}bb`;{const e=t,n=K_(e.activePlayers).join(" vs. ");return this.isFiveCard?`${e.stack}bb - ${n}`:`${iy(e.profile)} - ${e.stack}bb - ${n}`}}sortedTrees(t){return[...t].sort((t,e)=>t.treeOrder&&e.treeOrder?t.treeOrder-e.treeOrder:t.stack-e.stack)}emitSelect(t){t.isLocked?this.dialog.open(qR):(this.categoryPanelExpanded=!1,this.treePanelExpanded=!1,this.selected.emit(t))}closePanels(){this.categoryPanelExpanded=!1,this.treePanelExpanded=!1}}return t.\u0275fac=function(e){return new(e||t)(xs(qM))},t.\u0275cmp=Nt({type:t,selectors:[["app-preflop-tree-selector"]],hostBindings:function(t,e){1&t&&Ds("mousedown",function(t){return e.onGlobalClick(t)},!1,nr)},inputs:{treesByCategory:"treesByCategory",selectedTree:"selectedTree"},outputs:{selected:"selected"},features:[ae],decls:14,vars:10,consts:[[1,"expansion-panels"],[3,"className"],[1,"header",3,"click"],[1,"header-text"],["class","icon",4,"ngIf"],["class","content",4,"ngIf"],[1,"icon"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],[1,"content"],["class","item",3,"selected","disabled","click",4,"ngFor","ngForOf"],[1,"item",3,"click"],["class","icon lock",4,"ngIf"],[1,"icon","lock"],[1,"fas","fa-lock"],[1,"group"],["class","icm-header",4,"ngIf"],["class","group",4,"ngFor","ngForOf"],[1,"icm-header"],["class","icm-item",4,"ngFor","ngForOf"],[1,"icm-item"],[1,"label"],[4,"ngIf","ngIfElse"],["icmStacks",""],[1,"icm-stacks"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"div",1),ks(2,"div",2),Ds("click",function(){return e.toggleCategoryPanel()}),ks(3,"div",3),ua(4),Ss(),Cs(5,eD,2,0,"span",4),Cs(6,nD,2,0,"span",4),Ss(),Cs(7,oD,2,1,"div",5),Ss(),ks(8,"div",1),ks(9,"div",2),Ds("click",function(){return e.toggleTreePanel()}),ua(10),Cs(11,sD,2,0,"span",4),Cs(12,aD,2,0,"span",4),Ss(),Cs(13,mD,4,2,"div",5),Ss(),Ss()),2&t&&(Ur(1),Ps("className",e.categoryPanelExpanded?"expansion-panel category expanded":"expansion-panel category"),Ur(3),da(e.categoryPanelTitle),Ur(1),Ps("ngIf",e.categoryPanelExpanded),Ur(1),Ps("ngIf",!e.categoryPanelExpanded),Ur(1),Ps("ngIf",e.categoryPanelExpanded),Ur(1),Ps("className",e.treePanelExpanded?"expansion-panel tree expanded":"expansion-panel tree"),Ur(2),ha(" ",e.treePanelTitle," "),Ur(1),Ps("ngIf",e.treePanelExpanded),Ur(1),Ps("ngIf",!e.treePanelExpanded),Ur(1),Ps("ngIf",e.treePanelExpanded))},directives:[Pd,wd],styles:[".tree-selector-container[_ngcontent-%COMP%]{width:100%}.expansion-panels[_ngcontent-%COMP%]{width:100%;display:flex;gap:1rem;position:relative}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]{cursor:pointer;height:2.625rem;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);color:var(--text-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.category[_ngcontent-%COMP%]{z-index:11;width:40%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.tree[_ngcontent-%COMP%]{z-index:10;width:60%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.expanded[_ngcontent-%COMP%]{height:100%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 .625rem;height:2.625rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{width:calc(100% - .5rem)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:.5rem}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 10px 10px;max-height:70vh;overflow:auto}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:10px}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:.25rem;cursor:pointer;padding:.35rem .7rem;color:var(--text-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{background-color:var(--tree-item-selected);color:var(--app-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover:not(.expansion-panels   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.selected)[_ngcontent-%COMP%]{background-color:var(--tree-item-hover)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.disabled[_ngcontent-%COMP%]{opacity:.35}.icon.lock[_ngcontent-%COMP%]{font-size:.75rem}.icm-header[_ngcontent-%COMP%]{padding:.35rem .7rem;color:var(--text-color)}.icm-header[_ngcontent-%COMP%], .icm-stacks[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.icm-header[_ngcontent-%COMP%]   .icm-item[_ngcontent-%COMP%], .icm-stacks[_ngcontent-%COMP%]   .icm-item[_ngcontent-%COMP%]{width:2rem;text-align:center}"]}),t})();const _D=["trigger"],yD=["panel"];function vD(t,e){if(1&t&&(ks(0,"span",8),ua(1),Ss()),2&t){const t=Vs();Ur(1),da(t.placeholder||"\xa0")}}function CD(t,e){if(1&t&&(ks(0,"span"),ua(1),Ss()),2&t){const t=Vs(2);Ur(1),da(t.triggerValue||"\xa0")}}function wD(t,e){1&t&&zs(0,0,["*ngSwitchCase","true"])}function xD(t,e){1&t&&(ks(0,"span",9),Cs(1,CD,2,1,"span",10),Cs(2,wD,1,0,"ng-content",11),Ss()),2&t&&(Ps("ngSwitch",!!Vs().customTrigger),Ur(2),Ps("ngSwitchCase",!0))}function PD(t,e){if(1&t){const t=Fs();ks(0,"div",12),ks(1,"div",13,14),Ds("@transformPanel.done",function(e){return Re(t),Vs()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return Re(t),Vs()._handleKeydown(e)}),zs(3,1),Ss(),Ss()}if(2&t){const t=Vs();Ps("@transformPanelWrap",void 0),Ur(1),"mat-select-panel ",n=t._getPanelTheme(),"",ea(Xn,Xs,vs(Te(),"mat-select-panel ",n,""),!0),Zs("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),Ps("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),ys("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}var n}const OD=[[["mat-select-trigger"]],"*"],kD=["mat-select-trigger","*"],SD={transformPanelWrap:OO("transformPanelWrap",[RO("* => void",IO("@transformPanel",[FO()],{optional:!0}))]),transformPanel:OO("transformPanel",[TO("void",MO({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),TO("showing",MO({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),TO("showing-multiple",MO({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),RO("void => *",kO("120ms cubic-bezier(0, 0, 0.2, 1)")),RO("* => void",kO("100ms 25ms linear",MO({opacity:0})))])};let MD=0;const TD=new qn("mat-select-scroll-strategy"),ED=new qn("MAT_SELECT_CONFIG"),RD={provide:TD,deps:[NP],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class FD{constructor(t,e){this.source=t,this.value=e}}class ID{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const AD=iM(rM(eM(oM(ID)))),DD=new qn("MatSelectTrigger");let LD=(()=>{class t extends AD{constructor(t,e,n,i,r,o,s,a,l,c,u,d,h,p){var f,g,m;super(r,i,s,a,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=h,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+MD++,this._triggerAriaLabelledBy=null,this._destroy=new x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+MD++,this._panelDoneAnimatingStream=new x,this._overlayPanelClass=(null===(f=this._defaultOptions)||void 0===f?void 0:f.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(m=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==m&&m,this.ariaLabel="",this.optionSelectionChanges=_p(()=>{const t=this.options;return t?t.changes.pipe(Np(t),Rp(()=>q(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Ap(1),Rp(()=>this.optionSelectionChanges))}),this.openedChange=new ql,this._openedStream=this.openedChange.pipe(kh(t=>t),k(()=>{})),this._closedStream=this.openedChange.pipe(kh(t=>!t),k(()=>{})),this.selectionChange=new ql,this.valueChange=new ql,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(u)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Vw(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Vw(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Vw(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Hw(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Bx(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(rb(),hx(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(hx(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Np(null),hx(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!pP(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;r.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||pP(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Ap(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new oO(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(hx(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(hx(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=q(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(hx(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),q(...this.options.map(t=>t._stateChanges)).pipe(hx(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(xs(Kx),xs(ll),xs(Lc),xs(sM),xs(ja),xs(Rx,8),xs(mw,8),xs(Ow,8),xs(QT,8),xs(FC,10),zn("tabindex"),xs(TD),xs(fO),xs(ED,8))},t.\u0275dir=qt({type:t,viewQuery:function(t,e){if(1&t&&(oc(_D,!0),oc(yD,!0),oc($P,!0)),2&t){let t;ic(t=uc())&&(e.trigger=t.first),ic(t=uc())&&(e.panel=t.first),ic(t=uc())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[ss,ae]}),t})(),BD=(()=>{class t extends LD{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(hx(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Ap(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}_scrollOptionIntoView(t){const e=TM(t,this.options,this.optionGroups),n=this._getItemHeight();var i,r,o;this.panel.nativeElement.scrollTop=(r=n,256,(i=(t+e)*n)<(o=this.panel.nativeElement.scrollTop)?i:i+r>o+256?Math.max(0,i-256+r):o)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new FD(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const o=0-(t.left+r-(n?i:0)),s=t.right+r-e.width+(n?0:i);o>0?r+=o+8:s>0&&(r-=s+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,o=Math.floor(256/i);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*s-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;s>r?this._adjustPanelUp(s,r):o>i?this._adjustPanelDown(o,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=TM(r,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(r,o,i),this._offsetY=this._calculateOverlayOffsetY(r,o,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return ND(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(ac(n,DD,!0),ac(n,MM,!0),ac(n,xM,!0)),2&t){let t;ic(t=uc())&&(e.customTrigger=t.first),ic(t=uc())&&(e.options=t),ic(t=uc())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&Ds("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(ys("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),Js("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Fa([{provide:NT,useExisting:t},{provide:kM,useExisting:t}]),ss],ngContentSelectors:kD,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&($s(OD),ks(0,"div",0,1),Ds("click",function(){return e.toggle()}),ks(3,"div",2),Cs(4,vD,2,1,"span",3),Cs(5,xD,3,2,"span",4),Ss(),ks(6,"div",5),Ms(7,"div",6),Ss(),Ss(),Cs(8,PD,4,14,"ng-template",7),Ds("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=ws(1);ys("aria-owns",e.panelOpen?e.id+"-panel":null),Ur(3),Ps("ngSwitch",e.empty),ys("id",e._valueId),Ur(1),Ps("ngSwitchCase",!0),Ur(1),Ps("ngSwitchCase",!1),Ur(3),Ps("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[HP,Md,Td,$P,Ed,vd],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[SD.transformPanelWrap,SD.transformPanel]},changeDetection:0}),t})();const ND=$n(BD);let jD=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[RD],imports:[[Ud,UP,EM,tM],Xx,ZT,EM,tM]}),t})();function VD(t,e){1&t&&(ks(0,"span",5),Ms(1,"i",6),Ss())}function HD(t,e){1&t&&(ks(0,"span",5),Ms(1,"i",7),Ss())}function $D(t,e){1&t&&(ks(0,"div",12),Ms(1,"i",13),Ss())}function zD(t,e){if(1&t){const t=Fs();ks(0,"div",10),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(2).selectCategory(n)}),ks(1,"div"),ua(2),Ss(),Cs(3,$D,2,0,"div",11),Ss()}if(2&t){const t=e.$implicit,n=Vs(2);Js("selected",n.isSelectedCategory(t))("disabled",t.isLocked),Ur(2),da(n.getCategoryTitle(t)),Ur(1),Ps("ngIf",t.isLocked)}}function UD(t,e){if(1&t&&(ks(0,"div",8),Cs(1,zD,4,6,"div",9),Ss()),2&t){const t=Vs();Ur(1),Ps("ngForOf",t.sortedCategories)}}function qD(t,e){1&t&&(ks(0,"span",5),Ms(1,"i",6),Ss())}function WD(t,e){1&t&&(ks(0,"span",5),Ms(1,"i",7),Ss())}function GD(t,e){if(1&t&&(ks(0,"mat-option",22),ua(1),Ss()),2&t){const t=e.$implicit,n=Vs(2);Ps("value",t)("disabled",!n.isSelectableStackSize(t)),Ur(1),ha(" ",t," bb ")}}function KD(t,e){if(1&t&&(ks(0,"mat-option",22),ua(1),Ss()),2&t){const t=e.$implicit,n=Vs(2);Ps("value",t)("disabled",!n.isSelectableScenario(t)),Ur(1),ha(" ",n.getScenarioLabel(t)," ")}}function QD(t,e){if(1&t&&(ks(0,"mat-option",22),ua(1),Ss()),2&t){const t=e.$implicit,n=Vs(4);Ps("value",t)("disabled",!n.isSelectableFirstPosition(t)),Ur(1),ha(" ",t," ")}}function YD(t,e){if(1&t&&(Ts(0),ks(1,"mat-option"),ua(2,"---"),Ss(),Cs(3,QD,2,3,"mat-option",17),Es()),2&t){const t=Vs(3);Ur(3),Ps("ngForOf",t.positions)}}function ZD(t,e){if(1&t&&(Ts(0),ks(1,"mat-option",26),ua(2),Ss(),Es()),2&t){const t=Vs(3);Ur(1),Ps("value",t.GamePosition.SB),Ur(1),ha(" ",t.GamePosition.SB," ")}}function JD(t,e){if(1&t&&(ks(0,"mat-option",22),ua(1),Ss()),2&t){const t=e.$implicit,n=Vs(4);Ps("value",t)("disabled",!n.isSelectableSecondPosition(t)),Ur(1),ha(" ",t," ")}}function XD(t,e){if(1&t&&(Ts(0),ks(1,"mat-option"),ua(2,"---"),Ss(),Cs(3,JD,2,3,"mat-option",17),Es()),2&t){const t=Vs(3);Ur(3),Ps("ngForOf",t.positions)}}function tL(t,e){if(1&t&&(Ts(0),ks(1,"mat-option",26),ua(2),Ss(),Es()),2&t){const t=Vs(3);Ur(1),Ps("value",t.GamePosition.BB),Ur(1),ha(" ",t.GamePosition.BB," ")}}function eL(t,e){if(1&t){const t=Fs();ks(0,"div",23),ks(1,"mat-form-field",15),ks(2,"mat-label"),ua(3,"Position 1"),Ss(),ks(4,"mat-select",24),Ds("valueChange",function(e){return Re(t),Vs(2).selectedFirstPosition=e}),Cs(5,YD,4,1,"ng-container",25),Cs(6,ZD,3,2,"ng-container",25),Ss(),Ss(),ks(7,"mat-form-field",15),ks(8,"mat-label"),ua(9,"Position 2"),Ss(),ks(10,"mat-select",24),Ds("valueChange",function(e){return Re(t),Vs(2).selectedSecondPosition=e}),Cs(11,XD,4,1,"ng-container",25),Cs(12,tL,3,2,"ng-container",25),Ss(),Ss(),Ss()}if(2&t){const t=Vs(2);Ur(4),Ps("value",t.selectedFirstPosition),Ur(1),Ps("ngIf",!t.isHeadsUpCategory(t.selectedCategory)),Ur(1),Ps("ngIf",t.isHeadsUpCategory(t.selectedCategory)),Ur(4),Ps("value",t.selectedSecondPosition),Ur(1),Ps("ngIf",!t.isHeadsUpCategory(t.selectedCategory)),Ur(1),Ps("ngIf",t.isHeadsUpCategory(t.selectedCategory))}}function nL(t,e){1&t&&(ks(0,"div",12),Ms(1,"i",13),Ss())}function iL(t,e){if(1&t){const t=Fs();ks(0,"div",10),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(3).emitSelect(n)}),ks(1,"div"),ua(2),Ss(),Cs(3,nL,2,0,"div",11),Ss()}if(2&t){const t=e.$implicit;Js("selected",Vs(3).isSelected(t))("disabled",t.isLocked),Ur(2),da(t.multiwayLabel),Ur(1),Ps("ngIf",t.isLocked)}}function rL(t,e){if(1&t&&(ks(0,"div",27),Cs(1,iL,4,6,"div",9),Ss()),2&t){const t=Vs(2);Ur(1),Ps("ngForOf",t.filteredTrees)}}function oL(t,e){if(1&t){const t=Fs();ks(0,"div",8),ks(1,"div",14),ks(2,"mat-form-field",15),ks(3,"mat-label"),ua(4,"Stack size"),Ss(),ks(5,"mat-select",16),Ds("valueChange",function(e){return Re(t),Vs().selectedStackSize=e}),ks(6,"mat-option"),ua(7,"---"),Ss(),Cs(8,GD,2,3,"mat-option",17),Ss(),Ss(),ks(9,"mat-form-field",15),ks(10,"mat-label"),ua(11,"Scenario"),Ss(),ks(12,"mat-select",16),Ds("valueChange",function(e){return Re(t),Vs().selectedScenario=e}),ks(13,"mat-option"),ua(14,"---"),Ss(),Cs(15,KD,2,3,"mat-option",17),Ss(),Ss(),Ss(),Cs(16,eL,13,6,"div",18),Cs(17,rL,2,1,"div",19),ks(18,"div",20),ks(19,"a",21),Ds("click",function(){return Re(t),Vs().clearSelection()}),ua(20,"Clear selection"),Ss(),ks(21,"a",21),Ds("click",function(){return Re(t),Vs().applySelection()}),ua(22,"Apply selection"),Ss(),Ss(),Ss()}if(2&t){const t=Vs();Ur(5),Ps("value",t.selectedStackSize),Ur(3),Ps("ngForOf",t.stackSizes),Ur(4),Ps("value",t.selectedScenario),Ur(3),Ps("ngForOf",t.sortedScenarios),Ur(1),Ps("ngIf",t.allowSelectingPositions(t.selectedCategory)),Ur(1),Ps("ngIf",t.isMultiwayCategory(t.selectedCategory)&&t.isValidMultiwaySelection())}}let sL=(()=>{class t{constructor(t){this.dialog=t,this.selectedTree=null,this.selected=new ql,this.categoryPanelExpanded=!1,this.treePanelExpanded=!1,this.GamePosition=U_,this.postflopPanelOpenState=[],this.selectedStackSize=null,this.selectedScenario=null,this.selectedFirstPosition=null,this.selectedSecondPosition=null}onGlobalClick(t){var e,n;if(this.categoryPanelExpanded||this.treePanelExpanded){for(const i of t.composedPath()){const t=i;if((null===(e=null==t?void 0:t.classList)||void 0===e?void 0:e.contains("expansion-panel"))||(null===(n=null==t?void 0:t.classList)||void 0===n?void 0:n.contains("mat-option")))return}this.closePanels()}}ngOnChanges(t){var e;if(null===(e=t.selectedTree)||void 0===e?void 0:e.currentValue){const e=this.getCategoryForTree(t.selectedTree.currentValue);this.selectedCategory=e;const n=this.getTree(t.selectedTree.currentValue);(null==n?void 0:n.type)===X_.postflop&&(this.isHeadsUpCategory(e)?(this.selectedFirstPosition=U_.SB,this.selectedSecondPosition=U_.BB):2===n.activePlayers.length&&(this.selectedFirstPosition=n.activePlayers[0],this.selectedSecondPosition=n.activePlayers[1]),this.selectedStackSize=n.stack,this.selectedScenario=n.preflop.type)}}expandTreePanel(){this.categoryPanelExpanded=!1,this.treePanelExpanded=!0}toggleCategoryPanel(){this.categoryPanelExpanded=!this.categoryPanelExpanded,this.treePanelExpanded=!1}toggleTreePanel(){this.treePanelExpanded=!this.treePanelExpanded,this.categoryPanelExpanded=!1}allowSelectingPositions(t){return!this.isHeadsUpCategory(t)&&!this.isMultiwayCategory(t)}getCategoryForTree(t){for(const e of this.treesByCategory)if(e.trees.find(e=>e.key===t))return e}get isFiveCard(){return!1}get sortedCategories(){return this.treesByCategory.sort((t,e)=>ty[t.label]-ty[e.label])}get categoryPanelTitle(){return this.selectedCategory&&!this.categoryPanelExpanded?this.getCategoryTitle(this.selectedCategory):"Categories"}get treePanelTitle(){const t=this.getTree(this.selectedTree);return this.treePanelExpanded||!t?"Trees":ly(t,this.isFiveCard)}getTree(t){for(const e of this.treesByCategory){const n=e.trees.find(e=>e.key===t);if(n)return n}}selectCategory(t){dF()&&"PLO5C-HU"===t.label?this.dialog.open(IE,{data:{title:"Not available",content:["5-Card Heads Up is not available on mobile devices!"],confirmLabel:"Ok",confirmOnly:!0}}):t.isLocked?this.dialog.open(_R,{data:{featureText:this.getCategoryTitle(t)}}):(t!==this.selectedCategory&&(this.selectedCategory=t,this.clearSelection(),this.isHeadsUpCategory(t)?(this.selectedFirstPosition=U_.SB,this.selectedSecondPosition=U_.BB):(this.selectedFirstPosition=null,this.selectedSecondPosition=null)),this.categoryPanelExpanded=!1,this.treePanelExpanded=!0)}isSelectedCategory(t){return t===this.selectedCategory}isDisabledCategory(t){return dF()?"PLO5C-HU"===t.label:t.isLocked}get sortedScenarios(){return this.scenarios.sort((t,e)=>ay[t]-ay[e])}isHeadsUpCategory(t){return"PLO-HU"===(null==t?void 0:t.label)||"PLO5C-HU"===(null==t?void 0:t.label)}isMultiwayCategory(t){return ry(t.label)}clearSelection(){this.selectedScenario=null,this.selectedStackSize=null,this.selectedFirstPosition=null,this.selectedSecondPosition=null}applySelection(){this.checkCurrentSelection()}isSelected(t){return this.selectedTree&&this.selectedTree===t.key}getCategoryTitle(t){return ny(t.label)}get filteredTrees(){return this.selectedCategory?this.filterTrees(this.selectedCategory,this.selectedStackSize,this.selectedScenario,this.selectedFirstPosition,this.selectedSecondPosition):[]}filterTrees(t,e,n,i,r){if(this.treesByCategory&&this.treesByCategory.find(e=>e.label===t.label)){let o=this.treesByCategory.find(e=>e.label===t.label).trees;return e&&(o=o.filter(t=>t.stack===e)),n&&(o=o.filter(t=>t.preflop.type.toLowerCase()===n.toLowerCase())),"PLO-MULTI"!==t.label&&(i&&(o=o.filter(t=>t.activePlayers.includes(i))),r&&(o=o.filter(t=>t.activePlayers.includes(r)))),o.filter(t=>!t.isLocked)}return[]}get stackSizes(){if(this.selectedCategory){const t=this.treesByCategory.find(t=>t.label===this.selectedCategory.label);if(t)return Array.from(new Set(t.trees.map(t=>t.stack))).sort((t,e)=>t-e)}return[100]}get scenarios(){if(this.selectedCategory){const t=this.treesByCategory.find(t=>t.label===this.selectedCategory.label);if(t)return Array.from(new Set(t.trees.map(t=>t.preflop.type))).sort()}return[]}get positions(){return this.isHeadsUpCategory(this.selectedCategory)?[U_.SB,U_.BB]:[U_.EP,U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB]}getScenarioLabel(t){switch(t){case"SRP":return"Single raised pot";case"3BP":return"3-bet pot";case"4BP":return"4-bet pot";case"LIMP":return"Limp pot"}}isSelectableStackSize(t){return!!this.filterTrees(this.selectedCategory,null,this.selectedScenario,this.selectedFirstPosition,this.selectedSecondPosition).find(e=>e.stack===t)}isSelectableScenario(t){return!!this.filterTrees(this.selectedCategory,this.selectedStackSize,null,this.selectedFirstPosition,this.selectedSecondPosition).find(e=>e.preflop.type.toUpperCase()===t.toUpperCase())}isSelectableFirstPosition(t){return!(this.selectedSecondPosition&&t===this.selectedSecondPosition||!this.filterTrees(this.selectedCategory,this.selectedStackSize,this.selectedScenario,null,this.selectedSecondPosition).find(e=>e.activePlayers.includes(t)))}isSelectableSecondPosition(t){return!(this.selectedFirstPosition&&t===this.selectedFirstPosition||!this.filterTrees(this.selectedCategory,this.selectedStackSize,this.selectedScenario,this.selectedFirstPosition,null).find(e=>e.activePlayers.includes(t)))}isSelectableThirdPosition(t){return!(this.selectedFirstPosition&&t===this.selectedFirstPosition||!this.filterTrees(this.selectedCategory,this.selectedStackSize,this.selectedScenario,this.selectedFirstPosition,this.selectedSecondPosition).find(e=>e.activePlayers.includes(t)))}checkCurrentSelection(){"PLO-MULTI"!==this.selectedCategory.label&&"PLO5C-MULTI"!==this.selectedCategory.label&&this.isValidSelection()&&(1===this.filteredTrees.length?this.emitSelect(this.filteredTrees[0]):console.error("What tree to load now?",this.filteredTrees))}isValidSelection(){return this.selectedScenario&&this.selectedStackSize&&this.selectedFirstPosition&&this.selectedSecondPosition&&this.selectedFirstPosition!==this.selectedSecondPosition}isValidMultiwaySelection(){return!!this.selectedScenario&&!!this.selectedStackSize}emitSelect(t){t.isLocked?this.dialog.open(qR):(this.closePanels(),this.selected.emit(t))}closePanels(){this.categoryPanelExpanded=!1,this.treePanelExpanded=!1}}return t.\u0275fac=function(e){return new(e||t)(xs(qM))},t.\u0275cmp=Nt({type:t,selectors:[["app-postflop-tree-selector"]],hostBindings:function(t,e){1&t&&Ds("mousedown",function(t){return e.onGlobalClick(t)},!1,nr)},inputs:{treesByCategory:"treesByCategory",selectedTree:"selectedTree"},outputs:{selected:"selected"},features:[ae],decls:13,vars:10,consts:[[1,"expansion-panels"],[3,"className"],[1,"header",3,"click"],["class","icon",4,"ngIf"],["class","content",4,"ngIf"],[1,"icon"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],[1,"content"],["class","item",3,"selected","disabled","click",4,"ngFor","ngForOf"],[1,"item",3,"click"],["class","icon lock",4,"ngIf"],[1,"icon","lock"],[1,"fas","fa-lock"],[1,"selection"],["color","accent","appearance","fill"],[3,"value","valueChange"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","selection positions",4,"ngIf"],["class","tree-list",4,"ngIf"],[1,"clear-link"],[3,"click"],[3,"value","disabled"],[1,"selection","positions"],["panelClass","long-panel",3,"value","valueChange"],[4,"ngIf"],[3,"value"],[1,"tree-list"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"div",1),ks(2,"div",2),Ds("click",function(){return e.toggleCategoryPanel()}),ua(3),Cs(4,VD,2,0,"span",3),Cs(5,HD,2,0,"span",3),Ss(),Cs(6,UD,2,1,"div",4),Ss(),ks(7,"div",1),ks(8,"div",2),Ds("click",function(){return e.toggleTreePanel()}),ua(9),Cs(10,qD,2,0,"span",3),Cs(11,WD,2,0,"span",3),Ss(),Cs(12,oL,23,6,"div",4),Ss(),Ss()),2&t&&(Ur(1),Ps("className",e.categoryPanelExpanded?"expansion-panel category expanded":"expansion-panel category"),Ur(2),ha(" ",e.categoryPanelTitle," "),Ur(1),Ps("ngIf",e.categoryPanelExpanded),Ur(1),Ps("ngIf",!e.categoryPanelExpanded),Ur(1),Ps("ngIf",e.categoryPanelExpanded),Ur(1),Ps("className",e.treePanelExpanded?"expansion-panel tree expanded":"expansion-panel tree"),Ur(2),ha(" ",e.treePanelTitle," "),Ur(1),Ps("ngIf",e.treePanelExpanded),Ur(1),Ps("ngIf",!e.treePanelExpanded),Ur(1),Ps("ngIf",e.treePanelExpanded&&e.selectedCategory))},directives:[Pd,wd,YT,VT,BD,MM],styles:[".mat-select-panel.long-panel{max-height:21.4rem}[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:8rem}[_nghost-%COMP%]     .mat-form-field.narrow, [_nghost-%COMP%]     .mat-select-content.narrow{width:6rem}[_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-option{color:var(--text-color)!important}  .mat-option-disabled{color:var(--text-color-disabled)!important}.expansion-panels[_ngcontent-%COMP%]{width:100%;display:flex;gap:1rem;position:relative}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]{cursor:pointer;height:2.625rem;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);color:var(--text-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.category[_ngcontent-%COMP%]{z-index:11;width:40%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.tree[_ngcontent-%COMP%]{z-index:10;width:60%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel.expanded[_ngcontent-%COMP%]{height:100%}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:2.5rem;padding:0 .625rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 .7rem .7rem}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .selection[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .clear-link[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-evenly;cursor:pointer;font-size:.8rem;color:var(--link-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .clear-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 .625rem;border:1px solid transparent}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .clear-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tree-list[_ngcontent-%COMP%]{margin-top:.7rem;display:flex;flex-direction:column;align-items:center}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:.25rem;cursor:pointer;padding:.35rem .7rem;color:var(--text-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{background-color:var(--tree-item-selected);color:var(--app-color)}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.disabled[_ngcontent-%COMP%]{opacity:.35}.expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover:not(.expansion-panels   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%], .expansion-panels[_ngcontent-%COMP%]   .expansion-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item.disabled)[_ngcontent-%COMP%]{background-color:var(--tree-item-hover)}.icon.lock[_ngcontent-%COMP%]{font-size:.75rem}"]}),t})();const aL=["input"],lL=function(){return{enterDuration:150}},cL=["*"],uL=new qn("mat-checkbox-default-options",{providedIn:"root",factory:dL});function dL(){return{color:"accent",clickAction:"check-indeterminate"}}let hL=0;const pL=dL(),fL={provide:aC,useExisting:rt(()=>_L),multi:!0};class gL{}class mL{constructor(t){this._elementRef=t}}const bL=rM(nM(iM(eM(mL))));let _L=(()=>{class t extends bL{constructor(t,e,n,i,r,o,s){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._animationMode=o,this._options=s,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++hL,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new ql,this.indeterminateChange=new ql,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||pL,this.color=this.defaultColor=this._options.color||pL.color,this.tabIndex=parseInt(r)||0}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(t){this._required=Vw(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=Vw(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=Vw(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new gL;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){var e;const n=null===(e=this._options)||void 0===e?void 0:e.clickAction;t.stopPropagation(),this.disabled||"noop"===n?this.disabled||"noop"!==n||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==n&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs(_O),xs(Lc),zn("tabindex"),xs(WS,8),xs(uL,8))},t.\u0275cmp=Nt({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(oc(aL,!0),oc(fM,!0)),2&t){let t;ic(t=uc())&&(e._inputElement=t.first),ic(t=uc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(ga("id",e.id),ys("tabindex",null),Js("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Fa([fL]),ss],ngContentSelectors:cL,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&($s(),ks(0,"label",0,1),ks(2,"span",2),ks(3,"input",3,4),Ds("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),Ss(),ks(5,"span",5),Ms(6,"span",6),Ss(),Ms(7,"span",7),ks(8,"span",8),sn(),ks(9,"svg",9),Ms(10,"path",10),Ss(),Se.lFrame.currentNamespace=null,Ms(11,"span",11),Ss(),Ss(),ks(12,"span",12,13),Ds("cdkObserveContent",function(){return e._onLabelTextChange()}),ks(14,"span",14),ua(15,"\xa0"),Ss(),zs(16),Ss(),Ss()),2&t){const t=ws(1),n=ws(13);ys("for",e.inputId),Ur(2),Js("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),Ur(1),Ps("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),ys("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),Ur(2),Ps("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function(t,e,n){const i=je()+19,r=Te();return r[i]===zr?ms(r,i,e()):function(t,e){return t[e]}(r,i)}(0,lL))}},directives:[fM,ZP],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),yL=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),vL=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[gM,tM,JP,yL],tM,yL]}),t})();const CL=["bbSizeInput"];function wL(t,e){if(1&t){const t=Fs();ks(0,"div",5),ks(1,"div",6),Ds("click",function(){return Re(t),Vs(),ws(2).click()}),ua(2,"Load"),Ss(),ks(3,"div",6),Ds("click",function(){return Re(t),Vs().create()}),ua(4,"New"),Ss(),ks(5,"div",6),Ds("click",function(){return Re(t),Vs().edit()}),ua(6,"Edit"),Ss(),ks(7,"div",6),Ds("click",function(){return Re(t),Vs().export()}),ua(8,"Save"),Ss(),Ss()}if(2&t){const t=Vs();Ur(5),Js("disabled",!t.hasCustomSim),Ur(2),Js("disabled",!t.hasCustomSim)}}function xL(t,e){if(1&t&&(ks(0,"mat-option",40),ua(1),Ss()),2&t){const t=e.$implicit;Ps("value",t),Ur(1),da(t)}}function PL(t,e){if(1&t&&(Ts(0),ua(1),Vl(2,"number"),Es()),2&t){const t=Vs().$implicit,e=Vs(2);Ur(1),ha(" ",$l(2,1,e.numberOfRows(t.range),"2.")," rows ")}}function OL(t,e){if(1&t){const t=Fs();ks(0,"div",41),Ds("click",function(){Re(t);const e=Vs().index;return Vs(2).importRangeFromClipboard(e)}),ua(1,"Import from clipboard"),Ss()}}function kL(t,e){if(1&t){const t=Fs();ks(0,"input",42),Ds("change",function(e){Re(t);const n=Vs().index;return Vs(2).importRangeFromFile(e,n)}),Ss(),ks(1,"div",41),Ds("click",function(){Re(t);const e=Vs().index;return Vs(2).openImportRangeFromFileSelector(e)}),ua(2,"Import from file"),Ss()}if(2&t){const t=Vs().index;Ps("id",Vs(2).dynamicFileUploadId(t))}}function SL(t,e){if(1&t){const t=Fs();ks(0,"div",29),ks(1,"mat-form-field",30),ks(2,"mat-label"),ua(3),Ss(),ks(4,"mat-select",31),Ds("valueChange",function(t){return e.$implicit.label=t}),Cs(5,xL,2,2,"mat-option",26),Ss(),Ss(),ks(6,"mat-form-field",32),ks(7,"mat-label"),ua(8,"Size"),Ss(),ks(9,"input",33),Ds("ngModelChange",function(t){return e.$implicit.amountLabel=t}),Ss(),Ss(),ks(10,"div",34),Cs(11,PL,3,4,"ng-container",35),Ss(),Cs(12,OL,2,0,"div",36),Cs(13,kL,3,1,"ng-template",null,37,fc),ks(15,"div",38),Ds("click",function(){Re(t);const n=e.index;return Vs(2).removeAction(n)}),Ms(16,"i",39),Ss(),Ss()}if(2&t){const t=e.$implicit,n=e.index,i=ws(14),r=Vs(2);Ur(3),ha("Action "," "+(n+1),""),Ur(1),Ps("value",t.label),Ur(1),Ps("ngForOf",r.actionTypeOptions),Ur(1),Js("show",r.hasAmount(t)),Ur(3),Ps("ngModel",t.amountLabel),Ur(2),Ps("ngIf",(null==t.range?null:t.range.length)>0),Ur(1),Ps("ngIf",r.canImportFromClipboard)("ngIfElse",i),Ur(3),Js("hide",r.actions.length<=2)}}function ML(t,e){if(1&t&&(ks(0,"mat-option",40),ua(1),Ss()),2&t){const t=e.$implicit;Ps("value",t),Ur(1),da(t)}}function TL(t,e){if(1&t){const t=Fs();ks(0,"div",45),ks(1,"mat-form-field",17),ks(2,"mat-label"),ua(3,"Position"),Ss(),ks(4,"input",33),Ds("ngModelChange",function(t){return e.$implicit.label=t}),Ss(),Ss(),ks(5,"mat-form-field",17),ks(6,"mat-label"),ua(7,"Stack"),Ss(),ks(8,"input",46),Ds("ngModelChange",function(t){return e.$implicit.stack=t}),Ss(),Ss(),ks(9,"mat-form-field",17),ks(10,"mat-label"),ua(11,"Bets"),Ss(),ks(12,"input",46),Ds("ngModelChange",function(t){return e.$implicit.bets=t}),Ss(),Ss(),ks(13,"mat-checkbox",47),Ds("ngModelChange",function(t){return e.$implicit.isInHand=t}),ua(14," In Hand "),Ss(),ks(15,"mat-checkbox",48),Ds("change",function(){Re(t);const n=e.$implicit;return Vs(3).setActivePlayer(n)}),ua(16," Active "),Ss(),ks(17,"mat-checkbox",49),ua(18," Dealer "),Ss(),Ss()}if(2&t){const t=e.$implicit;Ur(4),Ps("ngModel",t.label),Ur(4),Ps("ngModel",t.stack),Ur(4),Ps("ngModel",t.bets),Ur(1),Ps("ngModel",t.isInHand)("checked",t.isInHand),Ur(2),Ps("checked",t.isActive),Ur(2),Js("show",t.isDealer),Ps("disabled",!0)("checked",!0)}}function EL(t,e){if(1&t&&(ks(0,"div",43),Cs(1,TL,19,10,"div",44),Ss()),2&t){const t=Vs(2);Ur(1),Ps("ngForOf",t.players)}}function RL(t,e){if(1&t){const t=Fs();ks(0,"div",7),ks(1,"div",8),ua(2," Create custom node "),Ss(),ks(3,"div",9),ks(4,"mat-form-field",10),ks(5,"mat-label"),ua(6,"Label"),Ss(),ks(7,"input",11),Ds("ngModelChange",function(e){return Re(t),Vs().label=e}),Ss(),Ss(),Ss(),ks(8,"div",12),Cs(9,SL,17,11,"div",13),ks(10,"div",14),Ds("click",function(){return Re(t),Vs().addAction()}),Ms(11,"i",15),Ss(),Ss(),ks(12,"div",16),ks(13,"mat-form-field",17),ks(14,"mat-label"),ua(15,"Board"),Ss(),ks(16,"input",18),Ds("ngModelChange",function(e){return Re(t),Vs().board=e}),Ss(),Ss(),ks(17,"span"),ua(18,"(Leave empty for preflop)"),Ss(),Ss(),ks(19,"div",19),ks(20,"mat-form-field",17),ks(21,"mat-label"),ua(22,"BB Size (Mchip)"),Ss(),ks(23,"input",20,21),Ds("ngModelChange",function(e){return Re(t),Vs().bbSize=e}),Ss(),Ss(),Ss(),ks(25,"div",22),ks(26,"mat-form-field",17),ks(27,"mat-label"),ua(28,"Pot"),Ss(),ks(29,"input",23),Ds("ngModelChange",function(e){return Re(t),Vs().pot=e}),Ss(),Ss(),Ss(),ks(30,"div",24),ks(31,"mat-form-field",17),ks(32,"mat-label"),ua(33,"Players"),Ss(),ks(34,"mat-select",25),Ds("valueChange",function(e){return Re(t),Vs().numberOfPlayers=e})("selectionChange",function(e){return Re(t),Vs().updatePlayers(e)}),Cs(35,ML,2,2,"mat-option",26),Ss(),Ss(),Ss(),Cs(36,EL,2,1,"div",27),ks(37,"div",5),ks(38,"div",6),Ds("click",function(){return Re(t),Vs().reset()}),ua(39,"Cancel"),Ss(),ks(40,"div",28),Ds("click",function(){return Re(t),Vs().import()}),ua(41,"Confirm"),Ss(),Ss(),Ss()}if(2&t){const t=Vs();Ur(7),Ps("ngModel",t.label),Ur(2),Ps("ngForOf",t.actions),Ur(1),Js("hide",4===t.actions.length),Ur(6),Ps("ngModel",t.board),Ur(7),Ps("ngModel",t.bbSize),Ur(6),Ps("ngModel",t.pot),Ur(5),Ps("value",t.numberOfPlayers),Ur(1),Ps("ngForOf",t.numberOfPlayerOptions),Ur(1),Ps("ngIf",t.numberOfPlayers>0),Ur(4),Js("disabled",!t.allowSave),Ps("matTooltip",t.allowSave?"":"Please fill out all fields")}}let FL=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.customSimService=e,this.customSimTrainingService=n,this.dialog=i,this.snackbar=r,this._actions=[{label:null},{label:null}],this.bbSize=2e3}ngOnInit(){this.reset(),this.customSimTrainingService.reset()}get allowSave(){var t;const e=t=>null!=t;return(null===(t=this.label)||void 0===t?void 0:t.length)>0&&e(this.pot)&&e(this.numberOfPlayers)&&this.bbSize>=1&&this.actions.length>=2&&this.actions.every(t=>{var e,n;return(null===(e=t.label)||void 0===e?void 0:e.length)>0&&(null===(n=t.range)||void 0===n?void 0:n.length)>0})}get hasCustomSim(){return this.customSimService.hasCustomSim}get creatingNewSim(){return this.customSimService.isCreatingOrEditingSim}load(t){const e=t.target.files[0];this.router.navigate([""],{queryParams:{}}),this.customSimService.loadCustomSim(e)}create(){this.reset(),this.customSimService.isCreatingOrEditingSim=!0}edit(){const t=this.customSimService.currentSim;this.label=t.label,this._actions=t.actions,this.board=t.board,this.pot=t.setup.pot,this.numberOfPlayers=t.setup.numberOfPlayers,this.players=t.setup.players.map(t=>Object.assign({},t)),this.bbSize=t.bbSize,this.customSimService.isCreatingOrEditingSim=!0}export(){this.customSimService.exportCurrentSim()}get numberOfPlayerOptions(){return[2,3,4,5,6,8]}get actionTypeMapping(){return[{label:"Fold",type:Q_.FOLD},{label:"Check",type:Q_.CHECK},{label:"Call",type:Q_.CALL},{label:"Bet",type:Q_.RAISE},{label:"Raise",type:Q_.RAISE,hasPrevBet:!0},{label:"All-In",type:Q_.ALLIN}]}get actionTypeOptions(){return this.actionTypeMapping.map(t=>t.label)}updatePlayers(t){const e=t.value;2===e?this.players=[{position:U_.SB,label:"SB",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:U_.BB,label:"BB",stack:100,bets:0,isInHand:!0}]:3===e?this.players=[{position:U_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:U_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:U_.BB,label:"BB",stack:100,bets:0,isInHand:!0}]:4===e?this.players=[{position:U_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:U_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:U_.BB,label:"BB",stack:100,bets:0,isInHand:!0},{position:U_.CO,label:"CO",stack:100,bets:0,isInHand:!0}]:5===e?this.players=[{position:U_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:U_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:U_.BB,label:"BB",stack:100,bets:0,isInHand:!0},{position:U_.MP,label:"MP",stack:100,bets:0,isInHand:!0},{position:U_.CO,label:"CO",stack:100,bets:0,isInHand:!0}]:6===e?this.players=[{position:U_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:U_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:U_.BB,label:"BB",stack:100,bets:0,isInHand:!0},{position:U_.EP,label:"EP",stack:100,bets:0,isInHand:!0},{position:U_.MP,label:"MP",stack:100,bets:0,isInHand:!0},{position:U_.CO,label:"CO",stack:100,bets:0,isInHand:!0}]:8===e&&(this.players=[{position:U_.BTN,label:"BTN",stack:100,bets:0,isDealer:!0,isInHand:!0,isActive:!0},{position:U_.SB,label:"SB",stack:100,bets:0,isInHand:!0},{position:U_.BB,label:"BB",stack:100,bets:0,isInHand:!0},{position:U_.EP,label:"EP",stack:100,bets:0,isInHand:!0},{position:U_.EP1,label:"EP1",stack:100,bets:0,isInHand:!0},{position:U_.EP2,label:"EP2",stack:100,bets:0,isInHand:!0},{position:U_.MP,label:"MP",stack:100,bets:0,isInHand:!0},{position:U_.CO,label:"CO",stack:100,bets:0,isInHand:!0}])}setActivePlayer(t){this.players.forEach(t=>t.isActive=!1),this.players.find(e=>e.label===t.label).isActive=!0}get actions(){return this._actions}hasAmount(t){return!!t.label&&this.actionTypeMapping.find(e=>e.label===t.label).type===Q_.RAISE}addAction(){this._actions.push({label:null,type:null})}removeAction(t){this._actions=[...this.actions.slice(0,t),...this.actions.slice(t+1)]}get canImportFromClipboard(){return!!navigator.clipboard.readText}numberOfRows(t){if(t)return t.split("\n").length}importRangeFromClipboard(t){return $m(this,void 0,void 0,function*(){const e=this._actions[t];if(navigator.clipboard.readText)try{const t=yield navigator.clipboard.readText();e.range=t.replaceAll("\\n","\n")}catch(n){console.error("Could not import range (readText)",n),this.snackbar.open("Could not import range from clipboard",null,{duration:2e3})}else this.openImportRangeFromFileSelector(t)})}dynamicFileUploadId(t){return"file-input-"+t}openImportRangeFromFileSelector(t){const e=this.dynamicFileUploadId(t);document.getElementById(e).click()}importRangeFromFile(t,e){return $m(this,void 0,void 0,function*(){const n=this._actions[e];try{const e=t.target.files[0],i=new FileReader;i.onloadend=()=>{n.range=i.result},i.readAsText(e)}catch(i){console.error("Could not import range from file",i),this.snackbar.open("Could not import range from file",null,{duration:2e3})}})}import(){if(this.allowSave)if(this.bbSize<500)this.dialog.open(IE,{data:{title:"Wrong bbSize",content:["Big blind size should be in Mchips and therefore not be < 500"],confirmLabel:"Ok",confirmOnly:!0}}).afterClosed().subscribe(()=>{var t,e;null===(e=null===(t=this.bbSizeInput)||void 0===t?void 0:t.nativeElement)||void 0===e||e.focus()});else try{const t={numberOfPlayers:this.numberOfPlayers,pot:this.pot,players:this.players};this._actions.forEach(t=>{const e=this.actionTypeMapping.find(e=>e.label===t.label);t.type=e.type,t.hasPrevBet=!!e.hasPrevBet}),this.customSimService.importCustomSim(this.label,this.actions,this.bbSize,this.board,t)&&this.reset()}catch(t){console.error(t)}}clearActions(){this._actions=[{label:null,type:null},{label:null,type:null}]}reset(){this.label=null,this.numberOfPlayers=null,this.players=null,this.board=null,this.pot=null,this.bbSize=2e3,this.clearActions(),this.customSimService.isCreatingOrEditingSim=!1}}return t.\u0275fac=function(e){return new(e||t)(xs(wm),xs(kA),xs(OA),xs(qM),xs(oA))},t.\u0275cmp=Nt({type:t,selectors:[["app-custom-sim-selector"]],viewQuery:function(t,e){if(1&t&&oc(CL,!0),2&t){let t;ic(t=uc())&&(e.bbSizeInput=t.first)}},decls:5,vars:2,consts:[[1,"container"],["type","file","accept","application/json",1,"file-input",3,"change"],["fileUpload",""],["class","controls clickable",4,"ngIf"],["class","new-sim-dialog",4,"ngIf"],[1,"controls","clickable"],[1,"control",3,"click"],[1,"new-sim-dialog"],[1,"header"],[1,"label"],["color","accent"],["matInput","","type","text","placeholder","Label","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[1,"actions"],["class","action",4,"ngFor","ngForOf"],[1,"action","clickable",3,"click"],[1,"fas","fa-plus-circle"],[1,"board"],["color","accent",1,"narrow"],["matInput","","type","text","placeholder","Board","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[1,"bb-size"],["matInput","","type","number","placeholder","Board","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],["bbSizeInput",""],[1,"pot"],["matInput","","type","number","lang","en","placeholder","Pot","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[1,"number-players"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","players",4,"ngIf"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"control",3,"matTooltip","click"],[1,"action"],["color","accent",1,"action-label","narrow"],[3,"value","valueChange"],["color","accent",1,"action-label","narrow","hide"],["matInput","","type","text","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[1,"range-info"],[4,"ngIf"],["class","button",3,"click",4,"ngIf","ngIfElse"],["noClipboard",""],[1,"clickable",3,"click"],[1,"fas","fa-times-circle"],[3,"value"],[1,"button",3,"click"],["type","file","accept","text/csv",1,"file-input",3,"id","change"],[1,"players"],["class","player",4,"ngFor","ngForOf"],[1,"player"],["matInput","","type","number","spellcheck","false","autocomplete","off",3,"ngModel","ngModelChange"],[3,"ngModel","checked","ngModelChange"],[3,"checked","change"],[1,"hide",3,"disabled","checked"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"input",1,2),Ds("change",function(t){return e.load(t)}),Ss(),Cs(3,wL,9,4,"div",3),Cs(4,RL,42,13,"div",4),Ss()),2&t&&(Ur(3),Ps("ngIf",!e.creatingNewSim),Ur(1),Ps("ngIf",e.creatingNewSim))},directives:[Pd,YT,VT,sE,hC,AC,yw,wd,BC,BD,oR,MM,_L],pipes:[Vd],styles:[".mat-select-panel.long-panel{max-height:300px}[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:100%}[_nghost-%COMP%]     .mat-form-field.narrow, [_nghost-%COMP%]     .mat-select-content.narrow{width:5rem}[_nghost-%COMP%]     .mat-checkbox-disabled .mat-checkbox-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     input, [_nghost-%COMP%]     textarea{font-size:1rem!important}  .mat-form-field-label{color:var(--text-color)!important}  .mat-form-field-ripple,   .mat-form-field-underline{background-color:var(--text-color)!important}  .mat-select-arrow{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-option{color:var(--text-color)!important}  .mat-option-disabled{color:var(--text-color-disabled)!important}  .mat-checkbox-inner-container{margin-right:2px!important}.hide.show[_ngcontent-%COMP%]{visibility:visible}.file-input[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{z-index:11;padding:.3175rem 0;position:relative;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);color:var(--text-color)}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;gap:1rem}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]{max-height:90vh;overflow-x:hidden;overflow-y:auto;padding:0 1rem;margin:1rem 5px 1rem 0}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:1.5rem}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;gap:.75rem}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]{width:6.5rem;text-align:right}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:1rem}.container[_ngcontent-%COMP%]   .new-sim-dialog[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;height:2rem;gap:1rem}.control[_ngcontent-%COMP%]{font-size:1rem}.button[_ngcontent-%COMP%], .control[_ngcontent-%COMP%]{cursor:pointer;pointer-events:auto;display:flex;align-items:center;padding:1px 1.25rem;color:var(--link-color)}.button.disabled[_ngcontent-%COMP%], .control.disabled[_ngcontent-%COMP%]{cursor:not-allowed;color:var(--text-color-disabled)}.button[_ngcontent-%COMP%]:hover:not(.disabled), .control[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}.clickable[_ngcontent-%COMP%]{min-width:1rem;cursor:pointer}.clickable[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.hide[_ngcontent-%COMP%]{visibility:hidden}.icon[_ngcontent-%COMP%]{color:var(--fa-icon-color)}"]}),t})();const IL=["preflopSelector"],AL=["postflopSelector"],DL=["customSelector"];function LL(t,e){if(1&t){const t=Fs();ks(0,"app-preflop-tree-selector",3,4),Ds("selected",function(e){return Re(t),Vs().loadPreflopTree(e)}),Vl(2,"async"),Ss()}if(2&t){const t=Vs();Ps("treesByCategory",Hl(2,2,t.preflopTreesByCategory$))("selectedTree",t.selectedTree)}}function BL(t,e){if(1&t){const t=Fs();ks(0,"app-postflop-tree-selector",3,5),Ds("selected",function(e){return Re(t),Vs().loadPostflopTree(e)}),Vl(2,"async"),Ss()}if(2&t){const t=Vs();Ps("treesByCategory",Hl(2,2,t.postflopTreesByCategory$))("selectedTree",t.selectedTree)}}function NL(t,e){1&t&&Ms(0,"app-custom-sim-selector",6,7)}var jL=function(t){return t[t.Preflop=0]="Preflop",t[t.Postflop=1]="Postflop",t[t.Custom=2]="Custom",t}({});let VL=(()=>{class t{constructor(t,e,n,i){this.router=t,this.route=e,this.store=n,this.dialog=i,this.collapse=new ql,this.Tab=jL,this.selectedTree=null,this.expandedCategory=null,this.selectedTab=jL.Preflop}ngOnInit(){this.preflopTreesByCategory$=this.store.pipe(Yb(my),k(t=>[...t].sort((t,e)=>-1*t.label.localeCompare(e.label)))),this.postflopTreesByCategory$=this.store.pipe(Yb(by),k(t=>[...t].sort((t,e)=>-1*t.label.localeCompare(e.label)))),this.currentTree$=this.store.pipe(Yb(yy)),this.treeSubscription=this.store.pipe(Yb(yy)).subscribe(t=>{t&&"custom"!=t.category.toLowerCase()?(this.selectedTree!==t.key&&this.showTree(t.type,t.profile,t.key),this.selectedTree=t.key):this.selectedTree=null})}ngOnDestroy(){this.treeSubscription&&this.treeSubscription.unsubscribe()}expandTreeSelection(){this.hasPreflopSelected?this.preflopSelector.expandTreePanel():this.postflopSelector.expandTreePanel()}get hasTrees(){return this.hasPreflopTrees||this.hasPostflopTrees}get hasPreflopTrees(){const t=dy(this.preflopTreesByCategory$);return t&&t.length>0}get hasPostflopTrees(){const t=dy(this.postflopTreesByCategory$);return t&&t.length>0}get hasPreflopSelected(){return this.selectedTab===jL.Preflop}get hasPostflopSelected(){return this.selectedTab===jL.Postflop}get hasCustomSelected(){return this.selectedTab===jL.Custom}selectPreflop(){this.selectedTab=jL.Preflop}selectPostflop(){this.selectedTab=jL.Postflop}selectCustom(){this.selectedTab=jL.Custom}showTree(t,e,n){t===X_.preflop?this.selectPreflop():this.selectPostflop()}loadPreflopTree(t){return $m(this,void 0,void 0,function*(){if(t.isLocked)console.log("No access to preflop tree",t.key);else if(this.selectedTree!==t.key){const e={type:t.type,tree:t.key};yield this.router.navigate([],{relativeTo:this.route,queryParams:e}),this.store.dispatch(B_({key:t.key})),this.selectedTree=t.key,this.store.dispatch(Oy()),this.store.dispatch(bv())}})}loadPostflopTree(t){return $m(this,void 0,void 0,function*(){if(t.isLocked)console.log("No access to postflop tree",t.key);else if(this.selectedTree!==t.key){const e={type:t.type,tree:t.key};yield this.router.navigate([],{relativeTo:this.route,queryParams:e}),this.store.dispatch(V_({tree:t})),this.selectedTree=t.key,this.store.dispatch(Oy()),this.store.dispatch(bv())}})}emitCollapse(){this.collapse.emit()}}return t.\u0275fac=function(e){return new(e||t)(xs(wm),xs(rg),xs(Kb),xs(qM))},t.\u0275cmp=Nt({type:t,selectors:[["app-tree-selection"]],viewQuery:function(t,e){if(1&t&&(oc(IL,!0),oc(AL,!0),oc(DL,!0)),2&t){let t;ic(t=uc())&&(e.preflopSelector=t.first),ic(t=uc())&&(e.postflopSelector=t.first),ic(t=uc())&&(e.customSelector=t.first)}},outputs:{collapse:"collapse"},decls:4,vars:5,consts:[[1,"selection-container"],["class","tree-selector-container",3,"treesByCategory","selectedTree","selected",4,"ngIf"],["class","tree-selector-container",4,"ngIf"],[1,"tree-selector-container",3,"treesByCategory","selectedTree","selected"],["preflopSelector",""],["postflopSelector",""],[1,"tree-selector-container"],["customSelector",""]],template:function(t,e){1&t&&(ks(0,"div",0),Cs(1,LL,3,4,"app-preflop-tree-selector",1),Cs(2,BL,3,4,"app-postflop-tree-selector",1),Cs(3,NL,2,0,"app-custom-sim-selector",2),Ss()),2&t&&(Js("hidden",!e.hasTrees),Ur(1),Ps("ngIf",e.hasPreflopSelected),Ur(1),Ps("ngIf",e.hasPostflopSelected),Ur(1),Ps("ngIf",e.hasCustomSelected))},directives:[Pd,bD,sL,FL],pipes:[Bd],styles:[".selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative}.selection-container.hidden[_ngcontent-%COMP%]{visibility:hidden}.selection-container[_ngcontent-%COMP%]   .beta-text[_ngcontent-%COMP%]{position:absolute;top:1rem;left:0;display:none;color:#c46f6f;font-size:2rem;font-weight:600;opacity:.2}.selection-container[_ngcontent-%COMP%]   .category-selector[_ngcontent-%COMP%]{display:flex}.selection-container[_ngcontent-%COMP%]   .tab-selector[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:1rem}.selection-container[_ngcontent-%COMP%]   .tab-selector[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;cursor:pointer;width:8.125rem;height:3rem;font-size:1rem;font-weight:500;color:#b0b5bf}.selection-container[_ngcontent-%COMP%]   .tab-selector[_ngcontent-%COMP%]   .tab.selected[_ngcontent-%COMP%]{color:var(--tree-category-color-active);border-bottom:2px solid var(--app-color)}.selection-container[_ngcontent-%COMP%]   .tree-selector-container[_ngcontent-%COMP%]{width:100%}"]}),t})();function HL(t,e){if(1&t&&(ks(0,"a",8),ua(1),Ss()),2&t){const t=Vs().$implicit;Ps("href",Vs().sanitize(t.substring(t.indexOf("href:")+"href:".length,t.indexOf("_caption:"))),Qi),Ur(1),ha(" ",t.substring(t.indexOf("_caption:")+"_caption:".length,t.length)," ")}}function $L(t,e){if(1&t&&(ks(0,"div"),ua(1),Ss()),2&t){const t=Vs().$implicit;Ur(1),da(t)}}function zL(t,e){if(1&t&&(ks(0,"div"),Cs(1,HL,2,2,"a",6),Cs(2,$L,2,1,"div",7),Ss()),2&t){const t=e.$implicit;Ur(1),Ps("ngIf",t.indexOf("href")>=0),Ur(1),Ps("ngIf",-1===t.indexOf("href"))}}function UL(t,e){if(1&t){const t=Fs();ks(0,"a",9),Ds("click",function(){return Re(t),Vs().dismiss()}),ua(1),Ss()}if(2&t){const t=Vs();Ur(1),da(t.dismissLabel)}}let qL=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.sanitizer=e,this.data=n}sanitize(t){return this.sanitizer.bypassSecurityTrustUrl(t)}get confirmLabel(){var t;return null!==(t=this.data.confirmLabel)&&void 0!==t?t:"Yes"}get dismissLabel(){var t;return null!==(t=this.data.dismissLabel)&&void 0!==t?t:"No"}dismiss(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(yh),xs(VM))},t.\u0275cmp=Nt({type:t,selectors:[["app-confirmation-dialog"]],decls:8,vars:4,consts:[["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[4,"ngFor","ngForOf"],["align","center"],[1,"confirm-link",3,"click"],["class","dismiss-link",3,"click",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],[4,"ngIf"],["target","_blank",3,"href"],[1,"dismiss-link",3,"click"]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1),Ss(),ks(2,"mat-dialog-content",1),Cs(3,zL,3,2,"div",2),Ss(),ks(4,"mat-dialog-actions",3),ks(5,"a",4),Ds("click",function(){return e.confirm()}),ua(6),Ss(),Cs(7,UL,2,1,"a",5),Ss()),2&t&&(Ur(1),ha(" ",e.data.title,""),Ur(2),Ps("ngForOf",e.data.content),Ur(3),ha(" ",e.confirmLabel,""),Ur(1),Ps("ngIf",!e.data.confirmOnly))},directives:[KM,QM,wd,YM,Pd],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited{text-decoration:none;color:#00aa5a}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--text-color)}.confirm-link[_ngcontent-%COMP%]:hover, .dismiss-link[_ngcontent-%COMP%]:hover{padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();function WL(t,e){1&t&&(ks(0,"span",7),Ms(1,"i",8),Ss())}function GL(t,e){if(1&t){const t=Fs();ks(0,"a",5),Ds("click",function(){return Re(t),Vs().startNodeTraining()}),ua(1," Single Node Training "),Cs(2,WL,2,0,"span",6),Ss()}if(2&t){const t=Vs();Js("disabled",!t.data.allowNodeTraining),Ur(2),Ps("ngIf",!t.data.allowNodeTraining)}}function KL(t,e){1&t&&(ks(0,"span",7),Ms(1,"i",8),Ss())}function QL(t,e){if(1&t){const t=Fs();ks(0,"a",5),Ds("click",function(){return Re(t),Vs().startRandomBoardTraining()}),ua(1," Random board Training "),Cs(2,KL,2,0,"span",6),Ss()}if(2&t){const t=Vs();Js("disabled",!t.data.allowRandomBoardTraining),Ur(2),Ps("ngIf",!t.data.allowRandomBoardTraining)}}function YL(t,e){1&t&&(ks(0,"span",7),Ms(1,"i",8),Ss())}function ZL(t,e){if(1&t){const t=Fs();ks(0,"a",5),Ds("click",function(){return Re(t),Vs().startGameTraining()}),ua(1," Multi-street Training "),Cs(2,YL,2,0,"span",6),Ss()}if(2&t){const t=Vs();Js("disabled",!t.data.allowMultiStreetTraining),Ur(2),Ps("ngIf",!t.data.allowMultiStreetTraining)}}let JL=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.dialog=n,!e.allowNodeTraining||e.showRandomBoardTraining||e.showMultiStreetTraining||this.startNodeTraining()}cancel(){this.dialogRef.close(null)}startNodeTraining(){this.dialogRef.close("node")}startRandomBoardTraining(){this.data.allowRandomBoardTraining?this.dialogRef.close("random-board"):this.dialog.open(_R,{data:{featureText:"Random board training"}})}startGameTraining(){this.data.allowMultiStreetTraining?this.dialogRef.close("game"):this.dialog.open(_R,{data:{featureText:"Multi-street training"}})}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM),xs(qM))},t.\u0275cmp=Nt({type:t,selectors:[["app-training-setup-dialog"]],decls:9,vars:3,consts:[["mat-dialog-title",""],[1,"training-setup-dialog-content","mat-typography"],[1,"training-options"],["class","option",3,"disabled","click",4,"ngIf"],[1,"cancel",3,"click"],[1,"option",3,"click"],["class","icon",4,"ngIf"],[1,"icon"],[1,"fas","fa-lock"]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1,"Select Training Mode"),Ss(),Ms(2,"mat-dialog-content",1),ks(3,"mat-dialog-actions",2),Cs(4,GL,3,3,"a",3),Cs(5,QL,3,3,"a",3),Cs(6,ZL,3,3,"a",3),ks(7,"a",4),Ds("click",function(){return e.cancel()}),ua(8,"Cancel"),Ss(),Ss()),2&t&&(Ur(4),Ps("ngIf",e.data.showNodeTraining),Ur(1),Ps("ngIf",e.data.showRandomBoardTraining),Ur(1),Ps("ngIf",e.data.showMultiStreetTraining))},directives:[KM,QM,YM,Pd],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.training-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.training-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:13rem}.training-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.75rem}.training-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;margin-bottom:.5rem;padding:0 .625rem;cursor:pointer;color:var(--text-color);border:1px solid transparent}.training-options[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{opacity:.35}.training-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}.training-options[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-top:1rem;align-self:flex-end}"]}),t})();var XL={body:'MonkerVersion := "None"\r\rWinWait MonkerSolver 2.2.9,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "2.2.9"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver 2.2.2,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "2.2.2"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver 2,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "2"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver FREE,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "FREE"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver Version 10018,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := "Version 10018"\r\tGoto MONKER_FOUND\r}\r\rWinWait MonkerSolver ,,0.1\rif (ErrorLevel = 0) { \r\tMonkerVersion := ""\r\tGoto MONKER_FOUND\r}\r\rMsgBox "No Monker window found! Please run it before the script."\rExitApp\r\rMONKER_FOUND:\r\rWinActivate\rCoordMode, Mouse, Client\rSetKeyDelay, 55\rClick, 10, 10, 2\r\rif (MonkerVersion = "2.2.9" or MonkerVersion = "2.2.2" or MonkerVersion = "2") {\r\tSend, {Tab}{Space}\r\tWinWait New tree \r\tWinGetPos, ,,W,H, New tree \r\tW2 := (W/9.9)\r\tW /= 2.28\r\tH /= 3.143\r\tClick, %W%, %H%\r\tSend, {Right}{Right}<%RIVER_RIGHT%>\r\tSend, {Tab}{Backspace}\r\t\r\tSend, <%PLAYERS_COUNT%>\r\t\r\tSend, {Tab}{Tab}{Tab}{Up}{Up}{Down}\r\tSend, {Tab}{Up}{Up}{Down}\r\tSend, {Enter}\r\tWinWait New tree \r\tWinActivate\r\t\r\tif (MonkerVersion = "2") {\r\t\tSend, {Tab}{Tab}{Ctrl Down}a{Ctrl Up}\r\t}\r\tif (MonkerVersion = "2.2.2" or MonkerVersion = "2.2.9") {\r\t\tSend, {Shift Down}{Tab}{Shift Up}{Ctrl Down}a{Ctrl Up}\r\t}\r\t\r\tSend, <%POT%>\r\t\r\tif (MonkerVersion = "2.2.2" or MonkerVersion = "2.2.9") {\r\t\tSend, {Tab}{Tab}{Tab}\r\t}\r\t\r\t;each stack:\r<%STACKS%>\r\t\r\tSend, {Enter}\r\tSend, {Enter}\r\t\r\tGoto INSERT_BOARD\r}\r\r\rif (MonkerVersion = "FREE" or MonkerVersion = "Version 10018" or MonkerVersion = "") {\r\tSend, {Tab}{Space}\r\tWinWait New tree \r\t\r\tif (MonkerVersion = "") {\r\t\tSend, {Tab}{Tab}{Tab}{Tab}{Tab}{Tab}{Tab}{Space}\r\t\tSleep, 500\r\t\tWinGetTitle, Title\r\t\tif (Title = "New tree") {      \r\t\t\tWinClose\r\t\t\tSend, {Space}\r\t\t\tWinWait New tree \r\t\t\tSend, {Tab}{Tab}{Up}{Up}{Down}\r\t\t\tWinGetPos, ,,W,H, New tree \r\t\t\tW2 := (W/15.625)\r\t\t\tW /= 2.1\r\t\t\tH /= 3.356\r\t\t} else {\r\t\t\tWinWait MonkerSolver\r\t\t\tWinActivate\r\t\t\tSend, {Space}\r\t\t\tWinWait New tree \r\t\t\tSend, {Tab}{Tab}{Up}{Up}{Down}\r\t\t\tWinGetPos, ,,W,H, New tree \r\t\t\tW2 := (W/4)\r\t\t\tW /= 2\r\t\t\tH /= 3.356\r\t\t}\r\t} else {\r\t\tSend, {Tab}{Tab}{Up}{Up}{Down}\r\t\tWinGetPos, ,,W,H, New tree \r\t\tif (MonkerVersion = "FREE") {\r\t\t\tW2 := (W/3.46)\r\t\t\tW /= 1.73\r\t\t\tH /= 3.356\r\t\t}\r\t\tif (MonkerVersion = "Version 10018") {\r\t\t\tW2 := (W/9.9)\r\t\t\tW /= 2\r\t\t\tH /= 3.356\r\t\t}\r\t}\r\t\r\tClick, %W%, %H%\r\tClick, %W2%, %H%\r\tSend, {Right}{Tab}\r\tSend, {Right}{Right}<%RIVER_RIGHT%>\r\tSend, {Tab}{Backspace}\r\tSend, <%PLAYERS_COUNT%>\r\t\r\tSend, {Enter}\r\tSend, <%MWAY_TAB%>{Tab}{Tab}{Tab}{Tab}{Ctrl Down}a{Ctrl Up}\r\t\r\tSend, <%POT%>\r\tSend, {Tab}{Tab}\r\t\r\t;each stack:\r<%STACKS%>\r\r\tSend, {Enter}\r\t\r\tGoto INSERT_BOARD\r}\r\r\rINSERT_BOARD:\r\rWinWait MonkerSolver\rSleep, 500\rSend, +{Tab}\rSleep, 100\rSend, {Right}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Tab}\rSleep, 100\rSend, {Ctrl Down}a{Ctrl Up} \rSleep, 100 \rSend, {BackSpace} \rSend, <%BOARD%>\rClick, 10, 10, 2\rSleep, 500\rSend, {Tab}{Tab}{Tab}{Tab}\rSend, {Space}\rWinWait Ranges\rWinActivate\r\r;ranges\r<%INSERT_RANGES%>\rClipboard := "" \rExitApp\rReturn',range:'<%INIT_RANGE_VARS%>Clipboard = <%APPLY_RANGE_VARS%>\rSleep, 1000\rSend, ^v\rClipboard := ""\rSend, {Tab}\r\r',stack:"\tSend, {Tab}{Ctrl Down}a{Ctrl Up}\r\tSend, <%STACK%>\r"};function tB(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function eB(t,e){if(1&t&&(ks(0,"div",4),ua(1),Vl(2,"uppercase"),Ss()),2&t){const t=e.$implicit,n=Vs(2);Js("small",n.small)("large",n.large)("medium",n.medium)("with-border",n.border),Ps("ngClass",n.getClasses(t)),Ur(1),ha(" ",t&&t[0]?t[0]:Hl(2,10,"")," ")}}function nB(t,e){if(1&t&&(Ts(0),Cs(1,eB,3,12,"div",3),Es()),2&t){const t=Vs();Ur(1),Ps("ngForOf",t.sorted?t.sortedCards:t.cards)}}function iB(t,e){if(1&t&&Ms(0,"div"),2&t){const t=Vs(2);Js("large",t.large)("medium",t.medium)("is5card",t.isFiveCard)}}function rB(t,e){if(1&t&&(ks(0,"div",5),Cs(1,iB,1,6,"div",6),Ss()),2&t){const t=Vs();Ur(1),Ps("ngForOf",t.cards)}}let oB=(()=>{class t{constructor(){this.large=!1,this.medium=!1,this.small=!1,this.centered=!1,this.border=!1,this.sorted=!1,this.showHoleCards=!1,this.copyOnClick=!1}get areHoleCards(){return this.showHoleCards&&this.cards&&this.cards.every(t=>!t[0]&&!t[1])}get isFiveCard(){return!1}get sortedCards(){var t;return(null===(t=this.cards)||void 0===t?void 0:t.length)>0?this.cards.sort(yR.sortCard):[]}getClasses(t){if(null==t)return"empty-card";switch(t[1]){case"c":return"clubs";case"d":return"diamonds";case"h":return"hearts";case"s":return"spades";default:return"no-suit"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["app-cards"]],inputs:{cards:"cards",large:"large",medium:"medium",small:"small",centered:"centered",border:"border",sorted:"sorted",showHoleCards:"showHoleCards",copyOnClick:"copyOnClick"},decls:3,vars:6,consts:[[1,"poker-cards"],[4,"ngIf"],["class","hole-cards",4,"ngIf"],["class","poker-card",3,"small","large","medium","with-border","ngClass",4,"ngFor","ngForOf"],[1,"poker-card",3,"ngClass"],[1,"hole-cards"],[3,"large","medium","is5card",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(ks(0,"div",0),Cs(1,nB,2,1,"ng-container",1),Cs(2,rB,2,1,"div",2),Ss()),2&t&&(Js("centered",e.centered)("clickable",e.copyOnClick),Ur(1),Ps("ngIf",!e.areHoleCards),Ur(1),Ps("ngIf",e.areHoleCards&&e.cards))},directives:[Pd,wd,vd],pipes:[Nd],styles:[".poker-cards[_ngcontent-%COMP%]{display:flex;flex-direction:row}.poker-cards.clickable[_ngcontent-%COMP%]{cursor:pointer}.poker-cards.centered[_ngcontent-%COMP%]{justify-content:center}.hole-cards[_ngcontent-%COMP%]{display:flex;flex-direction:row}.hole-cards[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;height:3.1rem;border:2px solid #838d97;background:#d2d2d2}.hole-cards[_ngcontent-%COMP%]   div.medium[_ngcontent-%COMP%]{margin-right:-1.25rem;width:2.2rem}.hole-cards[_ngcontent-%COMP%]   div.large[_ngcontent-%COMP%]{margin-right:-1.6rem;width:2.5rem}.hole-cards[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-right:0}.hole-cards[_ngcontent-%COMP%]   img.medium[_ngcontent-%COMP%]{margin-right:-1.25rem;width:2.2rem}.hole-cards[_ngcontent-%COMP%]   img.large[_ngcontent-%COMP%]{margin-right:-1.6rem;width:2.5rem}.hole-cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:last-child{margin-right:0}.poker-card[_ngcontent-%COMP%]{height:1.8rem;width:1.2rem;margin-right:.2rem;line-height:30px;font-size:1.2rem;border-radius:.125rem;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.poker-card.with-border[_ngcontent-%COMP%]{border:1px solid #747474}.poker-card.medium[_ngcontent-%COMP%]{height:2.5rem;line-height:2.5rem;width:2rem;margin-right:.3rem;font-size:1.5rem;border-radius:.18rem}.poker-card.large[_ngcontent-%COMP%]{height:3.75rem;line-height:3.75rem;width:2.8rem;margin-right:.3rem;font-size:2.5rem;border-radius:.375rem;border:.1rem solid hsla(0,0%,100%,.3137254901960784)}.poker-card.small[_ngcontent-%COMP%]{height:1.875rem;line-height:1.875rem;width:1.6rem;margin-right:.15rem;border-radius:.18rem;font-size:1.25rem}.poker-card[_ngcontent-%COMP%]:last-child{margin-right:0}.poker-card.clubs[_ngcontent-%COMP%]{background-color:var(--clubs-background);color:var(--clubs-color)}.poker-card.diamonds[_ngcontent-%COMP%]{background-color:var(--diamonds-background);color:var(--diamonds-color)}.poker-card.hearts[_ngcontent-%COMP%]{background-color:var(--hearts-background);color:var(--hearts-color)}.poker-card.spades[_ngcontent-%COMP%]{background-color:var(--spades-background);color:var(--spades-color)}.poker-card.no-suit[_ngcontent-%COMP%]{background-color:grey}.poker-card.empty-card[_ngcontent-%COMP%]{border:1px dashed var(--app-color);background-color:#545454}"]}),t})();function sB(t,e){if(1&t&&(ks(0,"div",18),ks(1,"div",14),ua(2),Ss(),ks(3,"div",15),ua(4),Vl(5,"number"),Ss(),Ss()),2&t){const t=e.$implicit;Ur(2),da(t.position),Ur(2),da($l(5,2,t.amount,"2."))}}function aB(t,e){if(1&t){const t=Fs();Ts(0),ks(1,"div",10),Ds("click",function(){return Re(t),Vs().togglePayouts()}),ks(2,"div",11),ua(3,"Payouts"),Ss(),ks(4,"div",12),ks(5,"div",13),ks(6,"div",14),ua(7,"Rank"),Ss(),ks(8,"div",15),ua(9,"USD"),Ss(),Ss(),Cs(10,sB,6,5,"div",16),ks(11,"div",17),ks(12,"div",14),ua(13,"Total"),Ss(),ks(14,"div",15),ua(15),Vl(16,"number"),Ss(),Ss(),ks(17,"div",17),ks(18,"div",14),ua(19,"Chipvalue"),Ss(),ks(20,"div",15),ua(21),Vl(22,"number"),Ss(),Ss(),Ss(),Ss(),Es()}if(2&t){const t=Vs();Ur(1),Js("mobile",t.isMobile)("expanded",t.showPayouts),Ur(9),Ps("ngForOf",t.payouts),Ur(5),da($l(16,7,t.totalPayouts,"2.")),Ur(6),da($l(22,10,t.chipValue,"2.0-1"))}}function lB(t,e){if(1&t){const t=Fs();ks(0,"div",23),Ds("click",function(){return Re(t),Vs(2).toggleFlopSelector()}),Ms(1,"app-cards",24),Ss()}if(2&t){const t=Vs(2);Js("highlightable",!t.cardSelectorIsShown&&!t.disableSelectors),Ur(1),Ps("cards",t.board.flop)("large",!0)("border",t.isFiveCard)}}const cB=function(t){return[t]};function uB(t,e){if(1&t){const t=Fs();ks(0,"div",25),Ds("click",function(){return Re(t),Vs(2).toggleTurnSelector()}),Ms(1,"app-cards",24),Ss()}if(2&t){const t=Vs(2);Js("highlightable",!t.cardSelectorIsShown&&!t.disableSelectors),Ur(1),Ps("cards",Ll(5,cB,t.board.turn.card))("large",!0)("border",t.isFiveCard)}}function dB(t,e){if(1&t){const t=Fs();ks(0,"div",26),Ds("click",function(){return Re(t),Vs(2).toggleRiverSelector()}),Ms(1,"app-cards",24),Ss()}if(2&t){const t=Vs(2);Js("highlightable",!t.cardSelectorIsShown&&!t.disableSelectors),Ur(1),Ps("cards",Ll(5,cB,t.board.river.card))("large",!0)("border",t.isFiveCard)}}function hB(t,e){if(1&t&&(ks(0,"div",19),Cs(1,lB,2,5,"div",20),Cs(2,uB,2,7,"div",21),Cs(3,dB,2,7,"div",22),Ss()),2&t){const t=Vs();Ur(1),Ps("ngIf",t.showFlop),Ur(1),Ps("ngIf",t.showTurn),Ur(1),Ps("ngIf",t.showRiver)}}function pB(t,e){if(1&t&&(ks(0,"span",29),ua(1),Vl(2,"number"),Ss()),2&t){const t=Vs(2);Ur(1),pa("Antes: ",$l(2,2,t.ante,"1.0-2"),"",t.currency,"")}}function fB(t,e){if(1&t&&(ks(0,"div",27),ks(1,"span"),ua(2),Vl(3,"number"),Ss(),Cs(4,pB,3,5,"span",28),Ss()),2&t){const t=Vs();Ur(2),pa("Total pot: ",$l(3,3,t.totalPot,"1.0-2"),"",t.currency,""),Ur(2),Ps("ngIf",t.ante>0)}}function gB(t,e){if(1&t&&(ks(0,"div",30),ua(1),Vl(2,"number"),Ss()),2&t){const t=Vs();Ur(1),pa(" ",$l(2,2,t.pot,"1.0-2"),"",t.currency," ")}}function mB(t,e){if(1&t&&(ks(0,"div",38),ua(1),Vl(2,"number"),Ss()),2&t){const t=Vs().$implicit,e=Vs();Js("no-cards-above",e.hasFolded(t)||e.isTrainingAsPlayer(t)),Ps("ngClass",e.getPlayerPositionClass(t)),Ur(1),pa(" ",$l(2,5,e.getStakes(t),"1.0-2"),"",e.currency," ")}}function bB(t,e){if(1&t&&(ks(0,"div",31),ks(1,"div",32),ks(2,"div",33),ks(3,"span",14),ua(4),Ss(),ks(5,"span",34),ua(6),Vl(7,"number"),Ss(),Ss(),Cs(8,mB,3,8,"div",35),ks(9,"div",36),Ms(10,"app-cards",37),Ss(),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs();Ps("ngClass",n.getPlayerPositionClass(t)),Ur(1),Js("folded",n.hasFolded(t))("active",n.isActivePlayer(t))("plo5",n.isFiveCard)("to-background",n.cardSelectorIsShown),Ur(1),Js("folded",n.hasFolded(t))("active",n.isActivePlayer(t)),Ur(2),da(n.getPositionLabel(t)),Ur(2),pa("",$l(7,27,n.getStackSize(t),"1.0-2"),"",n.currency,""),Ur(2),Ps("ngIf",!!n.getStakes(t)),Ur(1),Js("player-cards",n.isTrainingAsPlayer(t))("opponent-cards",!n.isTrainingAsPlayer(t)&&n.showCards(t)),Ur(1),Ps("cards",n.getHandForPlayer(t))("small",!n.isTrainingAsPlayer(t)&&n.showCards(t))("medium",!n.isTrainingAsPlayer(t)&&!n.showCards(t))("large",n.isTrainingAsPlayer(t))("showHoleCards",!0)("sorted",!0)}}let _B=(()=>{class t{constructor(){this.cardSelectorIsShown=!1,this.disableSelectors=!1,this.training=!1,this.blindsConfig={bb:1},this.toggleFlop=new ql,this.toggleTurn=new ql,this.toggleRiver=new ql,this.showPayouts=!1,this.isMobile=dF()}togglePayouts(){this.isMobile&&(this.showPayouts=!this.showPayouts)}get isFiveCard(){return!1}get hasIcmInfo(){var t,e;return!!(null===(t=this.icmInfo)||void 0===t?void 0:t.payouts)&&!!(null===(e=this.icmInfo)||void 0===e?void 0:e.stacks)}get payouts(){return Object.keys(this.icmInfo.payouts).map(t=>({position:t,amount:this.icmInfo.payouts[t]}))}get totalPayouts(){return Object.values(this.icmInfo.payouts).reduce((t,e)=>t+e,0)}get chipValue(){const t=Object.values(this.icmInfo.stacks).reduce((t,e)=>t+e,0);return this.totalPayouts/(t+this.ante)}get pot(){return this.convertAmount(this.chips.pot)}get totalPot(){return this.convertAmount(this.chips.totalPot+this.chips.ante)}get ante(){return this.convertAmount(this.chips.ante)}get numberOfPlayers(){return this.allPlayers.length}get currency(){return this.blindsConfig.currency||""}get showFlop(){return this.board&&this.board.flop&&this.board.flop.length>0}get showTurn(){return this.board&&!!this.board.turn}get showRiver(){return this.board&&!!this.board.river}getHandForPlayer(t){const e=["","","",""];this.isFiveCard&&e.push("");const n=this.hands?this.hands[t]:null;return(null==n?void 0:n.show)?n.hand:this.hasFolded(t)?null:e}getCurrentAction(t){var e;return(null===(e=this.lastActionAndPlayer)||void 0===e?void 0:e.player)===t?this.lastActionAndPlayer.action:null}getFormattedAction(t){return tB(null==t?void 0:t.type)}isTrainingAsPlayer(t){return this.training&&t===this.alignPositionsTo}showCards(t){var e;return this.hands&&(null===(e=this.hands[t])||void 0===e?void 0:e.show)}hasFolded(t){return!this.activePlayers.includes(t)}isActivePlayer(t){return t===this.currentPlayer}getPlayerPositionClass(t){return`pos-${this.numberOfPlayers}way-${this.getPosition(t)}`}getDealerPositionClass(){return this.getPlayerPositionClass(2===this.numberOfPlayers?U_.SB:U_.BTN)}getStackSize(t){return this.convertAmount(this.chips.stacks[t])}getStakes(t){return this.convertAmount(this.chips.stakes[t])}toggleFlopSelector(){this.disableSelectors||this.toggleFlop.emit()}toggleTurnSelector(){this.disableSelectors||this.toggleTurn.emit()}toggleRiverSelector(){this.disableSelectors||this.toggleRiver.emit()}getPositionLabel(t){return t===this.replaceWithStraddle?q_(!0):this.positionLabels?this.positionLabels[t]:t}getPosition(t){if(2===this.numberOfPlayers){if(this.alignPositionsTo)return t===this.alignPositionsTo?"bottom-center":"top-center";switch(t){case U_.SB:return"bottom-center";case U_.BB:return"top-center"}}else if(3===this.numberOfPlayers){const e=[U_.BTN,U_.SB,U_.BB],n=e.indexOf(t),i=this.alignPositionsTo?e.indexOf(this.alignPositionsTo):e.length;switch((n+(e.length-i))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"top-left";case 2:return"top-right"}}else if(4===this.numberOfPlayers){const e=[U_.CO,U_.BTN,U_.SB,U_.BB],n=e.indexOf(t),i=this.alignPositionsTo?e.indexOf(this.alignPositionsTo):e.length;switch((n+(e.length-i))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"middle-left";case 2:return"top-center";case 3:return"middle-right"}}else if(5===this.numberOfPlayers){const e=[U_.CO,U_.BTN,U_.SB,U_.BB,U_.MP],n=e.indexOf(t),i=this.alignPositionsTo?e.indexOf(this.alignPositionsTo):e.length;switch((n+(e.length-i))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"middle-left";case 2:return"top-left";case 3:return"top-right";case 4:return"middle-right"}}else if(6===this.numberOfPlayers){const e=[U_.CO,U_.BTN,U_.SB,U_.BB,U_.EP,U_.MP],n=e.indexOf(t),i=this.alignPositionsTo?e.indexOf(this.alignPositionsTo):e.length;switch((n+(e.length-i))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"bottom-left";case 2:return"top-left";case 3:return"top-center";case 4:return"top-right";case 5:return"bottom-right"}}else if(7===this.numberOfPlayers){const e=[U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB,U_.EP,U_.EP1],n=e.indexOf(t),i=this.alignPositionsTo?e.indexOf(this.alignPositionsTo):e.length;switch((n+(e.length-i))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"bottom-left";case 2:return"middle-left";case 3:return"top-left";case 4:return"top-right";case 5:return"middle-right";case 6:return"bottom-right"}}else if(8===this.numberOfPlayers){const e=[U_.MP,U_.CO,U_.BTN,U_.SB,U_.BB,U_.EP,U_.EP1,U_.EP2],n=e.indexOf(t),i=this.alignPositionsTo?e.indexOf(this.alignPositionsTo):e.length;switch((n+(e.length-i))%this.numberOfPlayers){case 0:return"bottom-center";case 1:return"bottom-left";case 2:return"middle-left";case 3:return"top-left";case 4:return"top-center";case 5:return"top-right";case 6:return"middle-right";case 7:return"bottom-right"}}}convertAmount(t){return t/2*this.blindsConfig.bb}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["app-poker-table"]],inputs:{allPlayers:"allPlayers",activePlayers:"activePlayers",currentPlayer:"currentPlayer",icmInfo:"icmInfo",chips:"chips",board:"board",showLargeCards:"showLargeCards",cardSelectorIsShown:"cardSelectorIsShown",disableSelectors:"disableSelectors",replaceWithStraddle:"replaceWithStraddle",hands:"hands",training:"training",alignPositionsTo:"alignPositionsTo",blindsConfig:"blindsConfig",lastActionAndPlayer:"lastActionAndPlayer",positionLabels:"positionLabels"},outputs:{toggleFlop:"toggleFlop",toggleTurn:"toggleTurn",toggleRiver:"toggleRiver"},decls:10,vars:9,consts:[[1,"poker-table"],[4,"ngIf"],[1,"table-img",3,"src"],[1,"poker-table-outer-line"],[1,"poker-table-inner-line"],["class","board",4,"ngIf"],["class","total-pot",4,"ngIf"],["class","pot",4,"ngIf"],["src","assets/svg/game/dealer.svg",1,"dealer-button",3,"ngClass"],["class","player-wrapper",3,"ngClass",4,"ngFor","ngForOf"],[1,"icm",3,"click"],[1,"control"],[1,"payouts"],[1,"payout","header"],[1,"position"],[1,"amount"],["class","payout",4,"ngFor","ngForOf"],[1,"payout","total"],[1,"payout"],[1,"board"],["class","cards flop",3,"highlightable","click",4,"ngIf"],["class","cards turn",3,"highlightable","click",4,"ngIf"],["class","cards river",3,"highlightable","click",4,"ngIf"],[1,"cards","flop",3,"click"],[3,"cards","large","border"],[1,"cards","turn",3,"click"],[1,"cards","river",3,"click"],[1,"total-pot"],["class","ante",4,"ngIf"],[1,"ante"],[1,"pot"],[1,"player-wrapper",3,"ngClass"],[1,"player"],[1,"player-text"],[1,"stack"],["class","player-stakes",3,"no-cards-above","ngClass",4,"ngIf"],[1,"cards"],[3,"cards","small","medium","large","showHoleCards","sorted"],[1,"player-stakes",3,"ngClass"]],template:function(t,e){1&t&&(ks(0,"div",0),Cs(1,aB,23,13,"ng-container",1),Ms(2,"img",2),ks(3,"div",3),Ms(4,"div",4),Ss(),Cs(5,hB,4,3,"div",5),Cs(6,fB,5,6,"div",6),Cs(7,gB,3,5,"div",7),Ms(8,"img",8),Cs(9,bB,11,30,"div",9),Ss()),2&t&&(Ur(1),Ps("ngIf",e.hasIcmInfo),Ur(1),Ps("src",e.isFiveCard?"assets/svg/PT-5C_Logo-v2.svg":"assets/svg/PT-4C_Logo-v2.svg",Qi),Ur(2),Js("plo5",e.isFiveCard),Ur(1),Ps("ngIf",e.board),Ur(1),Ps("ngIf",e.totalPot),Ur(1),Ps("ngIf",e.pot),Ur(1),Ps("ngClass",e.getDealerPositionClass()),Ur(1),Ps("ngForOf",e.allPlayers))},directives:[Pd,vd,wd,oB],pipes:[Vd],styles:["[_ngcontent-%COMP%]:root{--eval-text-color:#161431;--eval-color-correct:rgba(91,231,146,0.8);--eval-color-low-freq:rgba(222,190,94,0.8);--eval-color-mistake:rgba(231,104,96,0.8);--green-correct-pale-brighter:rgba(67,227,110,0.4);--green-correct-pale:rgba(85,156,104,0.4);--yellow-incorrect-pale:rgba(244,212,96,0.45);--orange-incorrect-pale:rgba(242,143,91,0.45);--red-incorrect-pale:rgba(215,92,92,0.45);--app-color:#fff;--favorite-highlight-color:#ffe55c}[_nghost-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.icm[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1;cursor:pointer;width:8.15rem;padding:.25rem .5rem;border:1px solid var(--background-color);background-color:var(--background-color);box-shadow:inset 0 0 3rem 0 hsla(0,0%,100%,.06274509803921569)}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]{display:none}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;flex-direction:row}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{width:1.5rem;text-align:center;margin-right:1.5rem}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:100%;text-align:right}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout.header[_ngcontent-%COMP%]{margin-bottom:.25rem}.icm[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout.total[_ngcontent-%COMP%]{margin-top:.25rem}.icm.expanded[_ngcontent-%COMP%], .icm[_ngcontent-%COMP%]:hover:not(.mobile){padding:.25rem .5rem;border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow)}.icm.expanded[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%], .icm[_ngcontent-%COMP%]:hover:not(.mobile)   .control[_ngcontent-%COMP%]{margin-bottom:.5rem}.icm.expanded[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%], .icm[_ngcontent-%COMP%]:hover:not(.mobile)   .payouts[_ngcontent-%COMP%]{display:unset}.poker-table[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;text-align:center;width:100%;height:100%}.poker-table[_ngcontent-%COMP%]   .poker-table-outer-line[_ngcontent-%COMP%]{z-index:-2;position:absolute;top:12%;left:10%;width:80%;height:76%;padding:1.5rem;background-color:#26262a;border:2px solid #6c757c;display:flex;box-sizing:border-box;border-radius:10rem}.poker-table[_ngcontent-%COMP%]   .poker-table-outer-line[_ngcontent-%COMP%]   .poker-table-inner-line[_ngcontent-%COMP%]{z-index:-1;width:100%;height:100%;box-sizing:border-box;background:#397450;background:radial-gradient(ellipse,#397450 30%,#245432 100%);border-radius:10rem}.poker-table[_ngcontent-%COMP%]   .poker-table-outer-line[_ngcontent-%COMP%]   .poker-table-inner-line.plo5[_ngcontent-%COMP%]{background:#435986;background:radial-gradient(ellipse,#435986 30%,#293e5d 100%)}.poker-table[_ngcontent-%COMP%]   .table-img[_ngcontent-%COMP%]{width:40%;max-width:15rem;z-index:-1;opacity:.3}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{padding:2px}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards.river[_ngcontent-%COMP%], .poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards.turn[_ngcontent-%COMP%]{margin-left:calc(.3rem - 4px)}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards.highlightable[_ngcontent-%COMP%]{cursor:pointer}.poker-table[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .cards.highlightable[_ngcontent-%COMP%]:hover{padding:0;border:2px solid var(--app-color);border-radius:.375rem}.poker-table[_ngcontent-%COMP%]   .total-pot[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translateX(-50%) translateY(-50%);display:flex;flex-direction:column;color:#b9c5a0;font-size:.8rem}.poker-table[_ngcontent-%COMP%]   .total-pot[_ngcontent-%COMP%]   .ante[_ngcontent-%COMP%]{font-size:.8rem}.poker-table[_ngcontent-%COMP%]   .pot[_ngcontent-%COMP%]{position:absolute;top:62%;left:50%;transform:translateX(-50%) translateY(-50%);color:#fff;font-size:1rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]{position:absolute;transform:translateX(50%)}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-2way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-2way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-2way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-3way-top-left[_ngcontent-%COMP%]{transform:none;top:25%;left:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-3way-top-right[_ngcontent-%COMP%]{transform:none;top:25%;right:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-3way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-3way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-middle-left[_ngcontent-%COMP%]{transform:translateY(-50%);left:0;top:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-middle-right[_ngcontent-%COMP%]{transform:translateY(-50%);right:0;top:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-4way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-top-left[_ngcontent-%COMP%]{transform:none;top:15%;left:15%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-top-right[_ngcontent-%COMP%]{transform:none;top:15%;right:15%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-middle-left[_ngcontent-%COMP%]{transform:none;bottom:35%;left:0}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-5way-middle-right[_ngcontent-%COMP%]{transform:none;bottom:35%;right:0}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-top-left[_ngcontent-%COMP%]{transform:none;top:25%;left:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-top-right[_ngcontent-%COMP%]{transform:none;top:25%;right:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-bottom-left[_ngcontent-%COMP%]{transform:none;bottom:25%;left:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-6way-bottom-right[_ngcontent-%COMP%]{transform:none;bottom:25%;right:5%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-top-left[_ngcontent-%COMP%]{transform:none;top:10%;left:20%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-top-right[_ngcontent-%COMP%]{transform:none;top:10%;right:20%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-middle-left[_ngcontent-%COMP%]{transform:translateY(-50%);left:0;top:42%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-middle-right[_ngcontent-%COMP%]{transform:translateY(-50%);right:0;top:42%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-bottom-left[_ngcontent-%COMP%]{transform:none;bottom:21%;left:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-7way-bottom-right[_ngcontent-%COMP%]{transform:none;bottom:21%;right:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-top-left[_ngcontent-%COMP%]{transform:none;top:21%;left:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-top-center[_ngcontent-%COMP%]{top:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-top-right[_ngcontent-%COMP%]{transform:none;top:21%;right:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-middle-left[_ngcontent-%COMP%]{transform:translateY(-50%);left:0;top:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-middle-right[_ngcontent-%COMP%]{transform:translateY(-50%);right:0;top:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-bottom-left[_ngcontent-%COMP%]{transform:none;bottom:21%;left:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-bottom-center.to-background[_ngcontent-%COMP%]{z-index:-1}.poker-table[_ngcontent-%COMP%]   .player-wrapper.pos-8way-bottom-right[_ngcontent-%COMP%]{transform:none;bottom:21%;right:6%}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{z-index:10;display:flex;flex-direction:column;justify-content:center;align-items:center;width:5.3rem;height:2.2rem;padding:0 .5rem;font-size:1rem;font-weight:500;background:#484848;color:var(--player-text-color);border:2px solid #838d97}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player.active[_ngcontent-%COMP%]{background:#485948;border-color:#30df7b;color:#30df7b}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player.active.plo5[_ngcontent-%COMP%]{background:#495573;border-color:#3ca7ff;color:#3ca7ff}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player.folded[_ngcontent-%COMP%]{opacity:.7}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-text[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;padding-top:2px;line-height:2.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-text[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-text[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]{font-size:1rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes[_ngcontent-%COMP%]{position:absolute;color:#fff;font-size:1rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-2way-top-center[_ngcontent-%COMP%]{bottom:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-2way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-2way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-3way-top-left[_ngcontent-%COMP%]{left:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-3way-top-right[_ngcontent-%COMP%]{right:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-3way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-3way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-top-center[_ngcontent-%COMP%]{bottom:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-middle-left[_ngcontent-%COMP%]{left:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-middle-right[_ngcontent-%COMP%]{right:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-4way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-top-left[_ngcontent-%COMP%]{left:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-top-right[_ngcontent-%COMP%]{right:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-middle-left[_ngcontent-%COMP%]{top:-.625rem;left:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-5way-middle-right[_ngcontent-%COMP%]{top:-.625rem;right:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-top-left[_ngcontent-%COMP%]{left:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-top-center[_ngcontent-%COMP%]{bottom:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-top-right[_ngcontent-%COMP%]{right:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-bottom-left[_ngcontent-%COMP%]{top:-.625rem;left:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-6way-bottom-right[_ngcontent-%COMP%]{top:-.625rem;right:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-top-left[_ngcontent-%COMP%]{left:5.5rem;bottom:-1.8rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-top-right[_ngcontent-%COMP%]{right:5.5rem;bottom:-1.8rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-middle-left[_ngcontent-%COMP%]{left:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-middle-right[_ngcontent-%COMP%]{right:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-bottom-left[_ngcontent-%COMP%]{top:-.625rem;left:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-7way-bottom-right[_ngcontent-%COMP%]{top:-.625rem;right:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-top-left[_ngcontent-%COMP%]{left:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-top-center[_ngcontent-%COMP%]{bottom:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-top-right[_ngcontent-%COMP%]{right:7.5rem;bottom:-.625rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-middle-left[_ngcontent-%COMP%]{left:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-middle-right[_ngcontent-%COMP%]{right:7.8125rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-bottom-left[_ngcontent-%COMP%]{top:-.625rem;left:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-bottom-center[_ngcontent-%COMP%]{top:-3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-bottom-center.no-cards-above[_ngcontent-%COMP%]{top:-1.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .player-stakes.pos-8way-bottom-right[_ngcontent-%COMP%]{top:-.625rem;right:7.5rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{z-index:-1;position:absolute;bottom:1rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .cards.player-cards[_ngcontent-%COMP%]{top:3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .cards.opponent-cards[_ngcontent-%COMP%]{bottom:3rem}.poker-table[_ngcontent-%COMP%]   .player-wrapper[_ngcontent-%COMP%]   .player-action[_ngcontent-%COMP%]{position:absolute;top:2.5rem;left:50%;transform:translateX(-50%);padding:0 .3rem;background:var(--player-background);color:var(--player-text-color);border:var(--player-border);border-bottom-left-radius:.3rem;border-bottom-right-radius:.3rem}.poker-table[_ngcontent-%COMP%]   .dealer-button[_ngcontent-%COMP%]{position:absolute;transform:translateX(50%);width:1.2rem;height:1.2rem}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-2way-top-center[_ngcontent-%COMP%]{top:12%;right:50%;transform:translate(4.6rem,3rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-2way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-3way-top-left[_ngcontent-%COMP%]{top:25%;left:5%;transform:translateX(calc(50% + 7.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-3way-top-right[_ngcontent-%COMP%]{top:25%;right:5%;transform:translateX(calc(-50% - 7.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-3way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:52%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-4way-top-center[_ngcontent-%COMP%]{top:8%;right:50%;transform:translate(4.6rem,3rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-4way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-4way-middle-left[_ngcontent-%COMP%]{left:0;top:40%;transform:translateX(calc(50% + 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-4way-middle-right[_ngcontent-%COMP%]{right:0;top:40%;transform:translateX(calc(-50% - 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-top-left[_ngcontent-%COMP%]{top:27%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-top-right[_ngcontent-%COMP%]{top:27%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-middle-left[_ngcontent-%COMP%]{left:0;top:62%;transform:translateX(calc(50% + 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-middle-right[_ngcontent-%COMP%]{right:0;top:62%;transform:translateX(calc(-50% - 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-5way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:52%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-top-left[_ngcontent-%COMP%]{top:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-top-center[_ngcontent-%COMP%]{top:8%;right:50%;transform:translate(4.6rem,3rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-top-right[_ngcontent-%COMP%]{top:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-bottom-left[_ngcontent-%COMP%]{bottom:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-6way-bottom-right[_ngcontent-%COMP%]{bottom:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-top-left[_ngcontent-%COMP%]{top:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-top-right[_ngcontent-%COMP%]{top:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-bottom-left[_ngcontent-%COMP%]{bottom:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-bottom-right[_ngcontent-%COMP%]{bottom:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-middle-left[_ngcontent-%COMP%]{left:0;top:33%;transform:translateX(calc(50% + 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-7way-middle-right[_ngcontent-%COMP%]{right:0;top:33%;transform:translateX(calc(-50% - 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-top-left[_ngcontent-%COMP%]{top:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-top-center[_ngcontent-%COMP%]{top:8%;right:50%;transform:translate(4.6rem,3rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-top-right[_ngcontent-%COMP%]{top:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-bottom-left[_ngcontent-%COMP%]{bottom:25%;left:5%;transform:translateX(calc(50% + 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-bottom-center[_ngcontent-%COMP%]{bottom:8%;right:50%;transform:translate(-3.2rem,-2.8rem)}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-bottom-right[_ngcontent-%COMP%]{bottom:25%;right:5%;transform:translateX(calc(-50% - 6.5rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-middle-left[_ngcontent-%COMP%]{left:0;top:40%;transform:translateX(calc(50% + 7rem))}.poker-table[_ngcontent-%COMP%]   .dealer-button.pos-8way-middle-right[_ngcontent-%COMP%]{right:0;top:40%;transform:translateX(calc(-50% - 7rem))}"]}),t})();function yB(t,e){if(1&t){const t=Fs();ks(0,"div",11),ks(1,"app-cards",12),Ds("click",function(){Re(t);const n=e.$implicit,i=Vs().$implicit;return Vs().selectCard(n,i)}),Ss(),Ss()}if(2&t){const t=e.$implicit,n=Vs().$implicit,i=Vs();Ur(1),Js("selectable",i.isSelectable(t,n)),Ps("cards",i.getCards(t,n))}}function vB(t,e){if(1&t&&(ks(0,"div",9),Cs(1,yB,2,3,"div",10),Ss()),2&t){const t=Vs();Ur(1),Ps("ngForOf",t.faces)}}function CB(t,e){if(1&t){const t=Fs();ks(0,"div",6),ks(1,"a",7),Ds("click",function(){return Re(t),Vs().getAHKscript()}),ua(2,"Get AHK script"),Ss(),Ss()}}let wB=(()=>{class t{constructor(){this.closed=new ql,this.selected=new ql,this.ahk=new ql,this.isMobileDevice=dF}get suits(){return["s","h","d","c"]}get faces(){return["A","K","Q","J","T","9","8","7","6","5","4","3","2"]}getCards(t,e){return[t+e]}isSelectable(t,e){return!!this.selectable.find(n=>Object(yR.cardIsEqual)(n,t+e))}selectCard(t,e){this.isSelectable(t,e)?this.selected.emit(t+e):"Turn"===this.street&&this.ahk.emit(t+e)}getAHKscript(){this.ahk.emit(null)}loadRandomCard(){const t=ZF(this.selectable);this.selected.emit(t)}emitClosed(){this.allowClose&&this.closed.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["app-card-selector"]],inputs:{selectable:"selectable",street:"street",allowClose:"allowClose"},outputs:{closed:"closed",selected:"selected",ahk:"ahk"},decls:10,vars:5,consts:[["id","card-selection-container"],[1,"close-btn",3,"click"],[1,"icon","fas","fa-times-circle"],[1,"centered"],["class","row",4,"ngFor","ngForOf"],[1,"buttons_container"],[1,"rdm-link"],[3,"click"],["class","rdm-link",4,"ngIf"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card",3,"cards","click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"div",1),Ds("click",function(){return e.emitClosed()}),Ms(2,"i",2),Ss(),ks(3,"div",3),Cs(4,vB,2,1,"div",4),ks(5,"div",5),ks(6,"div",6),ks(7,"a",7),Ds("click",function(){return e.loadRandomCard()}),ua(8),Ss(),Ss(),Cs(9,CB,3,0,"div",8),Ss(),Ss(),Ss()),2&t&&(Ur(1),Js("show",e.allowClose),Ur(3),Ps("ngForOf",e.suits),Ur(4),ha("Load random ",e.street,""),Ur(1),Ps("ngIf",!e.isMobileDevice()))},directives:[wd,Pd,oB],styles:["#card-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:25.625rem;margin-top:.625rem;padding:.625rem;box-shadow:var(--box-shadow);border-radius:var(--border-radius);background-color:var(--background-color)}#card-selection-container[_ngcontent-%COMP%]   .buttons_container[_ngcontent-%COMP%]{display:flex;gap:2rem}#card-selection-container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:-.625rem;cursor:pointer;visibility:hidden}#card-selection-container[_ngcontent-%COMP%]   .close-btn.show[_ngcontent-%COMP%]{visibility:visible}#card-selection-container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;background-color:#000;border-radius:100%}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:.125rem .25rem}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{opacity:.1;cursor:default}#card-selection-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .card.selectable[_ngcontent-%COMP%]{cursor:pointer;opacity:1}#card-selection-container[_ngcontent-%COMP%]   .rdm-link[_ngcontent-%COMP%]{margin-top:.625rem;padding:1px .625rem;cursor:pointer;font-size:.875rem;color:var(--link-color)}#card-selection-container[_ngcontent-%COMP%]   .rdm-link[_ngcontent-%COMP%]:hover{padding:0 .5625rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"],changeDetection:0}),t})();const xB=(t,e)=>t&&t>e?e:t;function PB(t,e){if(1&t&&(ks(0,"div",10),ua(1),Ss()),2&t){const t=e.$implicit,n=Vs(2);Ps("ngClass",n.actionClasses(t)),Ur(1),ha(" ",n.actionLabel(t)," ")}}function OB(t,e){if(1&t&&(ks(0,"div",8),Cs(1,PB,2,2,"div",9),Ss()),2&t){const t=Vs();Ur(1),Ps("ngForOf",t.actions)}}function kB(t,e){1&t&&(ks(0,"div",17),ks(1,"div",18),ua(2," Full range "),Ss(),Ss())}const SB=function(t){return{"width.%":t}};function MB(t,e){if(1&t&&(ks(0,"div",19),ks(1,"span"),ua(2),Vl(3,"percent"),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs(2);Ps("ngClass",n.actionClasses(t))("ngStyle",Ll(9,SB,n.normalizedWidth(n.rangeValueForAction(t))))("matTooltip",n.rangeValueTooltip(t)),Ur(1),Js("hide-text",n.rangeValueForAction(t)<n.hideTextBelowFreq),Ur(1),da($l(3,6,n.rangeValueForAction(t),"1.0-0"))}}function TB(t,e){if(1&t){const t=Fs();ks(0,"div",20),Ds("click",function(){return Re(t),Vs(2).emitOpenRange()}),Ms(1,"i",21),Ss()}}function EB(t,e){if(1&t&&(ks(0,"div",11),ks(1,"div",12),Cs(2,kB,3,0,"div",13),ks(3,"div",14),Cs(4,MB,4,11,"div",15),Ss(),Cs(5,TB,2,0,"div",16),Ss(),Ss()),2&t){const t=Vs();Js("border",t.showBorder),Ur(1),Js("compact",t.compact),Ur(1),Ps("ngIf",!t.hideLabel),Ur(2),Ps("ngForOf",t.actions),Ur(1),Ps("ngIf",t.showOpenRangeIcons)}}function RB(t,e){1&t&&Ms(0,"div",22)}function FB(t,e){if(1&t&&(ks(0,"div",19),ks(1,"span"),ua(2),Vl(3,"percent"),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs(2);Ps("ngClass",n.actionClasses(t))("ngStyle",Ll(9,SB,n.normalizedWidth(n.valueForAction(n.bucketGroup,t))))("matTooltip",n.valueTooltip(n.bucketGroup,t)),Ur(1),Js("hide-text",n.valueForAction(n.bucketGroup,t)<n.hideTextBelowFreq),Ur(1),da($l(3,6,n.valueForAction(n.bucketGroup,t),"1.0-0"))}}function IB(t,e){if(1&t){const t=Fs();ks(0,"div",27),Ds("click",function(){return Re(t),Vs(2).emitOpenRangeForBucket()}),Ms(1,"i",21),Ss()}}function AB(t,e){if(1&t&&(ks(0,"div",23),ks(1,"div",12),ks(2,"div",17),ks(3,"div",24),ua(4),ks(5,"span",25),ua(6),Vl(7,"percent"),Ss(),Ss(),Ss(),ks(8,"div",14),Cs(9,FB,4,11,"div",15),Ss(),Cs(10,IB,2,0,"div",26),Ss(),Ss()),2&t){const t=Vs();Ur(1),Js("compact",t.compact),Ur(3),ha(" ",t.bucketGroup.label," "),Ur(2),ha(" (",$l(7,6,t.bucketGroup.percentOfRangeInBucket,"1.0-2"),")"),Ur(3),Ps("ngForOf",t.actions),Ur(1),Ps("ngIf",t.showOpenRangeIcons)}}let DB=(()=>{class t{constructor(t){this.percentPipe=t,this.hideLabel=!1,this.hideLegend=!1,this.compact=!1,this.showBorder=!1,this.width=400,this.showOpenRangeIcons=!1,this.openRange=new ql,this.openRangeForBucket=new ql}get isFiveCard(){return!1}get hasRangeFrequencies(){var t;return(null===(t=this.rangeFrequencies)||void 0===t?void 0:t.length)>0&&!this.rangeFrequencies.every(t=>!t.overallFreq)}get hideTextBelowFreq(){return this.compact?.06:.04}emitOpenRange(){this.openRange.emit()}emitOpenRangeForBucket(){this.openRangeForBucket.emit()}validGroups(t){return t.filter(t=>t.totalItems>0)}actionLabel(t){var e,n;if(this.useRFIvalueForAction(t)){const n=this.getRFIValue();return sF(t,this.hasPrevBet||t.hasPrevBet,!this.isPostFlop,n?n+"x":null,null===(e=this.currentTree)||void 0===e?void 0:e.fixedRaiseSize)}return sF(t,this.hasPrevBet,!this.isPostFlop,null,null===(n=this.currentTree)||void 0===n?void 0:n.fixedRaiseSize)}valueForAction(t,e){var n;return xB(null===(n=null==t?void 0:t.values.find(t=>oF(t.action,e)))||void 0===n?void 0:n.overallFreq,1)}rangeValueForAction(t){var e,n;return xB(null===(n=null===(e=this.rangeFrequencies)||void 0===e?void 0:e.find(e=>oF(e.action,t)))||void 0===n?void 0:n.overallFreq,1)}actionClasses(t){const e=t=>["BET","RAISE","RAISECHIP"].includes(t.type.toUpperCase());if(e(t))switch(this.actions.filter(e).sort((t,e)=>t.amount||e.amount?t.amount-e.amount:e.amountLabel.localeCompare(t.amountLabel)).findIndex(e=>e.amount?e.amount===t.amount:e.amountLabel===t.amountLabel)){case 0:return"action raise0";case 1:return"action raise1";case 2:return"action raise2"}else switch(t.type.toUpperCase()){case Q_.FOLD:return"action fold";case Q_.CALL:return"action call";case Q_.CHECK:return"action check";case"AI":case"ALL IN":case"ALL-IN":case"ALL_IN":case Q_.ALLIN:return"action allin";case Q_.MIN:case Q_.MR:return"action min";default:return"action default"}}normalizedWidth(t){return 100*t}bucketTooltip(t){return t.label}valueTooltip(t,e){const n=this.valueForAction(t,e);return`${this.actionLabel(e)}: ${this.percentPipe.transform(n,"1.0-0")}`}rangeValueTooltip(t){const e=this.rangeValueForAction(t);return`${this.actionLabel(t)}: ${this.percentPipe.transform(e,"1.0-0")}`}getBucketIndex(t,e){return av(t,e)}useRFIvalueForAction(t){return oy(t,this.currentTree,this.isPostFlop,this.isRFI)}getRFIValue(){var t;return(null!==(t=this.currentTree.rfiValues)&&void 0!==t?t:{})[this.currentPosition]||this.currentTree.rfiValue}}return t.\u0275fac=function(e){return new(e||t)(xs(Hd))},t.\u0275cmp=Nt({type:t,selectors:[["app-strategy-chart"]],inputs:{currentTree:"currentTree",isPostFlop:"isPostFlop",isRFI:"isRFI",hasPrevBet:"hasPrevBet",currentPosition:"currentPosition",actions:"actions",rangeFrequencies:"rangeFrequencies",bucketGroup:"bucketGroup",hideLabel:"hideLabel",hideLegend:"hideLegend",compact:"compact",showBorder:"showBorder",width:"width",showOpenRangeIcons:"showOpenRangeIcons"},outputs:{openRange:"openRange",openRangeForBucket:"openRangeForBucket"},decls:8,vars:6,consts:[[1,"strategy-chart-container"],[1,"chart-wrapper"],[1,"top-row"],["class","legend",4,"ngIf"],[1,"chart"],["class","chart-group range-freq",3,"border",4,"ngIf"],["class","range-bucket-sep",4,"ngIf"],["class","chart-group",4,"ngIf"],[1,"legend"],["class","legend-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"legend-item",3,"ngClass"],[1,"chart-group","range-freq"],[1,"chart-row"],["class","chart-label",4,"ngIf"],[1,"freq-container"],["class","chart-value","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"ngClass","ngStyle","matTooltip",4,"ngFor","ngForOf"],["class","open-range-icon","matTooltip","Open full range in new tab","matTooltipPosition","below",3,"click",4,"ngIf"],[1,"chart-label"],[1,"label","bold"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"chart-value",3,"ngClass","ngStyle","matTooltip"],["matTooltip","Open full range in new tab","matTooltipPosition","below",1,"open-range-icon",3,"click"],[1,"fas","fa-external-link-alt"],[1,"range-bucket-sep"],[1,"chart-group"],[1,"label"],[1,"small"],["class","open-range-icon","matTooltip","Open range for bucket in new tab","matTooltipPosition","below",3,"click",4,"ngIf"],["matTooltip","Open range for bucket in new tab","matTooltipPosition","below",1,"open-range-icon",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"div",1),ks(2,"div",2),Cs(3,OB,2,1,"div",3),Ss(),ks(4,"div",4),Cs(5,EB,6,7,"div",5),Cs(6,RB,1,0,"div",6),Cs(7,AB,11,9,"div",7),Ss(),Ss(),Ss()),2&t&&(Ur(3),Ps("ngIf",!e.hideLegend),Ur(1),Js("no-scroll",e.compact),Ur(1),Ps("ngIf",e.hasRangeFrequencies),Ur(1),Ps("ngIf",!e.compact&&e.bucketGroup&&e.hasRangeFrequencies),Ur(1),Ps("ngIf",e.bucketGroup))},directives:[Pd,wd,vd,Rd,oR],pipes:[Hd],styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:120px}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-frame{border-color:var(--checkbox-border)!important}[_nghost-%COMP%]     .mat-checkbox.mat-checkbox-disabled .mat-checkbox-frame{border-color:var(--checkbox-border-disabled)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option-disabled{color:var(--text-color-disabled)!important}.large-tooltip[_ngcontent-%COMP%]{font-size:18px}.strategy-chart-container[_ngcontent-%COMP%]{color:var(--text-color)}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;cursor:default;margin-left:30%;margin-bottom:5px;margin-top:20px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{margin:10px;padding:6px 12px;color:#fff;display:flex;flex-direction:row;align-items:center;border-radius:var(--border-radius)}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{max-height:750px;overflow-x:hidden;overflow-y:auto}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart.no-scroll[_ngcontent-%COMP%]{overflow-y:hidden}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .range-bucket-sep[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:12px;margin-right:10px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]{margin-bottom:10px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group.border[_ngcontent-%COMP%]{border-radius:var(--border-radius);overflow:hidden}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;overflow:hidden;height:100%;cursor:default}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.compact[_ngcontent-%COMP%]{height:100%;font-size:1rem}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.compact[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]{width:50%}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:flex-start}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]{width:50%;font-size:.8rem;display:flex;flex-direction:row;justify-content:space-between;margin-right:10px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.expandable[_ngcontent-%COMP%]{cursor:pointer}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .range-freq[_ngcontent-%COMP%]{padding-left:50px}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{margin-left:5px;font-size:.6rem}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;color:#fff}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]   span.hide-text[_ngcontent-%COMP%]{visibility:hidden}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .open-range-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem;font-size:.875rem;color:#a4b4dd}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .open-range-icon[_ngcontent-%COMP%]:hover{color:#fff}.strategy-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .range-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:30px;cursor:pointer}.default[_ngcontent-%COMP%]{background-color:var(--default-background);color:var(--default-color)!important}.min[_ngcontent-%COMP%], .raise0[_ngcontent-%COMP%]{background-color:var(--raise0-background);color:var(--raise0-color)!important}.raise1[_ngcontent-%COMP%]{background-color:var(--raise1-background);color:var(--raise1-color)!important}.allin[_ngcontent-%COMP%], .raise2[_ngcontent-%COMP%]{background-color:var(--raise2-background);color:var(--raise2-color)!important}.raise3[_ngcontent-%COMP%]{background-color:var(--raise3-background);color:var(--raise3-color)!important}.fold[_ngcontent-%COMP%]{background-color:var(--fold-background);color:var(--fold-color)!important}.call[_ngcontent-%COMP%], .check[_ngcontent-%COMP%]{background-color:var(--call-background);color:var(--call-color)!important}"],changeDetection:0}),t})();function LB(t,e){1&t&&(ks(0,"span",4),zs(1),Ss())}function BB(t,e){if(1&t&&(ks(0,"span",5),ua(1),Vl(2,"uppercase"),Ss()),2&t){const t=Vs();Ur(1),da(Hl(2,1,t.hotkey))}}function NB(t,e){if(1&t&&(ks(0,"span"),ua(1),Vl(2,"uppercase"),Ss()),2&t){const t=Vs();Ur(1),da(Hl(2,1,t.label))}}function jB(t,e){if(1&t&&(Ts(0),ks(1,"div",6),ua(2),Vl(3,"uppercase"),Ss(),ks(4,"div",6),ua(5),Vl(6,"uppercase"),Ss(),Es()),2&t){const t=Vs();Ur(2),da(Hl(3,2,t.label)),Ur(3),da(Hl(6,4,t.secondLabel))}}const VB=["*"];let HB=(()=>{class t{constructor(){this.icon=!1,this.useSmallFont=!1,this.usable=!0,this.ahk=!1,this.isSelected=!1,this.clicked=new ql}emitClick(){new ja(document.getElementById(this.btnId)).nativeElement.blur(),this.clicked.emit()}get btnId(){return"btn-"+this.label}get styles(){var t;return{usable:this.action&&this.usable,action:this.action,secondaryButton:this.secondaryButton,backOrExit:this.backOrExit,load:this.load,trainNode:this.trainNode,trainRandomBoard:this.trainRandomBoard,trainGame:this.trainGame,filter:this.filter,continue:this.continue,selected:this.isSelected,correct:!this.barelyVisible&&jI(this.result),inaccuracy:!this.barelyVisible&&this.result===DI.INACCURACY,mistake:!this.barelyVisible&&(t=this.result,[DI.FREQ_MISTAKE,DI.MISTAKE,DI.BLUNDER].includes(t)),smallFont:this.useSmallFont,roundButton:this.roundButton,responsive:this.responsive,barelyVisible:this.barelyVisible,ahk:this.ahk}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["app-action-button"]],inputs:{label:"label",secondLabel:"secondLabel",icon:"icon",useSmallFont:"useSmallFont",disabled:"disabled",usable:"usable",secondaryButton:"secondaryButton",backOrExit:"backOrExit",load:"load",trainNode:"trainNode",trainRandomBoard:"trainRandomBoard",trainGame:"trainGame",filter:"filter",continue:"continue",action:"action",roundButton:"roundButton",ahk:"ahk",responsive:"responsive",barelyVisible:"barelyVisible",result:"result",hotkey:"hotkey",isSelected:"isSelected"},outputs:{clicked:"clicked"},ngContentSelectors:VB,decls:5,vars:7,consts:[["mat-flat-button","",1,"button",3,"id","ngClass","disabled","click"],["class","icon",4,"ngIf"],["class","hotkey",4,"ngIf"],[4,"ngIf"],[1,"icon"],[1,"hotkey"],[1,"multiline"]],template:function(t,e){1&t&&($s(),ks(0,"button",0),Ds("click",function(){return e.emitClick()}),Cs(1,LB,2,0,"span",1),Cs(2,BB,3,3,"span",2),Cs(3,NB,3,3,"span",3),Cs(4,jB,7,6,"ng-container",3),Ss()),2&t&&(Ps("id",e.btnId)("ngClass",e.styles)("disabled",e.disabled),Ur(1),Ps("ngIf",e.icon),Ur(1),Ps("ngIf",e.hotkey),Ur(1),Ps("ngIf",!e.secondLabel),Ur(1),Ps("ngIf",e.secondLabel))},directives:[pE,vd,Pd],pipes:[Nd],styles:[".button[_ngcontent-%COMP%]{width:8.125rem;height:3.1rem;display:flex;align-items:center;justify-content:center;font-size:.9rem;font-weight:400}.button.responsive[_ngcontent-%COMP%]{width:100%}.button.ahk[_ngcontent-%COMP%]{opacity:.7}.button.smallFont[_ngcontent-%COMP%]{font-size:.75rem}.button[_ngcontent-%COMP%]   .multiline[_ngcontent-%COMP%]{line-height:1rem;height:1rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:var(--button-font-size);margin-right:.625rem}.button[_ngcontent-%COMP%]   .hotkey[_ngcontent-%COMP%]{font-size:.6rem;position:absolute;bottom:0;left:50%;transform:translateX(-50%);line-height:1rem;opacity:.8;font-weight:500}.button.barelyVisible[_ngcontent-%COMP%]{opacity:.15;cursor:default!important}.button.roundButton[_ngcontent-%COMP%]{width:3.1rem!important;font-size:1.2rem}.button.roundButton[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:0}.button.roundButton[_ngcontent-%COMP%]   .hotkey[_ngcontent-%COMP%]{opacity:.3}.button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.button.trainNode.filter[_ngcontent-%COMP%]{width:unset}.button.trainNode[_ngcontent-%COMP%]:enabled{color:var(--train-button-text);background-color:var(--train-button-color);border:var(--train-button-border)}.button.trainNode[_ngcontent-%COMP%]:disabled{color:var(--train-button-text-disabled);background-color:var(--train-button-color-disabled);border:var(--train-button-border-disabled)}.button.trainNode[_ngcontent-%COMP%]:hover:enabled{color:var(--train-button-text-hover);background-color:var(--train-button-color-hover);border:var(--train-button-border-hover)}.button.trainRandomBoard.filter[_ngcontent-%COMP%]{width:unset}.button.trainRandomBoard[_ngcontent-%COMP%]:enabled{color:var(--alt-train-button-text);background-color:var(--alt-train-button-color);border:var(--alt-train-button-border)}.button.trainRandomBoard[_ngcontent-%COMP%]:disabled{color:var(--alt-train-button-text-disabled);background-color:var(--alt-train-button-color-disabled);border:var(--alt-train-button-border-disabled)}.button.trainRandomBoard[_ngcontent-%COMP%]:hover:enabled{color:var(--alt-train-button-text-hover);background-color:var(--alt-train-button-color-hover);border:var(--alt-train-button-border-hover)}.button.trainGame.filter[_ngcontent-%COMP%]{width:unset}.button.trainGame[_ngcontent-%COMP%]:enabled{color:var(--game-train-button-text);background-color:var(--game-train-button-color);border:var(--game-train-button-border)}.button.trainGame[_ngcontent-%COMP%]:disabled{color:var(--game-train-button-text-disabled);background-color:var(--game-train-button-color-disabled);border:var(--game-train-button-border-disabled)}.button.trainGame[_ngcontent-%COMP%]:hover:enabled{color:var(--game-train-button-text-hover);background-color:var(--game-train-button-color-hover);border:var(--game-train-button-border-hover)}.button.secondaryButton[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border:var(--border-style)}.button.secondaryButton[_ngcontent-%COMP%]:enabled{color:var(--text-color);background-color:var(--background-color);box-shadow:inset 0 0 3rem 0 hsla(0,0%,100%,.06274509803921569)}.button.secondaryButton[_ngcontent-%COMP%]:hover:enabled{border:var(--border-style-bold)}.button.backOrExit[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.button.backOrExit[_ngcontent-%COMP%]:enabled{color:var(--back-button-text);background-color:var(--back-button-color);border:var(--back-button-border)}.button.backOrExit[_ngcontent-%COMP%]:disabled{color:var(--back-button-text-disabled);background-color:var(--back-button-color-disabled);border:var(--back-button-border-disabled)}.button.backOrExit[_ngcontent-%COMP%]:hover:enabled{color:var(--back-button-text-hover);background-color:var(--back-button-color-hover);border:var(--back-button-border-hover)}.button.load[_ngcontent-%COMP%]:enabled{color:var(--load-button-text);background-color:var(--load-button-color);border:var(--load-button-border)}.button.load[_ngcontent-%COMP%]:disabled{color:var(--load-button-text-disabled);background-color:var(--load-button-color-disabled);border:var(--load-button-border-disabled)}.button.load[_ngcontent-%COMP%]:hover:enabled{color:var(--load-button-text-hover);background-color:var(--load-button-color-hover);border:var(--load-button-border-hover)}.button.continue[_ngcontent-%COMP%]:enabled{color:var(--load-button-text);background-color:var(--load-button-color);border:var(--load-button-border)}.button.continue[_ngcontent-%COMP%]:disabled{color:var(--load-button-text-disabled);background-color:var(--load-button-color-disabled);border:var(--load-button-border-disabled)}.button.continue[_ngcontent-%COMP%]:hover:enabled{color:var(--load-button-text-hover);background-color:var(--load-button-color-hover);border:var(--load-button-border-hover)}.button.action[_ngcontent-%COMP%]{color:var(--btn-text-color);padding:2px}.button.action.usable[_ngcontent-%COMP%]:enabled{background-color:var(--action-button-color);border:var(--action-button-border)}.button.action.usable[_ngcontent-%COMP%]:disabled{opacity:.5;background-color:var(--action-button-color-disabled);border:var(--action-button-border-disabled)}.button.action.usable[_ngcontent-%COMP%]:hover:enabled{background-color:var(--action-button-color-hover);border:var(--action-button-border-hover)}.button.action.correct[_ngcontent-%COMP%]{background-color:var(--eval-color-correct);border:var(--border-style);pointer-events:none}.button.action.inaccuracy[_ngcontent-%COMP%]{background-color:var(--eval-color-low-freq);border:var(--border-style);pointer-events:none}.button.action.mistake[_ngcontent-%COMP%]{color:#fff;background-color:var(--eval-color-mistake);border:var(--border-style);pointer-events:none}.button.action.selected[_ngcontent-%COMP%]{border:.1875rem solid #fff}"]}),t})();function $B(t,e){if(1&t){const t=Fs();ks(0,"div",14),ks(1,"div",15),Ds("click",function(){return Re(t),Vs(3).openSelector("flop")}),ua(2,"FLOP"),Ss(),Ss()}}function zB(t,e){if(1&t){const t=Fs();Ts(0),ks(1,"div",14),ks(2,"div",15),Ds("click",function(){Re(t);const e=Vs().$implicit;return Vs(3).openSelector(e.action.type)}),ua(3),Vl(4,"uppercase"),Ss(),Ss(),Es()}if(2&t){const t=Vs().$implicit;Ur(3),da(Hl(4,1,t.action.type))}}function UB(t,e){if(1&t){const t=Fs();Ts(0),ks(1,"div",16),Ds("click",function(){Re(t);const e=Vs().$implicit;return Vs(3).goToHistoryItem(e.idx)}),ks(2,"div",17),ua(3),Ss(),ks(4,"div",18),ua(5),Ss(),Ss(),Es()}if(2&t){const t=Vs().$implicit,e=Vs(3);Ur(1),Ps("ngClass",e.actionColorClass(t.action,t.allActions)),Ur(2),da(e.formatPlayer(t.player)),Ur(2),da(e.formatHistoryAction(t.action))}}function qB(t,e){if(1&t&&(Ts(0),Cs(1,zB,5,3,"ng-container",0),Cs(2,UB,6,3,"ng-container",0),Es()),2&t){const t=e.$implicit,n=Vs(3);Ur(1),Ps("ngIf",n.isDealerAction(t.action)),Ur(1),Ps("ngIf",!n.isDealerAction(t.action))}}function WB(t,e){if(1&t){const t=Fs();ks(0,"app-flop-selector",19),Ds("selected",function(e){return Re(t),Vs(3).updateSelectedFlop(e)})("closed",function(){return Re(t),Vs(3).closeFlopSelector()}),Ss()}if(2&t){const t=Vs(3);Ps("allowClose",!0)("flops",t.selectableFlops)}}function GB(t,e){if(1&t){const t=Fs();ks(0,"app-card-selector",20),Ds("selected",function(e){return Re(t),Vs(3).updateSelectedTurn(e)})("ahk",function(e){return Re(t),Vs(3).ahkSelectedTurnRiver(e)})("closed",function(){return Re(t),Vs(3).closeTurnSelector()}),Ss()}if(2&t){const t=Vs(3);Ps("allowClose",!0)("selectable",t.selectableTurns)}}function KB(t,e){if(1&t){const t=Fs();ks(0,"app-card-selector",21),Ds("selected",function(e){return Re(t),Vs(3).updateSelectedRiver(e)})("ahk",function(e){return Re(t),Vs(3).ahkSelectedTurnRiver(e)})("closed",function(){return Re(t),Vs(3).closeRiverSelector()}),Ss()}if(2&t){const t=Vs(3);Ps("allowClose",!0)("selectable",t.selectableRivers)}}function QB(t,e){if(1&t&&Ms(0,"app-strategy-chart",22),2&t){const t=e.ngIf,n=Vs(3);Ps("currentTree",n.treeMeta)("isPostFlop",n.isPostFlop)("isRFI",n.isRFI)("currentPosition",n.currentPlayer)("actions",n.getActions())("rangeFrequencies",t)("hasPrevBet",n.hasPrevBet)("compact",!0)("hideLegend",!0)("hideLabel",!0)("showBorder",!0)("width",700)}}function YB(t,e){if(1&t){const t=Fs();ks(0,"app-action-button",28),Ds("clicked",function(){return Re(t),Vs(4).goBack()}),Ms(1,"i",29),Ss()}2&t&&Ps("disabled",Vs(4).disableBackButton)("secondaryButton",!0)("icon",!0)("roundButton",!0)}function ZB(t,e){if(1&t){const t=Fs();ks(0,"app-action-button",32),Ds("clicked",function(){Re(t);const n=e.$implicit;return Vs(5).pickAction(n)}),Ss()}if(2&t){const t=e.$implicit,n=Vs(5);Zs("width",100/n.getActions().length,"%")("max-width","15rem"),Ps("disabled",n.isActionDisabled(t)&&!n.canContinueWithScript(t))("barelyVisible",t.barelyVisible)("action",!0)("label",n.getFormattedAction(t))("hotkey",n.canContinueWithScript(t)?"AHK script":null)("ahk",n.canContinueWithScript(t))("responsive",!0)}}function JB(t,e){if(1&t&&(ks(0,"div",30),Cs(1,ZB,1,11,"app-action-button",31),Ss()),2&t){const t=Vs(4);Ur(1),Ps("ngForOf",t.getActions())}}function XB(t,e){if(1&t){const t=Fs();ks(0,"app-action-button",33),Ds("clicked",function(){return Re(t),Vs(4).load()}),Ms(1,"i",34),Ss()}2&t&&Ps("disabled",Vs(4).disableLoadButton)("secondaryButton",!0)("hotkey","Show")("icon",!0)("roundButton",!0)}function tN(t,e){if(1&t){const t=Fs();ks(0,"app-action-button",33),Ds("clicked",function(){return Re(t),Vs(4).setupTraining()}),Ms(1,"i",35),Ss()}2&t&&Ps("disabled",Vs(4).disableTrainButton)("secondaryButton",!0)("hotkey","Train")("icon",!0)("roundButton",!0)}function eN(t,e){if(1&t&&(ks(0,"div",23),Cs(1,YB,2,4,"app-action-button",24),Cs(2,JB,2,1,"div",25),ks(3,"div",26),Cs(4,XB,2,5,"app-action-button",27),Cs(5,tN,2,5,"app-action-button",27),Ss(),Ss()),2&t){const t=Vs(3);Ur(1),Ps("ngIf",!t.flopSelectorIsShown),Ur(1),Ps("ngIf",!t.anySelectorIsShown),Ur(2),Ps("ngIf",!t.anySelectorIsShown&&!t.disableLoadButton),Ur(1),Ps("ngIf",t.allowTraining)}}function nN(t,e){1&t&&Ms(0,"div",23)}function iN(t,e){if(1&t){const t=Fs();ks(0,"div",3),ks(1,"div",4),Cs(2,$B,3,0,"div",5),Cs(3,qB,3,2,"ng-container",6),Ss(),ks(4,"app-poker-table",7),Ds("toggleFlop",function(){return Re(t),Vs(2).toggleFlopSelector()})("toggleTurn",function(){return Re(t),Vs(2).toggleTurnSelector()})("toggleRiver",function(){return Re(t),Vs(2).toggleRiverSelector()}),Ss(),Cs(5,WB,1,2,"app-flop-selector",8),Cs(6,GB,1,2,"app-card-selector",9),Cs(7,KB,1,2,"app-card-selector",10),ks(8,"div",11),Cs(9,QB,1,12,"app-strategy-chart",12),Vl(10,"async"),Ss(),Cs(11,eN,6,4,"div",13),Cs(12,nN,1,0,"div",13),Ss()}if(2&t){const t=Vs(2);Ur(2),Ps("ngIf",t.isPostFlop),Ur(1),Ps("ngForOf",t.history)("ngForTrackBy",t.trackHistoryItemBy),Ur(1),Ps("icmInfo",t.icmInfo)("replaceWithStraddle",t.replaceWithStraddle)("allPlayers",t.allPlayers)("activePlayers",t.activePlayers)("currentPlayer",t.currentPlayer)("chips",t.chipState)("cardSelectorIsShown",t.anySelectorIsShown)("board",t.showBoard?t.board:null)("showLargeCards",!1)("disableSelectors",t.disableBoardSelectors),Ur(1),Ps("ngIf",t.flopSelectorIsShown),Ur(1),Ps("ngIf",t.turnSelectorIsShown),Ur(1),Ps("ngIf",t.riverSelectorIsShown),Ur(2),Ps("ngIf",Hl(10,19,t.rangeFrequencies$)),Ur(2),Ps("ngIf",t.hasTreeLoaded),Ur(1),Ps("ngIf",t.hasTreeLoaded)}}function rN(t,e){if(1&t&&(Ts(0),Cs(1,iN,13,21,"div",2),Es()),2&t){const t=Vs();Ur(1),Ps("ngIf",t.hasTreeLoaded||t.flopSelectorIsShown)}}function oN(t,e){1&t&&(ks(0,"div",36),Ms(1,"mat-spinner",37),Ss())}const sN=t=>null!=t?t:"";let aN=(()=>{class t{constructor(t,e,n,i,r,o,s,a){this.store=t,this.router=e,this.route=n,this.treeService=i,this.rangeService=r,this.feature=o,this.theme=s,this.dialog=a,this.nodeSelected=new ql,this.boardUpdated=new ql,this.flopSelectionAborted=new ql,this.$isLoading=new ap(!1),this._flopSelectorIsShown=!1,this._turnSelectorIsShown=!1,this._riverSelectorIsShown=!1,this.rangeService.isLoading$.subscribe(t=>this.isLoadingRange=t)}ngOnInit(){return $m(this,void 0,void 0,function*(){this.isLoadingTree$=this.store.pipe(Yb(_y)),this.currentRangeFrequencies$=this.store.pipe(Yb(Ay)),this.currentTreeSubscription=this.store.pipe(Yb(yy)).subscribe(t=>$m(this,void 0,void 0,function*(){if(t&&!t.isCustom){this._flopSelectorIsShown=!1,this._turnSelectorIsShown=!1,this._riverSelectorIsShown=!1,this.$isLoading.next(!0);const{node:e,loadRange:n,flop:i,turn:r,river:o}=this.route.snapshot.queryParams;this.tree=new YF(this.treeService,t,e,i,r,o),this.tree.isPostFlop?this.clearLookups(!0,!1):this.clearLookups(!1,!0);const s=yield this.tree.waitUntilLoaded();s?this.handleTreeNext(s):(this.tree.isPostFlop?i||(this._flopSelectorIsShown=!0):this._flopSelectorIsShown=!1,this.updateSelectedNode(this.currentNode)),this.emitCurrentBoard(),this.clearCurrentRange(),this.$isLoading.next(!1),n&&(yield this.load(!1))}else this.tree=null}))})}ngOnDestroy(){this.currentTreeSubscription&&this.currentTreeSubscription.unsubscribe()}get icmInfo(){return this.treeMeta?{payouts:this.treeMeta.icmPayouts,stacks:this.treeMeta.icmStacks}:{payouts:null,stacks:null}}get rangeFrequencies$(){return this.currentRangeFrequencies$.pipe(k(t=>{if(t){const{tree:e,node:n,rangeFrequencies:i}=t;if(e===this.tree.key&&n===this.tree.nodePath)return i}return null}))}get allowCloseFlopSelector(){var t;return(null===(t=this.board)||void 0===t?void 0:t.flop)&&3===this.board.flop.length&&this.board.flop.every(t=>!!t)}get allowCloseTurnSelector(){var t,e;return!!(null===(e=null===(t=this.board)||void 0===t?void 0:t.turn)||void 0===e?void 0:e.card)}get allowCloseRiverSelector(){var t,e;return!!(null===(e=null===(t=this.board)||void 0===t?void 0:t.river)||void 0===e?void 0:e.card)}get isLoading$(){return this.tree?hp([this.$isLoading.asObservable(),this.isLoadingTree$,this.tree.isLoading$]).pipe(k(([t,e,n])=>t||e||n)):hp([this.$isLoading.asObservable(),this.isLoadingTree$]).pipe(k(([t,e])=>t||e))}get isFiveCard(){return!1}get isDarkTheme(){return this.theme.isDark}get trainLabel(){if("range"===this.activeTab){if(dy(this.store.pipe(Yb(Fy))))return{label:"train filter",useSmallFont:!0}}else if("chart"===this.activeTab&&dy(this.store.pipe(Yb(Mv))))return{label:"train selection",useSmallFont:!0};return{label:"train",useSmallFont:!1}}get trainRandomBoardLabel(){var t,e;if(this.board)return(null===(t=this.board.river)||void 0===t?void 0:t.card)?"random river":(null===(e=this.board.turn)||void 0===e?void 0:e.card)?"random turn":"random flop"}get isRFI(){var t;return null===(t=this.tree)||void 0===t?void 0:t.isRFI}get treeTitle(){var t;return null===(t=this.tree)||void 0===t?void 0:t.title}get board(){var t;return null===(t=this.tree)||void 0===t?void 0:t.board}get isPostFlop(){var t;return null===(t=this.tree)||void 0===t?void 0:t.isPostFlop}get isHeadsUp(){var t;return null===(t=this.tree)||void 0===t?void 0:t.isHeadsUp}get replaceWithStraddle(){var t,e,n;return null===(n=null===(e=null===(t=this.tree)||void 0===t?void 0:t.currentTree)||void 0===e?void 0:e.setup)||void 0===n?void 0:n.replaceWithStraddle}get currentNode(){var t;return null===(t=this.tree)||void 0===t?void 0:t.currentNode}get currentNodeId(){var t;return[null===(t=this.tree)||void 0===t?void 0:t.key,hy(this.currentNode),this.currentBoard].filter(t=>!!t).join("-")}get treeMeta(){var t;return null===(t=this.tree)||void 0===t?void 0:t.details}get allPlayers(){var t;return null===(t=this.tree)||void 0===t?void 0:t.allPlayers}get activePlayers(){var t;return null===(t=this.tree)||void 0===t?void 0:t.activePlayers}get currentPlayer(){var t;return null===(t=this.tree)||void 0===t?void 0:t.currentPlayer}get currentBoard(){var t,e;if(this.board)return[...this.board.flop.map(sN),sN(null===(t=this.board.turn)||void 0===t?void 0:t.card),sN(null===(e=this.board.river)||void 0===e?void 0:e.card)].join("")}emitCurrentBoard(){var t,e;if(this.board){const n=[...this.board.flop.map(sN),sN(null===(t=this.board.turn)||void 0===t?void 0:t.card),sN(null===(e=this.board.river)||void 0===e?void 0:e.card)].join("");this.boardUpdated.emit(n)}}get allowTraining(){return this.feature.isAvailable(uy.NodeTraining)&&!this.anySelectorIsShown}get showGameTrainingButton(){return this.isPostFlop&&!this.anySelectorIsShown&&this.feature.isAvailable(uy.MultiStreetTraining)}get disableBoardSelectors(){return this.isLoadingRange}get disableLoadButton(){var t;return this.isLoadingRange||this.hasRangeLoadedForCurrentNode||this.anySelectorIsShown||!(null===(t=this.currentNode)||void 0===t?void 0:t.next)||0===this.currentNode.next.length}get disableTrainButton(){return this.isLoadingRange}get hasRangeLoadedForCurrentNode(){return this.currentNode&&this.currentNodeId===this.currentRangesLoadedForNode}get disableBackButton(){return this.isPostFlop?this.flopSelectorIsShown:this.tree.history&&0===this.tree.history.length}get showBoard(){return this.hasTreeLoaded&&this.isPostFlop}get anySelectorIsShown(){return this.flopSelectorIsShown||this.turnSelectorIsShown||this.riverSelectorIsShown}get flopSelectorIsShown(){return this._flopSelectorIsShown}get selectableTurns(){var t,e;return(null===(t=this._selectableTurns)||void 0===t?void 0:t.length)>0?this._selectableTurns:null===(e=this.tree)||void 0===e?void 0:e.availableTurns}get turnSelectorIsShown(){return this._turnSelectorIsShown}get selectableRivers(){var t,e;return(null===(t=this._selectableRivers)||void 0===t?void 0:t.length)>0?this._selectableRivers:null===(e=this.tree)||void 0===e?void 0:e.availableRivers}get riverSelectorIsShown(){return this._riverSelectorIsShown}get hasTreeLoaded(){return!!this.tree&&!!this.tree.currentNode}get chipState(){var t;return null===(t=this.tree)||void 0===t?void 0:t.chipState}get treeStackInChips(){var t;return null===(t=this.tree)||void 0===t?void 0:t.treeStackInChips}get selectableFlops(){var t;return null===(t=this.tree)||void 0===t?void 0:t.selectableFlops}get hasPrevBet(){return this.chipState&&this.chipState.prevBet>2}get history(){var t,e;return null===(e=null===(t=this.tree)||void 0===t?void 0:t.history)||void 0===e?void 0:e.map(({player:t,action:e,allActions:n},i)=>({idx:i,player:t,action:e,allActions:n}))}get hideHistory(){var t;return 0===(null===(t=this.history)||void 0===t?void 0:t.length)}trackHistoryItemBy(t,e){return e.idx}isDealerAction(t){return Y_(t)}firstOnStreet(t){return!(t>0)||this.isDealerAction(this.history[t-1].action)}formatPlayer(t){var e,n;return t===(null===(n=null===(e=this.treeMeta)||void 0===e?void 0:e.setup)||void 0===n?void 0:n.replaceWithStraddle)?q_(!0):t}formatHistoryAction(t){const e=J_(t,this.treeMeta.raiseSizeMapping);return aF(e,e.rfiLabel,this.treeMeta.fixedRaiseSize)}actionColorClass(t,e){const n=t=>["BET","RAISE","RAISECHIP"].includes(t.type.toUpperCase());if(n(t))switch(e.filter(n).sort((t,e)=>t.amount||e.amount?t.amount-e.amount:0).findIndex(e=>e.amount?e.amount===t.amount:e.amountLabel===t.amountLabel)){case 0:return"raise0";case 1:return"raise1";case 2:return"raise2"}else switch(t.type.toUpperCase()){case Q_.FOLD:return"fold";case Q_.CALL:return"call";case Q_.CHECK:return"check";case"AI":case"ALL IN":case"ALL-IN":case"ALL_IN":case Q_.ALLIN:return"allin";case Q_.MIN:case Q_.MR:return"min";default:return"default"}}openSelector(t){switch(this.hideAllSelectors(),t){case Q_.flop:this._flopSelectorIsShown=!0;break;case Q_.turn:this._turnSelectorIsShown=!0;break;case Q_.river:this._riverSelectorIsShown=!0}}closeFlopSelector(){this.hideAllSelectors(),this.allowCloseFlopSelector||(this.store.dispatch(z_()),this.flopSelectionAborted.emit())}closeTurnSelector(){return $m(this,void 0,void 0,function*(){this.hideAllSelectors(),this.allowCloseTurnSelector||(yield this.goBack())})}closeRiverSelector(){return $m(this,void 0,void 0,function*(){this.hideAllSelectors(),this.allowCloseRiverSelector||(yield this.goBack())})}goToHistoryItem(t){return $m(this,void 0,void 0,function*(){const e=this.history.length-t;yield this.goBack(e)})}toggleFlopSelector(){this._turnSelectorIsShown||this._riverSelectorIsShown?this._flopSelectorIsShown=!1:this._flopSelectorIsShown?this.board&&this.board.flop&&this.board.flop.every(t=>!!t)&&(this._flopSelectorIsShown=!1):this._flopSelectorIsShown=!0}toggleTurnSelector(){this._flopSelectorIsShown||this._riverSelectorIsShown?this._turnSelectorIsShown=!1:this._turnSelectorIsShown?this.board&&this.board.turn&&null!==this.board.turn.card&&(this._turnSelectorIsShown=!1):this._turnSelectorIsShown=!0}toggleRiverSelector(){this._flopSelectorIsShown||this._turnSelectorIsShown?this._riverSelectorIsShown=!1:this._riverSelectorIsShown?this.board&&this.board.river&&null!==this.board.river&&(this._riverSelectorIsShown=!1):this._riverSelectorIsShown=!0}getActions(){return this.tree.getActions()}getActionButtonsNotRaises(){const t=this.tree.getActions(),e=[];let n=0;return t.length>n&&t[n].type===Q_.FOLD?(e.push(t[n]),n++):e.push({type:Q_.FOLD,barelyVisible:!0,color:"colorFold"}),t.length>n&&(t[n].type===Q_.CALL||t[n].type===Q_.CHECK)?(e.push(t[n]),n++):e.push({type:Q_.CALL,barelyVisible:!0,color:"colorCall"}),e}getActionButtonsRaises(){const t=this.tree.getActions(),e=[];let n=0;if(t.length>n&&t[n].type===Q_.FOLD&&n++,t.length>n&&(t[n].type===Q_.CALL||t[n].type===Q_.CHECK)&&n++,n>=t.length)e.push({type:Q_.RAISE,barelyVisible:!0,color:"colorRaise1"});else for(let i=n;i<t.length;i++)e.push(t[i]);return e}getFormattedAction(t){return this.tree.getFormattedAction(t)}isActionDisabled(t){var e,n;if(this.tree.details.isCustom)return!0;if(null===(e=this.currentNode)||void 0===e?void 0:e.next){const e=this.currentNode.next.find(e=>oF(e.action,t));if((null===(n=null==e?void 0:e.next)||void 0===n?void 0:n.length)>0&&e.next[0].action.type===Q_.turn){const e=this.tree.details,n=[...this.tree.history.map(t=>t.action),t],i=Object(yR.cardsToString)(this.board.flop,!0),r=Object(yR.cardsToString)(this.board.flop,!1),o=$F(n);return e.boards[i]?!e.boards[i][o]:!e.boards[r]||!e.boards[r][o]}return!e||!e.next||0===e.next.length}return!0}canContinueWithScript(t){var e,n;if(this.tree.details.isCustom)return!1;const i=(null===(e=this.board)||void 0===e?void 0:e.flop)&&!(null===(n=this.board)||void 0===n?void 0:n.river),r=[Q_.CALL,Q_.CHECK].includes(t.type),o=t.type===Q_.FOLD,s=this.activePlayers.length>=3,a=Object.values(this.tree.chipState.stacks).reduce((t,e)=>t<e?t:e);return this.isActionDisabled(t)&&i&&(r||o&&s)&&a>0&&!dF()&&!0}pickAction(t){return $m(this,void 0,void 0,function*(){if(this.canContinueWithScript(t))yield this.loadRangeAndRunScript(t);else{this.clearCurrentRange();const e=yield this.tree.update(t);this.updateUrl(),this.handleTreeNext(e)}})}restart(){this.tree.restart(),this.hideAllSelectors(),this.isPostFlop&&(this._flopSelectorIsShown=!0),this.updateSelectedNode(this.currentNode),this.updateUrl()}goBack(t=1){return $m(this,void 0,void 0,function*(){this.clearCurrentRange();const e=yield this.tree.prev(t);this.handleTreeNext(e),this.updateUrl()})}handleTreeNext(t){this.hideAllSelectors(),t&&!t.continue?t.availableTurns?this.showTurnSelector(t.availableTurns):t.availableRivers?this.showRiverSelector(t.availableRivers):this.isPostFlop&&(this._flopSelectorIsShown=!0):this.updateSelectedNode(this.currentNode)}load(t=!0){return $m(this,void 0,void 0,function*(){if(t&&this.updateUrl(!0),this.currentNode&&this.currentNode.next){let t=this.currentNode.next;t.find(t=>t.action.type===Q_.CHECK)&&(t=t.filter(t=>t.action.type!==Q_.CALL));const n=[];for(const e of t)n.find(t=>t.rangeId===e.rangeId)||n.push({action:e.action,rangeId:e.rangeId});this.currentRangesLoadedForNode=this.currentNodeId;const{key:i,board:r,currentNode:o,nodePath:s,turnStakes:a,currentPlayer:l}=this.tree,{multiplyEVBy:c}=this.tree.details;try{let t;if(this.isPostFlop){const e=Object(yR.cardsToString)(r.flop,!1),u=r.turn&&r.turn.card?Object(yR.cardToString)(r.turn.card):null,d=r.river&&r.river.card?Object(yR.cardToString)(r.river.card):null,{modifyEV:h}=this.tree.details,p=h?sy(h,e,s):c,f=a?a[l]:null,g=!!u||!!d;t=yield this.rangeService.loadPostflopRanges(l,i,s,hy(o),n,{flop:e,turn:u,river:d},{isTurnOrRiver:g,evFactor:p,turnInvest:f})}else t=yield this.rangeService.loadPreflopRanges(l,i,s,hy(o),n,{isTurnOrRiver:!1,evFactor:c});t.rangeFrequencies.every(t=>null!==t.overallFreq&&t.overallFreq>=0)||this.dialog.open(IE,{data:{title:"Empty node!",content:["The node you selected does not contain any ranges.","Please select a different action."],confirmOnly:!0,confirmLabel:"Ok"}}).afterClosed().subscribe(()=>$m(this,void 0,void 0,function*(){this.clearCurrentRange(),yield this.goBack()}))}catch(e){this.currentRangesLoadedForNode=null}}})}ahkSelectedTurnRiver(t){return $m(this,void 0,void 0,function*(){if(dF())return;const{board:e}=this.tree,n=Object(yR.cardsToString)(e.flop,!1),i=e.turn&&e.turn.card?Object(yR.cardToString)(e.turn.card):null;(i?n+i:n).includes(t)?console.log("Card is not possible!"):yield this.loadRangeAndRunScript(void 0,t)})}loadRangeAndRunScript(t,e){return $m(this,void 0,void 0,function*(){this.currentNode&&this.currentNode.next&&this.dialog.open(qL,{data:{title:"Generate AHK script"+(e?` for ${e}?`:"?"),content:["To use AHK script you need:","href:https://plomastermind.com/lessons/ahk-script/_caption:- Watch our Tutorial","href:https://javadl.oracle.com/webapps/download/AutoDL?BundleId=242060_3d5a2bb8f8d4428bbe94aed7ec7ae784_caption:- Install Java x64","href:https://www.monkerware.com/downloads/monkersolverfree-setup.exe_caption:- Install MonkerSolver Free version","href:https://www.autohotkey.com/download/ahk-install.exe_caption:- Install AutoHotkey v1","- Run MonkerSolver Free","- Run downloaded .ahk script"],confirmLabel:"Download script",dismissLabel:"Cancel"}}).afterClosed().subscribe(n=>$m(this,void 0,void 0,function*(){if(!n)return;let i=!1;const r=this.tree.prepareDataForAHK();let o;if(console.log(r),t){i=t.type===Q_.FOLD;const e=this.currentNode.next.find(e=>oF(e.action,t)).rangeId,n=this.tree.activePlayers.filter(t=>t!==this.currentPlayer),r=[...this.tree.history].reverse(),s={};n.map(t=>s[t]=r.find(e=>e.player===t).rangeId),o=Object.assign(i?{}:{[this.currentPlayer]:e},s)}else{const t=[...this.tree.history].reverse(),e={};this.tree.activePlayers.map(n=>e[n]=t.find(t=>t.player===n).rangeId),o=Object.assign({},e)}console.log(o);let s=0;const a=r.allPlayers.length;if(a>2)for(s=a-1;!o[r.allPlayers[s]]&&s>0;)s--;const l=[];for(let t=0;t<a;t++){const e=(t+s)%a;o[r.allPlayers[e]]&&l.push(o[r.allPlayers[e]])}console.log(l);const{key:c,board:u}=this.tree,d=Object(yR.cardsToString)(u.flop,!1),h=u.turn&&u.turn.card?Object(yR.cardToString)(u.turn.card):null,p=u.river&&u.river.card?Object(yR.cardToString)(u.river.card):null,f=h?d+h:d,g=(yield this.rangeService.loadPostflopActionRanges(c,"AHK",l.map(t=>({action:null,rangeId:t})),{flop:d,turn:h,river:p})).map(t=>({player:Object.keys(o).find(e=>o[e]===t.key),ppt:t.items.filter(t=>t[5]>=.005).map(t=>t[0]+"@"+Math.round(100*t[5]).toFixed(0)).join(","),totalWeight:t.totalWeight}));let m=!0;g.forEach(t=>0===t.ppt.length?m=!1:void 0),m?this.prepareAHKscript(g.length,f,e,g,r,i):this.dialog.open(IE,{data:{title:"Export is not possible",content:["One of the ranges is too narrow."],confirmLabel:"Confirm",confirmOnly:!0}})}))})}prepareAHKscript(t,e,n,i,r,o){const s=Object.assign({},XL);if(s.body=s.body.replace(new RegExp("<%PLAYERS_COUNT%>","g"),t.toString()),s.body=s.body.replace(new RegExp("<%POT%>","g"),(r.pot/r.simBB).toFixed(1)),s.body=s.body.replace(new RegExp("<%BOARD%>","g"),n?e+n:e),t>2){const e=new Array(t-1).join("{Tab}");s.body=s.body.replace(new RegExp("<%MWAY_TAB%>","g"),e)}else s.body=s.body.replace(new RegExp("<%MWAY_TAB%>","g"),"");s.body=s.body.replace(new RegExp("<%RIVER_RIGHT%>","g"),e.length>6?"{Right}":""),console.log(i);let a="";for(let d=0;d<t;d++){let t=s.range;t=t.replace(new RegExp("<%N%>","g"),(d+1).toString());const e=Math.max(100,Math.ceil(i[d].ppt.length/500));if(e>16e3)return void console.log("Range line too long!");const n=Math.ceil(i[d].ppt.length/e);let r="";for(let s=1;s<=n;s++)r+="r"+s.toString()+' := "'+i[d].ppt.substr((s-1)*e,e)+'"\r';t=t.replace(new RegExp("<%INIT_RANGE_VARS%>","g"),r);let o="";for(let i=1;i<=n;i++)o+="%r"+i.toString()+"%";t=t.replace(new RegExp("<%APPLY_RANGE_VARS%>","g"),o),a+=t}s.body=s.body.replace(new RegExp("<%INSERT_RANGES%>","g"),a),s.stack=s.stack.replace(new RegExp("<%STACK%>","g"),Math.round(r.stacks/r.simBB).toString());let l="";for(let d=0;d<t;d++)l+=s.stack;s.body=s.body.replace(new RegExp("<%STACKS%>","g"),l);const c=new Blob([s.body],{type:"text/plain;charset=utf-8"}),u=r.simKey+"_"+e+"_"+i.map(t=>t.player).join("vs")+"_"+r.nodePath+(o?"-F":"-C")+".ahk";$E.saveAs(c,u)}updateUrl(t=!1){this.store.dispatch(bv()),this.store.dispatch(xy());const e=this.getQueryParams(t);this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign({},e),queryParamsHandling:t?"merge":void 0})}getQueryParams(t){var e;const n=null===(e=this.tree)||void 0===e?void 0:e.nodePath,i=this.board&&this.board.flop&&this.board.flop.every(t=>!!t)?Object(yR.cardsToString)(this.board.flop,!1):void 0,r=this.board&&this.board.turn&&this.board.turn.card?Object(yR.cardToString)(this.board.turn.card):void 0,o=this.board&&this.board.river&&this.board.river.card?Object(yR.cardToString)(this.board.river.card):void 0;return{type:this.tree.type,tree:this.tree.key,flop:i,turn:r,river:o,node:n&&n.length>0?n:void 0,loadRange:!!t||void 0,filter:void 0}}updateSelectedNode(t){this.rangeService.setCurrentNode(hy(t)),this.nodeSelected.emit(t)}updateSelectedFlop(t,e){return $m(this,void 0,void 0,function*(){this.clearLookups(!0,!0),this.clearCurrentRange(),this.$isLoading.next(!0),this._flopSelectorIsShown=!1,this._selectableTurns=null,this._selectableRivers=null;const n=Object(yR.cardsToString)(t,!1),i=yield this.treeService.loadPostflopTree(this.tree.details,n).toPromise();this.tree=new YF(this.treeService,i,e,n),yield this.tree.waitUntilLoaded(),this.updateSelectedNode(this.currentNode),this.updateUrl(),this.emitCurrentBoard(),this.$isLoading.next(!1)})}showTurnSelector(t){this._selectableTurns=t,this._turnSelectorIsShown=!0}updateSelectedTurn(t){return $m(this,void 0,void 0,function*(){this.clearLookups(!0,!0),this.clearCurrentRange(),this._turnSelectorIsShown=!1,yield this.tree.update({type:Q_.turn,card:t}),this.updateSelectedNode(this.currentNode),this.updateUrl(),this.emitCurrentBoard()})}showRiverSelector(t){this._selectableRivers=t,this._riverSelectorIsShown=!0}updateSelectedRiver(t){return $m(this,void 0,void 0,function*(){this.clearLookups(!0,!0),this.clearCurrentRange(),this._riverSelectorIsShown=!1,yield this.tree.update({type:Q_.river,card:t}),this.updateSelectedNode(this.currentNode),this.updateUrl(),this.emitCurrentBoard()})}setupTraining(t){this.dialog.open(JL,{data:{filter:t,showNodeTraining:!0,showRandomBoardTraining:this.canStartTrainingRandomBoard,showMultiStreetTraining:this.canStartMultiStreetTraining,allowNodeTraining:this.allowTraining,allowRandomBoardTraining:this.canStartTrainingRandomBoard&&this.feature.isAvailableAndNotLocked(uy.RandomBoardTraining),allowMultiStreetTraining:this.allowGameTraining}}).afterClosed().subscribe(e=>{switch(e){case"node":this.startNodeTraining(t);break;case"random-board":this.startRandomBoardNodeTraining(t);break;case"game":this.startGameTraining(t)}})}get canStartTrainingRandomBoard(){return!(!this.isPostFlop||!this.allowTraining)&&!this.treeMeta.disableRandomBoardTraining&&this.feature.isAvailable(uy.RandomBoardTraining)}get allowGameTraining(){return!!this.showGameTrainingButton&&this.canStartMultiStreetTraining&&this.feature.isAvailableAndNotLocked(uy.MultiStreetTraining)}get canStartMultiStreetTraining(){var t,e,n;if(this.isPostFlop){const i=!(null===(t=this.board.turn)||void 0===t?void 0:t.card),r=!!(null===(e=this.board.turn)||void 0===e?void 0:e.card)||!!(null===(n=this.board.river)||void 0===n?void 0:n.card),o=this.tree.canReachTurn,s=this.treeMeta;return(i&&o||r)&&!s.disableMultiStreetTraining&&this.feature.isAvailable(uy.MultiStreetTraining)}return!1}startNodeTraining(t){const e=this.getTrainingQueryParams(!!this.route.snapshot.queryParams.loadRange,t);this.store.dispatch(HR({queryParams:e}))}startGameTraining(t){if(this.allowGameTraining){const e=this.getTrainingQueryParams(!!this.route.snapshot.queryParams.loadRange,t);this.store.dispatch(zR({queryParams:e}))}}startRandomBoardNodeTraining(t){if(this.isPostFlop){const e=()=>{if(this.board.turn){const e=this.getTrainingQueryParams(!1,t);this.store.dispatch($R({queryParams:e}))}else{const e=this.tree.nodePath;let n=this.tree.selectableFlops;if(this.tree.pathToFlop){const t=this.tree.pathToFlop[e].map(t=>Object(yR.parseCards)(t));n=this.tree.selectableFlops.filter(e=>t.some(t=>Object(yR.cardsAreEqual)(t,e.cards)))}this.dialog.open(RI,{data:n}).afterClosed().subscribe(e=>{if(e.start){const n=e.filter,i=this.getTrainingQueryParams(!1,t);this.store.dispatch($R({boardFilter:n,queryParams:i}))}})}},n=this.getFilterSyntaxForTraining(t);this.getAllClassificationsForFilter(n,!0).length>0?this.dialog.open(IE,{data:{title:"Continue?",content:["Random board training with non-card filters will be very slow","Are you sure you want to continue?"],confirmLabel:"Continue",dismissLabel:"Cancel"}}).afterClosed().subscribe(t=>{t&&e()}):e()}}getAllClassificationsForFilter(t,e){if(!t||0===t.trim().length)return[];try{const n=Object(yR.parseFilterSyntax)(t,!1,[],e);return Object(yR.getClassificationsForFilter)(n)}catch(n){return[]}}getTrainingQueryParams(t,e){var n;const i=this.getQueryParams(t),r=this.getFilterSyntaxForTraining(e);return Object.assign(Object.assign({},i),{user:null===(n=this.tree)||void 0===n?void 0:n.currentPlayer,filter:r})}getFilterSyntaxForTraining(t){return t||dy(this.store.pipe(Yb("chart"===this.activeTab?Tv(this.isPostFlop):Ry)))}hideAllSelectors(){this._flopSelectorIsShown=!1,this._turnSelectorIsShown=!1,this._riverSelectorIsShown=!1}clearCurrentRange(){this.currentRangesLoadedForNode=null,this.store.dispatch(Oy())}clearLookups(t,e){t&&(this.rangeService.clearPreflopClassificationLookup(),this.store.dispatch(_v())),e&&(this.rangeService.clearPostflopClassificationLookup(),this.store.dispatch(yv()))}}return t.\u0275fac=function(e){return new(e||t)(xs(Kb),xs(wm),xs(rg),xs(WI),xs(rF),xs(gT),xs(_T),xs(qM))},t.\u0275cmp=Nt({type:t,selectors:[["app-node-selector"]],inputs:{treeSelectionCollapsed:"treeSelectionCollapsed",activeTab:"activeTab"},outputs:{nodeSelected:"nodeSelected",boardUpdated:"boardUpdated",flopSelectionAborted:"flopSelectionAborted"},decls:4,vars:6,consts:[[4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","node-selection-container",4,"ngIf"],[1,"node-selection-container"],[1,"action-history"],["class","grid-item",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"icmInfo","replaceWithStraddle","allPlayers","activePlayers","currentPlayer","chips","cardSelectorIsShown","board","showLargeCards","disableSelectors","toggleFlop","toggleTurn","toggleRiver"],["class","selector",3,"allowClose","flops","selected","closed",4,"ngIf"],["class","selector","street","Turn",3,"allowClose","selectable","selected","ahk","closed",4,"ngIf"],["class","selector","street","River",3,"allowClose","selectable","selected","ahk","closed",4,"ngIf"],[1,"range-frequencies"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","hasPrevBet","compact","hideLegend","hideLabel","showBorder","width",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"grid-item"],[1,"street-separator","clickable",3,"click"],[1,"history-item","clickable",3,"ngClass","click"],[1,"player"],[1,"action"],[1,"selector",3,"allowClose","flops","selected","closed"],["street","Turn",1,"selector",3,"allowClose","selectable","selected","ahk","closed"],["street","River",1,"selector",3,"allowClose","selectable","selected","ahk","closed"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","hasPrevBet","compact","hideLegend","hideLabel","showBorder","width"],[1,"buttons"],[3,"disabled","secondaryButton","label","icon","roundButton","clicked",4,"ngIf"],["class","action-buttons",4,"ngIf"],[1,"right-icons-panel"],[3,"disabled","secondaryButton","hotkey","icon","roundButton","clicked",4,"ngIf"],[3,"disabled","secondaryButton","label","icon","roundButton","clicked"],[1,"fas","fa-angle-left"],[1,"action-buttons"],[3,"width","max-width","disabled","barelyVisible","action","label","hotkey","ahk","responsive","clicked",4,"ngFor","ngForOf"],[3,"disabled","barelyVisible","action","label","hotkey","ahk","responsive","clicked"],[3,"disabled","secondaryButton","hotkey","icon","roundButton","clicked"],[1,"fas","fa-eye"],[1,"fas","fa-dumbbell"],[1,"spinner-container"],["color","accent"]],template:function(t,e){1&t&&(Cs(0,rN,2,1,"ng-container",0),Vl(1,"async"),Cs(2,oN,2,0,"div",1),Vl(3,"async")),2&t&&(Ps("ngIf",!Hl(1,2,e.isLoading$)),Ur(2),Ps("ngIf",Hl(3,4,e.isLoading$)))},directives:[Pd,wd,_B,vd,wI,wB,DB,HB,lT],pipes:[Bd,Nd],styles:[".spinner-container[_ngcontent-%COMP%]{height:20rem;margin:10px;justify-content:center}.node-selection-container[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.node-selection-container[_ngcontent-%COMP%]{position:relative;justify-content:flex-start;height:100%}app-poker-table[_ngcontent-%COMP%]{width:100%}.range-frequencies[_ngcontent-%COMP%]{height:calc(1.25rem + 2px);width:100%;z-index:2}.action-history[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;display:grid;grid-template-columns:repeat(auto-fit,minmax(2.75rem,max-content));grid-gap:.5rem;width:100%;min-height:3rem;margin:.3rem 0}.action-history.hide[_ngcontent-%COMP%]{visibility:hidden}.action-history[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{padding:1px;border:var(--border-style);border-radius:var(--border-radius);cursor:pointer}.action-history[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]:hover{padding:0;border:2px solid #fff}.action-history[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]{height:2.75rem;width:2.75rem}.action-history[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%], .action-history[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .street-separator[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.action-history[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .street-separator[_ngcontent-%COMP%]{font-size:.75rem;width:2.5rem;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3)}.action-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:2.7rem;height:2.7rem;box-sizing:border-box;border:var(--border-style);border-radius:var(--border-radius)}.action-history[_ngcontent-%COMP%]   .history-item.default[_ngcontent-%COMP%]{background-color:var(--default-background);color:var(--default-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.min[_ngcontent-%COMP%], .action-history[_ngcontent-%COMP%]   .history-item.raise0[_ngcontent-%COMP%]{background-color:var(--raise0-background);color:var(--raise0-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.raise1[_ngcontent-%COMP%]{background-color:var(--raise1-background);color:var(--raise1-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.allin[_ngcontent-%COMP%], .action-history[_ngcontent-%COMP%]   .history-item.raise2[_ngcontent-%COMP%]{background-color:var(--raise2-background);color:var(--raise2-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.raise3[_ngcontent-%COMP%]{background-color:var(--raise3-background);color:var(--raise3-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.fold[_ngcontent-%COMP%]{background-color:var(--fold-background);color:var(--fold-color)!important}.action-history[_ngcontent-%COMP%]   .history-item.call[_ngcontent-%COMP%], .action-history[_ngcontent-%COMP%]   .history-item.check[_ngcontent-%COMP%]{background-color:var(--call-background);color:var(--call-color)!important}.selector[_ngcontent-%COMP%]{position:absolute;top:18.75rem;z-index:3}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:1rem;width:100%}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;width:70%;justify-content:center;gap:.5rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:row;gap:.5rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]{width:calc(30% - 2px);border:var(--action-button-border);border-radius:1.8rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:calc(50% - .25rem)}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:.6rem}.buttons[_ngcontent-%COMP%]   .right-icons-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.buttons.right[_ngcontent-%COMP%]{justify-content:flex-end}.buttons.controls[_ngcontent-%COMP%]{margin-top:30px}.buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),t})();function lN(t,e){if(1&t&&Ms(0,"app-strategy-chart",14),2&t){const t=e.ngIf,n=Vs(3);Ps("currentTree",n.treeMeta)("isPostFlop",n.isPostFlop)("isRFI",!1)("currentPosition",n.currentPlayer)("actions",n.actions)("rangeFrequencies",t.rangeFrequencies)("hasPrevBet",!1)("compact",!0)("hideLegend",!0)("hideLabel",!0)("showBorder",!0)("width",700)}}function cN(t,e){if(1&t&&(ks(0,"div",12),Cs(1,lN,1,12,"app-strategy-chart",13),Vl(2,"async"),Ss()),2&t){const t=Vs(2);Ur(1),Ps("ngIf",Hl(2,1,t.rangeFrequencies$))}}function uN(t,e){if(1&t){const t=Fs();ks(0,"app-action-button",15),Ds("clicked",function(){Re(t);const n=e.$implicit;return Vs(2).pickAction(n)}),Vl(1,"async"),Vl(2,"async"),Ss()}if(2&t){const t=e.$implicit,n=Vs(2);Zs("width",100/n.getActions().length,"%")("max-width","15rem"),Ps("disabled",!n.isTraining)("barelyVisible",t.barelyVisible)("action",!0)("label",n.getFormattedAction(t))("responsive",!0)("usable",!Hl(1,11,n.isFinished$))("result",Hl(2,13,n.isFinished$)?n.getResult(t):null)}}function dN(t,e){if(1&t){const t=Fs();ks(0,"div",8),ks(1,"div",16),ks(2,"app-action-button",17),Ds("clicked",function(){return Re(t),Vs(2).trainFilterOrSelection()}),Ss(),Ss(),Ss()}if(2&t){const t=Vs(2);Ur(2),Ps("trainNode",!0)("label",t.restartLabel.firstLine)("secondLabel",t.restartLabel.secondLine)("useSmallFont",!!t.restartLabel.secondLine)}}function hN(t,e){if(1&t&&(ks(0,"div",1),ks(1,"div",2),ua(2),Ss(),ks(3,"div",3),ks(4,"div"),ks(5,"span",4),ua(6,"Accuracy:"),Ss(),ks(7,"span",5),ua(8),Vl(9,"percent"),Ss(),Ss(),Ss(),Ms(10,"app-poker-table",6),Vl(11,"async"),Cs(12,cN,3,3,"div",7),ks(13,"div",8),ks(14,"div",9),Cs(15,uN,3,15,"app-action-button",10),Ss(),Ss(),Cs(16,dN,3,4,"div",11),Ss()),2&t){const t=Vs();Ur(2),da(t.title),Ur(2),Js("show",t.isTraining&&t.trainingTotalHands>0),Ur(4),fa("",$l(9,22,t.trainingAccuracy,"1.0-0")," (",t.trainingTotalCorrect,"/",t.trainingTotalHands,")"),Ur(2),Ps("alignPositionsTo",t.currentPlayer)("allPlayers",t.allPlayers)("activePlayers",t.activePlayers)("currentPlayer",t.currentPlayer)("chips",t.chipState)("cardSelectorIsShown",!1)("board",t.board)("hands",t.isTraining?Hl(11,25,t.currentTrainingHand$):null)("training",t.isTraining)("disableSelectors",!0)("positionLabels",t.positionLabels),Ur(2),Ps("ngIf",!t.isTraining),Ur(1),Js("training",t.isTraining),Ur(2),Ps("ngForOf",t.getActions()),Ur(1),Ps("ngIf",t.showApplyFilterAndRestartButton)}}let pN=(()=>{class t{constructor(t,e,n,i){this.customSimService=t,this.trainingService=e,this.store=n,this.dialog=i,this.startTraining=new ql,this.exitTraining=new ql,this.$isLoading=new ap(!1),this.rangeFrequencies$=this.store.pipe(Yb(Ay)),this.trainingService.onExit=()=>{this.exitTraining.emit()}}ngOnInit(){return $m(this,void 0,void 0,function*(){this.currentTreeSubscription=this.store.pipe(Yb(yy)).subscribe(t=>{if(null==t?void 0:t.isCustom){if(this.tree=t,this._board=null,t.type===X_.postflop){const e=t.board;if(e.length>2){const t=Object(yR.parseCards)(e.slice(0,6)),n=e.length>=8?e.slice(6,8):null,i=e.length>=10?e.slice(8):null;this._board={flop:t,turn:n?{card:n}:null,river:n&&i?{card:i}:null}}}}else this.tree=null}),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe(),this.keyPressSubscription=qw(document,"keyup").subscribe(t=>$m(this,void 0,void 0,function*(){if(this.isTraining&&(!this.dialog.openDialogs||0===this.dialog.openDialogs.length)&&!this.customSimService.isCreatingOrEditingSim)switch(t.key){case"1":yield this.pickActionByIndex(0);break;case"2":yield this.pickActionByIndex(1);break;case"3":yield this.pickActionByIndex(2);break;case"4":yield this.pickActionByIndex(3);break;case"5":yield this.pickActionByIndex(4)}}))})}ngOnDestroy(){this.currentTreeSubscription&&this.currentTreeSubscription.unsubscribe()}get isFiveCard(){return!1}get isPostFlop(){var t;return(null===(t=this.tree)||void 0===t?void 0:t.type)===X_.postflop}get treeMeta(){return this.tree}get setup(){var t;return null===(t=this.tree)||void 0===t?void 0:t.customSimSetup}get hasSetup(){return!!this.setup}get title(){var t;return null===(t=this.customSimService.currentSim)||void 0===t?void 0:t.label}get positionLabels(){var t;const e={};return null===(t=this.setup)||void 0===t||t.players.forEach(({position:t,label:n})=>{e[t]=n}),e}get allPlayers(){var t;return null===(t=this.setup)||void 0===t?void 0:t.players.map(t=>t.position)}get activePlayers(){var t;return null===(t=this.setup)||void 0===t?void 0:t.players.filter(t=>t.isInHand).map(t=>t.position)}get currentPlayer(){var t;return null===(t=this.setup)||void 0===t?void 0:t.players.find(t=>t.isActive).position}get chipState(){const t={},e={};this.setup.players.forEach(n=>{t[n.position]=2*n.stack,e[n.position]=2*n.bets});const n=2*this.setup.pot;return this.isPostFlop?{pot:n,totalPot:n,stacks:t,stakes:e,ante:0,prevBet:0}:{pot:null,totalPot:n,stacks:t,stakes:e,ante:0,prevBet:0}}get actions(){return this.tree.root.next.map(t=>t.action)}get board(){return this._board}get hasTreeLoaded(){var t;return null===(t=this.tree)||void 0===t?void 0:t.isCustom}get isTraining(){return"training"===this.activeTab}get showApplyFilterAndRestartButton(){const t=(t,e)=>(null==t?void 0:t.length)>0?t!==e:(null==e?void 0:e.length)>0;if("chart"!==this.activeTab){if("range"===this.activeTab){const e=dy(this.store.pipe(Yb(Ry)));return t(this.trainingService.filter,e)}return!1}{const e=dy(this.store.pipe(Yb(Tv(this.isPostFlop))));if((null==e?void 0:e.length)>0)return t(this.trainingService.filter,e)}}get restartLabel(){var t;if((null===(t=this.trainingService.results)||void 0===t?void 0:t.length)>0)switch(this.activeTab){case"training":return{firstLine:"Restart",secondLine:null};case"range":return{firstLine:"Restart training",secondLine:"w/ new filter"};case"chart":return{firstLine:"Restart training",secondLine:"w/ new selection"}}else switch(this.activeTab){case"training":return{firstLine:"Train",secondLine:null};case"range":return{firstLine:"Train",secondLine:"current filter"};case"chart":return{firstLine:"Train",secondLine:"current selection"}}}get currentTrainingHand$(){return this.trainingService.currentHand$.pipe(k(t=>{if(t)return{[this.currentPlayer]:{hand:t.hand,show:!0}}}))}get isFinished$(){return this.trainingService.isFinished$}get trainingTotalHands(){var t;return null===(t=this.trainingService.results)||void 0===t?void 0:t.length}get trainingTotalCorrect(){var t;return null===(t=this.trainingService.results)||void 0===t?void 0:t.filter(t=>t.isCorrect).length}get trainingAccuracy(){return this.trainingTotalHands>0?this.trainingTotalCorrect/this.trainingTotalHands:null}trainFilterOrSelection(){this.startTraining.emit()}getResult(t){return this.trainingService.getResult(t)}actionColorClass(t){return t.type.toLowerCase()}getActions(){return this.tree.root.next.map(t=>t.action)}getFormattedAction(t){return t.type===Q_.RAISE?t.hasPrevBet?"Raise "+t.amountLabel:"Bet "+t.amountLabel:t.type}pickActionByIndex(t){return $m(this,void 0,void 0,function*(){const e=this.getActions()[t];e&&(yield this.pickAction(e))})}pickAction(t){return $m(this,void 0,void 0,function*(){this.isTraining&&(yield this.trainingService.pickAction(t),yield this.trainingService.next())})}}return t.\u0275fac=function(e){return new(e||t)(xs(kA),xs(OA),xs(Kb),xs(qM))},t.\u0275cmp=Nt({type:t,selectors:[["app-custom-sim-controls"]],inputs:{activeTab:"activeTab"},outputs:{startTraining:"startTraining",exitTraining:"exitTraining"},decls:1,vars:1,consts:[["class","custom-sim-controls-container",4,"ngIf"],[1,"custom-sim-controls-container"],[1,"title"],[1,"performance"],[1,"label"],[1,"value"],[3,"alignPositionsTo","allPlayers","activePlayers","currentPlayer","chips","cardSelectorIsShown","board","hands","training","disableSelectors","positionLabels"],["class","range-frequencies",4,"ngIf"],[1,"buttons"],[1,"action-buttons"],[3,"width","max-width","disabled","barelyVisible","action","label","responsive","usable","result","clicked",4,"ngFor","ngForOf"],["class","buttons",4,"ngIf"],[1,"range-frequencies"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","hasPrevBet","compact","hideLegend","hideLabel","showBorder","width",4,"ngIf"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","hasPrevBet","compact","hideLegend","hideLabel","showBorder","width"],[3,"disabled","barelyVisible","action","label","responsive","usable","result","clicked"],[1,"train-button"],[3,"trainNode","label","secondLabel","useSmallFont","clicked"]],template:function(t,e){1&t&&Cs(0,hN,17,27,"div",0),2&t&&Ps("ngIf",e.hasSetup)},directives:[Pd,_B,wd,DB,HB],pipes:[Hd,Bd],styles:[".spinner-container[_ngcontent-%COMP%]{height:20rem;justify-content:center}.custom-sim-controls-container[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.custom-sim-controls-container[_ngcontent-%COMP%]{position:relative;justify-content:flex-start;height:100%;margin:0 auto}.custom-sim-controls-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.custom-sim-controls-container[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]{height:calc(1.25rem + 2px);width:100%;z-index:2}.performance[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-end}.performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;visibility:hidden}.performance[_ngcontent-%COMP%]   div.show[_ngcontent-%COMP%]{visibility:visible}.performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-right:.625rem}.performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500}.board[_ngcontent-%COMP%]{margin-bottom:3rem}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:center;gap:1rem;margin-top:1rem;width:100%}.buttons.training[_ngcontent-%COMP%]{margin-top:4rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;width:70%}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:row;gap:.5rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]{width:calc(30% - 2px);border:var(--action-button-border);border-radius:1.8rem}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:calc(50% - .25rem)}.buttons[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-buttons-raises.two-buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:.6rem}.buttons[_ngcontent-%COMP%]   .right-icons-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.buttons.right[_ngcontent-%COMP%]{justify-content:flex-end}.buttons.controls[_ngcontent-%COMP%]{margin-top:30px}.buttons[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),t})();function fN(t,e){1&t&&zs(0)}const gN=["*"];function mN(t,e){}const bN=function(t){return{animationDuration:t}},_N=function(t,e){return{value:t,params:e}},yN=["tabBodyWrapper"],vN=["tabHeader"];function CN(t,e){}function wN(t,e){1&t&&Cs(0,CN,0,0,"ng-template",9),2&t&&Ps("cdkPortalOutlet",Vs().$implicit.templateLabel)}function xN(t,e){1&t&&ua(0),2&t&&da(Vs().$implicit.textLabel)}function PN(t,e){if(1&t){const t=Fs();ks(0,"div",6),Ds("click",function(){Re(t);const n=e.$implicit,i=e.index,r=Vs(),o=ws(1);return r._handleClick(n,o,i)}),ks(1,"div",7),Cs(2,wN,1,1,"ng-template",8),Cs(3,xN,1,1,"ng-template",8),Ss(),Ss()}if(2&t){const t=e.$implicit,n=e.index,i=Vs();Js("mat-tab-label-active",i.selectedIndex==n),Ps("id",i._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),ys("tabIndex",i._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),Ur(2),Ps("ngIf",t.templateLabel),Ur(1),Ps("ngIf",!t.templateLabel)}}function ON(t,e){if(1&t){const t=Fs();ks(0,"mat-tab-body",10),Ds("_onCentered",function(){return Re(t),Vs()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return Re(t),Vs()._setTabBodyWrapperHeight(e)}),Ss()}if(2&t){const t=e.$implicit,n=e.index,i=Vs();Js("mat-tab-body-active",i.selectedIndex==n),Ps("id",i._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),ys("aria-labelledby",i._getTabLabelId(n))}}const kN=["tabListContainer"],SN=["tabList"],MN=["nextPaginator"],TN=["previousPaginator"],EN=new qn("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let RN=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(Lc),xs(EN),xs(WS,8))},t.\u0275dir=qt({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&Js("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const FN=new qn("MatTabContent"),IN=new qn("MatTabLabel");class AN{}const DN=eM(AN),LN=new qn("MAT_TAB_GROUP");let BN=(()=>{class t extends DN{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new iP(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(LN))},t.\u0275cmp=Nt({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){if(1&t&&(ac(n,IN,!0),lc(n,FN,!0,fl)),2&t){let t;ic(t=uc())&&(e.templateLabel=t.first),ic(t=uc())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&rc(fl,!0),2&t){let t;ic(t=uc())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[ss,ae],ngContentSelectors:gN,decls:1,vars:0,template:function(t,e){1&t&&($s(),Cs(0,fN,1,0,"ng-template"))},encapsulation:2}),t})();const NN={translateTab:OO("translateTab",[TO("center, void, left-origin-center, right-origin-center",MO({transform:"none"})),TO("left",MO({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),TO("right",MO({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),RO("* => left, * => right, left => center, right => center",kO("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),RO("void => left-origin-center",[MO({transform:"translate3d(-100%, 0, 0)"}),kO("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),RO("void => right-origin-center",[MO({transform:"translate3d(100%, 0, 0)"}),kO("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let jN=(()=>{class t extends aP{constructor(t,e,n,i){super(t,e,i),this._host=n,this._centeringSub=d.EMPTY,this._leavingSub=d.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Np(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(xs(Da),xs(Cl),xs(rt(()=>HN)),xs(mu))},t.\u0275dir=qt({type:t,selectors:[["","matTabBodyHost",""]],features:[ss]}),t})(),VN=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=d.EMPTY,this._translateTabComplete=new x,this._onCentering=new ql,this._beforeCentering=new ql,this._afterLeavingCenter=new ql,this._onCentered=new ql(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(rb((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(Rx,8),xs(ll))},t.\u0275dir=qt({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),HN=(()=>{class t extends VN{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(Rx,8),xs(ll))},t.\u0275cmp=Nt({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&oc(lP,!0),2&t){let t;ic(t=uc())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[ss],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){var n,i,r;1&t&&(ks(0,"div",0,1),Ds("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),Cs(2,mN,0,0,"ng-template",2),Ss()),2&t&&Ps("@translateTab",(3,n=_N,i=e._position,r=Ll(1,bN,e.animationDuration),jl(Te(),je(),3,n,i,r,undefined)))},directives:[jN],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[NN.translateTab]}}),t})();const $N=new qn("MAT_TABS_CONFIG");let zN=0;class UN{}class qN{constructor(t){this._elementRef=t}}const WN=nM(iM(qN),"primary");let GN=(()=>{class t extends WN{constructor(t,e,n,i){super(t),this._changeDetectorRef=e,this._animationMode=i,this._tabs=new Gl,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=d.EMPTY,this._tabLabelSubscription=d.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new ql,this.focusChange=new ql,this.animationDone=new ql,this.selectedTabChange=new ql(!0),this._groupId=zN++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,this.dynamicHeight=!(!n||null==n.dynamicHeight)&&n.dynamicHeight}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Vw(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Hw(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Np(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new UN;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=q(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs($N,8),xs(WS,8))},t.\u0275dir=qt({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[ss]}),t})(),KN=(()=>{class t extends GN{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs($N,8),xs(WS,8))},t.\u0275cmp=Nt({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){if(1&t&&ac(n,BN,!0),2&t){let t;ic(t=uc())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(oc(yN,!0),oc(vN,!0)),2&t){let t;ic(t=uc())&&(e._tabBodyWrapper=t.first),ic(t=uc())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&Js("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Fa([{provide:LN,useExisting:t}]),ss],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(ks(0,"mat-tab-header",0,1),Ds("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),Cs(2,PN,4,14,"div",2),Ss(),ks(3,"div",3,4),Cs(5,ON,1,8,"mat-tab-body",5),Ss()),2&t&&(Ps("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),Ur(2),Ps("ngForOf",e._tabs),Ur(1),Js("_mat-animation-noopable","NoopAnimations"===e._animationMode),Ur(2),Ps("ngForOf",e._tabs))},directives:function(){return[ej,wd,ZN,fM,vO,Pd,aP,HN]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class QN{}const YN=eM(QN);let ZN=(()=>{class t extends YN{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(xs(ja))},t.\u0275dir=qt({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(ys("aria-disabled",!!e.disabled),Js("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[ss]}),t})();const JN=Sx({passive:!0});let XN=(()=>{class t{constructor(t,e,n,i,r,o,s){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=r,this._platform=o,this._animationMode=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ql,this.indexFocused=new ql,r.runOutsideAngular(()=>{qw(t.nativeElement,"mouseleave").pipe(hx(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Hw(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){qw(this._previousPaginator.nativeElement,"touchstart",JN).pipe(hx(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),qw(this._nextPaginator.nativeElement,"touchstart",JN).pipe(hx(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Ph(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new sO(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),q(t,e,this._items.changes).pipe(hx(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(hx(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!pP(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:r}=e.elementRef.nativeElement;let o,s;"ltr"==this._getLayoutDirection()?(o=i,s=o+r):(s=this._tabList.nativeElement.offsetWidth-i,o=s-r);const a=this.scrollDistance,l=this.scrollDistance+n;o<a?this.scrollDistance-=a-o+60:s>l&&(this.scrollDistance+=s-l+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),cx(650,100).pipe(hx(q(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs(Kx),xs(Rx,8),xs(Lc),xs(yx),xs(WS,8))},t.\u0275dir=qt({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),tj=(()=>{class t extends XN{constructor(t,e,n,i,r,o,s){super(t,e,n,i,r,o,s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Vw(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs(Kx),xs(Rx,8),xs(Lc),xs(yx),xs(WS,8))},t.\u0275dir=qt({type:t,inputs:{disableRipple:"disableRipple"},features:[ss]}),t})(),ej=(()=>{class t extends tj{constructor(t,e,n,i,r,o,s){super(t,e,n,i,r,o,s)}}return t.\u0275fac=function(e){return new(e||t)(xs(ja),xs(ll),xs(Kx),xs(Rx,8),xs(Lc),xs(yx),xs(WS,8))},t.\u0275cmp=Nt({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){if(1&t&&ac(n,ZN,!1),2&t){let t;ic(t=uc())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(rc(RN,!0),rc(kN,!0),rc(SN,!0),oc(MN,!0),oc(TN,!0)),2&t){let t;ic(t=uc())&&(e._inkBar=t.first),ic(t=uc())&&(e._tabListContainer=t.first),ic(t=uc())&&(e._tabList=t.first),ic(t=uc())&&(e._nextPaginator=t.first),ic(t=uc())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&Js("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[ss],ngContentSelectors:gN,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&($s(),ks(0,"div",0,1),Ds("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),Ms(2,"div",2),Ss(),ks(3,"div",3,4),Ds("keydown",function(t){return e._handleKeydown(t)}),ks(5,"div",5,6),Ds("cdkObserveContent",function(){return e._onContentChanges()}),ks(7,"div",7),zs(8),Ss(),Ms(9,"mat-ink-bar"),Ss(),Ss(),ks(10,"div",8,9),Ds("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),Ms(12,"div",2),Ss()),2&t&&(Js("mat-tab-header-pagination-disabled",e._disableScrollBefore),Ps("matRippleDisabled",e._disableScrollBefore||e.disableRipple),Ur(5),Js("_mat-animation-noopable","NoopAnimations"===e._animationMode),Ur(5),Js("mat-tab-header-pagination-disabled",e._disableScrollAfter),Ps("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[fM,ZP,RN],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),nj=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Ud,tM,uP,gM,JP,wO],tM]}),t})();const ij=["minInput"],rj=["maxInput"];function oj(t,e){1&t&&(ks(0,"span",16),ua(1,"%\xa0"),Ss())}function sj(t,e){if(1&t){const t=Fs();ks(0,"button",17),Ds("touchstart",function(){return Re(t),Vs().negateMin()}),ua(1,"Neg"),Ss()}}function aj(t,e){if(1&t){const t=Fs();ks(0,"button",17),Ds("touchstart",function(){return Re(t),Vs().negateMax()}),ua(1,"Neg"),Ss()}}const lj={minFrequency:null,minWeight:null,evSpread:null};function cj(t){return!t.evSpread&&t.minFrequency===lj.minFrequency&&t.minWeight===lj.minWeight}let uj=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.settings=e}get isFrozen(){return this.settings.frozen}get isValid(){const t=this.settings.evSpread;return this.settings.minFrequency>=0&&this.settings.minWeight>=0&&this.settings.minWeight<=1&&(!t||null!==t.min&&null!==t.max||null===t.min&&null===t.max)}hasValue(t){return null!=t&&!isNaN(t)&&t>=0}changeEvSpread(t,e){this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),{[t]:e})})}resetToDefault(){this.isFrozen||(this.settings={minFrequency:null,minWeight:null,evSpread:null})}isMobile(){return dF()}negateMin(){const t=this.MinInputElement.nativeElement.value;this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),{min:-1*t})})}negateMax(){const t=this.MaxInputElement.nativeElement.value;this.settings=Object.assign(Object.assign({},this.settings),{evSpread:Object.assign(Object.assign({},this.settings.evSpread),{max:-1*t})})}exit(){this.dialogRef.close(null)}confirm(){this.isValid&&!this.isFrozen&&this.dialogRef.close(this.settings)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM))},t.\u0275cmp=Nt({type:t,selectors:[["app-range-settings-dialog"]],viewQuery:function(t,e){if(1&t&&(rc(ij,!0),rc(rj,!0)),2&t){let t;ic(t=uc())&&(e.MinInputElement=t.first),ic(t=uc())&&(e.MaxInputElement=t.first)}},decls:39,vars:15,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"horizontal"],["color","accent"],["matInput","","type","number","min","0","max","100","step","5","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["class","freq-percent-suffix","matSuffix","",4,"ngIf"],["matInput","","type","number","min","0","max","1","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","ngModel","ngModelChange"],[1,"heading"],[1,"number-container"],["class","on-input-focus",3,"touchstart",4,"ngIf"],["matInput","","type","number","step","0.1","spellcheck","false","autocomplete","off",3,"disabled","value","change"],["minInput",""],["maxInput",""],[1,"link",3,"click"],["align","center"],["matSuffix","",1,"freq-percent-suffix"],[1,"on-input-focus",3,"touchstart"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"Range settings"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div"),ks(5,"div",3),ks(6,"mat-form-field",4),ks(7,"mat-label"),ua(8,"Min. Frequency"),Ss(),ks(9,"input",5),Ds("ngModelChange",function(t){return e.settings.minFrequency=t}),Ss(),Cs(10,oj,2,0,"span",6),Ss(),ks(11,"mat-form-field",4),ks(12,"mat-label"),ua(13,"Min. Weight"),Ss(),ks(14,"input",7),Ds("ngModelChange",function(t){return e.settings.minWeight=t}),Ss(),Ss(),Ss(),ks(15,"div",8),ua(16," EV Spread "),Ss(),ks(17,"div",3),ks(18,"mat-form-field",4),ks(19,"mat-label"),ua(20,"Min. EV"),Ss(),ks(21,"div",9),Cs(22,sj,2,0,"button",10),ks(23,"input",11,12),Ds("change",function(t){return e.changeEvSpread("min",t.target.value)}),Ss(),Ss(),Ss(),ks(25,"mat-form-field",4),ks(26,"mat-label"),ua(27,"Max. EV"),Ss(),ks(28,"div",9),Cs(29,aj,2,0,"button",10),ks(30,"input",11,13),Ds("change",function(t){return e.changeEvSpread("max",t.target.value)}),Ss(),Ss(),Ss(),Ss(),ks(32,"a",14),Ds("click",function(){return e.resetToDefault()}),ua(33,"Use default"),Ss(),Ss(),Ss(),ks(34,"mat-dialog-actions",15),ks(35,"a",14),Ds("click",function(){return e.confirm()}),ua(36,"Confirm"),Ss(),ks(37,"a",14),Ds("click",function(){return e.exit()}),ua(38,"Cancel"),Ss(),Ss()),2&t&&(Ur(9),Ps("disabled",e.isFrozen)("ngModel",e.settings.minFrequency),Ur(1),Ps("ngIf",e.hasValue(e.settings.minFrequency)),Ur(4),Ps("disabled",e.isFrozen)("ngModel",e.settings.minWeight),Ur(8),Ps("ngIf",e.isMobile()),Ur(1),Ps("disabled",e.isFrozen)("value",null==e.settings.evSpread?null:e.settings.evSpread.min),Ur(6),Ps("ngIf",e.isMobile()),Ur(1),Ps("disabled",e.isFrozen)("value",null==e.settings.evSpread?null:e.settings.evSpread.max),Ur(2),Js("disabled",e.isFrozen||!e.isValid),Ur(3),Js("disabled",e.isFrozen||!e.isValid))},directives:[KM,QM,YT,VT,sE,BC,hC,AC,yw,Pd,YM,UT],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-form-field-infix{width:8.75rem!important}[_nghost-%COMP%]     .freq-percent-suffix{position:absolute;left:-6.75rem;top:-.875rem;font-size:1rem}  .mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-button-toggle-label-content{line-height:2.75rem!important}  .mat-button-toggle{background-color:#999!important}  .mat-button-toggle.mat-button-toggle-checked{background-color:#e0e0e0!important}.title[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:center}.title[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{display:flex}div[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start}div.heading[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.3125rem}div.horizontal[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;gap:1rem;margin-bottom:1.5625rem}div.horizontal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;margin-right:.5rem;border:none;border-radius:.1rem;color:var(--link-color);background:transparent;cursor:pointer;opacity:.5}div.number-container[_ngcontent-%COMP%]{flex-direction:row}.on-input-focus[_ngcontent-%COMP%]{display:none}.number-container[_ngcontent-%COMP%]:focus-within   button[_ngcontent-%COMP%]{display:block!important}.link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--link-color)}.link.disabled[_ngcontent-%COMP%]{cursor:unset;color:#888}.link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();class dj{constructor(t,e,n,i,r,o,s=iF,a,l,c){this.isPostFlop=t,this.nodeId=e,this.pos=n,this.adjustEvBy=o,this.bucketMacros=l,this.bucketLookups=c,this._percentOfRangeFiltered=1,this._hasEvDiff=!1,this.$onUpdate=new ap(null),this._filterItems=i,this.rangesSortedByAction=r.sort((t,e)=>uF(t.action,e.action)),this.currentSorting=s.sortBy,this.currentSortDirection=s.sortDir,this.currentFilter=null!=a?a:"",this.hideBelowFrequency=s.hideZeroPercentItems?.005:0;const u=this.isFiveCard&&this.isPostFlop;this._sessionId=jE(),this.update(!!a,!u)}get macros(){return this.isPostFlop?[]:this.bucketMacros}get onUpdate$(){return this.$onUpdate.asObservable()}get sessionId(){return this._sessionId}get isFiveCard(){return!1}get position(){return this.pos}get ranges(){return this.rangesSortedByAction}get actions(){return this.rangesSortedByAction.map(t=>t.action)}get sorting(){return this.currentSorting}get sortDirection(){return this.currentSortDirection}get percentOfRangeFiltered(){return this._percentOfRangeFiltered}get filter(){return this.currentFilter}get filteredCombos(){return this._filteredCombos}get hasEvDiff(){return this._hasEvDiff}get filterItems(){return this._filterItems}hasFilterItemsWithClassifications(){return this._filterItems.some(t=>{var e;return(null===(e=t[1])||void 0===e?void 0:e.length)>0})}updateFilterItems(t){this._filterItems=t}hasBucketLookups(){var t;return(null===(t=this.bucketLookups)||void 0===t?void 0:t.length)>0}updateBucketLookups(t){this.bucketLookups=t}addEvDiff(){this.hasEvDiff||(this.addEvDiffToRange(this.rangesSortedByAction),this._hasEvDiff=!0)}addEvDiffToRange(t){const e=t.length;console.time("[BLOCKING] ev diff");const n={};for(let i=0;i<e;i++){const r=t[i],o=r.action.type===Q_.FOLD;for(const t of r.items){const r=CR(t);n[r]||(n[r]=new Array(e)),n[r][i]=vR(PR(t),this.adjustEvBy,o)}}for(const i of Object.keys(n)){const t=n[i],e=Math.max(...t.filter(t=>!isNaN(t))),r=t.map((n,i)=>{const r=[...t.slice(0,i),...t.slice(i+1)].filter(t=>!isNaN(t));return n<e?n-e:(null==r?void 0:r.length)>0?e-Math.max(...r):null});n[i]=r}for(let i=0;i<e;i++)t[i].items.forEach(t=>{t[7]=n[CR(t)][i]});console.timeEnd("[BLOCKING] ev diff")}getActionRange(t){const{overallFreq:e}=this._header.find(e=>oF(e.action,t)),{items:n}=this._ranges.find(e=>oF(e.action,t));return{action:t,overallFreq:e,items:n}}updateSettings(t){this.currentSettings=t,this.update()}setSortingAndDirection(t,e){this.currentSorting=t,this.currentSortDirection=e,this.update()}setFilter(t=""){return t!==this.currentFilter&&(this.currentFilter=t,this.update())}setHideZeroPercentItems(t){this.hideBelowFrequency=t?.005:0,this.update()}update(t=!0,e=!0){var n,i;let r;const o=this.currentSettings&&!cj(this.currentSettings);if(t&&(null===(n=this.currentFilter)||void 0===n?void 0:n.length)>0||o){const t=QR(this.currentSorting,this.currentSortDirection),{items:n}=Object(yR.filterItems)(this.isPostFlop,this.filterItems,null!==(i=this.currentFilter)&&void 0!==i?i:"",null,this.bucketLookups,this.bucketMacros);let s=new Set(n.map(t=>t[2]));if(this._filteredCombos=this.currentFilter?Array.from(s):null,o){const{minFrequency:t,minWeight:e,evSpread:n}=this.currentSettings,i=cy(this.rangesSortedByAction.map(t=>t.items.filter(t=>s.has(CR(t))).map(e=>[e,t.action.type]))),r=FR(i),o=i.filter(i=>{const o=r[CR(i[0])];if(t&&Math.max(...o.map(t=>xR(t[0])))<t/100)return!1;if(e&&o.map(t=>kR(t[0])).reduce((t,e)=>t+e,0)<e)return!1;if(n&&(null!==n.min||null!==n.max)){const t=n.min||Number.MIN_SAFE_INTEGER,e=n.max||Number.MAX_SAFE_INTEGER;if(o.some(t=>[Q_.RAISE,Q_.ALLIN,Q_.MIN].includes(t[1]))){if(!o.filter(t=>[Q_.RAISE,Q_.ALLIN,Q_.MIN].includes(t[1])).map(t=>vR(PR(t[0]),this.adjustEvBy,!1)).some(n=>n>=t&&n<=e))return!1}else if(!o.map(t=>vR(PR(t[0]),this.adjustEvBy,!1)).every(n=>n>=t&&n<=e))return!1}return!0});s=new Set(o.map(t=>CR(t[0]))),this._filteredCombos=Array.from(s)}r=this.rangesSortedByAction.map(n=>{const i=n.items.filter(t=>s.has(CR(t))),r=e?i.sort(t):i;return Object.assign(Object.assign({},n),{items:r})})}else if(e){const t=QR(this.currentSorting,this.currentSortDirection);r=this.rangesSortedByAction.map(e=>Object.assign(Object.assign({},e),{items:e.items.sort(t)}))}else r=this.rangesSortedByAction.map(t=>Object.assign(Object.assign({},t),{items:t.items}));this.currentFilter&&0!==this.currentFilter.trim().length||(this._filteredCombos=null);const s=t=>SR(t)*kR(t),a=this.countTotal(this.rangesSortedByAction,s),l=this.countTotal(r,s);return this._percentOfRangeFiltered=l/a,this._ranges=this.getVisibleItems(r,this.hideBelowFrequency),this.updateAggregatedValuesForHeader(r),this.$onUpdate.next(),this._percentOfRangeFiltered>0}countTotal(t,e){return t.map(t=>nF(t).map(e).reduce((t,e)=>t+e,0)).reduce((t,e)=>t+e,0)}updateAggregatedValuesForHeader(t){const e=t.map(t=>nF(t).map(t=>SR(t)*kR(t)).reduce((t,e)=>t+e,0)).reduce((t,e)=>t+e,0);this._header=t.map(t=>{const n=nF(t).map(t=>SR(t)*kR(t)).reduce((t,e)=>t+e,0),i=nF(t).map(t=>SR(t)).reduce((t,e)=>t+e,0);return{action:t.action,overallFreq:n/e,averageWeight:n/i}})}getVisibleItems(t,e){return[...t.map(t=>{return{action:t.action,items:(n=t.items,n.filter(t=>xR(t)>=e))};var n})]}}let hj=(()=>{class t{constructor(t){this.dialogRef=t}confirm(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM))},t.\u0275cmp=Nt({type:t,selectors:[["app-daily-export-limit-dialog"]],decls:12,vars:0,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center"],[1,"link",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"Daily Export Limit"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div"),ks(5,"p"),ua(6,"You've reached the limit of exporting 100 ranges per day."),Ss(),ks(7,"p"),ua(8,"Come back tomorrow to export additional ranges."),Ss(),Ss(),Ss(),ks(9,"mat-dialog-actions",3),ks(10,"a",4),Ds("click",function(){return e.confirm()}),ua(11,"Close"),Ss(),Ss())},directives:[KM,QM,YM],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}.link[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),t})();class pj{constructor(t,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),i=n.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",n.setAttribute("aria-hidden","true"),n.value=t,this._document.body.appendChild(n)}copy(){const t=this._textarea;let e=!1;try{if(t){const n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch(VW){}return e}destroy(){const t=this._textarea;t&&(t.parentNode&&t.parentNode.removeChild(t),this._textarea=void 0)}}let fj=(()=>{class t{constructor(t){this._document=t}copy(t){const e=this.beginCopy(t),n=e.copy();return e.destroy(),n}beginCopy(t){return new pj(t,this._document)}}return t.\u0275fac=function(e){return new(e||t)(hi(mu))},t.\u0275prov=at({factory:function(){return new t(hi(mu))},token:t,providedIn:"root"}),t})();var gj=function(t){return t.CSV="CSV",t.PPT="PPT",t}({}),mj=function(t){return t.FILE="FILE",t.CLIPBOARD="CLIPBOARD",t}({});let bj=(()=>{class t{constructor(t,e,n,i,r){this.http=t,this.dialog=e,this.fileSaverService=n,this.snackBar=i,this.clipboardService=r,this.$isExporting=new ap(null)}get isExporting$(){return this.$isExporting.asObservable()}exportPreflopRanges(t,e,n,i,r,o,s,a){return $m(this,void 0,void 0,function*(){this.$isExporting.next(1);const l=this.snackBar.open("Exporting range...");try{const c={node:n,rangeId:i,format:r,combos:a||void 0},u=yield this.http.postText(`${pu}/preflop/tree/${e}/range/export`,c),d=new Blob([u]);if(o===mj.FILE){const o=`${e}${"ROOT"===n||"FLOP"===n?"":"_"+n}_${t}`,a=s?"_"+s:"",l=o+"_"+i.split("_")[1]+a+this.getExportFileEnding(r);this.fileSaverService.save(d,l)}else yield this.copyToClipboard(u)}catch(c){429===c.status?0===this.dialog.openDialogs.length&&this.dialog.open(hj):console.error(c)}finally{this.$isExporting.next(null),l.dismiss()}})}exportPostflopRanges(t,e,n,i,r,o,s,a,l,c){return $m(this,void 0,void 0,function*(){this.$isExporting.next(1);const u=this.snackBar.open("Exporting range...");try{const d={node:n,rangeId:r,board:i,format:o,turnInvest:a,combos:c||void 0},h=yield this.http.postText(`${pu}/postflop/tree/${e}/range/export`,d),p=new Blob([h]);if(s===mj.FILE){const s=[i.flop,i.turn,i.river].filter(t=>!!t).join(""),a=`${e}_${s}${"ROOT"===n||"FLOP"===n?"":"_"+n}_${t}`,c=l?"_"+l:"",u=a+"_"+r.split("_")[1]+c+this.getExportFileEnding(o);this.fileSaverService.save(p,u)}else yield this.copyToClipboard(h)}catch(d){429===d.status?0===this.dialog.openDialogs.length&&this.dialog.open(hj):console.error(d)}finally{this.$isExporting.next(null),u.dismiss()}})}copyToClipboard(t){return $m(this,void 0,void 0,function*(){const e=this.clipboardService.beginCopy(t);for(let t=0;t<200;t++){if(e.copy())return this.snackBar.open("Range copied to clipboard","Ok",{duration:3e3}),void e.destroy();yield jw(25)}e.destroy(),this.snackBar.open("Could not copy range clipboard","Ok",{duration:3e3})})}getExportFileEnding(t){switch(t){case gj.CSV:return".csv";case gj.PPT:return".txt"}}}return t.\u0275fac=function(e){return new(e||t)(hi(tF),hi(qM),hi(zE),hi(oA),hi(fj))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _j(t,e){if(1&t){const t=Fs();ks(0,"a",8),Ds("click",function(){return Re(t),Vs().copyToClipboard()}),ua(1,"Copy to clipboard"),Ss()}}let yj=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.selectedFormat=gj.PPT,this.RangeExportFormat=gj}get numberOfRanges(){return this.data.numberOfRanges}get hasFilter(){return this.data.hasFilter}saveAsFile(){this.dialogRef.close({format:this.selectedFormat,mode:mj.FILE})}copyToClipboard(){this.dialogRef.close({format:this.selectedFormat,mode:mj.CLIPBOARD})}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM))},t.\u0275cmp=Nt({type:t,selectors:[["app-export-format-dialog"]],decls:17,vars:5,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"selector"],["color","accent","appearance","fill"],[3,"value","valueChange"],[3,"value"],["align","center"],[1,"link",3,"click"],["class","link",3,"click",4,"ngIf"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div",3),ks(5,"mat-form-field",4),ks(6,"mat-label"),ua(7,"Format"),Ss(),ks(8,"mat-select",5),Ds("valueChange",function(t){return e.selectedFormat=t}),ks(9,"mat-option",6),ua(10,"CSV"),Ss(),ks(11,"mat-option",6),ua(12,"PPT"),Ss(),Ss(),Ss(),Ss(),Ss(),ks(13,"mat-dialog-actions",7),ks(14,"a",8),Ds("click",function(){return e.saveAsFile()}),ua(15,"Save as file"),Ss(),Cs(16,_j,2,0,"a",9),Ss()),2&t&&(Ur(2),da(e.hasFilter?"Export filtered range":"Export range"),Ur(6),Ps("value",e.selectedFormat),Ur(1),Ps("value",e.RangeExportFormat.CSV),Ur(2),Ps("value",e.RangeExportFormat.PPT),Ur(5),Ps("ngIf",1===e.numberOfRanges))},directives:[KM,QM,YT,VT,BD,MM,YM,Pd],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .mat-form-field,   .mat-select-content{width:100px}  .mat-select-value-text{color:var(--text-color)!important}.title[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center}p[_ngcontent-%COMP%]{text-align:center}.selector[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{color:var(--link-color-hover)}.link.shop[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]:hover{padding:0 19px;border:var(--border-style);border-radius:var(--link-border-radius)}.link.shop[_ngcontent-%COMP%]{margin-right:10px;color:var(--link-color);color:var(--link-button-color);background-color:var(--link-button-background-color);box-shadow:var(--box-shadow)}.link.shop[_ngcontent-%COMP%]:hover{color:var(--app-color)}"]}),t})();const vj=lb("[Tracking] Track range activity",{_as:"props",_p:void 0});function Cj(t,e){if(1&t){const t=Fs();ks(0,"mat-dialog-actions",4),ks(1,"a",5),Ds("click",function(){return Re(t),Vs(2).dismiss()}),ua(2,"Confirm"),Ss(),Ss()}}function wj(t,e){if(1&t&&(Ts(0),ks(1,"h2",1),ua(2," Warning "),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div"),ua(5,"You can't use classifications in the filter on mobile devices yet. Please use only card filters for now. "),Ss(),Ss(),Cs(6,Cj,3,0,"mat-dialog-actions",3),Es()),2&t){const t=Vs();Ur(6),Ps("ngIf",!t.isWaiting)}}function xj(t,e){1&t&&(ks(0,"div"),ua(1," You are using classifications in your filter. Big amount of data needs to be loaded from the server. Continue? "),Ss())}function Pj(t,e){1&t&&(ks(0,"div"),Ms(1,"mat-spinner",6),Ss())}function Oj(t,e){if(1&t){const t=Fs();ks(0,"mat-dialog-actions",4),ks(1,"a",7),Ds("click",function(){return Re(t),Vs(2).confirm()}),ua(2,"Continue"),Ss(),ks(3,"a",5),Ds("click",function(){return Re(t),Vs(2).dismiss()}),ua(4,"Cancel"),Ss(),Ss()}}function kj(t,e){if(1&t&&(Ts(0),ks(1,"h2",1),ua(2),Ss(),ks(3,"mat-dialog-content",2),Cs(4,xj,2,0,"div",0),Cs(5,Pj,2,0,"div",0),Ss(),Cs(6,Oj,5,0,"mat-dialog-actions",3),Es()),2&t){const t=Vs();Ur(2),ha(" ",t.isWaiting?"Please wait":"Warning"," "),Ur(2),Ps("ngIf",!t.isWaiting),Ur(1),Ps("ngIf",t.isWaiting),Ur(1),Ps("ngIf",!t.isWaiting)}}let Sj=(()=>{class t{constructor(t,e,n,i,r){this.dialogRef=t,this.data=e,this.rangeService=n,this.bucketService=i,this.storage=r,this.isWaiting=!1,this.isMobile=!1,this.isMobile=dF()}ngOnInit(){return $m(this,void 0,void 0,function*(){dF()||"true"===this.storage.get("CONFIRMED-LOAD-CLASSIFICATIONS")&&(yield this.loadAndCloseDialog())})}confirm(){return $m(this,void 0,void 0,function*(){this.storage.set("CONFIRMED-LOAD-CLASSIFICATIONS","true"),yield this.loadAndCloseDialog()})}loadAndCloseDialog(){return $m(this,void 0,void 0,function*(){if(this.isWaiting=!0,this.data.board)yield this.rangeService.loadPostflopClassificationLookup(this.data.board);else{const{loadClassifications:t,loadBuckets:e}=this.data;t&&(yield this.rangeService.loadPreflopClassificationLookup()),e&&(yield this.bucketService.loadPreflopBucketLookup())}this.dialogRef.close(!0)})}dismiss(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(xs(NM),xs(VM),xs(rF),xs(GI),xs(hT))},t.\u0275cmp=Nt({type:t,selectors:[["app-load-classifications-dialog"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],["align","center",4,"ngIf"],["align","center"],[1,"dismiss-link",3,"click"],["color","accent"],[1,"confirm-link",3,"click"]],template:function(t,e){1&t&&(Cs(0,wj,7,1,"ng-container",0),Cs(1,kj,7,4,"ng-container",0)),2&t&&(Ps("ngIf",e.isMobile),Ur(1),Ps("ngIf",!e.isMobile))},directives:[Pd,KM,QM,YM,lT],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container, [_nghost-%COMP%]{background-color:var(--background-color)}  .mat-dialog-container{box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}.confirm-link[_ngcontent-%COMP%], .dismiss-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--text-color)}.confirm-link[_ngcontent-%COMP%]:hover, .dismiss-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();const Mj=["cardfilter"];function Tj(t,e){1&t&&(ks(0,"div",3),ks(1,"p"),ua(2,"Loading range, this can take a while..."),Ss(),Ms(3,"mat-spinner",4),Ss())}function Ej(t,e){if(1&t){const t=Fs();ks(0,"app-action-range-view",16),Ds("exportClicked",function(e){return Re(t),Vs(2).exportRangeForAction(e)})("updateSorting",function(e){return Re(t),Vs(2).updateSorting(e)}),Ss()}if(2&t){const t=Vs(2);Js("one",1===t.actionRanges.length)("two",2===t.actionRanges.length)("three",3===t.actionRanges.length)("four",4===t.actionRanges.length),Ps("range",t.actionRanges[0].first)("isIcm",t.isIcm)("adjustEvBy",t.adjustEvBy)("hideEvDifference",t.hideEvDifference)("showExport",t.showExport)("allowExport",t.allowExport)("isExporting",t.isExporting)}}function Rj(t,e){if(1&t){const t=Fs();ks(0,"app-action-range-view",16),Ds("exportClicked",function(e){return Re(t),Vs(2).exportRangeForAction(e)})("updateSorting",function(e){return Re(t),Vs(2).updateSorting(e)}),Ss()}if(2&t){const t=Vs(2);Js("one",1===t.actionRanges.length)("two",2===t.actionRanges.length)("three",3===t.actionRanges.length)("four",4===t.actionRanges.length),Ps("range",t.actionRanges[1].first)("isIcm",t.isIcm)("adjustEvBy",t.adjustEvBy)("hideEvDifference",t.hideEvDifference)("showExport",t.showExport)("allowExport",t.allowExport)("isExporting",t.isExporting)}}function Fj(t,e){if(1&t){const t=Fs();ks(0,"app-action-range-view",16),Ds("exportClicked",function(e){return Re(t),Vs(3).exportRangeForAction(e)})("updateSorting",function(e){return Re(t),Vs(3).updateSorting(e)}),Ss()}if(2&t){const t=Vs(3);Ps("range",t.actionRanges[2].first)("isIcm",t.isIcm)("adjustEvBy",t.adjustEvBy)("hideEvDifference",t.hideEvDifference)("showExport",t.showExport)("allowExport",t.allowExport)("isExporting",t.isExporting)}}function Ij(t,e){if(1&t){const t=Fs();ks(0,"app-action-range-view",16),Ds("exportClicked",function(e){return Re(t),Vs(3).exportRangeForAction(e)})("updateSorting",function(e){return Re(t),Vs(3).updateSorting(e)}),Ss()}if(2&t){const t=Vs(3);Ps("range",t.actionRanges[3].first)("isIcm",t.isIcm)("adjustEvBy",t.adjustEvBy)("hideEvDifference",t.hideEvDifference)("showExport",t.showExport)("allowExport",t.allowExport)("isExporting",t.isExporting)}}function Aj(t,e){if(1&t&&(ks(0,"div",17),Cs(1,Fj,1,7,"app-action-range-view",18),Cs(2,Ij,1,7,"app-action-range-view",18),Ss()),2&t){const t=Vs(2);Js("one",1===t.actionRanges.length)("two",2===t.actionRanges.length)("three",3===t.actionRanges.length)("four",4===t.actionRanges.length),Ur(1),Ps("ngIf",t.actionRanges.length>=3),Ur(1),Ps("ngIf",t.actionRanges.length>=4)}}function Dj(t,e){if(1&t){const t=Fs();ks(0,"div",5),ks(1,"div",6),Cs(2,Ej,1,15,"app-action-range-view",7),Cs(3,Rj,1,15,"app-action-range-view",7),Cs(4,Aj,3,10,"div",8),Ss(),ks(5,"div",9),ks(6,"div",10),ks(7,"app-card-filter",11,12),Ds("filter",function(e){return Re(t),Vs().updateFilter(e)}),Ss(),Ss(),ks(9,"div",13),ks(10,"mat-checkbox",14),Ds("ngModelChange",function(e){return Re(t),Vs().hideZeroPercentItems=e})("change",function(e){return Re(t),Vs().setHideZeroPercentItems(e)}),ua(11,"Hide 0% combos"),Ss(),ks(12,"mat-checkbox",15),Ds("change",function(e){return Re(t),Vs().setHideEvDifference(e)}),ua(13,"Hide EV difference"),Ss(),Ss(),Ss(),Ss()}if(2&t){const t=Vs();Ur(2),Ps("ngIf",t.actionRanges.length>=1),Ur(1),Ps("ngIf",t.actionRanges.length>=2),Ur(1),Ps("ngIf",t.actionRanges.length>=3),Ur(3),Ps("label",t.searchLabel)("initialValue",t.initialFilter),Ur(3),Ps("ngModel",t.hideZeroPercentItems),Ur(2),Ps("checked",t.hideEvDifference)}}let Lj=(()=>{class t{constructor(t,e,n,i,r,o,s,a,l,c,u){this.rangeService=t,this.rangeExportService=e,this.toPercent=n,this.store=i,this.feature=r,this.bucketService=o,this.route=s,this.router=a,this.dialog=l,this.snackBar=c,this.cdr=u,this.updateUrlOnFilterChange=!1,this.isReady=new ql,this.RangeSorting=GR,this.hideZeroPercentItems=!0,this.hideEvDifference=!0,this.initialFilter="",this._settings=Object.assign({},lj),this.sortingOptions=[{value:GR.Frequency,viewValue:"Frequency"},{value:GR.EV,viewValue:"EV"},{value:GR.EVDiff,viewValue:"EV difference"},{value:GR.Weight,viewValue:"Weight"}],this.sortDirectionOptions=[{value:KR.Desc,viewValue:"Descending"},{value:KR.Asc,viewValue:"Ascending"}],this.unsubscribe(),this.rangeSubscription=hp([this.store.pipe(Yb(Iy)),this.store.pipe(Yb(yy),kh(t=>!!t))]).subscribe(([t,e])=>$m(this,void 0,void 0,function*(){this.isReady.emit(!1);const n=this.getSettings(this.route.snapshot.queryParams);this._settings=this.replaceDefaultSettingsWithUrlSettings(lj,n),this.hideEvDifference=!0,this.rangeService.rangeSortingOptions.sortBy===GR.EVDiff&&this.rangeService.setSortingAndDirection(GR.Frequency,KR.Desc),this.currentTree=e,this.isPostFlop=e.type===X_.postflop;const i=this.rangeService.getRange(t);if(this.currentRangeKey=null==i?void 0:i.rangeKey,this.turnInvest=null==i?void 0:i.turnInvest,null==i?void 0:i.rangeFrequencies.every(t=>!t.overallFreq||0===t.overallFreq)){const t=i.ranges.map(({action:t})=>({action:t,items:[]}));return this.range=new dj(this.isPostFlop,i.nodeId,i.position,[],t,i.adjustEvBy,this.rangeService.rangeSortingOptions),this.updateActionRanges(),void this.isReady.emit(!0)}if(i&&i.position){if(this.adjustEvBy=i.adjustEvBy,console.time("create range"),this.isPostFlop)this.range=new dj(this.isPostFlop,i.nodeId,i.position,i.filterItems,i.ranges,i.adjustEvBy,this.rangeService.rangeSortingOptions);else{const t=dy(this.store.pipe(Yb(Ov)));this.range=new dj(this.isPostFlop,i.nodeId,i.position,i.filterItems,i.ranges,i.adjustEvBy,this.rangeService.rangeSortingOptions,null,t)}this.range.updateSettings(this._settings),console.timeEnd("create range"),this.isReady.emit(!0),this.updateSubscription=this.range.onUpdate$.subscribe(()=>{console.time("updateActionRanges"),this.updateActionRanges(),console.timeEnd("updateActionRanges")}),console.time("initialFilter"),this.initialFilter=dy(this.store.pipe(Yb(Ry)));const t=this.route.snapshot.queryParams;t.filter&&t.filter!==this.initialFilter&&(this.store.dispatch(wy({filter:t.filter})),this.initialFilter=t.filter),this.initialFilter?this.updateFilter(this.initialFilter,!1):this.resetFilter(),console.timeEnd("initialFilter"),this.trackRange(!0,this.initialFilter)}else this.range=null}))}ngOnInit(){const{hideZeroPercentItems:t,hideEvDifference:e}=this.rangeService.rangeSortingOptions;this.hideZeroPercentItems=t,this.hideEvDifference=e}update(){this.updateActionRanges()}get isIcm(){return!!this.currentTree.icmPayouts&&!!this.currentTree.icmStacks}trackRange(t,e){let n;if(this.isPostFlop){const t=this.currentTree,{flop:e,turn:i,river:r}=t;n=[e,i,r].filter(t=>!!t).join("")}this.store.dispatch(vj({activity:{initial:t,tree:this.currentTree.key,board:n,node:this.route.snapshot.queryParams.node,sessionId:this.range.sessionId,filter:e}}))}ngOnDestroy(){this.range=null,this.unsubscribe()}get showExport(){return!this.currentTree.customSimSetup&&this.feature.isAvailable(uy.RangeExport)}get allowExport(){return this.showExport&&!this.feature.isLocked(uy.RangeExport)}get isExporting(){return dy(this.rangeExportService.isExporting$.pipe(k(t=>t&&t>0)))}get hasCustomSettings(){return!cj(this._settings)}get settings(){return this._settings}openSettings(){this.dialog.open(uj,{data:this._settings}).afterClosed().pipe(Ap(1)).subscribe(t=>{if(t){if(this._settings=Object.assign({},t),!this.range.filterItems||0===this.range.filterItems.length){const t=this.rangeService.assembleFilterItems(this.range.ranges,this.currentRangeKey);this.range.updateFilterItems(t)}this.range.updateSettings(this._settings)}})}exportRangeForAction(t){var e,n;if(this.allowExport){if(!this.isExporting){const i=null===(e=this.currentNode.next.find(e=>oF(e.action,t)))||void 0===e?void 0:e.rangeId,r=(null===(n=this.route.snapshot.queryParams)||void 0===n?void 0:n.node)||"",o=this.range.getActionRange(t),s=this.range.filter;let a=null;o.items.length!==this.range.ranges.find(e=>oF(e.action,t)).items.length&&(a=o.items.map(CR)),this.dialog.open(yj,{data:{numberOfRanges:1,hasFilter:!!a}}).afterClosed().pipe(Ap(1)).subscribe(t=>{t&&this.exportRanges(r,i,t.format,t.mode,s,a)})}}else this.dialog.open(_R,{data:{featureText:"Exporting ranges"}})}exportRanges(t,e,n,i,r,o){if(this.isPostFlop){const s=this.currentTree.key,a=this.board.slice(0,6),l=this.board.length>6?this.board.slice(6,8):null,c=this.board.length>8?this.board.slice(8):null;this.rangeExportService.exportPostflopRanges(this.positionLabel,s,t,{flop:a,turn:l,river:c},e,n,i,this.turnInvest,r,o)}else this.rangeExportService.exportPreflopRanges(this.positionLabel,this.currentTree.key,t,e,n,i,r,o)}unsubscribe(){this.rangeSubscription&&this.rangeSubscription.unsubscribe(),this.updateSubscription&&this.updateSubscription.unsubscribe()}get isLoading$(){return this.rangeService.isLoading$}get hasRange(){return!!this.range}get position(){return this.range.position}get positionLabel(){var t;return(null===(t=this.currentTree.setup)||void 0===t?void 0:t.replaceWithStraddle)==this.range.position?q_(!1):this.range.position}get actions(){var t;return null===(t=this.range)||void 0===t?void 0:t.actions}updateActionRanges(){var t;if((null===(t=this.actions)||void 0===t?void 0:t.length)>0){const t=[{first:this.getActionRange(this.actions[0])}];this.actions.length>=2&&t.push({first:this.getActionRange(this.actions[1])}),this.actions.length>=3&&t.push({first:this.getActionRange(this.actions[2])}),this.actions.length>=4&&t.push({first:this.getActionRange(this.actions[3])}),this.actionRanges=t,this.cdr.markForCheck()}}getActionRange(t){const e=this.getFormattedAction(t),{overallFreq:n,items:i}=this.range.getActionRange(t);return{action:t,label:e,overallFreq:n,items:i}}updateSorting(t){const{sorting:e,direction:n}=t;e===GR.EVDiff?this.addEvDiff().then(()=>{this.rangeService.setSortingAndDirection(e,n),this.range.setSortingAndDirection(e,n),this.hideEvDifference=!1}):(this.rangeService.setSortingAndDirection(e,n),this.range.setSortingAndDirection(e,n))}get currentSorting(){return this.range.sorting}get currentSortdirection(){var t;return null!==(t=this.range.sortDirection)&&void 0!==t?t:KR.Desc}get searchLabel(){const t=this.hasRange?this.toPercent.transform(this.range.percentOfRangeFiltered,"1.0-2"):null;return t?`Filter (${t})`:"Filter"}addEvDiff(){return $m(this,void 0,void 0,function*(){if(!this.range.hasEvDiff){const t=this.snackBar.open("Calculating EV difference ...");yield jw(5),this.range.addEvDiff(),t.dismiss()}})}get rangeHasEvDifference(){return this.range.hasEvDiff}hasEvDifference(t){return!isNaN(MR(t))}useRFIvalueForAction(t){return oy(t,this.currentTree,this.isPostFlop,this.isRFI)}getFormattedAction(t){var e;const n=J_(t,null===(e=this.currentTree)||void 0===e?void 0:e.raiseSizeMapping);if(this.useRFIvalueForAction(n)){const t=this.getRFIValue();return sF(n,n.hasPrevBet,!this.isPostFlop,t?t+"x":null,this.currentTree.fixedRaiseSize)}return sF(n,n.hasPrevBet,!this.isPostFlop,null,this.currentTree.fixedRaiseSize)}setFilter(t){this.cardFilter.setValue(t),this.updateFilter(t)}updateFilter(t,e=!0){if(this.range){if(!this.range.filterItems||0===this.range.filterItems.length){const t=this.rangeService.assembleFilterItems(this.range.ranges,this.currentRangeKey);this.range.updateFilterItems(t)}if(t!==this.range.filter){const n=this.getAllClassificationsForFilter(t,this.range.macros,this.isPostFlop),i=this.isPostFlop?[]:this.getAllBucketsForFilter(t,this.range.macros,this.isPostFlop);if(n.length>0||i.length>0){const r=this.requiresLoadingClassifications(n),o=this.requiresLoadingBuckets(i);if(r||o)this.dialog.open(Sj,{data:{board:this.board,loadClassifications:r,loadBuckets:o}}).afterClosed().pipe(Ap(1)).subscribe(n=>{if(n){if(r){const t=this.isPostFlop?this.rangeService.updatePostflopFilterItems(this.range.filterItems,this.board):this.rangeService.updatePreflopFilterItems(this.range.filterItems);this.range.updateFilterItems(t)}if(o){const t=this.bucketService.getPreflopLookup();this.range.updateBucketLookups(t)}this.applyFilter(t,e)}else this.cardFilter.focus()});else{if((null==i?void 0:i.length)>0&&!this.range.hasBucketLookups()){const t=this.bucketService.getPreparedPreflopLookup();this.range.updateBucketLookups(t)}if(!this.range.hasFilterItemsWithClassifications()){const t=this.isPostFlop?this.rangeService.updatePostflopFilterItems(this.range.filterItems,this.board):this.rangeService.updatePreflopFilterItems(this.range.filterItems);this.range.updateFilterItems(t)}this.applyFilter(t,e)}}else this.applyFilter(t,e)}}}getAllClassificationsForFilter(t,e,n){if(!t||0===t.trim().length)return[];try{const i=Object(yR.parseFilterSyntax)(t,!1,e,n);return Object(yR.getClassificationsForFilter)(i)}catch(i){return console.error(i),[]}}requiresLoadingClassifications(t){return t.length>0&&(this.isPostFlop?!this.rangeService.hasPostflopClassifications(t,this.board):!this.rangeService.hasPreflopClassifications(t))}getAllBucketsForFilter(t,e,n){if(!t||0===t.trim().length)return[];try{const i=Object(yR.parseFilterSyntax)(t,!1,e,n);return Object(yR.getBucketsForFilter)(i)}catch(i){return[]}}requiresLoadingBuckets(t){return 0!==t.length&&!this.isPostFlop&&!this.bucketService.hasPreflopBucketLookup(t)}applyFilter(t,e=!0){var n;(null===(n=this.range)||void 0===n?void 0:n.setFilter(t))&&(this.store.dispatch(wy({filter:t})),e&&this.trackRange(!1,t),this.updateUrlOnFilterChange&&this.router.navigate([],{queryParams:{filter:(null==t?void 0:t.length)>0?t:void 0},queryParamsHandling:"merge"}))}setHideZeroPercentItems(t){this.rangeService.setHideZeroPercentItems(t.checked),this.range.setHideZeroPercentItems(t.checked),window.dispatchEvent(new Event("resize"))}setHideEvDifference(t){return $m(this,void 0,void 0,function*(){t.checked?this.currentSorting===GR.EVDiff&&this.updateSorting({sorting:GR.EV,direction:KR.Desc}):yield this.addEvDiff(),this.hideEvDifference=t.checked,this.cdr.markForCheck(),this.rangeService.setHideEvDifference(t.checked)})}resetFilter(){this.store.dispatch(xy())}getRFIValue(){var t;return(null!==(t=this.currentTree.rfiValues)&&void 0!==t?t:{})[this.position]||this.currentTree.rfiValue}getSettings(t){const e=+t.minFrequency,n=+t.minWeight,i=+t.minEV,r=+t.maxEV,o=!!t.freeze;let s=null;return isNaN(i)&&isNaN(r)||(s={min:i,max:r}),{minFrequency:e,minWeight:n,evSpread:s,frozen:o}}replaceDefaultSettingsWithUrlSettings(t,e){const n=t=>isNaN(t)||null==t;return{minFrequency:n(e.minFrequency)?t.minFrequency:e.minFrequency,minWeight:n(e.minWeight)?t.minWeight:e.minWeight,evSpread:e.evSpread?e.evSpread:t.evSpread,frozen:e.frozen}}}return t.\u0275fac=function(e){return new(e||t)(xs(rF),xs(bj),xs(Hd),xs(Kb),xs(gT),xs(GI),xs(rg),xs(wm),xs(qM),xs(oA),xs(ll))},t.\u0275cmp=Nt({type:t,selectors:[["app-range-overview"]],viewQuery:function(t,e){if(1&t&&oc(Mj,!0),2&t){let t;ic(t=uc())&&(e.cardFilter=t.first)}},inputs:{isRFI:"isRFI",currentNode:"currentNode",updateUrlOnFilterChange:"updateUrlOnFilterChange",board:"board"},outputs:{isReady:"isReady"},decls:4,vars:4,consts:[[1,"range-overview-container"],["class","spinner",4,"ngIf"],["class","range",4,"ngIf"],[1,"spinner"],["color","accent"],[1,"range"],[1,"action-ranges"],[3,"range","one","two","three","four","isIcm","adjustEvBy","hideEvDifference","showExport","allowExport","isExporting","exportClicked","updateSorting",4,"ngIf"],["class","multi-ranges-container",3,"one","two","three","four",4,"ngIf"],[1,"options"],[1,"filter-options"],["placeholder","",3,"label","initialValue","filter"],["cardfilter",""],[1,"checkboxes"],[1,"hide-freq","checkbox",3,"ngModel","ngModelChange","change"],[1,"show-evtobest","checkbox",3,"checked","change"],[3,"range","isIcm","adjustEvBy","hideEvDifference","showExport","allowExport","isExporting","exportClicked","updateSorting"],[1,"multi-ranges-container"],[3,"range","isIcm","adjustEvBy","hideEvDifference","showExport","allowExport","isExporting","exportClicked","updateSorting",4,"ngIf"]],template:function(t,e){1&t&&(ks(0,"div",0),Cs(1,Tj,4,0,"div",1),Vl(2,"async"),Cs(3,Dj,14,7,"div",2),Ss()),2&t&&(Ur(1),Ps("ngIf",Hl(2,2,e.isLoading$)||!e.hasRange),Ur(2),Ps("ngIf",e.hasRange))},styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:9rem}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option-disabled{color:var(--text-color-disabled)!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.range-overview-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;height:100%}.range-overview-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;padding:.3rem .625rem;width:calc(100% - 1.375rem - 2px);height:100%;color:var(--text-color)}.range-overview-container[_ngcontent-%COMP%]   .range.outdated[_ngcontent-%COMP%]{opacity:.25;border:1px solid red}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{cursor:pointer}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]{margin-left:5px;font-size:.8rem}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:1rem 0 .625rem;font-weight:400}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-weight:500;width:100%;text-align:center}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:.5rem;height:100%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]{width:50%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .two[_ngcontent-%COMP%]{width:49.5%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .four[_ngcontent-%COMP%], .range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .three[_ngcontent-%COMP%]{width:32.8%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .multi-ranges-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:stretch;gap:.5rem}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .multi-ranges-container[_ngcontent-%COMP%]   app-action-range-view[_ngcontent-%COMP%]{width:100%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .multi-ranges-container.four[_ngcontent-%COMP%]   app-action-range-view[_ngcontent-%COMP%]{height:50%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .action-ranges[_ngcontent-%COMP%]   .multi-ranges-container.three[_ngcontent-%COMP%]   app-action-range-view[_ngcontent-%COMP%]{height:100%}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;margin-top:1rem}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .filter-options[_ngcontent-%COMP%]{width:70%;flex-grow:1}.range-overview-container[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .checkboxes[_ngcontent-%COMP%]{margin-left:1rem;display:flex;flex-direction:column;justify-content:flex-start}"],changeDetection:0}),t})();class Bj{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Nj(t,this.delay,this.scheduler))}}class Nj extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Nj.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new jj(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Zm.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Zm.createComplete()),this.unsubscribe()}}class jj{constructor(t,e){this.time=t,this.notification=e}}function Vj(t,e){1&t&&(ks(0,"div",3),Ms(1,"mat-spinner",4),Ss())}function Hj(t,e){if(1&t&&(ks(0,"mat-option",19),ua(1),Ss()),2&t){const t=e.$implicit;Ps("value",t.value),Ur(1),ha(" ",t.viewValue," ")}}function $j(t,e){if(1&t){const t=Fs();ks(0,"div",15),ks(1,"mat-form-field",16),ks(2,"mat-label"),ua(3,"Sort by"),Ss(),ks(4,"mat-select",17),Ds("valueChange",function(e){return Re(t),Vs(2).currentSorting=e}),Cs(5,Hj,2,2,"mat-option",18),Ss(),Ss(),Ss()}if(2&t){const t=Vs(2);Ur(4),Ps("value",t.currentSorting)("disabled",!t.hasRangeFrequencies),Ur(1),Ps("ngForOf",t.sortingOptions)}}function zj(t,e){if(1&t){const t=Fs();ks(0,"div",20),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(2).sortByAction(n)}),ua(1),Ss()}if(2&t){const t=e.$implicit,n=Vs(2);Js("selected",n.isSelectedForSorting(t)),Ps("ngClass",n.actionClasses(t)),Ur(1),ha(" ",n.actionLabel(t)," ")}}function Uj(t,e){if(1&t){const t=Fs();ks(0,"div",21),ks(1,"div",22),ks(2,"div",23),Ds("click",function(){return Re(t),Vs(2).emitTrainRandomBoardsForSelection()}),Ms(3,"i",24),Ss(),ks(4,"div",25),Ds("click",function(){return Re(t),Vs(2).emitTrainSelection()}),Ms(5,"i",26),Ss(),Ss(),ks(6,"div",22),ks(7,"div",27),Ds("click",function(){return Re(t),Vs(2).emitShowRangeForSelection()}),Ms(8,"i",28),Ss(),ks(9,"div",29),Ds("click",function(){return Re(t),Vs(2).clearSelection()}),Ms(10,"i",30),Ss(),Ss(),Ss()}if(2&t){const t=Vs(2);Ur(2),Js("disabled",!t.hasSelection||!t.allowFilterOrTraining)("hidden",!t.allowTrainingRandomBoards),Ur(2),Js("disabled",!t.hasSelection||!t.allowFilterOrTraining),Ur(3),Js("disabled",!t.hasSelection||!t.allowFilterOrTraining),Ur(2),Js("disabled",!t.hasSelection)}}const qj=function(t){return{"width.%":t}};function Wj(t,e){if(1&t&&(ks(0,"div",37),ks(1,"span"),ua(2),Vl(3,"percent"),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs(3);Ps("ngClass",n.actionClasses(t))("ngStyle",Ll(9,qj,n.normalizedWidth(n.rangeValueForAction(t))))("matTooltip",n.rangeValueTooltip(t)),Ur(1),Js("hide-text",n.rangeValueForAction(t)<.05),Ur(1),da($l(3,6,n.rangeValueForAction(t),"1.0-0"))}}function Gj(t,e){if(1&t&&(ks(0,"div",31),ks(1,"div",32),ks(2,"div",33),ks(3,"div",34),ua(4," Full range "),Ss(),Ss(),ks(5,"div",35),Cs(6,Wj,4,11,"div",36),Ss(),Ss(),Ss()),2&t){const t=Vs(2);Ur(5),Js("desktop",!t.isMobile),Ur(1),Ps("ngForOf",t.actions)}}function Kj(t,e){1&t&&(ks(0,"span"),Ms(1,"i",47),Ss())}function Qj(t,e){1&t&&(ks(0,"span"),Ms(1,"i",48),Ss())}function Yj(t,e){if(1&t&&(ks(0,"div",46),Cs(1,Kj,2,0,"span",45),Cs(2,Qj,2,0,"span",45),Ss()),2&t){const t=Vs().$implicit,e=Vs(2);Ur(1),Ps("ngIf",e.isExpanded(t)),Ur(1),Ps("ngIf",!e.isExpanded(t))}}function Zj(t,e){if(1&t&&(ks(0,"div",37),ks(1,"span"),ua(2),Vl(3,"percent"),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs().$implicit,i=Vs(2);Ps("ngClass",i.actionClasses(t))("ngStyle",Ll(9,qj,i.normalizedWidth(i.valueForAction(n,t))))("matTooltip",i.valueTooltip(n,t)),Ur(1),Js("hide-text",i.valueForAction(n,t)<.05),Ur(1),da($l(3,6,i.valueForAction(n,t),"1.0-0"))}}function Jj(t,e){if(1&t){const t=Fs();ks(0,"div",49),ks(1,"mat-checkbox",50),Ds("change",function(e){Re(t);const n=Vs().$implicit;return Vs(2).updateBucketGroupSelection(e,n)}),Ss(),Ss()}if(2&t){const t=Vs().$implicit,e=Vs(2);Ur(1),Ps("disabled",e.isMobile)("checked",e.isSelectedBucketGroup(t))}}function Xj(t,e){1&t&&(ks(0,"span"),Ms(1,"i",47),Ss())}function tV(t,e){1&t&&(ks(0,"span"),Ms(1,"i",48),Ss())}function eV(t,e){if(1&t&&(ks(0,"div",46),Cs(1,Xj,2,0,"span",45),Cs(2,tV,2,0,"span",45),Ss()),2&t){const t=Vs().$implicit,e=Vs(5);Ur(1),Ps("ngIf",e.isExpanded(t)),Ur(1),Ps("ngIf",!e.isExpanded(t))}}function nV(t,e){if(1&t&&(ks(0,"div",55),ks(1,"span"),ua(2),Vl(3,"percent"),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs().$implicit,i=Vs(5);Ps("ngClass",i.actionClasses(t))("ngStyle",Ll(9,qj,i.normalizedWidth(i.valueForAction(n,t))))("matTooltip",i.valueTooltip(n,t)),Ur(1),Js("hide-text",i.valueForAction(n,t)<.05),Ur(1),da($l(3,6,i.valueForAction(n,t),"1.0-0"))}}function iV(t,e){if(1&t){const t=Fs();ks(0,"div",49),ks(1,"mat-checkbox",50),Ds("change",function(e){Re(t);const n=Vs().$implicit;return Vs(5).updateBucketGroupSelection(e,n)}),Ss(),Ss()}if(2&t){const t=Vs().$implicit,e=Vs(3).$implicit,n=Vs(2);Ur(1),Ps("disabled",n.isMobile||n.isSelectedBucketGroup(e))("checked",n.isSelectedBucketGroup(t))}}function rV(t,e){if(1&t&&(ks(0,"div",60),ks(1,"span"),ua(2),Vl(3,"percent"),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs().$implicit,i=Vs(7);Ps("ngClass",i.actionClasses(t))("ngStyle",Ll(9,qj,i.normalizedWidth(i.valueForAction(n,t))))("matTooltip",i.valueTooltip(n,t)),Ur(1),Js("hide-text",i.valueForAction(n,t)<.05),Ur(1),da($l(3,6,i.valueForAction(n,t),"1.0-0"))}}function oV(t,e){if(1&t){const t=Fs();ks(0,"div",49),ks(1,"mat-checkbox",50),Ds("change",function(e){Re(t);const n=Vs().$implicit;return Vs(7).updateBucketSelection(e,n)}),Ss(),Ss()}if(2&t){const t=Vs().$implicit,e=Vs(2).$implicit,n=Vs(3).$implicit,i=Vs(2);Ur(1),Ps("disabled",i.isMobile||i.isSelectedBucketGroup(n)||i.isSelectedBucketGroup(e))("checked",i.isSelectedBucket(t))}}function sV(t,e){if(1&t&&(ks(0,"div",57),ks(1,"div",58),ks(2,"div",40),ua(3),ks(4,"span",41),ua(5),Vl(6,"percent"),Ss(),Ss(),Ss(),ks(7,"div",43),Cs(8,rV,4,11,"div",59),Ss(),Cs(9,oV,2,2,"div",44),Ss()),2&t){const t=e.$implicit,n=Vs(7);Ur(1),Js("shift",n.horizontalShift),Ur(2),ha(" ",t.label," "),Ur(2),ha(" (",$l(6,6,t.percentOfRangeInBucket,"1.0-2"),")"),Ur(3),Ps("ngForOf",n.actions),Ur(1),Ps("ngIf",!n.hidePanel&&!n.isMobile)}}function aV(t,e){if(1&t&&(ks(0,"div"),Cs(1,sV,10,9,"div",56),Ss()),2&t){const t=Vs().$implicit;Ur(1),Ps("ngForOf",t.buckets)}}function lV(t,e){if(1&t){const t=Fs();ks(0,"div"),ks(1,"div",52),ks(2,"div",53),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(5).expandOrCollapse(n)}),ks(3,"div",40),ua(4),ks(5,"span",41),ua(6),Vl(7,"percent"),Ss(),Ss(),Cs(8,eV,3,2,"div",42),Ss(),ks(9,"div",43),Cs(10,nV,4,11,"div",54),Ss(),Cs(11,iV,2,2,"div",44),Ss(),Cs(12,aV,2,1,"div",45),Ss()}if(2&t){const t=e.$implicit,n=Vs(5);Ur(2),Js("expandable",t.canExpand)("shift",n.horizontalShift),Ur(2),ha(" ",t.label," "),Ur(2),ha(" (",$l(7,10,t.percentOfRangeInBucket,"1.0-2"),")"),Ur(2),Ps("ngIf",t.canExpand),Ur(2),Ps("ngForOf",n.actions),Ur(1),Ps("ngIf",!n.hidePanel&&!n.isMobile),Ur(1),Ps("ngIf",n.isExpanded(t))}}function cV(t,e){if(1&t&&(Ts(0),Cs(1,lV,13,13,"div",51),Es()),2&t){const t=Vs(2).$implicit,e=Vs(2);Ur(1),Ps("ngForOf",e.validGroups(t.children))}}function uV(t,e){if(1&t&&(ks(0,"div",55),ks(1,"span"),ua(2),Vl(3,"percent"),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs().$implicit,i=Vs(6);Ps("ngClass",i.actionClasses(t))("ngStyle",Ll(9,qj,i.normalizedWidth(i.valueForAction(n,t))))("matTooltip",i.valueTooltip(n,t)),Ur(1),Js("hide-text",i.valueForAction(n,t)<.05),Ur(1),da($l(3,6,i.valueForAction(n,t),"1.0-0"))}}function dV(t,e){if(1&t){const t=Fs();ks(0,"div",49),ks(1,"mat-checkbox",50),Ds("change",function(e){Re(t);const n=Vs().$implicit;return Vs(6).updateBucketSelection(e,n)}),Ss(),Ss()}if(2&t){const t=Vs().$implicit,e=Vs(4).$implicit,n=Vs(2);Ur(1),Ps("disabled",n.isMobile||n.isSelectedBucketGroup(e))("checked",n.isSelectedBucket(t))}}function hV(t,e){if(1&t&&(ks(0,"div",52),ks(1,"div",62),ks(2,"div",40),ua(3),ks(4,"span",41),ua(5),Vl(6,"percent"),Ss(),Ss(),Ss(),ks(7,"div",43),Cs(8,uV,4,11,"div",54),Ss(),Cs(9,dV,2,2,"div",44),Ss()),2&t){const t=e.$implicit,n=Vs(6);Ur(1),Js("shift",n.horizontalShift),Ur(2),ha(" ",t.label," "),Ur(2),ha(" (",$l(6,6,t.percentOfRangeInBucket,"1.0-2"),")"),Ur(3),Ps("ngForOf",n.actions),Ur(1),Ps("ngIf",!n.hidePanel&&!n.isMobile)}}function pV(t,e){if(1&t&&(ks(0,"div"),Cs(1,hV,10,9,"div",61),Ss()),2&t){const t=Vs(3).$implicit;Ur(1),Ps("ngForOf",t.buckets)}}function fV(t,e){if(1&t&&(Ts(0),Cs(1,pV,2,1,"div",45),Es()),2&t){const t=Vs(2).$implicit,e=Vs(2);Ur(1),Ps("ngIf",e.isExpanded(t))}}function gV(t,e){if(1&t&&(ks(0,"div"),Cs(1,cV,2,1,"ng-container",45),Cs(2,fV,2,1,"ng-container",45),Ss()),2&t){const t=Vs().$implicit;Ur(1),Ps("ngIf",t.children),Ur(1),Ps("ngIf",t.buckets)}}function mV(t,e){if(1&t){const t=Fs();ks(0,"div",31),ks(1,"div",38),ks(2,"div",39),Ds("click",function(){Re(t);const n=e.$implicit;return Vs(2).expandOrCollapse(n)}),ks(3,"div",40),ua(4),ks(5,"span",41),ua(6),Vl(7,"percent"),Ss(),Ss(),Cs(8,Yj,3,2,"div",42),Ss(),ks(9,"div",43),Cs(10,Zj,4,11,"div",36),Ss(),Cs(11,Jj,2,2,"div",44),Ss(),Cs(12,gV,3,2,"div",45),Ss()}if(2&t){const t=e.$implicit,n=Vs(2);Ur(2),Js("expandable",t.canExpand)("shift",n.horizontalShift),Ur(2),ha(" ",t.label," "),Ur(2),ha(" (",$l(7,10,t.percentOfRangeInBucket,"1.0-2"),")"),Ur(2),Ps("ngIf",t.canExpand),Ur(2),Ps("ngForOf",n.actions),Ur(1),Ps("ngIf",!n.hidePanel&&!n.isMobile),Ur(1),Ps("ngIf",n.isExpanded(t))}}function bV(t,e){if(1&t){const t=Fs();ks(0,"div",5),ks(1,"div",6),Cs(2,$j,6,3,"div",7),ks(3,"mat-checkbox",8),Ds("ngModelChange",function(e){return Re(t),Vs().horizontalShift=e})("change",function(e){return Re(t),Vs().setHorizontalShift(e)}),ua(4,"Shift subs"),Ss(),ks(5,"div",9),Cs(6,zj,2,4,"div",10),Ss(),Cs(7,Uj,11,10,"div",11),Ss(),ks(8,"div",12),Cs(9,Gj,7,3,"div",13),Cs(10,mV,13,13,"div",14),Ss(),Ss()}if(2&t){const t=Vs();Ur(2),Ps("ngIf",!t.hidePanel),Ur(1),Ps("ngModel",t.horizontalShift),Ur(2),Js("bar-centered",t.hidePanel),Ur(1),Ps("ngForOf",t.actions),Ur(1),Ps("ngIf",!t.hidePanel),Ur(2),Ps("ngIf",t.hasRangeFrequencies),Ur(1),Ps("ngForOf",t.validGroups(t.bucketGroups))}}var _V=function(t){return t[t.Strength=0]="Strength",t[t.Weight=1]="Weight",t}({});const yV=(t,e)=>t.id-e.id,vV=(t,e)=>e.percentOfRangeInBucket-t.percentOfRangeInBucket;let CV=(()=>{class t{constructor(t,e,n,i,r,o){this.store=t,this.rangeService=e,this.bucketService=n,this.feature=i,this.percentPipe=r,this.storage=o,this.hidePanel=!1,this.disableTrainRandomBoards=!1,this.updateSelection=new ql,this.showRangeForSelection=new ql,this.trainSelection=new ql,this.trainRandomBoardsForSelection=new ql,this.isReady=new ql,this.SHIFT_SUBS_KEY="shift_subs",this.isCalculatingBuckets=!1,this.horizontalShift=!0,this._shiftSubs=!0,this.bucketGroups=[],this.CategorySorting=_V,this.sorting=_V.Strength,this.sortingOptions=[{value:_V.Strength,viewValue:"Default"},{value:_V.Weight,viewValue:"Weight"}],this.bucketSelection=[],this.bucketGroupSelection=[],this.subscriptions=[],this.isMobile=dF(),this._shiftSubs=!0,"false"===this.storage.get(this.SHIFT_SUBS_KEY)&&(this._shiftSubs=!1),this.horizontalShift=this._shiftSubs}ngOnInit(){var t;return $m(this,void 0,void 0,function*(){if(this.unsubscribe(),this.subscriptions.push(this.store.pipe(Yb(Sv)).subscribe(t=>{this.bucketSelection=t.buckets,this.bucketGroupSelection=t.groups})),this.subscriptions.push(this.rangeService.isLoading$.subscribe(t=>this.isLoadingRange=t)),this.subscriptions.push(this.store.pipe(Yb(yy)).subscribe(t=>{this.currentTree=t})),this.isFiveCard){this.isReady.emit(!1),this.isCalculatingBuckets=!0;const{tree:e,node:n,bucketGroups:i}=this.isPostFlop?yield this.bucketService.segmentPostflopRange(this.board,null):yield this.bucketService.segmentPreflopRange(null);if(this.bucketGroups=i,(null===(t=this.bucketGroups)||void 0===t?void 0:t.length)>0)return this.actions=this.bucketGroups[0].values.map(t=>t.action).sort(uF),this.expandedGroups={},this.rangeFrequencies=this.calculateRangeFrequenciesFromBuckets(this.actions,this.bucketGroups),this.store.dispatch(ky({tree:e,node:n,rangeFrequencies:this.rangeFrequencies})),this.isCalculatingBuckets=!1,void this.isReady.emit(!0);if(this.isPostFlop)return}this.subscriptions.push(this.store.pipe(Yb(Iy),function(t,e=ox){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new Bj(i,e))}(250)).subscribe(t=>$m(this,void 0,void 0,function*(){this.isReady.emit(!1),this.isCalculatingBuckets=!0;const e=this.rangeService.getRange(t);if(e){let t;this.actions=e.ranges.map(t=>t.action).sort(uF),this.rangeFrequencies=[...e.rangeFrequencies].sort((t,e)=>uF(t.action,e.action)),t=this.isPostFlop?yield this.bucketService.segmentPostflopRange(this.board,e,this.hand):yield this.bucketService.segmentPreflopRange(e);const{tree:n,node:i,bucketGroups:r}=t;this.bucketGroups=r,this.expandedGroups={},this.rangeFrequencies||(this.rangeFrequencies=this.calculateRangeFrequenciesFromBuckets(this.actions,this.bucketGroups),this.store.dispatch(ky({tree:n,node:i,rangeFrequencies:this.rangeFrequencies}))),this.isCalculatingBuckets=!1,this.isReady.emit(!0)}})))})}calculateRangeFrequenciesFromBuckets(t,e){return t.map(t=>{const n=e.map(e=>{var n;return e.percentOfRangeInBucket*(null===(n=e.values.find(e=>oF(t,e.action)))||void 0===n?void 0:n.overallFreq)}).reduce((t,e)=>t+e,0);return{action:t,overallFreq:n}}).filter(t=>t.overallFreq>=0)}ngOnDestroy(){this.unsubscribe()}unsubscribe(){for(const t of this.subscriptions)t&&t.unsubscribe()}setHorizontalShift(t){this.toggleShiftSubs()}get isValid(){return this.bucketGroups.length>0}get allowTrainingRandomBoards(){var t;return!this.disableTrainRandomBoards&&(null===(t=this.board)||void 0===t?void 0:t.length)>0&&this.feature.isAvailable(uy.RandomBoardTraining)}get allowFilterOrTraining(){return!this.isMobile||!this.isLoadingRange}get isFiveCard(){return!1}get currentSorting(){return this.sorting}set currentSorting(t){this.sorting=t,this.sortBuckets()}get isPostFlop(){var t;return(null===(t=this.board)||void 0===t?void 0:t.length)>=6}get hasSelection(){return this.bucketSelection.length>0||this.bucketGroupSelection.length>0}get hasRangeFrequencies(){var t;return(null===(t=this.rangeFrequencies)||void 0===t?void 0:t.length)>0&&!this.rangeFrequencies.some(t=>!t.overallFreq)}get shiftSubs(){return this._shiftSubs}toggleShiftSubs(){this._shiftSubs=!this._shiftSubs,this.storage.set(this.SHIFT_SUBS_KEY,this._shiftSubs?"true":"false")}isSelectedBucket(t){return!!this.bucketSelection.find(e=>e.id===t.id)}isSelectedBucketGroup(t){return!!this.bucketGroupSelection.find(e=>e.key===t.key)}clearSelection(){this.store.dispatch(gv({buckets:[]})),this.store.dispatch(mv({groups:[]}))}updateBucketSelection(t,e){if(t.checked){const t=[...this.bucketSelection.filter(t=>t.id!==e.id),e];this.store.dispatch(gv({buckets:t}))}else{const t=this.bucketSelection.filter(t=>t.id!==e.id);this.store.dispatch(gv({buckets:t}))}}updateBucketGroupSelection(t,e){if(t.checked){const t=[...this.bucketGroupSelection.filter(t=>t.key!==e.key),e];this.store.dispatch(mv({groups:t}))}else{const t=this.bucketGroupSelection.filter(t=>t.key!==e.key);this.store.dispatch(mv({groups:t}))}}validGroups(t){return t.filter(t=>t.totalItems>0)}expandOrCollapse(t){t.canExpand&&(this.expandedGroups[t.key]=!this.expandedGroups[t.key])}isExpanded(t){return t&&!!this.expandedGroups[t.key]}isSelectedForSorting(t){return this.sortAction&&oF(t,this.sortAction)}sortBuckets(){this.sorting===_V.Strength?(this.bucketGroups.sort(yV),this.bucketGroups.forEach(t=>this.sortBucketGroup(t,yV))):(this.bucketGroups.sort(vV),this.bucketGroups.forEach(t=>this.sortBucketGroup(t,vV)))}sortBucketGroup(t,e){t.buckets?t.buckets.sort(e):(t.children.sort(e),t.children.forEach(t=>this.sortBucketGroup(t,e)))}sortByAction(t){if(this.sortAction&&oF(t,this.sortAction))this.sortAction=null,this.sortBuckets();else{this.sortAction=t;const e=(t=>(e,n)=>{const i=this.valueForAction(e,t),r=this.valueForAction(n,t);return i!==r?r-i:((t,e)=>t.id-e.id)(e,n)})(t);this.bucketGroups.sort(e),this.bucketGroups.forEach(t=>this.sortBucketGroup(t,e))}}actionLabel(t){var e,n,i;const r=J_(t,null===(e=this.currentTree)||void 0===e?void 0:e.raiseSizeMapping);if(this.useRFIvalueForAction(r)){const t=this.getRFIValue();return sF(r,r.hasPrevBet,!this.isPostFlop,t?t+"x":null,null===(n=this.currentTree)||void 0===n?void 0:n.fixedRaiseSize)}return sF(r,r.hasPrevBet,!this.isPostFlop,null,null===(i=this.currentTree)||void 0===i?void 0:i.fixedRaiseSize)}valueForAction(t,e){var n;return xB(null===(n=null==t?void 0:t.values.find(t=>oF(t.action,e)))||void 0===n?void 0:n.overallFreq,1)}rangeValueForAction(t){var e,n;return xB(null===(n=null===(e=this.rangeFrequencies)||void 0===e?void 0:e.find(e=>oF(e.action,t)))||void 0===n?void 0:n.overallFreq,1)}actionClasses(t){const e=t=>["BET","RAISE","RAISECHIP"].includes(t.type.toUpperCase());if(e(t))switch(this.actions.filter(e).sort((t,e)=>t.amount||e.amount?t.amount-e.amount:e.amountLabel.localeCompare(t.amountLabel)).findIndex(e=>e.amount?e.amount===t.amount:e.amountLabel===t.amountLabel)){case 0:return"action raise0";case 1:return"action raise1";case 2:return"action raise2"}else switch(t.type.toUpperCase()){case Q_.FOLD:return"action fold";case Q_.CALL:return"action call";case Q_.CHECK:return"action check";case"AI":case"ALL IN":case"ALL-IN":case"ALL_IN":case Q_.ALLIN:return"action allin";case Q_.MIN:case Q_.MR:return"action min";default:return"action default"}}normalizedWidth(t){return 100*t}bucketTooltip(t){return t.label}valueTooltip(t,e){const n=this.valueForAction(t,e);return`${this.actionLabel(e)}: ${this.percentPipe.transform(n,"1.0-0")}`}rangeValueTooltip(t){const e=this.rangeValueForAction(t);return`${this.actionLabel(t)}: ${this.percentPipe.transform(e,"1.0-0")}`}getBucketIndex(t,e){return av(t,e)}emitUpdatedSelection(){const t=this.getSyntaxForSelection();this.updateSelection.emit(t)}emitTrainSelection(){if(this.allowFilterOrTraining&&this.hasSelection){const t=this.getSyntaxForSelection();this.trainSelection.emit(t)}}emitTrainRandomBoardsForSelection(){if(this.allowFilterOrTraining&&this.hasSelection&&this.allowTrainingRandomBoards){const t=this.getSyntaxForSelection();this.trainRandomBoardsForSelection.emit(t)}}emitShowRangeForSelection(){if(this.allowFilterOrTraining&&this.hasSelection){const t=this.getSyntaxForSelection();this.showRangeForSelection.emit(t)}}getSyntaxForSelection(){return dy(this.store.pipe(Yb(Tv(this.isPostFlop))))}useRFIvalueForAction(t){return oy(t,this.currentTree,this.isPostFlop,this.isRFI)}getRFIValue(){var t;return(null!==(t=this.currentTree.rfiValues)&&void 0!==t?t:{})[this.currentPosition]||this.currentTree.rfiValue}}return t.\u0275fac=function(e){return new(e||t)(xs(Kb),xs(rF),xs(GI),xs(gT),xs(Hd),xs(hT))},t.\u0275cmp=Nt({type:t,selectors:[["app-bucket-chart"]],inputs:{board:"board",isRFI:"isRFI",currentPosition:"currentPosition",hand:"hand",hidePanel:"hidePanel",disableTrainRandomBoards:"disableTrainRandomBoards"},outputs:{updateSelection:"updateSelection",showRangeForSelection:"showRangeForSelection",trainSelection:"trainSelection",trainRandomBoardsForSelection:"trainRandomBoardsForSelection",isReady:"isReady"},decls:3,vars:4,consts:[[1,"bucket-chart-container"],["class","spinner",4,"ngIf"],["class","chart-wrapper",4,"ngIf"],[1,"spinner"],["color","accent"],[1,"chart-wrapper"],[1,"top-row"],["class","sort",4,"ngIf"],[1,"sub-shift","checkbox",3,"ngModel","ngModelChange","change"],[1,"legend"],["class","legend-item",3,"selected","ngClass","click",4,"ngFor","ngForOf"],["class","filter-add",4,"ngIf"],[1,"chart"],["class","chart-group",4,"ngIf"],["class","chart-group",4,"ngFor","ngForOf"],[1,"sort"],["color","accent","appearance","fill"],[3,"value","disabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"legend-item",3,"ngClass","click"],[1,"filter-add"],[1,"row"],["matTooltip","Train random boards for selection","matTooltipPosition","left","matTooltipClass","large-tooltip",3,"click"],[1,"fas","fa-dice"],["matTooltip","Train selection","matTooltipPosition","left","matTooltipClass","large-tooltip",3,"click"],[1,"fas","fa-dumbbell"],["matTooltip","Show range for selection","matTooltipPosition","left","matTooltipClass","large-tooltip",3,"click"],[1,"fas","fa-filter"],["matTooltip","Clear selection","matTooltipPosition","left","matTooltipClass","large-tooltip",3,"click"],[1,"fas","fa-trash"],[1,"chart-group"],[1,"chart-row","header"],[1,"chart-label"],[1,"label","bold"],[1,"freq-container"],["class","chart-value","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"ngClass","ngStyle","matTooltip",4,"ngFor","ngForOf"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"chart-value",3,"ngClass","ngStyle","matTooltip"],[1,"chart-row"],[1,"chart-label",3,"click"],[1,"label"],[1,"small"],["class","expand-collapse-icon",4,"ngIf"],[1,"freq-container","width-50"],["class","range-icon",4,"ngIf"],[4,"ngIf"],[1,"expand-collapse-icon"],[1,"fas","fa-angle-down"],[1,"fas","fa-angle-right"],[1,"range-icon"],[3,"disabled","checked","change"],[4,"ngFor","ngForOf"],[1,"chart-row","sub-1"],[1,"chart-label","sub-1",3,"click"],["class","chart-value sub-1","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"ngClass","ngStyle","matTooltip",4,"ngFor","ngForOf"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"chart-value","sub-1",3,"ngClass","ngStyle","matTooltip"],["class","chart-row sub-2",4,"ngFor","ngForOf"],[1,"chart-row","sub-2"],[1,"chart-label","sub-2"],["class","chart-value sub-2","matTooltipPosition","above","matTooltipClass","large-tooltip",3,"ngClass","ngStyle","matTooltip",4,"ngFor","ngForOf"],["matTooltipPosition","above","matTooltipClass","large-tooltip",1,"chart-value","sub-2",3,"ngClass","ngStyle","matTooltip"],["class","chart-row sub-1",4,"ngFor","ngForOf"],[1,"chart-label","sub-1"]],template:function(t,e){1&t&&(ks(0,"div",0),Cs(1,Vj,2,0,"div",1),Cs(2,bV,11,8,"div",2),Ss()),2&t&&(Js("panel",!e.hidePanel),Ur(1),Ps("ngIf",e.isCalculatingBuckets),Ur(1),Ps("ngIf",!e.isCalculatingBuckets))},directives:[Pd,lT,_L,AC,yw,wd,YT,VT,BD,MM,vd,oR,Rd],pipes:[Hd],styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:7.5rem}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-frame{border-color:var(--checkbox-border)!important}[_nghost-%COMP%]     .mat-checkbox.mat-checkbox-disabled .mat-checkbox-frame{border-color:var(--checkbox-border-disabled)!important}  .mat-select-panel-wrap div[role=listbox]{background-color:var(--background-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option{color:var(--text-color)!important}  .mat-select-panel-wrap div[role=listbox] .mat-option-disabled{color:var(--text-color-disabled)!important}.large-tooltip[_ngcontent-%COMP%]{font-size:1.2rem}.bucket-chart-container[_ngcontent-%COMP%]{display:inline-block;color:var(--text-color)}.bucket-chart-container.panel[_ngcontent-%COMP%]{margin-top:calc(1rem - 2px);padding:.3125rem .625rem 1.25rem;width:calc(100% - 1.375rem - 2px);height:calc(100% - 2.5625rem);overflow:hidden}.bucket-chart-container.outdated[_ngcontent-%COMP%]{opacity:.25;border:1px solid red}.bucket-chart-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:100%;justify-content:center;align-items:center}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%], .bucket-chart-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]{min-width:9rem;margin-left:1rem;margin-top:.625rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{margin:.625rem 0 1.25rem;width:100%;display:flex;flex-direction:row;justify-content:center;cursor:default}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend.bar-centered[_ngcontent-%COMP%]{margin-left:20.625rem;margin-bottom:.3125rem;margin-top:1.25rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{margin:.625rem;padding:.3125rem .75rem;color:#fff;display:flex;flex-direction:row;align-items:center;border-radius:var(--border-radius);cursor:pointer}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-item.selected[_ngcontent-%COMP%]{padding:.3125rem .625rem;border:2px solid #fff}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;margin:.3125rem 0;height:100%}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;width:1.25rem;margin-right:.625rem;cursor:pointer}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-right:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:unset}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .filter-add[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hidden[_ngcontent-%COMP%]{visibility:hidden}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .range-bucket-sep[_ngcontent-%COMP%]{border-bottom:1px solid grey;margin-bottom:.75rem;margin-left:1rem;margin-right:.3125rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:stretch;align-items:center;margin-bottom:.3rem;height:2.5rem;cursor:default}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.header[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,100%,.18823529411764706)}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.header[_ngcontent-%COMP%]   .freq-container.desktop[_ngcontent-%COMP%]{padding-right:1.875rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.sub-1[_ngcontent-%COMP%]{background-color:var(--highlight-color-half);margin-bottom:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row.sub-2[_ngcontent-%COMP%]{background-color:var(--highlight-color);margin-bottom:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]{width:40%;max-width:20rem;min-width:15rem;display:flex;flex-direction:row;justify-content:space-between;margin-right:.625rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.expandable[_ngcontent-%COMP%]{cursor:pointer}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .range-freq[_ngcontent-%COMP%]{padding-left:3.125rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{min-width:1.5625rem;margin-right:.625rem;text-align:right;font-weight:500}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{margin-left:.3125rem;font-size:.75rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-1[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:1.5rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-1.shift[_ngcontent-%COMP%]{margin-left:1.5rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-1.shift[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-2[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:3rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-2.shift[_ngcontent-%COMP%]{margin-left:3rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label.sub-2.shift[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:0}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-label[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{margin:auto 1rem auto .625rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;width:60%}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]{height:1.875rem;display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;color:#fff}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value.sub-1[_ngcontent-%COMP%], .bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value.sub-2[_ngcontent-%COMP%]{height:1.5rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]:last-child{margin-right:.625rem}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .freq-container[_ngcontent-%COMP%]   .chart-value[_ngcontent-%COMP%]   span.hide-text[_ngcontent-%COMP%]{visibility:hidden}.bucket-chart-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-group[_ngcontent-%COMP%]   .range-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:1.875rem;cursor:pointer}.default[_ngcontent-%COMP%]{background-color:var(--default-background);color:var(--default-color)!important}.min[_ngcontent-%COMP%], .raise0[_ngcontent-%COMP%]{background-color:var(--raise0-background);color:var(--raise0-color)!important}.raise1[_ngcontent-%COMP%]{background-color:var(--raise1-background);color:var(--raise1-color)!important}.allin[_ngcontent-%COMP%], .raise2[_ngcontent-%COMP%]{background-color:var(--raise2-background);color:var(--raise2-color)!important}.raise3[_ngcontent-%COMP%]{background-color:var(--raise3-background);color:var(--raise3-color)!important}.fold[_ngcontent-%COMP%]{background-color:var(--fold-background);color:var(--fold-color)!important}.call[_ngcontent-%COMP%], .check[_ngcontent-%COMP%]{background-color:var(--call-background);color:var(--call-color)!important}"]}),t})();function wV(t,e){if(1&t&&(ks(0,"div",7),ks(1,"div",8),ks(2,"div",9),ua(3),Ss(),ks(4,"div",10),ua(5),Ss(),Ss(),ks(6,"div",11),ua(7),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs();Ur(1),Ps("ngClass",n.getResultClass(t)),Ur(2),ha("",t.label,":"),Ur(2),da(t.description),Ur(2),ha(" ",t.details," ")}}let xV=(()=>{class t{constructor(t){this.dialogRef=t,this._results=[{value:DI.MUSTMOVE,label:HI(DI.MUSTMOVE),description:"correct, huge EV diff",details:"EV loss = 0, EV diff > 5% of the pot"},{value:DI.CORRECT,label:HI(DI.CORRECT),description:"correct, the highest EV action",details:"EV loss = 0"},{value:DI.INACCURACY,label:HI(DI.INACCURACY),description:"incorrect, small EV loss",details:"EV loss <= 1.5% of the pot"},{value:DI.MISTAKE,label:HI(DI.MISTAKE),description:"incorrect, considerable EV loss",details:"EV loss <= 3% of the pot"},{value:DI.BLUNDER,label:HI(DI.BLUNDER),description:"incorrect, huge EV loss",details:"EV loss > 3% of the pot"}]}get results(){return this._results}getResultClass(t){return t.value.toLowerCase()}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(xs(NM))},t.\u0275cmp=Nt({type:t,selectors:[["app-result-info-dialog"]],decls:9,vars:1,consts:[[1,"title"],["mat-dialog-title",""],[1,"confirm-dialog-content","mat-typography"],[1,"results-table"],["class","result",4,"ngFor","ngForOf"],["align","center"],[1,"link",3,"click"],[1,"result"],[1,"header",3,"ngClass"],[1,"label"],[1,"description"],[1,"details"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"h2",1),ua(2,"Results description"),Ss(),Ss(),ks(3,"mat-dialog-content",2),ks(4,"div",3),Cs(5,wV,8,4,"div",4),Ss(),Ss(),ks(6,"mat-dialog-actions",5),ks(7,"a",6),Ds("click",function(){return e.close()}),ua(8,"Close"),Ss(),Ss()),2&t&&(Ur(5),Ps("ngForOf",e.results))},directives:[KM,QM,wd,YM,vd],styles:["[_nghost-%COMP%]{color:var(--text-color)}  .mat-dialog-container{background:#262a2c!important}.results-table[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;gap:.5rem;margin:1rem 0}.results-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;padding:0 .5rem;line-height:1.75rem}.results-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:6rem;font-weight:700}.results-table[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding-left:1.75rem}.mustmove[_ngcontent-%COMP%]{background-color:var(--green-correct-pale-brighter)}.correct[_ngcontent-%COMP%]{background-color:var(--green-correct-pale)}.inaccuracy[_ngcontent-%COMP%]{background-color:var(--yellow-incorrect-pale)}.mistake[_ngcontent-%COMP%]{background-color:var(--orange-incorrect-pale)}.blunder[_ngcontent-%COMP%]{background-color:var(--red-incorrect-pale)}.link[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;font-size:1rem;font-weight:400;padding:1px 1.25rem;cursor:pointer;color:var(--link-color)}.link.disabled[_ngcontent-%COMP%]{cursor:unset;color:#888}.link[_ngcontent-%COMP%]:hover:not(.disabled){padding:0 1.1875rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();function PV(t,e){if(1&t&&(ks(0,"span",22),ua(1),Ss()),2&t){const t=Vs();Ur(1),ha(" (",t.filter,")")}}function OV(t,e){1&t&&(ks(0,"div",24),Ms(1,"i",25),Ss())}function kV(t,e){1&t&&(ks(0,"div",26),Ms(1,"i",27),Ss())}function SV(t,e){if(1&t){const t=Fs();ks(0,"div",23),Ds("click",function(){return Re(t),Vs().sortByBoard()}),Cs(1,OV,2,0,"div",9),Cs(2,kV,2,0,"div",10),ks(3,"div"),ua(4,"Board"),Ss(),Ss()}if(2&t){const t=Vs();Ur(1),Ps("ngIf",t.sortedByBoard&&t.sortedAscending),Ur(1),Ps("ngIf",t.sortedByBoard&&t.sortedDescending)}}function MV(t,e){1&t&&(ks(0,"div",24),Ms(1,"i",25),Ss())}function TV(t,e){1&t&&(ks(0,"div",26),Ms(1,"i",27),Ss())}function EV(t,e){1&t&&(ks(0,"div",24),Ms(1,"i",25),Ss())}function RV(t,e){1&t&&(ks(0,"div",26),Ms(1,"i",27),Ss())}function FV(t,e){1&t&&(ks(0,"div",24),Ms(1,"i",25),Ss())}function IV(t,e){1&t&&(ks(0,"div",26),Ms(1,"i",27),Ss())}function AV(t,e){if(1&t){const t=Fs();ks(0,"div",34),ks(1,"app-cards",35),Ds("click",function(){Re(t);const e=Vs().$implicit;return Vs().openRange(e)}),Ss(),Ss()}if(2&t){const t=Vs().$implicit,e=Vs();Ur(1),Ps("cards",t.board)("matTooltip",e.getBoardTooltip(t))}}function DV(t,e){1&t&&(ks(0,"span"),Ms(1,"i",36),Ss())}function LV(t,e){1&t&&(ks(0,"span"),Ms(1,"i",37),Ss())}function BV(t,e){if(1&t&&(Ts(0),ks(1,"div",48),ua(2),Vl(3,"percent"),Ss(),ks(4,"div",49),ua(5),Vl(6,"number"),Ss(),Es()),2&t){const t=e.ngIf,n=Vs(4);Ur(2),da(n.isDefined(t.overallFreq)?$l(3,2,t.overallFreq,"1.0-0"):"n/a"),Ur(3),da(n.isDefined(t.ev)?$l(6,5,t.ev,"1.2-2"):"n/a")}}function NV(t,e){1&t&&(Ts(0),Ms(1,"div",48),Ms(2,"div",49),Es())}function jV(t,e){if(1&t&&(ks(0,"div",11),ks(1,"div",46),ua(2),Ss(),ks(3,"div",47),Cs(4,BV,7,8,"ng-container",21),Cs(5,NV,3,0,"ng-container",21),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs(2).$implicit,i=Vs();Ur(2),da(i.getFormattedAction(t)),Ur(2),Ps("ngIf",i.getActionFrequency(n,t)),Ur(1),Ps("ngIf",!i.getActionFrequency(n,t))}}function VV(t,e){if(1&t){const t=Fs();ks(0,"div",50),ks(1,"app-strategy-chart",51),Ds("openRange",function(){Re(t);const e=Vs(2).$implicit;return Vs().openRange(e)})("openRangeForBucket",function(){Re(t);const e=Vs(2).$implicit;return Vs().openRangeForBucket(e)}),Ss(),Ss()}if(2&t){const t=Vs(2).$implicit,e=Vs();Js("flop",e.isFlop(t))("turn",e.isTurn(t)),Ur(1),Ps("currentTree",e.tree)("isPostFlop",e.isPostFlop)("hasPrevBet",e.hasPrevBet)("isRFI",!!e.rfiLabel)("currentPosition",e.position)("actions",e.actions)("rangeFrequencies",t.rangeValues)("bucketGroup",t.bucket)("hideLegend",!0)("compact",!0)("showOpenRangeIcons",e.canOpenRange)}}function HV(t,e){if(1&t&&(ks(0,"div",38),ks(1,"div",39),ks(2,"div",40),ks(3,"div",41),ua(4,"EV Diff"),Ss(),ks(5,"div",42),ua(6),Vl(7,"number"),Ss(),Ss(),ks(8,"div",43),Cs(9,jV,6,3,"div",44),Ss(),Ss(),Cs(10,VV,2,15,"div",45),Ss()),2&t){const t=Vs().$implicit,e=Vs();Ur(2),Js("with-board",e.showBoard),Ur(4),da(e.isDefined(t.evDiff)?$l(7,5,t.evDiff,"1.2-2"):"n/a"),Ur(3),Ps("ngForOf",e.actionsWithDetailsForResult(t)),Ur(1),Ps("ngIf",t.rangeValues&&t.bucket)}}function $V(t,e){if(1&t){const t=Fs();ks(0,"div",28),ks(1,"div",29),Ds("click",function(){Re(t);const n=e.index;return Vs().showDetails(n)}),ks(2,"div",6),Cs(3,AV,2,2,"div",30),ks(4,"div",31),ks(5,"app-cards",32),Ds("click",function(n){Re(t);const i=e.$implicit;return Vs().copyToClipboard(i.hand,n)}),Ss(),Ss(),ks(6,"div",11),ua(7),Ss(),ks(8,"div",13),ua(9),Ss(),Ss(),ks(10,"div",16),Cs(11,DV,2,0,"span",21),Cs(12,LV,2,0,"span",21),Ss(),Ss(),Cs(13,HV,11,8,"div",33),Ss()}if(2&t){const t=e.$implicit,n=e.index,i=Vs();Ur(1),Ps("ngClass",i.getResultClass(t)),Ur(2),Ps("ngIf",i.showBoard),Ur(2),Ps("cards",t.hand)("copyOnClick",!0),Ur(2),da(i.getFormattedAction(t.action)),Ur(2),da(i.getResultLabel(t)),Ur(2),Ps("ngIf",i.hasDetailsShown(n)),Ur(1),Ps("ngIf",!i.hasDetailsShown(n)),Ur(1),Ps("ngIf",i.hasDetailsShown(n))}}function zV(t,e){if(1&t&&(ks(0,"span"),ua(1),Ss()),2&t){const t=Vs();Ur(1),ha(" / ",t.maxHands,"")}}function UV(t,e){if(1&t){const t=Fs();ks(0,"div"),ks(1,"a",52),Ds("click",function(){return Re(t),Vs().retryMistakes()}),ua(2," Retry mistakes "),Ss(),Ss()}}var qV=function(t){return t[t.Sequence=0]="Sequence",t[t.Board=1]="Board",t[t.Action=2]="Action",t[t.Result=3]="Result",t}({});let WV=(()=>{class t{constructor(t,e,n,i){this.dialog=t,this.clipboard=e,this.snackBar=n,this.percentPipe=i,this.retry=new ql,this.sortDirection=KR.Desc,this.currentSorting=qV.Sequence}ngOnChanges(t){t.results&&(this.showDetailsFor=0)}get canOpenRange(){return!!this.tree}get positionLabel(){var t,e;return this.position===(null===(e=null===(t=this.tree)||void 0===t?void 0:t.setup)||void 0===e?void 0:e.replaceWithStraddle)?q_(!1):this.position}get sortedActions(){return this.actions.sort(uF)}actionsWithDetailsForResult(t){return this.showBoard?this.actions.filter(e=>t.frequencies.some(t=>oF(t.action,e))):this.actions}get totalHands(){return this.results.length}get totalCorrect(){return this.results.filter(t=>t.isCorrect).length}get totalEvLoss(){return this.results.filter(t=>!t.isCorrect).map(t=>t.evLoss).filter(t=>null!=t&&!isNaN(t)).reduce((t,e)=>t+e,0)}get avgEvLoss(){const t=this.results.filter(t=>null!=t.evLoss&&!isNaN(t.evLoss)).length;return t>0?this.totalEvLoss/t:0}get accuracy(){return this.totalHands>0?this.totalCorrect/this.totalHands:0}get sortedResults(){const t=this.sortDirection===KR.Desc?1:-1,e=t=>(e,n)=>{const i=LI.indexOf(e.result),r=LI.indexOf(n.result),o=isNaN(e.evDiff)?0:e.evDiff,s=isNaN(n.evDiff)?0:n.evDiff;return i===r?t*(o-s):t*(r-i)};return this.currentSorting===qV.Sequence?this.sortDirection===KR.Desc?this.results:[...this.results].reverse():this.currentSorting===qV.Board?[...this.results].sort((n,i)=>{const r=t*Object(yR.sortCards)(n.board,i.board);return 0===r?e(1)(n,i):r}):this.currentSorting===qV.Result?[...this.results].sort(e(t)):this.currentSorting===qV.Action?[...this.results].sort((n,i)=>{const r=t*uF(n.action,i.action);return 0===r?e(1)(n,i):r}):void 0}get hasCustomSettings(){return!((t=this.settings).minFrequency===wA.minFrequency&&t.minWeight===wA.minWeight&&t.selectBalanced===wA.selectBalanced&&t.evDiff===wA.evDiff&&(!t.evSpread||t.evSpread.min===wA.evSpread.min&&t.evSpread.max===wA.evSpread.max));var t}sortBySequence(){this.sortedBySequence?this.sortDirection=this.sortDirection===KR.Asc?KR.Desc:KR.Asc:(this.currentSorting=qV.Sequence,this.sortDirection=KR.Desc)}sortByBoard(){this.sortedByBoard?this.sortDirection=this.sortDirection===KR.Asc?KR.Desc:KR.Asc:(this.currentSorting=qV.Board,this.sortDirection=KR.Desc)}sortByAction(){this.sortedByAction?this.sortDirection=this.sortDirection===KR.Asc?KR.Desc:KR.Asc:(this.currentSorting=qV.Action,this.sortDirection=KR.Desc)}sortByResult(){this.sortedByResult?this.sortDirection=this.sortDirection===KR.Asc?KR.Desc:KR.Asc:(this.currentSorting=qV.Result,this.sortDirection=KR.Desc)}get sortedBySequence(){return this.currentSorting===qV.Sequence}get sortedByBoard(){return this.currentSorting===qV.Board}get sortedByAction(){return this.currentSorting===qV.Action}get sortedByResult(){return this.currentSorting===qV.Result}get sortedAscending(){return this.sortDirection===KR.Asc}get sortedDescending(){return this.sortDirection===KR.Desc}hasDetails(t){return!!t.rangeValues&&!!t.bucket}showDetails(t){this.showDetailsFor=this.showDetailsFor===t?null:t}hasDetailsShown(t){return this.showDetailsFor===t}sortingUpdated(){this.showDetailsFor=null}getBoardTooltip(t){return[...t.rangeValues].sort((t,e)=>uF(t.action,e.action)).map(t=>`${this.getFormattedAction(t.action)} ${this.percentPipe.transform(t.overallFreq,"1.0-1")}`).join(" | ")}getActionFrequency(t,e){return t.frequencies.find(t=>oF(t.action,e))}isDefined(t){return null!=t&&!isNaN(t)&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY}isFlop(t){var e;return this.showBoard&&3===(null===(e=t.board)||void 0===e?void 0:e.length)}isTurn(t){var e;return this.showBoard&&4===(null===(e=t.board)||void 0===e?void 0:e.length)}copyToClipboard(t,e){e.preventDefault(),e.stopImmediatePropagation();const n=t.map(yR.cardToString).join("");this.clipboard.copy(n),this.snackBar.open(`Hand '${n}' copied to clipboard`,"Ok",{duration:3e3})}retryMistakes(){this.allowRetry&&this.retry.emit()}getFormattedAction(t){var e,n;if(t){const i=Object.assign(Object.assign({},t),{rfiLabel:this.rfiLabel}),r=J_(i,null===(e=this.tree)||void 0===e?void 0:e.raiseSizeMapping);return sF(r,r.hasPrevBet||this.hasPrevBet,!this.isPostFlop,r.rfiLabel,null===(n=this.tree)||void 0===n?void 0:n.fixedRaiseSize)}return null}isCorrect(t){return jI(t.result)}isActionCorrect(t){return t.overallFreq>0}getResultLabel(t){return HI(t.result)}getResultClass(t){return t.result.toLowerCase()}showResultInfo(){this.dialog.open(xV)}openRangeForBucket(t){this.openRange(t,this.isPostFlop?t.bucket.syntax:t.bucket.key)}openRange(t,e){var n,i,r;if(this.canOpenRange){const o=["type="+(this.isPostFlop?"postflop":"preflop"),"tree="+this.tree.key];if(this.isPostFlop){const e=null===(n=t.board)||void 0===n?void 0:n.slice(0,3),s=(null===(i=t.board)||void 0===i?void 0:i.length)>3?t.board[3]:null,a=(null===(r=t.board)||void 0===r?void 0:r.length)>4?t.board[4]:null;o.push("flop="+Object(yR.cardsToString)(e,!1)),s&&(o.push("turn="+Object(yR.cardToString)(s)),a&&o.push("river="+Object(yR.cardToString)(a)))}this.node&&o.push("node="+this.node),(null==e?void 0:e.length)>0&&o.push(`filter=(${e})`),o.push("loadRange=true");const s=`${window.location.origin}/?${o.join("&")}`;window.open(s)}}}return t.\u0275fac=function(e){return new(e||t)(xs(qM),xs(fj),xs(oA),xs(Hd))},t.\u0275cmp=Nt({type:t,selectors:[["app-training-summary"]],inputs:{tree:"tree",node:"node",actions:"actions",hasPrevBet:"hasPrevBet",position:"position",filter:"filter",maxHands:"maxHands",isPostFlop:"isPostFlop",showBoard:"showBoard",rfiLabel:"rfiLabel",results:"results",settings:"settings",allowRetry:"allowRetry"},outputs:{retry:"retry"},features:[ae],decls:51,vars:25,consts:[[1,"training-summary"],[1,"header"],[1,"top-row"],[1,"position"],["class","filter",4,"ngIf"],[1,"row"],[1,"main-info"],["class","board with-sort-icon",3,"click",4,"ngIf"],[1,"hand","with-sort-icon",3,"click"],["class","sort-icon up",4,"ngIf"],["class","sort-icon down",4,"ngIf"],[1,"action"],[1,"with-sort-icon",3,"click"],[1,"result"],[1,"icon",3,"click"],[1,"fas","fa-info-circle"],[1,"expand-collapse"],[1,"rows"],["rows",""],["class","row-container",4,"ngFor","ngForOf"],[1,"footer"],[4,"ngIf"],[1,"filter"],[1,"board","with-sort-icon",3,"click"],[1,"sort-icon","up"],[1,"fas","fa-sort-up"],[1,"sort-icon","down"],[1,"fas","fa-sort-down"],[1,"row-container"],[1,"row",3,"ngClass","click"],["class","board",4,"ngIf"],[1,"hand"],[3,"cards","copyOnClick","click"],["class","expand-panel",4,"ngIf"],[1,"board"],["matTooltipPosition","right","matTooltipClass","large-tooltip",3,"cards","matTooltip","click"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],[1,"expand-panel"],[1,"details"],[1,"ev-diff"],[1,"ev-diff-label"],[1,"ev-diff-value"],[1,"action-summary"],["class","action",4,"ngFor","ngForOf"],["class","chart",3,"flop","turn",4,"ngIf"],[1,"action-label"],[1,"action-values"],[1,"action-percent"],[1,"action-ev"],[1,"chart"],[3,"currentTree","isPostFlop","hasPrevBet","isRFI","currentPosition","actions","rangeFrequencies","bucketGroup","hideLegend","compact","showOpenRangeIcons","openRange","openRangeForBucket"],[1,"link",3,"click"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"div",1),ks(2,"div",2),ks(3,"div",3),ks(4,"span"),ua(5),Ss(),Cs(6,PV,2,1,"span",4),Ss(),Ss(),ks(7,"div",5),ks(8,"div",6),Cs(9,SV,5,2,"div",7),ks(10,"div",8),Ds("click",function(){return e.sortBySequence()}),Cs(11,MV,2,0,"div",9),Cs(12,TV,2,0,"div",10),ks(13,"div"),ua(14,"Hand"),Ss(),Ss(),ks(15,"div",11),ks(16,"div",12),Ds("click",function(){return e.sortByAction()}),Cs(17,EV,2,0,"div",9),Cs(18,RV,2,0,"div",10),ks(19,"div"),ua(20,"Action"),Ss(),Ss(),Ss(),ks(21,"div",13),ks(22,"div",12),Ds("click",function(){return e.sortByResult()}),Cs(23,FV,2,0,"div",9),Cs(24,IV,2,0,"div",10),ks(25,"div"),ua(26,"Result"),Ss(),Ss(),ks(27,"div",14),Ds("click",function(){return e.showResultInfo()}),Ms(28,"i",15),Ss(),Ss(),Ss(),Ms(29,"div",16),Ss(),Ss(),ks(30,"div",17,18),Cs(32,$V,14,9,"div",19),Ss(),ks(33,"div",20),ks(34,"div"),ks(35,"span"),ua(36),Ss(),Cs(37,zV,2,1,"span",21),Ss(),ks(38,"div"),ks(39,"span"),ua(40),Vl(41,"percent"),Ss(),Ss(),ks(42,"div"),ks(43,"span"),ua(44),Vl(45,"number"),Ss(),Ss(),ks(46,"div"),ks(47,"span"),ua(48),Vl(49,"number"),Ss(),Ss(),Cs(50,UV,3,0,"div",21),Ss(),Ss()),2&t&&(Ur(5),da(e.positionLabel),Ur(1),Ps("ngIf",(null==e.filter?null:e.filter.length)>0),Ur(3),Ps("ngIf",e.showBoard),Ur(2),Ps("ngIf",e.sortedBySequence&&e.sortedAscending),Ur(1),Ps("ngIf",e.sortedBySequence&&e.sortedDescending),Ur(5),Ps("ngIf",e.sortedByAction&&e.sortedAscending),Ur(1),Ps("ngIf",e.sortedByAction&&e.sortedDescending),Ur(5),Ps("ngIf",e.sortedByResult&&e.sortedAscending),Ur(1),Ps("ngIf",e.sortedByResult&&e.sortedDescending),Ur(8),Ps("ngForOf",e.sortedResults),Ur(4),ha("Hands: ",e.totalHands,""),Ur(1),Ps("ngIf",e.maxHands>0),Ur(3),ha("Acc: ",$l(41,16,e.accuracy,"1.0-0"),""),Ur(4),ha("EV Loss: ",$l(45,19,e.totalEvLoss,"1.0-2"),""),Ur(4),ha("Avg. EV Loss: ",$l(49,22,e.avgEvLoss,"1.0-2"),""),Ur(2),Ps("ngIf",e.totalCorrect<e.totalHands&&e.allowRetry))},styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:120px}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}.training-summary[_ngcontent-%COMP%]{color:var(--text-color);display:inline-block;height:calc(100% - 2rem - 2px);margin:0;padding:1rem;width:calc(100% - 2rem - 2px)}.training-summary[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{margin-bottom:.625rem;height:3.125rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:.3125rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:500;margin-bottom:.625rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{font-weight:400}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;height:2rem;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;border-bottom:1px solid rgba(0,0,0,.3);background-color:var(--highlight-color);color:#fff}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row.expand-collapse[_ngcontent-%COMP%]{width:1.875rem;margin-left:auto;color:var(--fa-icon-color)}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding-left:.25rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.board[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{width:7rem;margin-right:1rem;justify-content:flex-start}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{display:flex;align-items:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.action[_ngcontent-%COMP%]{width:6.25rem;margin:0 .625rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.ev-diff[_ngcontent-%COMP%]{width:4.75rem;display:flex;align-items:center;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]{width:100%;padding-right:30px;display:flex;flex-direction:row;align-items:center;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:.5rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;flex-grow:1}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]:not(.hideCollapse){padding-right:1.875rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   .action-percent[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.3)}.training-summary[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-evenly;margin-top:.3125rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;height:calc(100% - 6rem);overflow-y:auto;overflow-x:hidden}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;padding:.15rem 0;border-bottom:1px solid var(--highlight-color);color:#fff;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.mustmove[_ngcontent-%COMP%]{background-color:var(--green-correct-pale-brighter)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.correct[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.freq_correct[_ngcontent-%COMP%]{background-color:var(--green-correct-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.inaccuracy[_ngcontent-%COMP%]{background-color:var(--yellow-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.mistake[_ngcontent-%COMP%]{background-color:var(--orange-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.blunder[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row.freq_mistake[_ngcontent-%COMP%]{background-color:var(--red-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding-left:.25rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{line-height:2rem;text-align:center}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{width:7rem;margin-right:1rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.board[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;width:7rem;margin-right:1rem;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.action[_ngcontent-%COMP%]{width:6.25rem;margin:0 .625rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.ev-diff[_ngcontent-%COMP%]{width:4.75rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]{width:100%}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]{height:100%;line-height:2rem;display:flex;align-items:center;flex-grow:1;justify-content:space-between}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   .action-percent[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.3)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   .action-ev.correct[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]   .action-percent.correct[_ngcontent-%COMP%]{background-color:var(--highlight-color)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .expand-collapse[_ngcontent-%COMP%]{width:1.875rem;color:var(--fa-icon-color)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .expand-collapse[_ngcontent-%COMP%], .with-sort-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer}.with-sort-icon[_ngcontent-%COMP%]{flex-direction:row;gap:.25rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:1.25rem;min-width:1.25rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon.up[_ngcontent-%COMP%]{padding-top:.65rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon.down[_ngcontent-%COMP%]{margin-top:-.5rem}.expand-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:.5rem;background-color:#262a2c}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;padding:0 1rem;margin-top:.5rem;line-height:1.5rem}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .ev-diff[_ngcontent-%COMP%]{width:6.25rem;text-align:center}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .ev-diff[_ngcontent-%COMP%]   .ev-diff-label[_ngcontent-%COMP%]{border-bottom:1px solid #fff}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .action-summary[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:2rem;width:100%}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .action-summary[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:6.25rem}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .action-summary[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .action-label[_ngcontent-%COMP%]{text-align:center;border-bottom:1px solid #fff}.expand-panel[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .action-summary[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .action-values[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.expand-panel[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{padding:.625rem;display:flex;flex-direction:row;justify-content:flex-start}.expand-panel[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   app-strategy-chart[_ngcontent-%COMP%]{width:calc(100% - 2rem)}.expand-panel[_ngcontent-%COMP%]   .chart.flop[_ngcontent-%COMP%]{margin-left:1.875rem}.expand-panel[_ngcontent-%COMP%]   .chart.turn[_ngcontent-%COMP%]{margin-left:1.25rem}.link[_ngcontent-%COMP%]{margin-left:5px;padding:1px 10px;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{padding:0 9px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})(),GV=(()=>{class t{constructor(t,e,n){this.store=t,this.trainingService=e,this.dialog=n}ngOnInit(){this._settings=dy(this.store.pipe(Yb(Xv),k(t=>{var e;return Object.assign(Object.assign(Object.assign({},wA),t),{evSpread:null===(e=this.settings)||void 0===e?void 0:e.evSpread})})))}get results(){return this.trainingService.results}get actionsForSummary(){return this.trainingService.actionsForSummary}get nodePath(){return""}get position(){return"Hero"}get filter(){return this.trainingService.filter}get isPostFlop(){return this.trainingService.isPostFlop}get settings(){return this._settings}get isRetryingMistakes(){return this.trainingService.isRetryingMistakes}retryMistakes(){this.trainingService.retryMistakes()}}return t.\u0275fac=function(e){return new(e||t)(xs(Kb),xs(OA),xs(qM))},t.\u0275cmp=Nt({type:t,selectors:[["app-custom-sim-training"]],decls:2,vars:10,consts:[[1,"custom-sim-training-container"],[3,"node","actions","hasPrevBet","results","position","filter","isPostFlop","showBoard","settings","allowRetry","retry"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"app-training-summary",1),Ds("retry",function(){return e.retryMistakes()}),Ss(),Ss()),2&t&&(Ur(1),Ps("node",e.nodePath)("actions",e.actionsForSummary)("hasPrevBet",!1)("results",e.results)("position",e.position)("filter",e.filter)("isPostFlop",e.isPostFlop)("showBoard",!1)("settings",e.settings)("allowRetry",!e.isRetryingMistakes))},directives:[WV],styles:[".custom-sim-training-container[_ngcontent-%COMP%]{height:100%}"]}),t})();const KV=["range"],QV=["tabs"],YV=["nodeSelector"],ZV=["treeSelector"];function JV(t,e){if(1&t){const t=Fs();ks(0,"app-node-selector",16,17),Ds("nodeSelected",function(e){return Re(t),Vs().updateSelectedNode(e)})("flopSelectionAborted",function(){return Re(t),Vs().expandTreeSelection()}),Ss()}2&t&&Ps("activeTab",Vs().activeTab)}function XV(t,e){if(1&t){const t=Fs();ks(0,"app-custom-sim-controls",18,19),Ds("startTraining",function(){return Re(t),Vs().trainFilterOrSelectionForCustomSim()})("exitTraining",function(){return Re(t),Vs().switchToRangeView()}),Ss()}2&t&&Ps("activeTab",Vs().activeTab)}function tH(t,e){if(1&t&&Ms(0,"mat-tab",25),2&t){const t=Vs(2);Ps("label","Training")("disabled",t.disableCustomSimTrainingTab)}}function eH(t,e){if(1&t){const t=Fs();ks(0,"mat-tab-group",20,21),Ds("selectedTabChange",function(e){return Re(t),Vs().onTabChanged(e)}),Ms(2,"mat-tab",22),Ms(3,"mat-tab",23),Cs(4,tH,1,2,"mat-tab",24),Ss()}if(2&t){const t=Vs();Ps("selectedIndex",t.selectedIndex),Ur(3),Ps("label",t.isPostFlop?"Strength Buckets":"Categories"),Ur(1),Ps("ngIf",t.showCustomSimTrainingTab)}}function nH(t,e){if(1&t){const t=Fs();ks(0,"div",26),Ds("click",function(){return Re(t),Vs().createOrDeleteFavorite()}),Vl(1,"async"),Ms(2,"i",27),Ms(3,"i",28),Ss()}2&t&&Js("is-favorite",Hl(1,2,Vs().isFavorite$))}function iH(t,e){if(1&t){const t=Fs();ks(0,"div",29),Ds("click",function(){return Re(t),Vs().openSettings()}),Ms(1,"i",30),Ss()}}function rH(t,e){if(1&t){const t=Fs();ks(0,"div",31),ks(1,"app-range-overview",32,33),Ds("isReady",function(e){return Re(t),Vs().updateRangeIsReady(e)}),Ss(),Ss()}if(2&t){const t=Vs();Js("hide",0!==t.selectedIndex),Ur(1),Ps("board",t.currentBoard)("updateUrlOnFilterChange",!t.hasCustomTabSelected)("initialFilter",t.initialFilter)("isRFI",t.isRFI)("hasStraddle",t.hasStraddle)("currentNode",t.currentNode)("currentNodeId",t.currentNodeId)}}function oH(t,e){if(1&t){const t=Fs();ks(0,"div",31),ks(1,"app-bucket-chart",34),Ds("trainSelection",function(e){return Re(t),Vs().trainBucketSelection(e)})("trainRandomBoardsForSelection",function(e){return Re(t),Vs().trainRandomBoardsForBucketSelection(e)})("showRangeForSelection",function(e){return Re(t),Vs().showRangeForBucketSelection(e)})("isReady",function(e){return Re(t),Vs().updateChartIsReady(e)}),Ss(),Ss()}if(2&t){const t=Vs();Js("hide",1!==t.selectedIndex),Ur(1),Ps("disableTrainRandomBoards",t.hasCustomTabSelected)("board",t.currentBoard)("isRFI",t.isRFI)("currentPosition",t.currentPosition)}}function sH(t,e){1&t&&(ks(0,"div",31),Ms(1,"app-custom-sim-training"),Ss()),2&t&&Js("hide",2!==Vs().selectedIndex)}let aH=(()=>{class t{constructor(t,e,n,i,r,o,s,a){this.route=t,this.store=e,this.treeService=n,this.rangeService=i,this.feature=r,this.dialog=o,this.customSimService=s,this.customTrainingService=a,this.activeTab="range",this._selectedIndex=this.isFiveCard?1:0,this.autoSelectTab=!0,this.rangeIsReady=!1,this.chartIsReady=!1,this._hideTable=!1}ngOnInit(){var t;return $m(this,void 0,void 0,function*(){this.user$=this.store.pipe(Yb(Ky));const e=this.route.snapshot.queryParams;e.filter&&this.store.dispatch(wy({filter:e.filter})),e.type&&e.tree?e.type===X_.preflop?(this.unsubscribe(),this.subscription=this.store.pipe(Yb(my),kh(t=>t.length>0),k(t=>t||[]),k(t=>cy(cy(t.map(t=>t.profiles)).map(t=>t.trees))),k(t=>t.find(t=>t.key===e.tree))).subscribe(t=>$m(this,void 0,void 0,function*(){t&&!t.isLocked?this.store.dispatch(B_({key:t.key})):yield this.loadDefaultTree()}))):(this.unsubscribe(),this.subscription=this.store.pipe(Yb(by),kh(t=>t.length>0),k(t=>t||[]),k(t=>cy(t.map(t=>t.trees))),k(t=>t.find(t=>t.key===e.tree))).subscribe(t=>$m(this,void 0,void 0,function*(){if(t&&!t.isLocked){const{flop:n,turn:i,river:r,node:o}=e;this.store.dispatch(V_({tree:t,flop:n,turn:i,river:r,transition:r?o:null}))}else yield this.loadDefaultTree()}))):yield this.loadDefaultTree(),e.type&&e.tree&&this.treeService.goToNode(null!==(t=e.node)&&void 0!==t?t:"",e.flop,e.turn,e.river)})}ngOnDestroy(){this.unsubscribe()}get hasCustomTabSelected(){var t;return null===(t=this.treeSelector)||void 0===t?void 0:t.hasCustomSelected}get showCustomSimTrainingTab(){return this.hasCustomTabSelected&&this.customTrainingService.isReady}get disableCustomSimTrainingTab(){return this.showCustomSimTrainingTab&&this.customSimService.currentSim.disableTraining}get showSettingsIcon(){return"range"===this.activeTab||this.hasCustomTabSelected&&"training"===this.activeTab}get showFavoritesIcon(){return this.feature.isAvailable(uy.Favorites)&&!this.hasCustomTabSelected}openSettings(){"range"===this.activeTab?this.rangeOverview.openSettings():"training"===this.activeTab&&this.customTrainingService.openSettings()}createOrDeleteFavorite(){var t,e;const n=(null===(t=this.route.snapshot.url)||void 0===t?void 0:t.length)>0?this.route.snapshot.url[0].path:"",i=$I(this.route.snapshot.queryParams,null===(e=this.rangeOverview)||void 0===e?void 0:e.settings);if(dy(this.isFavorite$)){const t=dy(this.store.pipe(Yb(rv(n,i))));this.store.dispatch(Jy({key:t}))}else this.dialog.open(II,{data:{path:n,queryParams:i}})}get isFavorite$(){return hp([this.route.queryParams,this.route.url]).pipe(Rp(([t,e])=>{var n;const i=(null==e?void 0:e.length)>0?e[0].path:"",r=$I(t,null===(n=this.rangeOverview)||void 0===n?void 0:n.settings);return this.store.pipe(Yb(ov(i,r)))}))}selectModule(t){switch(t){case XA.preflop:this.treeSelector.selectPreflop();break;case XA.postflop:this.treeSelector.selectPostflop();break;case XA.custom:this._selectedIndex=0,this.treeSelector.selectCustom()}}expandTreeSelection(){this.treeSelector.expandTreeSelection()}switchToRangeView(){this._selectedIndex=0}updateRangeIsReady(t){this.rangeIsReady=t,this.updateTab()}updateChartIsReady(t){this.chartIsReady=t,this.updateTab()}updateTab(){if(this.hasCustomTabSelected)this._selectedIndex=0;else{if(!this.rangeIsReady&&!this.chartIsReady)return this._selectedIndex=this.isFiveCard?1:0,void(this.autoSelectTab=!0);this.autoSelectTab&&(this.rangeIsReady?(this.autoSelectTab=!1,this._selectedIndex=0):this.chartIsReady&&(this.autoSelectTab=!1,this._selectedIndex=1)),this.scrollToBottom()}}onTabChanged(t){switch(this._selectedIndex=t.index,t.index){case 2:this.activeTab="training",this.customTrainingService.inProgress||this.customTrainingService.next();break;case 1:this.activeTab="chart";break;case 0:default:this.activeTab="range"}this.scrollToBottom()}scrollToBottom(){window.scrollTo(0,document.body.scrollHeight)}get hideTable(){return this._hideTable}get selectedIndex(){return this._selectedIndex}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}get isFiveCard(){return!1}get isPostFlop(){const t=dy(this.store.pipe(Yb(yy)));return t&&t.type===X_.postflop}get currentNode(){return this._currentNode}get currentNodeId(){return this._currentNodeId}get currentBoard(){var t,e;return this.hasCustomTabSelected?null===(t=this.customSimService.currentSim)||void 0===t?void 0:t.board:null===(e=this.nodeSelector)||void 0===e?void 0:e.currentBoard}get isRFI(){var t;return null===(t=this.nodeSelector)||void 0===t?void 0:t.isRFI}get currentPosition(){var t;return null===(t=this.nodeSelector)||void 0===t?void 0:t.currentPlayer}get showInfoPanel$(){const t=this.nodeSelector?this.nodeSelector.isLoading$:Ph(!1);return hp([this.rangeService.isLoading$,t,this.store.pipe(Yb(Iy)),this.store.pipe(Yb(yy))]).pipe(k(([t,e,n,i])=>!e&&(!!t||!(!i||!n)&&this.rangeService.hasRange(n))))}toggleMobileInfoFullscreen(){this._hideTable=!this._hideTable}updateSelectedNode(t){const e=hy(t);e!==this._currentNodeId&&this.store.dispatch(bv()),this._currentNodeId=e,this._currentNode=t}showRangeForBucketSelection(t){this.rangeOverview.setFilter(t),this.tabs.selectedIndex=0}trainFilterOrSelectionForCustomSim(){if(0===this.tabs.selectedIndex)this.customTrainingService.updateFilterAndRestart(this.rangeOverview.cardFilter.value),this.tabs.selectedIndex=2;else if(1===this.tabs.selectedIndex){const t=dy(this.store.pipe(Yb(Tv(this.isPostFlop))));this.customTrainingService.updateFilterAndRestart(t),this.tabs.selectedIndex=2}}trainBucketSelection(t){this.hasCustomTabSelected?(this.customTrainingService.updateFilterAndRestart(t),this.tabs.selectedIndex=2):this.nodeSelector.startNodeTraining(t)}trainRandomBoardsForBucketSelection(t){this.nodeSelector.startRandomBoardNodeTraining(t)}loadDefaultTree(){return $m(this,void 0,void 0,function*(){for(;!this.feature.defaultTreeKey;)yield jw(250);this.store.dispatch(B_({key:this.feature.defaultTreeKey}))})}}return t.\u0275fac=function(e){return new(e||t)(xs(rg),xs(Kb),xs(WI),xs(rF),xs(gT),xs(qM),xs(kA),xs(OA))},t.\u0275cmp=Nt({type:t,selectors:[["app-browser"]],viewQuery:function(t,e){if(1&t&&(oc(KV,!0),oc(QV,!0),oc(YV,!0),oc(ZV,!0)),2&t){let t;ic(t=uc())&&(e.rangeOverview=t.first),ic(t=uc())&&(e.tabs=t.first),ic(t=uc())&&(e.nodeSelector=t.first),ic(t=uc())&&(e.treeSelector=t.first)}},decls:23,vars:26,consts:[[3,"selected"],[1,"layout-container"],[1,"table-container"],[1,"tree-selection-container"],["treeSelector",""],["class","app-node-selector-container",3,"activeTab","nodeSelected","flopSelectionAborted",4,"ngIf"],["class","app-custom-sim-controls",3,"activeTab","startTraining","exitTraining",4,"ngIf"],[1,"info-container"],["preserveContent","","animationDuration","0ms","class","no-border-bottom",3,"selectedIndex","selectedTabChange",4,"ngIf"],[1,"icon-bar"],[1,"control","toggle-info-fullscreen",3,"click"],[1,"fas","fa-angle-double-up"],[1,"fas","fa-angle-double-down"],["class","control create-favorite",3,"is-favorite","click",4,"ngIf"],["class","control settings",3,"click",4,"ngIf"],["class","tab-content",3,"hide",4,"ngIf"],[1,"app-node-selector-container",3,"activeTab","nodeSelected","flopSelectionAborted"],["nodeSelector",""],[1,"app-custom-sim-controls",3,"activeTab","startTraining","exitTraining"],["customSimControls",""],["preserveContent","","animationDuration","0ms",1,"no-border-bottom",3,"selectedIndex","selectedTabChange"],["tabs",""],["label","Range"],[3,"label"],[3,"label","disabled",4,"ngIf"],[3,"label","disabled"],[1,"control","create-favorite",3,"click"],[1,"icon","regular","far","fa-star"],[1,"icon","highlight","fas","fa-star"],[1,"control","settings",3,"click"],[1,"fas","fa-cog"],[1,"tab-content"],[3,"board","updateUrlOnFilterChange","initialFilter","isRFI","hasStraddle","currentNode","currentNodeId","isReady"],["range",""],[3,"disableTrainRandomBoards","board","isRFI","currentPosition","trainSelection","trainRandomBoardsForSelection","showRangeForSelection","isReady"]],template:function(t,e){1&t&&(ks(0,"app-status-bar",0),Ds("selected",function(t){return e.selectModule(t)}),Ss(),ks(1,"div",1),ks(2,"div",2),Ms(3,"app-tree-selection",3,4),Cs(5,JV,2,1,"app-node-selector",5),Cs(6,XV,2,1,"app-custom-sim-controls",6),Ss(),ks(7,"div",7),Vl(8,"async"),Cs(9,eH,5,3,"mat-tab-group",8),Vl(10,"async"),ks(11,"div",9),ks(12,"div",10),Ds("click",function(){return e.toggleMobileInfoFullscreen()}),Ms(13,"i",11),Ms(14,"i",12),Ss(),Cs(15,nH,4,4,"div",13),Cs(16,iH,2,0,"div",14),Ss(),Cs(17,rH,3,9,"div",15),Vl(18,"async"),Cs(19,oH,2,6,"div",15),Vl(20,"async"),Cs(21,sH,2,2,"div",15),Vl(22,"async"),Ss(),Ss()),2&t&&(Ur(2),Js("hide",e.hideTable),Ur(3),Ps("ngIf",!e.hasCustomTabSelected),Ur(1),Ps("ngIf",e.hasCustomTabSelected),Ur(1),Js("show",Hl(8,16,e.showInfoPanel$))("fullscreen",e.hideTable),Ur(2),Ps("ngIf",Hl(10,18,e.showInfoPanel$)),Ur(3),Js("is-fullscreen",e.hideTable),Ur(3),Ps("ngIf",e.showFavoritesIcon),Ur(1),Ps("ngIf",e.showSettingsIcon),Ur(1),Ps("ngIf",Hl(18,20,e.showInfoPanel$)),Ur(2),Ps("ngIf",Hl(20,22,e.showInfoPanel$)),Ur(2),Ps("ngIf",Hl(22,24,e.showCustomSimTrainingTab&&e.showInfoPanel$)))},directives:[tD,VL,Pd,aN,pN,KN,BN,Lj,CV,GV],pipes:[Bd],styles:["[_ngcontent-%COMP%]:root{--border-color:hsla(0,0%,100%,0.25098039215686274);--border-style:1px solid var(--border-color);--border-style-bold:2px solid var(--border-color);--border-radius:0;--highlight-color-half:rgba(0,0,0,0.08235294117647059);--highlight-color:rgba(0,0,0,0.18823529411764706);--box-shadow:0 0 0.5rem var(--highlight-color);--link-border-radius:0;--navbar-size:3.5rem}[_nghost-%COMP%]     .mat-tab-label{font-size:1rem;width:8.125rem!important;min-width:8.125rem!important}[_nghost-%COMP%]     .mat-tab-body, [_nghost-%COMP%]     .mat-tab-body .mat-tab-body-content{overflow-y:hidden!important}[_nghost-%COMP%]     .mat-tab-group{overflow:hidden}[_nghost-%COMP%]     div[role=tab]{color:var(--text-color);height:3rem}[_nghost-%COMP%]     div[role=tab].mat-tab-label-active{color:var(--tree-category-color-active)}[_nghost-%COMP%]     div[role=tab].mat-tab-disabled{color:var(--tree-category-color-disabled)}[_nghost-%COMP%]     div[role=tab]:hover:not(.mat-tab-disabled){color:var(--tree-category-color-hover)}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header{border-bottom:none}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-labels{margin-left:50px}.tree-selection-container[_ngcontent-%COMP%]{width:100%;position:absolute;height:7rem}.app-node-selector-container[_ngcontent-%COMP%]{padding-top:3rem;width:100%;height:100%}.app-custom-sim-controls[_ngcontent-%COMP%]{padding-top:6rem;width:100%;height:100%}.tab-content[_ngcontent-%COMP%]{padding-bottom:10px;height:calc(100% - 3.3rem - 10px)}div[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{display:none}.table-container[_ngcontent-%COMP%]{width:35%;flex-shrink:0;padding-top:1rem}.info-container[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;position:relative;overflow:hidden;height:100%}.info-container[_ngcontent-%COMP%]{visibility:hidden;width:65%}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]{position:absolute;top:0;right:1rem;margin:.75rem .5rem .5rem;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1rem;line-height:2rem}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:block;justify-content:center;align-items:center;z-index:14;cursor:pointer;color:var(--scrollbar-color);font-size:1.5rem;height:100%}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite.is-favorite[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.create-favorite.is-favorite[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{display:block;color:var(--favorite-highlight-color)}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen[_ngcontent-%COMP%]{display:none}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen[_ngcontent-%COMP%]   .fa-angle-double-up[_ngcontent-%COMP%]{display:block}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen[_ngcontent-%COMP%]   .fa-angle-double-down[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen.is-fullscreen[_ngcontent-%COMP%]   .fa-angle-double-up[_ngcontent-%COMP%]{display:none}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   div.toggle-info-fullscreen.is-fullscreen[_ngcontent-%COMP%]   .fa-angle-double-down[_ngcontent-%COMP%]{display:block}.info-container[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]{width:100%;height:3.3rem}.info-container[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   .mat-tab-body-wrapper[_ngcontent-%COMP%]{height:calc(100% - 3rem)!important}.info-container.show[_ngcontent-%COMP%]{visibility:visible}app-mobile-warning[_ngcontent-%COMP%]{display:none}"]}),t})(),lH=(()=>{class t{constructor(t,e){this.store=t,this.router=e}canActivate(t,e){return $m(this,void 0,void 0,function*(){if(dy(this.store.pipe(Yb(Wy))))return!0;{const e=Object.assign({redirectTo:t.url.length>0?t.url:void 0},t.queryParams);return this.router.navigate(["/login"],{queryParams:e}),!1}})}}return t.\u0275fac=function(e){return new(e||t)(hi(Kb),hi(wm))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cH=[.85,.86,.87],uH={minFrequency:85,minWeight:.5,evSpread:null,selectBalanced:!0};let dH=(()=>{class t{constructor(t,e,n,i,r){this.treeService=t,this.rangeService=e,this.bucketService=n,this.snackBar=i,this.store=r}get currentSituation(){return XF(this.tree)}get history(){return this.tree.history}get isPostFlop(){return!0}get hands(){return this._hands}get highlightFrom(){var t;return null===(t=this.tree)||void 0===t?void 0:t.startHistoryIndex}initPostflopGame(t,e,n,i,r){return $m(this,void 0,void 0,function*(){this.reset(),this.baseTree=yield this.treeService.loadPostflopTree(t,n,i,r).toPromise(),this.basePath=e,this.store.dispatch(H_({tree:this.baseTree}))})}startGame(t,e){return $m(this,void 0,void 0,function*(){this.resetHands();const{flop:n,turn:i,river:r}=this.baseTree,o=[n,i,r].filter(t=>!!t).join("");if(this.tree=new YF(this.treeService,this.baseTree,this.basePath,n,i,r,this._cachedTrees),yield this.tree.waitUntilLoaded(),this._cachedTrees=this.tree.cachedTrees,this.userPlayer=this.tree.currentPlayer,!this.baseRange){this.baseRange=yield this.loadRangeForSituation(this.currentSituation,this.basePath),this.baseRange.filterItems=this.rangeService.assembleFilterItems(this.baseRange.ranges,this.baseRange.rangeKey);const e=this.getAllClassificationsForFilter(t);if(this.requiresLoadingClassifications(e,o)){yield this.rangeService.loadPostflopClassificationLookup(o);const t=this.rangeService.updatePostflopFilterItems(this.baseRange.filterItems,o);this.baseRange=Object.assign(Object.assign({},this.baseRange),{filterItems:t})}}const{hand:s}=eI(this.isPostFlop,0,this.baseRange.ranges,this.baseRange.adjustEvBy,this.baseRange.filterItems,t,e,null,null,cH);if(s){const t=yield this.getBucketValues(s.hand,this.baseRange.ranges,this.tree.nodePath);return s.bucket=t,this._hands[this.currentSituation.currentPlayer]={hand:s.hand,show:!0},s}return this.snackBar.open("Can not select hand for your current settings!",null,{duration:5e3}),null})}next(t,e,n){return $m(this,void 0,void 0,function*(){const i=yield this.tree.update(t,e.rangeValues,e.bucket,n);if(!i.continue)return i.availableTurns||i.availableRivers?yield this.handleTurnOrRiver(i):{finished:!0};const r=yield this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);let o;if(this._hands[this.currentSituation.currentPlayer])o=yield this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,r.ranges,r.adjustEvBy);else{const t=Object.values(this._hands).flatMap(t=>t.hand),{hand:e}=eI(this.isPostFlop,0,r.ranges,r.adjustEvBy,r.filterItems,"",uH,null,t,cH);o=Object.assign({},e),this._hands[this.currentSituation.currentPlayer]={hand:e.hand,show:!1}}const s=Math.max(...Object.values(o.actionValues).map(t=>t.freq)),a=Object.values(o.actionValues).find(t=>t.freq===s),l=yield this.tree.update(a,o.rangeValues,o.bucket);if(l.continue){const t=yield this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);return{updatedHand:yield this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,t.ranges,t.adjustEvBy)}}return l.availableTurns||l.availableRivers?yield this.handleTurnOrRiver(l):{finished:!0}})}handleTurnOrRiver(t){return $m(this,void 0,void 0,function*(){const e=Object.values(this._hands).flatMap(t=>t.hand);if(t.availableTurns){const n=ZF(t.availableTurns.filter(t=>!e.some(e=>Object(yR.cardIsEqual)(t,e))));yield this.tree.update({type:Q_.turn,card:n})}else{const n=ZF(t.availableRivers.filter(t=>!e.some(e=>Object(yR.cardIsEqual)(t,e))));yield this.tree.update({type:Q_.river,card:n})}if(this.currentSituation.currentPlayer===this.userPlayer){const t=yield this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);return{updatedHand:yield this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,t.ranges,t.adjustEvBy)}}{const t=yield this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);let e;if(this._hands[this.currentSituation.currentPlayer])e=yield this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,t.ranges,t.adjustEvBy);else{const n=Object.values(this._hands).flatMap(t=>t.hand),{hand:i}=eI(this.isPostFlop,0,t.ranges,t.adjustEvBy,t.filterItems,"",uH,null,n,cH);e=Object.assign({},i),this._hands[this.currentSituation.currentPlayer]={hand:i.hand,show:!1}}const n=Math.max(...Object.values(e.actionValues).map(t=>t.freq)),i=Object.values(e.actionValues).find(t=>t.freq===n);yield this.tree.update(i,e.rangeValues,e.bucket)}const n=yield this.loadRangeForSituation(this.currentSituation,this.tree.nodePath);return{updatedHand:yield this.updateHandFromRange(this._hands[this.currentSituation.currentPlayer].hand,n.ranges,n.adjustEvBy)}})}updateHandFromRange(t,e,n){return $m(this,void 0,void 0,function*(){const i=Object(yR.cardsToString)(t,!1),r=Object(yR.cardsToString)(t,!0),o={};for(const t of e){const e=`${t.action.type}${t.action.amount?"_"+t.action.amount:""}`,s=t.items.find(t=>CR(t)===i||CR(t)===r),a=t.action.type===Q_.FOLD;if(s){const i={type:t.action.type,amount:t.action.amount,weight:OR(s),freq:xR(s),ev:vR(PR(s),n,a),variations:SR(s)};o[e]=i}}const s=oI(e),a=yield this.getBucketValues(t,e,this.tree.nodePath);return{hand:t,combo:i,actionValues:o,rangeValues:s,bucket:a}})}reset(){this.baseTree=null,this.baseRange=null,this.tree=null,this.resetHands()}resetHands(){this._hands={}}loadRangeForSituation(t,e=""){return $m(this,void 0,void 0,function*(){const{currentNode:n}=t;if(n&&n.next){let r=n.next;r.find(t=>t.action.type===Q_.CHECK)&&(r=r.filter(t=>t.action.type!==Q_.CALL));const o=[];for(const t of r)o.find(e=>e.rangeId===t.rangeId)||o.push({action:t.action,rangeId:t.rangeId});try{let i;const{currentTree:r,currentPlayer:s,turnStakes:a,flopCards:l,turnCard:c,riverCard:u}=t,{multiplyEVBy:d}=this.tree.details;if(this.isPostFlop){const t=l.map(yR.cardToString).join(""),h=c?Object(yR.cardToString)(c):null,p=u?Object(yR.cardToString)(u):null,{modifyEV:f}=r,g=f?sy(f,t,e):d,m=a?a[s]:null,b=!!h||!!p;i=yield this.rangeService.loadPostflopRanges(s,r.key,e,hy(n),o,{flop:t,turn:h,river:p},{isTurnOrRiver:b,evFactor:g,turnInvest:m})}else i=yield this.rangeService.loadPreflopRanges(s,r.key,e,hy(n),o,{isTurnOrRiver:!1,evFactor:d});const h=this.rangeService.assembleFilterItems(i.ranges);return Object.assign(Object.assign({},i),{filterItems:h})}catch(i){console.error(i)}}})}getBucketValues(t,e,n){return $m(this,void 0,void 0,function*(){const{flop:i,turn:r,river:o}=this.tree,s=[...i,r,o].filter(t=>!!t).map(yR.cardToString).join(""),{bucketGroups:a}=yield this.bucketService.segmentPostflopRange(s,{ranges:e},t,n);return a[0]})}getAllClassificationsForFilter(t){if(!t||0===t.trim().length)return[];try{const e=Object(yR.parseFilterSyntax)(t,!1,[],!0);return Object(yR.getClassificationsForFilter)(e)}catch(e){return[]}}requiresLoadingClassifications(t,e){return t.length>0&&(this.isPostFlop?!this.rangeService.hasPostflopClassifications(t,e):!this.rangeService.hasPreflopClassifications(t))}}return t.\u0275fac=function(e){return new(e||t)(hi(WI),hi(rF),hi(GI),hi(oA),hi(Kb))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hH(t,e){if(1&t&&(ks(0,"div",14),ua(1),Ss()),2&t){const t=Vs(2).$implicit,e=Vs(2);Ur(1),ha(" ",e.getResultLabel(t)," ")}}function pH(t,e){if(1&t){const t=Fs();ks(0,"app-strategy-chart",15),Ds("openRange",function(){Re(t);const e=Vs(2).index;return Vs(2).openRange(e)})("openRangeForBucket",function(){Re(t);const e=Vs(2).index;return Vs(2).openRangeForBucket(e)}),Ss()}if(2&t){const t=Vs(2).$implicit,e=Vs(2);Ps("currentTree",e.tree)("isPostFlop",!0)("isRFI",!0)("currentPosition",t.player)("actions",e.getActions(t))("rangeFrequencies",t.rangeValues)("bucketGroup",t.handBucket)("hideLegend",!0)("compact",!0)("showOpenRangeIcons",!0)}}function fH(t,e){if(1&t){const t=Fs();ks(0,"div",16),ks(1,"div",17),Ds("click",function(){Re(t);const e=Vs(2).index;return Vs(2).openRange(e)}),Ms(2,"i",18),Ss(),Ss()}}function gH(t,e){if(1&t&&(Ts(0),ks(1,"div",8),ks(2,"div",9),ua(3),Ss(),Cs(4,hH,2,1,"div",10),Ss(),ks(5,"div",11),Cs(6,pH,1,10,"app-strategy-chart",12),Cs(7,fH,3,0,"div",13),Ss(),Es()),2&t){const t=Vs().$implicit,e=Vs(2);Ur(1),Ps("ngClass",e.actionClasses(t)),Ur(2),ha(" ",(e.isHero(t)?"Hero":"Villain")+" "+e.getFormattedAction(t.action)," "),Ur(1),Ps("ngIf",e.isHero(t)),Ur(2),Ps("ngIf",t.rangeValues&&e.isHero(t)),Ur(1),Ps("ngIf",!e.isHero(t))}}function mH(t,e){if(1&t&&(ks(0,"div",23),ua(1),Ss()),2&t){const t=Vs(3).$implicit,e=Vs(2);Ur(1),ha(" ",e.getStreetLabel(t)," ")}}function bH(t,e){if(1&t&&Ms(0,"app-cards",24),2&t){const t=Vs(3).$implicit;Ps("cards",Vs(2).getCards(t))("small",!0)("centered",!0)}}function _H(t,e){if(1&t&&(ks(0,"div",20),Cs(1,mH,2,1,"div",21),Cs(2,bH,1,3,"app-cards",22),Ss()),2&t){const t=Vs(4);Js("with-cards",t.showCards),Ur(1),Ps("ngIf",!t.showCards),Ur(1),Ps("ngIf",t.showCards)}}function yH(t,e){if(1&t&&(Ts(0),Cs(1,_H,3,4,"div",19),Es()),2&t){const t=Vs().$implicit,e=Vs(2);Ur(1),Ps("ngIf",e.hasCards(t))}}function vH(t,e){if(1&t&&(ks(0,"div",6),Cs(1,gH,8,5,"ng-container",7),Cs(2,yH,2,1,"ng-container",7),Ss()),2&t){const t=e.$implicit,n=e.index;Js("highlighted",Vs(2).isHighlighted(n)),Ur(1),Ps("ngIf",t.player),Ur(1),Ps("ngIf",!t.player)}}function CH(t,e){if(1&t&&(ks(0,"div",1),ks(1,"div",2),ks(2,"div",3),ua(3,"Action"),Ss(),ks(4,"div",4),ua(5,"Frequencies"),Ss(),Ss(),Cs(6,vH,3,4,"div",5),Ss()),2&t){const t=Vs();Ur(6),Ps("ngForOf",t.fullHistory)}}let wH=(()=>{class t{constructor(){this.showCards=!0,this.highlightFrom=0}ngOnInit(){let t=[...this.history];this.isPostFlop&&!t.some(t=>t.action.type===Q_.flop)&&(t=[{action:{type:Q_.flop}},...this.history]),this._fullHistory=t.filter(t=>t.action.type!==Q_.root)}get fullHistory(){return this._fullHistory}isHero(t){return t.player===this.hero}isHighlighted(t){return t>this.highlightFrom+(this.showCards?1:0)}getResultLabel(t){return HI(t.result)}actionClasses(t){var e;return null===(e=t.result)||void 0===e?void 0:e.toLowerCase()}getActions(t){return t.rangeValues.map(t=>t.action).sort(uF)}getFormattedAction(t){return sF(t,t.hasPrevBet,!this.isPostFlop,null,this.tree.fixedRaiseSize)}getFormattedRangeValues(t){return(null==t?void 0:t.length)>0?t.sort((t,e)=>uF(t.action,e.action)).map(t=>({action:""+this.getFormattedAction(t.action),freq:t.overallFreq})):null}getStreetLabel(t){return tB(t.action.type)}hasCards(t){var e,n;switch(t.action.type){case Q_.flop:return 3===this.board.flop.length&&this.board.flop.every(t=>!!t);case Q_.turn:return!!(null===(e=this.board.turn)||void 0===e?void 0:e.card);case Q_.river:return!!(null===(n=this.board.river)||void 0===n?void 0:n.card)}}getCards(t){var e,n;switch(t.action.type){case Q_.flop:return this.board.flop;case Q_.turn:return[null===(e=this.board.turn)||void 0===e?void 0:e.card];case Q_.river:return[null===(n=this.board.river)||void 0===n?void 0:n.card]}}openRangeForBucket(t){this.openRange(t,this.fullHistory[t].handBucket.syntax)}openRange(t,e){if(this.canOpenRange(t)){const n=this.fullHistory.slice(0,t).map(t=>t.action),i=n.filter(t=>!Y_(t)),{flop:r,turn:o,river:s}=this.board,a=["type=postflop","tree="+this.tree.key,"flop="+Object(yR.cardsToString)(r,!1)];(null==o?void 0:o.card)&&n.some(t=>t.type===Q_.turn)&&(a.push("turn="+Object(yR.cardToString)(o.card)),(null==s?void 0:s.card)&&n.some(t=>t.type===Q_.river)&&a.push("river="+Object(yR.cardToString)(s.card))),i.length>0&&a.push("node="+$F(i)),(null==e?void 0:e.length)>0&&a.push(`filter=(${e})`),a.push("loadRange=true");const l=`${window.location.origin}/?${a.join("&")}`;window.open(l)}}canOpenRange(t){return!Y_(this.fullHistory[t].action)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["app-action-history"]],inputs:{hero:"hero",tree:"tree",board:"board",history:"history",showCards:"showCards",isPostFlop:"isPostFlop",highlightFrom:"highlightFrom"},decls:1,vars:1,consts:[["class","history",4,"ngIf"],[1,"history"],[1,"header"],[1,"action"],[1,"range-frequencies"],["class","history-item",3,"with-border","highlighted",4,"ngFor","ngForOf"],[1,"history-item",3,"with-border"],[4,"ngIf"],[1,"action",3,"ngClass"],[1,"label"],["class","result",4,"ngIf"],[1,"chart"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","bucketGroup","hideLegend","compact","showOpenRangeIcons","openRange","openRangeForBucket",4,"ngIf"],["class","open-range-icons",4,"ngIf"],[1,"result"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","bucketGroup","hideLegend","compact","showOpenRangeIcons","openRange","openRangeForBucket"],[1,"open-range-icons"],["matTooltip","Open range in new tab","matTooltipPosition","below",1,"open-range",3,"click"],[1,"fas","fa-external-link-alt"],["class","street",3,"with-cards",4,"ngIf"],[1,"street"],["class","street-separator",4,"ngIf"],[3,"cards","small","centered",4,"ngIf"],[1,"street-separator"],[3,"cards","small","centered"]],template:function(t,e){1&t&&Cs(0,CH,7,1,"div",0),2&t&&Ps("ngIf",e.fullHistory.length>0)},directives:[Pd,wd,vd,DB,oR,oB],styles:[".history[_ngcontent-%COMP%]{color:var(--text-color);padding:.625rem}.history[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:.3125rem;padding-bottom:.3125rem;border-bottom:.125rem solid #898787}.history[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{width:30%;text-align:center;padding-left:.125rem;margin:auto .5rem}.history[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]{min-width:23.4375rem;width:100%;text-align:center;border-left:1px solid #898787}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;color:#898787;padding-bottom:.25rem;margin-bottom:.25rem;border-bottom:1px solid #898787}.history[_ngcontent-%COMP%]   .history-item.clickable[_ngcontent-%COMP%]{cursor:pointer}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:none}.history[_ngcontent-%COMP%]   .history-item.highlighted[_ngcontent-%COMP%]{color:var(--text-color)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;height:100%;width:30%;padding-left:.125rem;margin:auto .5rem auto 0;line-height:1.5rem;color:#fff}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.mustmove[_ngcontent-%COMP%]{background-color:var(--green-correct-pale-brighter)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.correct[_ngcontent-%COMP%], .history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.freq_correct[_ngcontent-%COMP%]{background-color:var(--green-correct-pale)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.inaccuracy[_ngcontent-%COMP%]{background-color:var(--yellow-incorrect-pale)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.mistake[_ngcontent-%COMP%]{background-color:var(--orange-incorrect-pale)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.blunder[_ngcontent-%COMP%], .history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action.freq_mistake[_ngcontent-%COMP%]{background-color:var(--red-incorrect-pale)}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]{min-width:23.4375rem;display:flex;flex-direction:row}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]   .range-frequency[_ngcontent-%COMP%]{width:7.8125rem}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .range-frequencies[_ngcontent-%COMP%]   .range-frequency[_ngcontent-%COMP%]   .freq[_ngcontent-%COMP%]{color:#a4b4dd}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;margin-top:.3125rem;overflow:hidden;width:calc(100% - 3rem);padding-left:.625rem;border-left:1px solid #898787}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   app-strategy-chart[_ngcontent-%COMP%]{width:100%}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]   .open-range[_ngcontent-%COMP%]{cursor:pointer;color:#a4b4dd}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .street[_ngcontent-%COMP%]{width:100%;text-align:center}.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .street[_ngcontent-%COMP%]   .street-separator[_ngcontent-%COMP%], .history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .street.with-cards[_ngcontent-%COMP%]{margin:.3125rem 0}"]}),t})();function xH(t,e){if(1&t&&(ks(0,"span",22),ua(1),Ss()),2&t){const t=Vs();Ur(1),ha(" (",t.filter,")")}}function PH(t,e){1&t&&(ks(0,"div",23),Ms(1,"i",24),Ss())}function OH(t,e){1&t&&(ks(0,"div",25),Ms(1,"i",26),Ss())}function kH(t,e){1&t&&(ks(0,"div",23),Ms(1,"i",24),Ss())}function SH(t,e){1&t&&(ks(0,"div",25),Ms(1,"i",26),Ss())}function MH(t,e){if(1&t){const t=Fs();ks(0,"app-cards",30),Ds("click",function(e){Re(t);const n=Vs().$implicit;return Vs().copyToClipboard(n.opponentHand,e)}),Ss()}2&t&&Ps("cards",Vs().$implicit.opponentHand)("copyOnClick",!0)}const TH=function(t){return[t]};function EH(t,e){if(1&t&&(ks(0,"div",41),Ms(1,"app-cards",36),Ss()),2&t){const t=Vs().$implicit;Ur(1),Ps("cards",Ll(1,TH,t.card))}}function RH(t,e){if(1&t&&(ks(0,"div",42),ua(1),Ss()),2&t){const t=Vs(),e=t.$implicit,n=t.index,i=Vs().$implicit,r=Vs();Ur(1),ha(" ",r.getFormattedAction(e.action)+(r.hasReaction(n,r.getHistoryItems(i))?"-":"")," ")}}function FH(t,e){if(1&t&&(ks(0,"div",34),Cs(1,EH,2,3,"div",39),Cs(2,RH,2,1,"div",40),Ss()),2&t){const t=e.$implicit;Ur(1),Ps("ngIf",t.card),Ur(1),Ps("ngIf",!t.card)}}function IH(t,e){1&t&&(ks(0,"span"),Ms(1,"i",43),Ss())}function AH(t,e){1&t&&(ks(0,"span"),Ms(1,"i",44),Ss())}function DH(t,e){if(1&t&&(ks(0,"div",45),Ms(1,"app-action-history",46),Ss()),2&t){const t=Vs().$implicit,e=Vs();Ur(1),Ps("hero",e.position)("tree",e.tree)("board",e.getBoard(t))("history",e.getHistoryItems(t))("showCards",!1)("isPostFlop",e.isPostFlop)("highlightFrom",e.highlightFrom)}}function LH(t,e){if(1&t){const t=Fs();ks(0,"div",27),ks(1,"div",28),Ds("click",function(){Re(t);const n=e.index;return Vs().showDetails(n)}),ks(2,"div",29),ks(3,"app-cards",30),Ds("click",function(n){Re(t);const i=e.$implicit;return Vs().copyToClipboard(i.hand,n)}),Ss(),Ss(),ks(4,"div",9),Cs(5,MH,1,2,"app-cards",31),Ss(),ks(6,"div",32),ua(7),Ss(),ks(8,"div",33),ua(9),Vl(10,"number"),Ss(),ks(11,"div",15),ks(12,"div",34),ks(13,"div",35),Ms(14,"app-cards",36),Ss(),Ss(),Cs(15,FH,3,2,"div",37),Ss(),ks(16,"div",16),Cs(17,IH,2,0,"span",21),Cs(18,AH,2,0,"span",21),Ss(),Ss(),Cs(19,DH,2,7,"div",38),Ss()}if(2&t){const t=e.$implicit,n=e.index,i=Vs();Ur(3),Ps("cards",t.hand)("copyOnClick",!0),Ur(2),Ps("ngIf",t.opponentHand),Ur(1),Ps("ngClass",i.getResultClass(t)),Ur(1),da(i.getResultLabel(t)),Ur(2),da($l(10,11,t.evLoss,"1.0-2")),Ur(5),Ps("cards",i.flop),Ur(1),Ps("ngForOf",i.getHistoryItems(t)),Ur(2),Ps("ngIf",i.hasDetailsShown(n)),Ur(1),Ps("ngIf",!i.hasDetailsShown(n)),Ur(1),Ps("ngIf",i.hasDetailsShown(n))}}function BH(t,e){if(1&t&&(ks(0,"span"),ua(1),Ss()),2&t){const t=Vs();Ur(1),pa("\xa0(",t.totalHands," / ",t.maxHands," hands)")}}var NH=function(t){return t[t.Sequence=0]="Sequence",t[t.Result=1]="Result",t[t.EVLoss=2]="EVLoss",t}({});let jH=(()=>{class t{constructor(t,e,n){this.dialog=t,this.clipboard=e,this.snackBar=n,this.sortDirection=KR.Desc,this.currentSorting=NH.Sequence}ngOnChanges(t){t.results&&(this.showDetailsFor=0)}get positionLabel(){var t,e;return this.position===(null===(e=null===(t=this.tree)||void 0===t?void 0:t.setup)||void 0===e?void 0:e.replaceWithStraddle)?q_(!1):this.position}get allDecisions(){var t;return(null===(t=this.results)||void 0===t?void 0:t.flatMap(t=>t.history.slice(this.highlightFrom).filter(t=>t.player===this.position)))||[]}get allDecisionsWithEvLoss(){var t;return(null===(t=this.results)||void 0===t?void 0:t.filter(t=>null!=t.evLoss&&!isNaN(t.evLoss)).flatMap(t=>t.history.slice(this.highlightFrom).filter(t=>t.player===this.position)))||[]}get totalDecisions(){return this.allDecisions.length}get totalDecisionsWithEvLoss(){return this.allDecisionsWithEvLoss.length}get totalCorrect(){return this.allDecisions.filter(t=>!t.isMistake).length}get accuracy(){return this.totalDecisions>0?this.totalCorrect/this.totalDecisions:null}get totalEvLoss(){return this.results?this.results.filter(t=>!t.isCorrect).map(t=>t.evLoss).filter(t=>null!=t&&!isNaN(t)).reduce((t,e)=>t+e,0):0}get avgEvLoss(){return this.totalDecisionsWithEvLoss>0?this.totalEvLoss/this.totalDecisionsWithEvLoss:0}sortBySequence(){this.sortedBySequence?this.sortDirection=this.sortDirection===KR.Asc?KR.Desc:KR.Asc:(this.currentSorting=NH.Sequence,this.sortDirection=KR.Desc)}sortByResult(){this.sortedByResult?this.sortDirection=this.sortDirection===KR.Asc?KR.Desc:KR.Asc:(this.currentSorting=NH.Result,this.sortDirection=KR.Desc)}sortByEVLoss(){this.sortedByEVLoss?this.sortDirection=this.sortDirection===KR.Asc?KR.Desc:KR.Asc:(this.currentSorting=NH.EVLoss,this.sortDirection=KR.Desc)}get sortedBySequence(){return this.currentSorting===NH.Sequence}get sortedByResult(){return this.currentSorting===NH.Result}get sortedByEVLoss(){return this.currentSorting===NH.EVLoss}get sortedAscending(){return this.sortDirection===KR.Asc}get sortedDescending(){return this.sortDirection===KR.Desc}get sortedResults(){const t=this.sortDirection===KR.Desc?1:-1;return this.currentSorting===NH.Sequence?this.sortDirection===KR.Desc?this.results:[...this.results].reverse():this.currentSorting===NH.Result?[...this.results].sort((e,n)=>{const i=LI.indexOf(e.result),r=LI.indexOf(n.result),o=isNaN(e.evDiff)?0:e.evDiff,s=isNaN(n.evDiff)?0:n.evDiff;return i===r?t*(o-s):t*(r-i)}):this.currentSorting===NH.EVLoss?[...this.results].sort((e,n)=>{const i=isNaN(e.evLoss)?0:e.evLoss,r=isNaN(n.evLoss)?0:n.evLoss;return t*(i-r)}):void 0}getBoard(t){const e=t.board.slice(0,3),n=t.board.length>=4?t.board[3]:null,i=t.board.length>=5?t.board[4]:null;return{flop:e,turn:n?{card:n}:null,river:i?{card:i}:null}}showDetails(t){this.showDetailsFor=this.showDetailsFor===t?null:t}hasDetailsShown(t){return this.showDetailsFor===t}getHistoryItems(t){return t.history.map((e,n)=>Object.assign(Object.assign({},e),{result:t.historyIdxToResult[n]}))}isHighlighted(t){return t>=this.highlightFrom}isDefined(t){return null!=t}copyToClipboard(t,e){e.preventDefault(),e.stopImmediatePropagation();const n=t.map(yR.cardToString).join("");this.clipboard.copy(n),this.snackBar.open(`Hand '${n}' copied to clipboard`,"Ok",{duration:3e3})}getFormattedAction(t){var e;return t?aF(J_(t,null===(e=this.tree)||void 0===e?void 0:e.raiseSizeMapping),null,this.tree.fixedRaiseSize):null}hasReaction(t,e){const n=e[t+1];return n&&!n.card}getResultLabel(t){return HI(t.result)}getResultClass(t){return t.result.toLowerCase()}showResultInfo(){this.dialog.open(xV)}}return t.\u0275fac=function(e){return new(e||t)(xs(qM),xs(fj),xs(oA))},t.\u0275cmp=Nt({type:t,selectors:[["app-game-training-summary"]],inputs:{tree:"tree",position:"position",filter:"filter",isPostFlop:"isPostFlop",flop:"flop",hasPrevBet:"hasPrevBet",rfiLabel:"rfiLabel",highlightFrom:"highlightFrom",results:"results",settings:"settings",maxHands:"maxHands"},features:[ae],decls:49,vars:21,consts:[[1,"training-summary"],[1,"header"],[1,"top-row"],[1,"position"],["class","filter",4,"ngIf"],[1,"row"],[1,"hand","with-sort-icon",3,"click"],["class","sort-icon up",4,"ngIf"],["class","sort-icon down",4,"ngIf"],[1,"hand","bot"],[1,"result"],[1,"with-sort-icon",3,"click"],[1,"icon",3,"click"],[1,"fas","fa-info-circle"],[1,"ev-loss","with-sort-icon"],[1,"history"],[1,"expand-collapse"],[1,"rows"],["rows",""],["class","row-container",4,"ngFor","ngForOf"],[1,"footer"],[4,"ngIf"],[1,"filter"],[1,"sort-icon","up"],[1,"fas","fa-sort-up"],[1,"sort-icon","down"],[1,"fas","fa-sort-down"],[1,"row-container"],[1,"row",3,"click"],[1,"hand"],[3,"cards","copyOnClick","click"],[3,"cards","copyOnClick","click",4,"ngIf"],[1,"result",3,"ngClass"],[1,"ev-loss"],[1,"history-item"],[1,"card","first"],[3,"cards"],["class","history-item",4,"ngFor","ngForOf"],["class","history-details",4,"ngIf"],["class","card",4,"ngIf"],["class","action",4,"ngIf"],[1,"card"],[1,"action"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],[1,"history-details"],[3,"hero","tree","board","history","showCards","isPostFlop","highlightFrom"]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"div",1),ks(2,"div",2),ks(3,"div",3),ks(4,"span"),ua(5),Ss(),Cs(6,xH,2,1,"span",4),Ss(),Ss(),ks(7,"div",5),ks(8,"div",6),Ds("click",function(){return e.sortBySequence()}),Cs(9,PH,2,0,"div",7),Cs(10,OH,2,0,"div",8),ks(11,"div"),ua(12,"Hero"),Ss(),Ss(),ks(13,"div",9),ua(14,"Villain"),Ss(),ks(15,"div",10),ks(16,"div",11),Ds("click",function(){return e.sortByResult()}),Cs(17,kH,2,0,"div",7),Cs(18,SH,2,0,"div",8),ks(19,"div"),ua(20,"Result"),Ss(),Ss(),ks(21,"div",12),Ds("click",function(){return e.showResultInfo()}),Ms(22,"i",13),Ss(),Ss(),ks(23,"div",14),ks(24,"div"),ua(25,"EV Loss"),Ss(),Ss(),ks(26,"div",15),ua(27,"Actions"),Ss(),Ms(28,"div",16),Ss(),Ss(),ks(29,"div",17,18),Cs(31,LH,20,14,"div",19),Ss(),ks(32,"div",20),ks(33,"div"),ks(34,"span"),ua(35),Ss(),Cs(36,BH,2,2,"span",21),Ss(),ks(37,"div"),ks(38,"span"),ua(39),Vl(40,"percent"),Ss(),Ss(),ks(41,"div"),ks(42,"span"),ua(43),Vl(44,"number"),Ss(),Ss(),ks(45,"div"),ks(46,"span"),ua(47),Vl(48,"number"),Ss(),Ss(),Ss(),Ss()),2&t&&(Ur(5),da(e.positionLabel),Ur(1),Ps("ngIf",(null==e.filter?null:e.filter.length)>0),Ur(3),Ps("ngIf",e.sortedBySequence&&e.sortedAscending),Ur(1),Ps("ngIf",e.sortedBySequence&&e.sortedDescending),Ur(7),Ps("ngIf",e.sortedByResult&&e.sortedAscending),Ur(1),Ps("ngIf",e.sortedByResult&&e.sortedDescending),Ur(13),Ps("ngForOf",e.sortedResults),Ur(4),ha("Total decisions: ",e.totalDecisions,""),Ur(1),Ps("ngIf",e.maxHands>0),Ur(3),ha("Accuracy: ",$l(40,12,e.accuracy,"1.0-0"),""),Ur(4),ha("Total EV Loss: ",$l(44,15,e.totalEvLoss,"1.0-2"),""),Ur(4),ha("Avg. EV Loss: ",$l(48,18,e.avgEvLoss,"1.0-2"),""))},directives:[Pd,wd,oB,vd,wH],pipes:[Hd,Vd],styles:["[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-select-content{width:7.5rem}[_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-select-value-text{color:var(--text-color)!important}.training-summary[_ngcontent-%COMP%]{color:var(--text-color);display:inline-block;height:calc(100% - 2rem - 2px);width:100%}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:0 1rem .3125rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:500;margin-bottom:.625rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{font-weight:400}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;height:2rem;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;border-bottom:1px solid rgba(0,0,0,.3);background-color:var(--highlight-color);color:#fff}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{width:6.875rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hand.bot[_ngcontent-%COMP%]{padding:0 .625rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]{width:5.5rem;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:unset;margin-left:.5rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.ev-loss[_ngcontent-%COMP%]{width:6.5rem}.training-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]{justify-content:flex-start;min-width:9.375rem;margin-left:.625rem}.training-summary[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-evenly;margin:.3125rem 1rem 0}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;height:calc(100% - 6rem);max-height:calc(100% - 6rem);margin:0 1rem;overflow-y:auto;overflow-x:hidden}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin-bottom:.625rem;border-bottom:1px solid var(--highlight-color);cursor:pointer}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{line-height:1.875rem;text-align:center}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.board[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;width:7.5rem;margin-right:1.875rem;cursor:pointer}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hand[_ngcontent-%COMP%]{width:6.875rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.hand.bot[_ngcontent-%COMP%]{padding:0 .625rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result[_ngcontent-%COMP%]{width:5.5rem;color:#fff}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.mustmove[_ngcontent-%COMP%]{background-color:var(--green-correct-pale-brighter)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.correct[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.freq_correct[_ngcontent-%COMP%]{background-color:var(--green-correct-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.inaccuracy[_ngcontent-%COMP%]{background-color:var(--yellow-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.mistake[_ngcontent-%COMP%]{background-color:var(--orange-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.blunder[_ngcontent-%COMP%], .training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.result.freq_mistake[_ngcontent-%COMP%]{background-color:var(--red-incorrect-pale)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.ev-loss[_ngcontent-%COMP%]{width:6.5rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]{min-width:9.375rem;margin-left:.625rem;display:flex;flex-direction:row;justify-content:flex-start}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0 .625rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .card.first[_ngcontent-%COMP%]{margin-left:.3125rem}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{width:30%;color:var(--text-color)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{width:calc(70% - 2rem)}.training-summary[_ngcontent-%COMP%]   .rows[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div.expand-collapse[_ngcontent-%COMP%]{width:2rem;margin-left:auto;color:var(--fa-icon-color)}.with-sort-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:.25rem;cursor:pointer}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:1.25rem;min-width:1.25rem;max-width:1.25rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon.up[_ngcontent-%COMP%]{padding-top:.65rem}.with-sort-icon[_ngcontent-%COMP%]   .sort-icon.down[_ngcontent-%COMP%]{margin-top:-.5rem}.history-details[_ngcontent-%COMP%]{margin-top:-.625rem;margin-bottom:.625rem;background-color:#262a2c}.link[_ngcontent-%COMP%]{margin-left:.3125rem;padding:1px .625rem;cursor:pointer;color:var(--link-color)}.link[_ngcontent-%COMP%]:hover{padding:0 .5625rem;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();function VH(t,e){1&t&&(ks(0,"div",10),ks(1,"p"),ua(2,"Loading range for training, this can take a while..."),Ss(),Ms(3,"mat-spinner",11),Ss())}function HH(t,e){1&t&&Ms(0,"mat-spinner",28),2&t&&Ps("diameter",30)}function $H(t,e){if(1&t){const t=Fs();ks(0,"app-action-button",30),Ds("clicked",function(){Re(t);const n=e.$implicit;return Vs(3).pickAction(n)}),Ss()}if(2&t){const t=e.$implicit,n=e.index,i=Vs(3);Ps("action",!0)("barelyVisible",t.barelyVisible)("label",i.getFormattedAction(t))("hotkey",i.isFinished&&!t.barelyVisible?i.getFormattedActionValues(t):(n+1).toString())("responsive",!0)("usable",!i.isFinished&&!i.disableKeybinds)("result",i.getResult(t))("isSelected",i.isSelected(t))}}function zH(t,e){if(1&t&&(Ts(0),Cs(1,$H,1,8,"app-action-button",29),Es()),2&t){const t=Vs(2);Ur(1),Ps("ngForOf",t.actions)}}function UH(t,e){if(1&t){const t=Fs();ks(0,"app-action-button",31),Ds("clicked",function(){return Re(t),Vs(2).retry()}),Ss()}2&t&&Ps("trainNode",!0)("label","Retry")("hotkey","Space")("responsive",!0)}function qH(t,e){if(1&t){const t=Fs();Ts(0),ks(1,"app-strategy-chart",32),Ds("openRange",function(){return Re(t),Vs(2).openCurrentRange()})("openRangeForBucket",function(){return Re(t),Vs(2).openRangeForBucket()}),Ss(),Es()}if(2&t){const t=Vs(2);Ur(1),Ps("currentTree",t.tree)("isPostFlop",!0)("isRFI",t.isRFI)("currentPosition",t._userPlayer)("actions",t.actions)("rangeFrequencies",t.currentHand.rangeValues)("bucketGroup",t.currentHand.bucket)("hasPrevBet",t.hasPrevBet)("showOpenRangeIcons",!0)}}function WH(t,e){if(1&t){const t=Fs();ks(0,"div",12),ks(1,"div",13),ks(2,"span"),ua(3),Ss(),Ss(),Ms(4,"app-poker-table",14),ks(5,"div",15),ks(6,"div",16),ks(7,"app-action-button",17),Ds("clicked",function(){return Re(t),Vs().confirmExit()}),Ms(8,"i",18),Ss(),Ss(),ks(9,"div",19),Cs(10,HH,1,1,"mat-spinner",20),Cs(11,zH,2,1,"ng-container",21),Ss(),ks(12,"app-action-button",22),Ms(13,"i",23),Ss(),Ss(),ks(14,"div",24),ks(15,"div",19),Cs(16,UH,1,4,"app-action-button",25),ks(17,"app-action-button",26),Ds("clicked",function(){Re(t);const e=Vs();return e.waitForNext?e.next():e.nextHand()}),Ss(),Ss(),Ss(),ks(18,"div",27),Cs(19,qH,2,9,"ng-container",21),Ss(),Ss()}if(2&t){const t=Vs();Ur(3),da(t.treeTitle),Ur(1),Ps("icmInfo",t.icmInfo)("replaceWithStraddle",t.replaceWithStraddle)("allPlayers",t.allPlayers)("activePlayers",t.activePlayers)("currentPlayer",t.currentPlayer)("chips",t.chipState)("board",t.board)("training",!0)("alignPositionsTo",t.userPlayer)("disableSelectors",!0)("showLargeCards",!0)("hands",t.assignedHands)("lastActionAndPlayer",t.lastActionAndPlayer),Ur(3),Ps("show",t.isUsersTurn&&t.hasPickedUserHand)("secondaryButton",!0)("hotkey","Esc")("roundButton",!0)("icon",!0),Ur(3),Ps("ngIf",t.showActionSpinner),Ur(1),Ps("ngIf",t.isUsersTurn&&t.hasPickedUserHand),Ur(1),Ps("disabled",!0)("barelyVisible",!0)("icon",!0)("roundButton",!0),Ur(3),Js("hidden",!t.showNextButton)("show",t.showNextButton),Ur(1),Ps("ngIf",t.canRetry),Ur(1),Ps("continue",!0)("label",t.nextOrContinueLabel)("hotkey","Enter")("responsive",!0),Ur(1),Js("hidden",!t.showNextButton)("show",t.showNextButton),Ur(1),Ps("ngIf",t.showActionChart)}}function GH(t,e){if(1&t){const t=Fs();ks(0,"div",33),Ds("click",function(){return Re(t),Vs().createOrDeleteFavorite()}),Vl(1,"async"),Ms(2,"i",34),Ms(3,"i",35),Ss()}2&t&&Js("highlight",Hl(1,2,Vs().isFavorite$))}const KH=[{path:"",component:aH,canActivate:[lH]},{path:"train",component:PA,canActivate:[lH]},{path:"game",component:(()=>{class t{constructor(t,e,n,i,r,o,s){this.feature=t,this.route=e,this.router=n,this.store=i,this.trainingService=r,this.dialog=o,this.percentPipe=s,this.isLoadingTurnOrRiver=!1,this.disableKeybinds=!1,this._filter="",this._isUsersTurn=!1,this._hasFinishedHand=!1,this._historyIdxToResult={},this.store.pipe(Yb(Xv)).subscribe(t=>$m(this,void 0,void 0,function*(){var e;this.settings=Object.assign(Object.assign({},t),{evSpread:null===(e=this.settings)||void 0===e?void 0:e.evSpread})}))}ngOnInit(){var t;return $m(this,void 0,void 0,function*(){this.feature.isDisabled(uy.MultiStreetTraining)&&this.router.navigate([""]),this.unsubscribeAll();const e=this.route.snapshot.queryParams;e.user&&(this._userPlayer=e.user),this._filter=null!==(t=e.filter)&&void 0!==t?t:"",this._filter&&this.store.dispatch(wy({filter:this._filter})),"preflop"===e.type&&e.tree?this.treeSubscription=this.store.pipe(Yb(my),kh(t=>t.length>0),k(t=>t||[]),k(t=>cy(cy(t.map(t=>t.profiles)).map(t=>t.trees))),k(t=>t.find(t=>t.key===e.tree)),Ap(1)).subscribe(t=>$m(this,void 0,void 0,function*(){this.router.navigate([""])})):"postflop"===e.type&&e.tree&&e.flop?this.treeSubscription=this.store.pipe(Yb(by),kh(t=>t.length>0),k(t=>t||[]),k(t=>cy(t.map(t=>t.trees))),k(t=>t.find(t=>t.key===e.tree)),Ap(1)).subscribe(t=>$m(this,void 0,void 0,function*(){if(t&&!t.isLocked){const{flop:n,turn:i,river:r}=e;yield this.trainingService.initPostflopGame(t,this.nodePath,n,i,r),yield this.startTraining()}else this.router.navigate([""])})):this.router.navigate([""]),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe(),this.keyPressSubscription=qw(document,"keyup").subscribe(t=>$m(this,void 0,void 0,function*(){if(!(this.disableKeybinds||this.dialog.openDialogs&&0!==this.dialog.openDialogs.length))switch(t.key){case"Escape":this.confirmExit();break;case"Enter":this.hasFinishedHand?yield this.nextHand():this.waitForNext&&(yield this.next());break;case" ":this.canRetry&&this.retry();break;case"1":this.pickActionByIndex(0);break;case"2":this.pickActionByIndex(1);break;case"3":this.pickActionByIndex(2);break;case"4":this.pickActionByIndex(3);break;case"5":this.pickActionByIndex(4)}}))})}ngOnDestroy(){this.unsubscribeAll()}createOrDeleteFavorite(){var t;const e=(null===(t=this.route.snapshot.url)||void 0===t?void 0:t.length)>0?this.route.snapshot.url[0].path:"",n=zI(this.route.snapshot.queryParams,this.settings);if(dy(this.isFavorite$)){const t=dy(this.store.pipe(Yb(rv(e,n))));this.store.dispatch(Jy({key:t}))}else this.dialog.open(II,{data:{path:e,queryParams:n}})}get showFavoritesIcon(){return this.feature.isAvailable(uy.Favorites)}get isFavorite$(){return hp([this.route.queryParams,this.route.url]).pipe(Rp(([t,e])=>{const n=(null==e?void 0:e.length)>0?e[0].path:"",i=zI(t,this.settings);return this.store.pipe(Yb(ov(n,i)))}))}get waitForNext(){return!!this._actionForNext}get hasFinishedHand(){return this._hasFinishedHand}get canRetry(){return this.hasFinishedHand&&VI(this._evaluation)}get showNextButton(){return this.hasFinishedHand||this.waitForNext}get nextOrContinueLabel(){return this.waitForNext&&this._actionForNext.type!==Q_.FOLD?"Continue":"Next hand"}get showActionChart(){return this.showNextButton&&!!this._isUsersTurn}get isFiveCard(){return!1}get nodePath(){return this.route.snapshot.queryParams.node||""}get situation(){return this.trainingService.currentSituation}get userPlayer(){var t;return this._userPlayer||(null===(t=this.situation)||void 0===t?void 0:t.currentPlayer)}get tree(){var t;return null===(t=this.situation)||void 0===t?void 0:t.currentTree}get replaceWithStraddle(){var t,e;return null===(e=null===(t=this.tree)||void 0===t?void 0:t.setup)||void 0===e?void 0:e.replaceWithStraddle}get treeKey(){var t;return null===(t=this.tree)||void 0===t?void 0:t.key}get currentNode(){var t;return null===(t=this.situation)||void 0===t?void 0:t.currentNode}get board(){var t;return null===(t=this.situation)||void 0===t?void 0:t.board}get boardCards(){var t,e;return[...this.board.flop,null===(t=this.board.turn)||void 0===t?void 0:t.card,null===(e=this.board.river)||void 0===e?void 0:e.card].filter(t=>!!t)}get handForChart(){return this.currentHand.hand}get flop(){var t;return null===(t=this.board)||void 0===t?void 0:t.flop}get allPlayers(){var t;return null===(t=this.situation)||void 0===t?void 0:t.allPlayers}get activePlayers(){var t;return null===(t=this.situation)||void 0===t?void 0:t.activePlayers}get chipState(){var t;return null===(t=this.situation)||void 0===t?void 0:t.chipState}get hasPrevBet(){var t;return null===(t=this.situation)||void 0===t?void 0:t.hasPrevBet}get isRFI(){var t;return null===(t=this.situation)||void 0===t?void 0:t.isRFI}get rfiValue(){return this.situation.rfiValue}get rfiLabel(){if(this.isRFI)return this.rfiValue?this.rfiValue+"x":null}get icmInfo(){return this.tree?{payouts:this.tree.icmPayouts,stacks:this.tree.icmStacks}:{payouts:null,stacks:null}}get highlightFrom(){return this.trainingService.highlightFrom}get results(){return this._results}get showActionSpinner(){var t;return this.isUsersTurn?!this.hasPickedUserHand&&(null===(t=this.actions)||void 0===t?void 0:t.length)>0:!this._evaluation}get maxHands(){var t;return null===(t=this.remainingHands)||void 0===t?void 0:t.maxDailyHands}get hasRemainingHands(){return!this.remainingHands||this.remainingHands.remainingHands>0}useRFIvalueForAction(t){return this.isRFI&&!!this.rfiValue&&t.type===Q_.RAISE&&t.amount===this.tree.replaceAmountWithRfiValue}openSettings(){this.disableKeybinds=!0,this.dialog.open(FF,{data:this.settings}).afterClosed().pipe(Ap(1)).subscribe(t=>$m(this,void 0,void 0,function*(){if(t){this.settings=Object.assign({},t);const e=Object.assign(Object.assign({},this.settings),{evSpread:{min:null,max:null}});this.store.dispatch(Kv({training:e})),this._assignedHands={},yield this.loadNextHandForCurrentPlayer()}this.disableKeybinds=!1}))}unsubscribeAll(){this.remainingHandsSubscription&&!this.remainingHandsSubscription.closed&&this.remainingHandsSubscription.unsubscribe(),this.treeSubscription&&!this.treeSubscription.closed&&this.treeSubscription.unsubscribe(),this.currentTreeSubscription&&!this.currentTreeSubscription.closed&&this.currentTreeSubscription.unsubscribe(),this.statsSubscription&&!this.statsSubscription.closed&&this.statsSubscription.unsubscribe(),this.keyPressSubscription&&!this.keyPressSubscription.closed&&this.keyPressSubscription.unsubscribe()}confirmExit(){this.dialog.open(IE,{data:{title:"Exit training",content:["Are you sure you want to quit the training?"]}}).afterClosed().pipe(Ap(1)).subscribe(t=>{t&&this.exit()})}exit(){var t;this.currentRange=null,this.store.dispatch(Oy()),this.router.navigate([""],{queryParams:Object.assign(Object.assign({},this.route.snapshot.queryParams),{user:void 0,filter:(null===(t=this.filter)||void 0===t?void 0:t.length)>0?this.filter:void 0,hands:void 0,randomBoard:void 0,boards:void 0,minFrequency:void 0,minWeight:void 0,minEV:void 0,maxEV:void 0,selection:void 0,freeze:void 0})})}nextHand(){return $m(this,void 0,void 0,function*(){this.isFinished&&(yield this.loadNextHandForCurrentPlayer())})}startTraining(){return $m(this,void 0,void 0,function*(){this._evaluation=null,this._actionResults=null,this._historyIdxToResult={},this._assignedHands={},this._results=[],this.assignedHands[this.userPlayer]||(yield this.loadNextHandForCurrentPlayer())})}loadNextHandForCurrentPlayer(){return $m(this,void 0,void 0,function*(){if(!this.hasRemainingHands)return void this.showMaxDailyHandsReached();this._evaluation=null,this._actionResults=null,this._assignedHands={},this._isUsersTurn=!1,this._hasFinishedHand=!1;const t=yield this.trainingService.startGame(this._filter,this.settings);this._isUsersTurn=!0,t?(this.currentHand=t,this._assignedHands=this.trainingService.hands):this.openSettings()})}get currentNodeId(){var t;return null===(t=this.currentRange)||void 0===t?void 0:t.nodeId}get filter(){return this._filter}get hasTreeLoaded(){return!!this.tree}get treeTitle(){if(this.hasTreeLoaded){if(this.tree.type===X_.preflop){const t=2===this.tree.players?"Heads Up":this.tree.players+"-max";if(this.tree.label){const e=""+(this.isFiveCard?"":iy(this.tree.profile));return`${e?e+" - ":""}${this.tree.label} - ${t}`}return`${this.isFiveCard?"":iy(this.tree.profile)+" - "}${this.tree.stack}bb - ${t}`}{const t=this.tree;if(ry(t.category))return`${this.isFiveCard?"":iy(this.tree.profile)+" - "}${this.tree.stack}bb - ${t.multiwayLabel}`;{const e=K_(t.activePlayers).join(" vs. ");return`${this.isFiveCard?"":iy(this.tree.profile)+" - "}${this.tree.stack}bb - ${e} - ${t.preflop.type.toUpperCase()}`}}}return null}get isPostFlop(){return this.tree&&this.tree.type===X_.postflop}get assignedHands(){return this._assignedHands}get isUsersTurn(){return this._isUsersTurn}get hasPickedUserHand(){return this.assignedHands&&!!this.assignedHands[this.userPlayer]}get isFinished(){return!this.hasActions||!!this.evaluation}get evaluation(){return this._evaluation}get history(){return this.trainingService.history}get historyToResult(){return this._historyIdxToResult}get actions(){if(this.situation.currentPlayer===this.userPlayer&&this.currentNode&&this.currentNode.next&&this.currentNode.next.length>0){let t=this.currentNode.next.map(t=>t.action);t.find(t=>t.type===Q_.CHECK)&&(t=t.filter(t=>t.type!==Q_.CALL)),t=t.filter(t=>![Q_.turn,Q_.river].includes(t.type));const e=[];for(const n of t)e.find(t=>oF(t,n))||e.push(n);return e.sort(uF)}return[]}getActionButtonsNotRaises(){const t=this.actions,e=[];let n=0;return t.length>n&&t[n].type===Q_.FOLD?(e.push(t[n]),n++):e.push({type:Q_.FOLD,barelyVisible:!0}),t.length>n&&(t[n].type===Q_.CALL||t[n].type===Q_.CHECK)?(e.push(t[n]),n++):e.push({type:Q_.CALL,barelyVisible:!0}),e}getActionButtonsRaises(){const t=this.actions,e=[];let n=0;if(t.length>n&&t[n].type===Q_.FOLD&&n++,t.length>n&&(t[n].type===Q_.CALL||t[n].type===Q_.CHECK)&&n++,n>=t.length)e.push({type:Q_.RAISE,barelyVisible:!0});else for(let i=n;i<t.length;i++)e.push(t[i]);return e}get hasActions(){return this.actions&&this.actions.length>0}get lastActionAndPlayer(){const t=this.history.slice(-1)[0];return(null==t?void 0:t.player)?{action:t.action,player:t.player}:null}getFormattedAction(t){return this.useRFIvalueForAction(t)?sF(t,this.hasPrevBet,!this.isPostFlop,this.rfiValue?this.rfiValue+"x":null,this.tree.fixedRaiseSize):sF(t,this.hasPrevBet,!this.isPostFlop,null,this.tree.fixedRaiseSize)}isCorrect(t){return AI(this.getActionFrequency(t),this.getCurrentActionFrequencies())}isMistake(t){return!this.isCorrect(t)}isSelected(t){return this._selectedAction&&oF(t,this._selectedAction)}getFrequency(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.overallFreq}getEV(t){var e;return null===(e=this.getActionFrequency(t))||void 0===e?void 0:e.ev}getResult(t){var e;return this.isFinished?null===(e=this._actionResults.find(e=>oF(e.action,t)))||void 0===e?void 0:e.result:null}openRangeForBucket(){const{bucket:t}=this.currentHand;this.openCurrentRange(t.syntax)}openCurrentRange(t){const e=this.history.map(t=>t.action),n=e.filter(t=>!Y_(t)),{flop:i,turn:r,river:o}=this.board,s=["type=postflop","tree="+this.tree.key,"flop="+Object(yR.cardsToString)(i,!1)];(null==r?void 0:r.card)&&e.some(t=>t.type===Q_.turn)&&(s.push("turn="+Object(yR.cardToString)(r.card)),(null==o?void 0:o.card)&&e.some(t=>t.type===Q_.river)&&s.push("river="+Object(yR.cardToString)(o.card))),n.length>0&&s.push("node="+$F(n)),(null==t?void 0:t.length)>0&&s.push(`filter=(${t})`),s.push("loadRange=true");const a=`${window.location.origin}/?${s.join("&")}`;window.open(a)}pickActionByIndex(t){return $m(this,void 0,void 0,function*(){const e=this.actions[t];e&&!this.isFinished&&(yield this.pickAction(e))})}pickAction(t){var e;return $m(this,void 0,void 0,function*(){const n=this.getCurrentActionFrequencies(),i=Object.keys(this.trainingService.hands).find(t=>t!==this.userPlayer),r=i?null===(e=this.trainingService.hands[i])||void 0===e?void 0:e.hand:null,{chipState:o,simBB:s}=this.trainingService.currentSituation,a=o.totalPot/s,{isCorrectAnswer:l,result:c,evLoss:u,evDiff:d}=this.getEvaluation(t,a);if(this._actionResults=this.actions.map(t=>({action:t,result:this.getEvaluation(t,a).result})),this._selectedAction=t,this._evaluation=c,l)this._actionForNext=t;else{const e=[...this.trainingService.history,{action:Object.assign(Object.assign({},t),{hasPrevBet:this.hasPrevBet}),player:this.userPlayer,rangeValues:this.currentHand.rangeValues,handBucket:this.currentHand.bucket,isMistake:!0}];this._historyIdxToResult[e.length-1]=c,this._results=[Object.assign(Object.assign({},this.currentHand),{opponentHand:r,isCorrect:l,result:c,evLoss:u,evDiff:d,frequencies:n,history:e,historyIdxToResult:Object.assign({},this._historyIdxToResult),board:this.boardCards}),...this._results],yield this.finishHand(!1)}})}retry(){return $m(this,void 0,void 0,function*(){this._hasFinishedHand=!1,this._actionForNext=null,this._selectedAction=null,this._isUsersTurn=!0,this._evaluation=null,this._actionResults=null,this._historyIdxToResult=Object.assign({},this._historyIdxToResult)})}next(){var t;return $m(this,void 0,void 0,function*(){const e=this._actionForNext;this._actionForNext=null,this._selectedAction=null,this._historyIdxToResult[this.history.length]=this._evaluation;const{chipState:n,simBB:i}=this.trainingService.currentSituation,r=n.totalPot/i,{isCorrectAnswer:o,result:s,evLoss:a,evDiff:l}=this.getEvaluation(e,r);yield jw(50);const c=this.getCurrentActionFrequencies(),u=this.getFrequency(e);this._isUsersTurn=!1,this._evaluation=null;const{updatedHand:d,finished:h}=yield this.trainingService.next(e,this.currentHand,u);if(!h&&d&&Object.values(d.actionValues).every(t=>isNaN(t.freq)||0===t.freq)){const t=Object(yR.cardToString)(this.board.turn.card);this.dialog.open(IE,{data:{title:"Hand does not continue",content:[`This hand is not part of the turn simulations for ${t} anymore.`],confirmOnly:!0,confirmLabel:"Next hand"}}).afterClosed().subscribe(()=>$m(this,void 0,void 0,function*(){var t;const e=Object.keys(this.trainingService.hands).find(t=>t!==this.userPlayer),n=e?null===(t=this.trainingService.hands[e])||void 0===t?void 0:t.hand:null;this._evaluation=s,this._results=[Object.assign(Object.assign({},this.currentHand),{opponentHand:n,isCorrect:o,result:s,evLoss:a,evDiff:l,frequencies:c,history:[...this.trainingService.history],historyIdxToResult:Object.assign({},this._historyIdxToResult),board:this.boardCards}),...this._results],yield this.finishHand(),yield this.nextHand()}))}else{const n=Object.keys(this.trainingService.hands).find(t=>t!==this.userPlayer),i=n?null===(t=this.trainingService.hands[n])||void 0===t?void 0:t.hand:null;h?(this._evaluation=s,this._results=[Object.assign(Object.assign({},this.currentHand),{opponentHand:i,isCorrect:o,result:s,evLoss:a,evDiff:l,frequencies:c,history:[...this.trainingService.history],historyIdxToResult:Object.assign({},this._historyIdxToResult),board:this.boardCards}),...this._results],yield this.finishHand(),e.type===Q_.FOLD&&(yield this.nextHand())):(this.currentHand=d,this._isUsersTurn=!0)}})}finishHand(t=!0){return $m(this,void 0,void 0,function*(){this._hasFinishedHand=!0,this._assignedHands=this.trainingService.hands,t&&Object.keys(this._assignedHands).forEach(t=>this._assignedHands[t].show=!0)})}getFormattedActionValues(t){const{overallFreq:e,ev:n}=this.getActionFrequency(t);if(e>=0)return`${this.percentPipe.transform(e)} | ${null!=n?n.toFixed(2):"n/a"}`}getActionFrequency(t){return this.getCurrentActionFrequencies().find(e=>e.action.type===t.type&&e.action.amount===t.amount)||{action:t,overallFreq:null,ev:null}}getCurrentActionFrequencies(){if(this.currentHand){const t=Object.values(this.currentHand.actionValues).map(t=>({action:{type:t.type,amount:t.amount},overallFreq:t.freq,ev:t.ev}));return this.actions.map(e=>{const n=t.find(t=>oF(e,t.action));return{action:e,overallFreq:null==n?void 0:n.overallFreq,ev:null==n?void 0:n.ev}})}return[]}getEvaluation(t,e){const n=t=>+t.toFixed(3),i=this.isCorrect(t),r=n(this.getEV(t)),o=t=>null!=t.ev&&!isNaN(t.ev);let s=r-Math.max(...Object.values(this.currentHand.actionValues).filter(o).map(t=>t.ev).map(n));isNaN(s)&&(s=0);const a=r-Math.max(...Object.values(this.currentHand.actionValues).filter(e=>!oF(e,t)).filter(o).map(t=>t.ev).map(n));return{isCorrectAnswer:i,result:BI(Math.abs(s)/e*100,a/e*100,i),evLoss:s,evDiff:a}}showMaxDailyHandsReached(){this.dialog.openDialogs.some(t=>t.componentInstance instanceof UI)||this.dialog.open(UI,{data:{maxHands:this.remainingHands.maxDailyHands}}).afterClosed().subscribe(()=>{this.exit()})}}return t.\u0275fac=function(e){return new(e||t)(xs(gT),xs(rg),xs(wm),xs(Kb),xs(dH),xs(qM),xs(Hd))},t.\u0275cmp=Nt({type:t,selectors:[["app-game-training"]],decls:12,vars:14,consts:[[1,"layout-container"],["class","spinner-container",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"info-container","show"],[1,"icon-bar"],["class","control create-favorite",3,"highlight","click",4,"ngIf"],[1,"control","settings",3,"click"],[1,"fas","fa-cog"],[1,"tab-content"],[3,"tree","hasPrevBet","rfiLabel","highlightFrom","results","position","filter","isPostFlop","flop","settings","maxHands","settingsClicked"],[1,"spinner-container"],["color","accent"],[1,"table-container"],[1,"table-title"],[3,"icmInfo","replaceWithStraddle","allPlayers","activePlayers","currentPlayer","chips","board","training","alignPositionsTo","disableSelectors","showLargeCards","hands","lastActionAndPlayer"],[1,"controls","top"],[1,"buttons"],[3,"show","secondaryButton","label","hotkey","roundButton","icon","clicked"],[1,"fas","fa-times-circle"],[1,"buttons","right"],["color","accent",3,"diameter",4,"ngIf"],[4,"ngIf"],[3,"disabled","barelyVisible","label","icon","roundButton"],[1,"fas","fa-eye"],[1,"controls"],[3,"trainNode","label","hotkey","responsive","clicked",4,"ngIf"],[3,"continue","label","hotkey","responsive","clicked"],[1,"chart"],["color","accent",3,"diameter"],[3,"action","barelyVisible","label","hotkey","responsive","usable","result","isSelected","clicked",4,"ngFor","ngForOf"],[3,"action","barelyVisible","label","hotkey","responsive","usable","result","isSelected","clicked"],[3,"trainNode","label","hotkey","responsive","clicked"],[3,"currentTree","isPostFlop","isRFI","currentPosition","actions","rangeFrequencies","bucketGroup","hasPrevBet","showOpenRangeIcons","openRange","openRangeForBucket"],[1,"control","create-favorite",3,"click"],[1,"icon","regular","far","fa-star"],[1,"icon","highlight","fas","fa-star"]],template:function(t,e){1&t&&(Ms(0,"app-status-bar"),ks(1,"div",0),Cs(2,VH,4,0,"div",1),Cs(3,WH,20,39,"div",2),ks(4,"div",3),ks(5,"div",4),Cs(6,GH,4,4,"div",5),ks(7,"div",6),Ds("click",function(){return e.openSettings()}),Ms(8,"i",7),Ss(),Ss(),ks(9,"div",8),ks(10,"app-game-training-summary",9),Ds("settingsClicked",function(){return e.openSettings()}),Ss(),Ss(),Ss(),Ss(),Ms(11,"app-mobile-warning")),2&t&&(Ur(2),Ps("ngIf",!e.hasTreeLoaded||!e.hasPickedUserHand),Ur(1),Ps("ngIf",e.hasTreeLoaded&&e.hasPickedUserHand),Ur(3),Ps("ngIf",e.showFavoritesIcon),Ur(4),Ps("tree",e.tree)("hasPrevBet",e.hasPrevBet)("rfiLabel",e.rfiLabel)("highlightFrom",e.highlightFrom)("results",e.results)("position",e.userPlayer)("filter",e.filter)("isPostFlop",e.isPostFlop)("flop",e.flop)("settings",e.settings)("maxHands",e.maxHands))},directives:[tD,Pd,jH,gE,lT,_B,HB,wd,DB],pipes:[Bd],styles:["[_nghost-%COMP%]     .mat-tab-label{font-size:1rem;width:8.125rem!important;min-width:8.125rem!important}[_nghost-%COMP%]     .mat-tab-body{min-width:43.75rem}[_nghost-%COMP%]     div[role=tab]{color:var(--text-color)}[_nghost-%COMP%]     div[role=tab].mat-tab-label-active{color:var(--tree-category-color-active)}[_nghost-%COMP%]     div[role=tab].mat-tab-disabled{color:var(--tree-category-color-disabled)}[_nghost-%COMP%]     div[role=tab]:hover{color:var(--tree-category-color-hover)}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header{border-bottom:none}.no-border-bottom[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-labels{margin-left:3.125rem}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:.5rem;margin-bottom:.5rem;line-height:1.25rem;font-size:1.25rem;font-weight:500;border-radius:.3125rem;padding:.3125rem .625rem;color:var(--text-color)}.table-container[_ngcontent-%COMP%]   .table-title.hidden[_ngcontent-%COMP%]{visibility:hidden}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:.125rem}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;margin-right:1.125rem}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img.expand[_ngcontent-%COMP%]{transform:rotate(180deg)}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:inline}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.table-container[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]{display:inline}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-end;visibility:hidden}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;min-width:9.375rem}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div.hide[_ngcontent-%COMP%]{visibility:hidden}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-right:.625rem}.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500}@media screen and (max-width:1245px){.table-container[_ngcontent-%COMP%]   .performance[_ngcontent-%COMP%]{visibility:visible}}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:1rem;width:100%}.controls.top[_ngcontent-%COMP%]{align-items:flex-start;margin-top:4rem}.chart[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.chart.hidden[_ngcontent-%COMP%]{visibility:hidden}.chart.show[_ngcontent-%COMP%]{visibility:visible}.chart[_ngcontent-%COMP%]   app-strategy-chart[_ngcontent-%COMP%]{width:100%}.chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;height:100%;margin-left:.625rem;gap:1.5rem}.chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]   .open-range[_ngcontent-%COMP%]{cursor:pointer;color:#a4b4dd}.chart[_ngcontent-%COMP%]   .open-range-icons[_ngcontent-%COMP%]   .open-range[_ngcontent-%COMP%]:hover{color:#fff}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.buttons.right[_ngcontent-%COMP%]{width:70%;justify-content:center;align-items:flex-start;gap:.5rem}.buttons.right[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:30%}.buttons.right[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]{width:30%;display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.buttons.next[_ngcontent-%COMP%], .buttons.right[_ngcontent-%COMP%]   .action-buttons-raises[_ngcontent-%COMP%]   app-action-button[_ngcontent-%COMP%]{width:100%}.buttons.hidden[_ngcontent-%COMP%]{visibility:hidden}.buttons.show[_ngcontent-%COMP%]{width:100%;justify-content:center;visibility:visible}.info-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.info-container[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:1rem 0}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;gap:1rem;width:100%;height:3rem;min-height:3rem;border-bottom:var(--border-style)}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;z-index:14;cursor:pointer;color:var(--scrollbar-color);font-size:1.5rem;height:100%}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]:last-child{margin-right:1rem}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control.create-favorite[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control.create-favorite.highlight[_ngcontent-%COMP%]   .regular[_ngcontent-%COMP%]{display:none}.info-container[_ngcontent-%COMP%]   .icon-bar[_ngcontent-%COMP%]   .control.create-favorite.highlight[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{display:unset;color:var(--favorite-highlight-color)}"]}),t})(),canActivate:[lH]},{path:"login",component:xE},{path:"**",redirectTo:""}];let QH=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Im.forRoot(KH,{relativeLinkResolution:"legacy"})],Im]}),t})(),YH=(()=>{class t{get nativeWindow(){return"undefined"!=typeof window?window:void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),ZH=(()=>{class t{constructor(){this.enabled=!0,this.whitelistPage=[],this.blacklistPage=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),JH=(()=>{class t{constructor(t,e){this.popupOpenSource=new x,this.popupCloseSource=new x,this.initializeSource=new x,this.statusChangeSource=new x,this.revokeChoiceSource=new x,this.noCookieLawSource=new x,this.popupOpen$=this.popupOpenSource.asObservable(),this.popupClose$=this.popupCloseSource.asObservable(),this.initialize$=this.initializeSource.asObservable(),this.statusChange$=this.statusChangeSource.asObservable(),this.revokeChoice$=this.revokeChoiceSource.asObservable(),this.noCookieLaw$=this.noCookieLawSource.asObservable(),this.window=t.nativeWindow,this.init(e)}checkPopupInstantiated(t){if(null==this.popupInstance)throw new Error(`Cookie popup has not yet been instantiated. Cannot invoke ${t}()`)}init(t){this.window&&(this.cookieconsent=this.window.cookieconsent,this.config=t,this.config.onPopupOpen=()=>this.popupOpenSource.next(),this.config.onPopupClose=()=>this.popupCloseSource.next(),this.config.onInitialise=t=>this.initializeSource.next({status:t}),this.config.onStatusChange=(t,e)=>{this.statusChangeSource.next({status:t,chosenBefore:e})},this.config.onRevokeChoice=()=>this.revokeChoiceSource.next(),this.config.onNoCookieLaw=(t,e)=>{this.noCookieLawSource.next({countryCode:t,country:e})},this.cookieconsent.initialise(this.config,t=>this.popupInstance=t))}getConfig(){return this.config}getStatus(){return this.cookieconsent.status}getTransition(){return this.cookieconsent.hasTransition}clearStatus(){return this.checkPopupInstantiated("clearStatus"),this.popupInstance.clearStatus()}open(){return this.checkPopupInstantiated("open"),this.popupInstance.open()}close(t){return this.checkPopupInstantiated("close"),this.popupInstance.close(t)}destroy(){this.checkPopupInstantiated("destroy"),this.popupInstance.destroy()}fadeIn(){this.checkPopupInstantiated("fadeIn"),this.popupInstance.fadeIn()}fadeOut(){this.checkPopupInstantiated("fadeOut"),this.popupInstance.fadeOut()}isOpen(){return this.checkPopupInstantiated("isOpen"),this.popupInstance.isOpen()}toggleRevokeButton(t){this.checkPopupInstantiated("toggleRevokeButton"),this.popupInstance.toggleRevokeButton(t)}hasAnswered(){return this.checkPopupInstantiated("hasAnswered"),this.popupInstance.hasAnswered()}hasConsented(){return this.checkPopupInstantiated("hasConsented"),this.popupInstance.hasConsented()}}return t.\u0275fac=function(e){return new(e||t)(hi(YH),hi(ZH))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),XH=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[YH,{provide:ZH,useValue:e},JH]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Ud]]}),t})(),t$=(()=>{class t{constructor(t,e){this.cookieService=t,this.store=e,this.appIcon=document.querySelector("#appIcon"),this.appTitle=document.querySelector("#appTitle")}ngOnInit(){this.appTitle.innerText="4-Card PLO Trainer",this.initializeSubscription=this.cookieService.initialize$.subscribe(t=>{console.debug("cookie - initialize",t,this.cookieService.getConfig())})}ngOnDestroy(){this.initializeSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(xs(JH),xs(Kb))},t.\u0275cmp=Nt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&Ms(0,"router-outlet")},directives:[xm],styles:[".mat-input-element{caret-color:var(--caret-color)!important}  .large-tooltip{font-size:1rem;padding:1rem}  .large-tooltip,   .medium-tooltip{background-color:var(--background-color);box-shadow:var(--box-shadow);border:var(--border-style);border-radius:0!important}  .medium-tooltip{font-size:.875rem;padding:.5rem;text-align:justify}"]}),t})();class e${call(t,e){return e.subscribe(new n$(t))}}class n$ extends f{_next(t){}}class i${call(t,e){return e.subscribe(new r$(t))}}class r$ extends f{constructor(t){super(t)}_next(t){this.destination.next(Zm.createNext(t))}_error(t){const e=this.destination;e.next(Zm.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(Zm.createComplete()),t.complete()}}function o$(t,e,n,i){return r=>r.lift(new s$(t,e,n,i))}class s${constructor(t,e,n,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=i}call(t,e){return e.subscribe(new a$(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class a$ extends f{constructor(t,e,n,i,r){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let i,r=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(o){this.error(o)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new x,n.set(e,r);const t=new c$(e,r,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new c$(e,r))}catch(o){return void this.error(o)}this.add(t.subscribe(new l$(e,r,this)))}}r.closed||r.next(i)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class l$ extends f{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class c$ extends _{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new d,{refCountSubscription:n,groupSubject:i}=this;return n&&!n.closed&&e.add(new u$(n)),e.add(i.subscribe(t)),e}}class u$ extends d{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}function d$(t,e){return e?n=>n.pipe(d$((n,i)=>L(t(n,i)).pipe(k((t,r)=>e(n,t,i,r))))):e=>e.lift(new h$(t))}class h${constructor(t){this.project=t}call(t,e){return e.subscribe(new p$(t,this.project))}}class p$ extends N{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new B(this),n=this.destination;n.add(e);const i=j(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class f${call(t,e){return e.subscribe(new g$(t))}}class g$ extends f{constructor(t){super(t)}_next(t){t.observe(this.destination)}}const m$={dispatch:!0,useEffectsErrorHandler:!0};function b$(t,e){const n=t(),i=Object.assign(Object.assign({},m$),e);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:i}),n}function _$(t){return Object.getOwnPropertyNames(t).filter(e=>!(!t[e]||!t[e].hasOwnProperty("__@ngrx/effects_create__"))&&t[e]["__@ngrx/effects_create__"].hasOwnProperty("dispatch")).map(e=>Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"]))}function y$(t){return Object.getPrototypeOf(t)}function v$(t){return Db(C$,y$)(t)}function C$(t){return function(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}(t)?t.constructor["__@ngrx/effects__"]:[]}function w$(t,e,n=10){return t.pipe($p(i=>(e&&e.handleError(i),n<=1?t:w$(t,e,n-1))))}let x$=(()=>{class t extends _{constructor(t){super(),t&&(this.source=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}}return t.\u0275fac=function(e){return new(e||t)(hi(Hb))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function P$(...t){return kh(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function O$(t){return k$(t,"ngrxOnInitEffects")}function k$(t,e){return t&&e in t&&"function"==typeof t[e]}const S$=new qn("@ngrx/effects Internal Root Guard"),M$=new qn("@ngrx/effects User Provided Effects"),T$=new qn("@ngrx/effects Internal Root Effects"),E$=new qn("@ngrx/effects Root Effects"),R$=new qn("@ngrx/effects Internal Feature Effects"),F$=new qn("@ngrx/effects Feature Effects"),I$=new qn("@ngrx/effects Effects Error Handler");let A$=(()=>{class t extends x{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(o$(y$),V(t=>t.pipe(o$(D$))),V(t=>q(t.pipe(d$(t=>{return(e=this.errorHandler,n=this.effectsErrorHandler,t=>{const i=function(t,e,n){const i=y$(t).constructor.name;return q(...(r=t,[v$,_$].reduce((t,e)=>t.concat(e(r)),[])).map(({propertyName:r,dispatch:o,useEffectsErrorHandler:s})=>{const a="function"==typeof t[r]?t[r]():t[r],l=s?n(a,e):a;return!1===o?l.pipe(function(t){return t.lift(new e$)}):l.pipe(function(t){return t.lift(new i$)}).pipe(k(e=>({effect:t[r],notification:e,propertyName:r,sourceName:i,sourceInstance:t})))}));var r}(t,e,n);return k$(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(i):i})(t);var e,n}),k(t=>(function(t,e){if("N"===t.notification.kind){const n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:n}){const i="function"==typeof e[t];return`"${n}.${String(t)}${i?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(VW){return t}}(n)}`))}}(t,this.errorHandler),t.notification)),kh(t=>"N"===t.kind&&null!=t.value),function(t){return t.lift(new f$)}),t.pipe(Ap(1),kh(O$),k(t=>t.ngrxOnInitEffects())))))}}return t.\u0275fac=function(e){return new(e||t)(hi(Xi),hi(I$))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function D$(t){return k$(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}let L$=(()=>{class t{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(hi(A$),hi(Kb))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();lb("@ngrx/effects/init");let B$=(()=>{class t{constructor(t,e,n,i,r,o,s){this.sources=t,e.start(),i.forEach(e=>t.addEffects(e)),n.dispatch({type:"@ngrx/effects/init"})}addEffects(t){this.sources.addEffects(t)}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(A$),hi(L$),hi(Kb),hi(E$),hi(v_,8),hi(C_,8),hi(S$,8))}}),t})(),N$=(()=>{class t{constructor(t,e,n,i){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(hi(B$),hi(F$),hi(v_,8),hi(C_,8))}}),t})(),j$=(()=>{class t{static forFeature(t=[]){return{ngModule:N$,providers:[t,{provide:R$,multi:!0,useValue:t},{provide:M$,multi:!0,useValue:[]},{provide:F$,multi:!0,useFactory:V$,deps:[rs,R$,M$]}]}}static forRoot(t=[]){return{ngModule:B$,providers:[{provide:I$,useValue:w$},L$,A$,x$,t,{provide:T$,useValue:[t]},{provide:S$,useFactory:H$,deps:[[L$,new ii,new oi],[T$,new ri]]},{provide:M$,multi:!0,useValue:[]},{provide:E$,useFactory:V$,deps:[rs,T$,M$]}]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();function V$(t,e,n){const i=[];for(let r of e)i.push(...r);for(let r of n)i.push(...r);return function(t,e){return e.map(e=>t.get(e))}(t,i)}function H$(t,e){if((1!==e.length||0!==e[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let $$=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Ud,w_.forFeature("status",Dv)]]}),t})(),z$=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Ud,w_.forFeature("auth",Uy)]]}),t})();const U$=lb("[Syntax] Load recent syntaxes"),q$=lb("[Syntax] Load recent syntaxes success",{_as:"props",_p:void 0}),W$=lb("[Syntax] Load recent syntaxes error",{_as:"props",_p:void 0}),G$=lb("[Syntax] Add flop syntax",{_as:"props",_p:void 0}),K$=lb("[Syntax] Add preflop syntax",{_as:"props",_p:void 0}),Q$=lb("[Syntax] Add postflop syntax",{_as:"props",_p:void 0});let Y$=(()=>{class t{constructor(t,e,n){this.actions$=t,this.authService=e,this.router=n,this.login$=b$(()=>this.actions$.pipe(P$(Ly),V(t=>this.authService.login(t.user,t.password).pipe(k(e=>this.handleLoginStatus(e.status,e,t.redirect)),$p(()=>Ph(Ny({message:"Sorry, something went wrong",code:pT.Error}))))))),this.loginViaGoogle$=b$(()=>this.actions$.pipe(P$(Dy),V(t=>this.authService.loginViaGoogle().pipe(k(e=>this.handleLoginStatus(e.status,e,t.redirect)),$p(()=>Ph(Ny({message:"Sorry, something went wrong",code:pT.Error}))))))),this.loginSuccess$=b$(()=>this.actions$.pipe(P$(By),Gp(t=>{var e,n;if(t.redirect){const i=Object.assign(Object.assign({},t.redirect.queryParams),{redirectTo:void 0});let r=[""];(null===(n=null===(e=t.redirect)||void 0===e?void 0:e.queryParams)||void 0===n?void 0:n.redirectTo)&&(r="string"==typeof t.redirect.queryParams.redirectTo?[t.redirect.queryParams.redirectTo]:t.redirect.queryParams.redirectTo),this.router.navigate(r,{queryParams:i})}else t.noRedirect||this.router.navigate([""])}),Gp(()=>{this.authService.showAnnouncements()}),V(()=>[jv(),Yy(),qv(),Fv(),R_(),A_(),cv(),hv(),DR(),U$()]))),this.logout$=b$(()=>this.actions$.pipe(P$(Vy),Gp(t=>$m(this,void 0,void 0,function*(){var e;yield this.authService.logout(),(null===(e=t.redirect)||void 0===e?void 0:e.queryParams)?this.router.navigate(["login"],{queryParams:t.redirect.queryParams}):this.router.navigate(["login"])}))),{dispatch:!1}),this.refreshUser$=b$(()=>this.actions$.pipe(P$(jy),Gp(()=>$m(this,void 0,void 0,function*(){return yield this.authService.refreshUserIfNecessary(null,!0)}))),{dispatch:!1})}get isFiveCard(){return!1}handleLoginStatus(t,e,n){switch(t){case pT.Success:return By({user:e.user,redirect:n});case pT.WrongUser:return Ny({message:"Unknown user",code:t});case pT.WrongPassword:return Ny({message:"Wrong user or password",code:t});case pT.NoAccess:return Ny({message:this.isFiveCard?"Your account has no active 5card subscription":"Your account has no active subscription",code:t});case pT.Error:return Ny({message:"Sorry, something went wrong",code:t})}}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(fT),hi(wm))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Z$=(()=>{class t{constructor(t,e){this.actions$=t,this.treeService=e,this.loadPreflopTrees$=b$(()=>this.actions$.pipe(P$(R_),V(()=>this.treeService.loadPreflopTrees().pipe(k(t=>F_({preflopTrees:t})),$p(t=>Ph(I_({error:t}))))))),this.loadPostflopTrees$=b$(()=>this.actions$.pipe(P$(A_),V(()=>this.treeService.loadPostflopTrees().pipe(k(t=>D_({postflopTrees:t})),$p(t=>Ph(L_({error:t}))))))),this.loadPreflopTree$=b$(()=>this.actions$.pipe(P$(B_),V(t=>this.treeService.loadPreflopTree(t.key).pipe(k(t=>N_({tree:t})),$p(t=>Ph(j_({error:t}))))))),this.loadPostflopTree$=b$(()=>this.actions$.pipe(P$(V_),V(t=>this.treeService.loadPostflopTree(t.tree,t.flop,t.turn,t.river,t.transition).pipe(k(t=>H_({tree:t})),$p(t=>Ph($_({error:t})))))))}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(WI))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),J$=(()=>{class t{constructor(t,e,n,i){this.route=t,this.store=e,this.authService=n,this.snackbar=i}intercept(t,e){const n=this.authService.getAccessTokenFromLocalStorage();let i=t;return n&&!t.headers.get("skip-auth")&&(i=t.clone({headers:t.headers.set("Authorization","Bearer "+n)})),e.handle(i).pipe(Gp({next:t=>(t instanceof $h&&401==t.status&&this.handle401(),t),error:t=>{401==t.status&&this.handle401()}}))}handle401(){const t=this.route.snapshot,e=Object.assign({redirectTo:t.url.length>0?t.url:"browse"},t.queryParams);this.store.dispatch(Vy({redirect:{queryParams:e}})),this.snackbar.open("You have been automatically logged out!",null,{duration:5e3})}}return t.\u0275fac=function(e){return new(e||t)(hi(rg),hi(Kb),hi(fT),hi(oA))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const X$=new qn("CdkAccordion");let tz=0,ez=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=d.EMPTY,this.closed=new ql,this.opened=new ql,this.destroyed=new ql,this.expandedChange=new ql,this.id="cdk-accordion-child-"+tz++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Vw(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Vw(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(xs(X$,12),xs(ll),xs(Nx))},t.\u0275dir=qt({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Fa([{provide:X$,useValue:void 0}])]}),t})(),nz=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();const iz=["body"];function rz(t,e){}const oz=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],sz=["mat-expansion-panel-header","*","mat-action-row"];function az(t,e){1&t&&Ms(0,"span",2),2&t&&Ps("@indicatorRotate",Vs()._getExpandedState())}const lz=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],cz=["mat-panel-title","mat-panel-description","*"],uz=new qn("MAT_ACCORDION"),dz={indicatorRotate:OO("indicatorRotate",[TO("collapsed, void",MO({transform:"rotate(0deg)"})),TO("expanded",MO({transform:"rotate(180deg)"})),RO("expanded <=> collapsed, void => collapsed",kO("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),bodyExpansion:OO("bodyExpansion",[TO("collapsed, void",MO({height:"0px",visibility:"hidden"})),TO("expanded",MO({height:"*",visibility:"visible"})),RO("expanded <=> collapsed, void => collapsed",kO("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let hz=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(xs(fl))},t.\u0275dir=qt({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),pz=0;const fz=new qn("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let gz=(()=>{class t extends ez{constructor(t,e,n,i,r,o,s){super(t,e,n),this._viewContainerRef=i,this._animationMode=o,this._hideToggle=!1,this.afterExpand=new ql,this.afterCollapse=new ql,this._inputChanges=new x,this._headerId="mat-expansion-panel-header-"+pz++,this._bodyAnimationDone=new x,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe(rb((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),s&&(this.hideToggle=s.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Vw(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Np(null),kh(()=>this.expanded&&!this._portal),Ap(1)).subscribe(()=>{this._portal=new iP(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(xs(uz,12),xs(ll),xs(Nx),xs(Cl),xs(mu),xs(WS,8),xs(fz,8))},t.\u0275cmp=Nt({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){if(1&t&&ac(n,hz,!0),2&t){let t;ic(t=uc())&&(e._lazyContent=t.first)}},viewQuery:function(t,e){if(1&t&&oc(iz,!0),2&t){let t;ic(t=uc())&&(e._body=t.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&Js("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Fa([{provide:uz,useValue:void 0}]),ss,ae],ngContentSelectors:sz,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&($s(oz),zs(0),ks(1,"div",0,1),Ds("@bodyExpansion.done",function(t){return e._bodyAnimationDone.next(t)}),ks(3,"div",2),zs(4,1),Cs(5,rz,0,0,"ng-template",3),Ss(),zs(6,2),Ss()),2&t&&(Ur(1),Ps("@bodyExpansion",e._getExpandedState())("id",e.id),ys("aria-labelledby",e._headerId),Ur(4),Ps("cdkPortalOutlet",e._portal))},directives:[aP],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[dz.bodyExpansion]},changeDetection:0}),t})(),mz=(()=>{class t{constructor(t,e,n,i,r,o){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._animationMode=o,this._parentChangeSubscription=d.EMPTY;const s=t.accordion?t.accordion._stateChanges.pipe(kh(t=>!(!t.hideToggle&&!t.togglePosition))):mp;this._parentChangeSubscription=q(t.opened,t.closed,s,t._inputChanges.pipe(kh(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(kh(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:pP(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program",e){this._focusMonitor.focusVia(this._element,t,e)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(xs(gz,1),xs(ja),xs(_O),xs(ll),xs(fz,8),xs(WS,8))},t.\u0275cmp=Nt({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&Ds("click",function(){return e._toggle()})("keydown",function(t){return e._keydown(t)}),2&t&&(ys("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),Zs("height",e._getHeaderHeight()),Js("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:cz,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&($s(lz),ks(0,"span",0),zs(1),zs(2,1),zs(3,2),Ss(),Cs(4,az,1,1,"span",1)),2&t&&(Ur(4),Ps("ngIf",e._showToggle()))},directives:[Pd],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[dz.indicatorRotate]},changeDetection:0}),t})(),bz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qt({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),_z=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Ud,tM,nz,uP]]}),t})(),yz=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[tM],tM]}),t})(),vz=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[gM,tM],tM]}),t})();const Cz={provide:new qn("mat-menu-scroll-strategy"),deps:[NP],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let wz=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Cz],imports:[tM]}),t})(),xz=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Cz],imports:[[Ud,tM,gM,UP,wz],Xx,tM,wz]}),t})();const Pz=[[["caption"]],[["colgroup"],["col"]]],Oz=["caption","colgroup, col"];function kz(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Vw(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Sz=new qn("CDK_TABLE");let Mz=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(xs(fl))},t.\u0275dir=qt({type:t,selectors:[["","cdkCellDef",""]]}),t})(),Tz=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(xs(fl))},t.\u0275dir=qt({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),Ez=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(xs(fl))},t.\u0275dir=qt({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class Rz{}const Fz=kz(Rz);let Iz=(()=>{class t extends Fz{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Vw(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=["cdk-column-"+this.cssClassFriendlyName]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(xs(Sz,8))},t.\u0275dir=qt({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&(ac(n,Mz,!0),ac(n,Tz,!0),ac(n,Ez,!0)),2&t){let t;ic(t=uc())&&(e.cell=t.first),ic(t=uc())&&(e.headerCell=t.first),ic(t=uc())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Fa([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ss]}),t})();class Az{constructor(t,e){const n=e.nativeElement.classList;for(const i of t._columnCssClassName)n.add(i)}}let Dz=(()=>{class t extends Az{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(xs(Iz),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[ss]}),t})(),Lz=(()=>{class t extends Az{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(xs(Iz),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[ss]}),t})();class Bz{constructor(){this.tasks=[],this.endTasks=[]}}const Nz=new qn("_COALESCED_STYLE_SCHEDULER");let jz=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Bz,this._getScheduleObservable().pipe(hx(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new Bz;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?L(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ap(1))}}return t.\u0275fac=function(e){return new(e||t)(hi(Lc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Vz=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof zz?t.headerCell.template:this instanceof Wz?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(xs(fl),xs(nl))},t.\u0275dir=qt({type:t,features:[ae]}),t})();class Hz extends Vz{}const $z=kz(Hz);let zz=(()=>{class t extends $z{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(xs(fl),xs(nl),xs(Sz,8))},t.\u0275dir=qt({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[ss,ae]}),t})();class Uz extends Vz{}const qz=kz(Uz);let Wz=(()=>{class t extends qz{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(xs(fl),xs(nl),xs(Sz,8))},t.\u0275dir=qt({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[ss,ae]}),t})(),Gz=(()=>{class t extends Vz{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(xs(fl),xs(nl),xs(Sz,8))},t.\u0275dir=qt({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[ss]}),t})(),Kz=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl))},t.\u0275dir=qt({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),Qz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Rs(0,0)},directives:[Kz],encapsulation:2}),t})(),Yz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Rs(0,0)},directives:[Kz],encapsulation:2}),t})(),Zz=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(xs(fl))},t.\u0275dir=qt({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const Jz=["top","bottom","left","right"];class Xz{constructor(t,e,n,i,r=!0,o=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=i,this._isBrowser=r,this._needsPositionStickyOnElement=o,this._cachedCellWidths=[]}clearStickyPositioning(t,e){const n=[];for(const i of t)if(i.nodeType===i.ELEMENT_NODE){n.push(i);for(let t=0;t<i.children.length;t++)n.push(i.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n,i=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return;const r=t[0],o=r.children.length,s=this._getCellWidths(r,i),a=this._getStickyStartColumnPositions(s,e),l=this._getStickyEndColumnPositions(s,n);this._scheduleStyleChanges(()=>{const i="rtl"===this.direction,r=i?"right":"left",s=i?"left":"right";for(const c of t)for(let t=0;t<o;t++){const i=c.children[t];e[t]&&this._addStickyStyle(i,r,a[t]),n[t]&&this._addStickyStyle(i,s,l[t])}})}stickRows(t,e,n){if(!this._isBrowser)return;const i="bottom"===n?t.slice().reverse():t,r="bottom"===n?e.slice().reverse():e,o=[],s=[];for(let a=0,l=0;a<i.length;a++){if(o[a]=l,!r[a])continue;const t=i[a];s[a]=this._isNativeHtmlTable?Array.from(t.children):[t],a!==i.length-1&&(l+=t.getBoundingClientRect().height)}this._scheduleStyleChanges(()=>{for(let t=0;t<i.length;t++){if(!r[t])continue;const e=o[t];for(const i of s[t])this._addStickyStyle(i,n,e)}})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";Jz.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=n+"px",t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of Jz)t.style[i]&&(n+=e[i]);return n?""+n:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],i=t.children;for(let r=0;r<i.length;r++)n.push(i[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=i,i+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=i,i+=t[r]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}let tU=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["","rowOutlet",""]]}),t})(),eU=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),nU=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),iU=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(xs(Cl),xs(ja))},t.\u0275dir=qt({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),rU=(()=>{class t{constructor(t,e,n,i,r,o,s,a,l,c){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=r,this._platform=s,this._viewRepeater=a,this._coalescedStyleScheduler=l,this._viewportRuler=c,this._onDestroy=new x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new ap({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Vw(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Vw(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler&&this._viewportRuler.change().pipe(hx(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Ix(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,i,{$implicit:e.data})}else if(null==i)e.remove(n);else{const t=e.get(n);e.move(t,i)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let i=0;i<e.length;i++)this._renderRows[i].rowDef===t&&n.push(e[i]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let e=0;e<r.length;e++){let n=r[e];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const t=r.shift();return t.dataIndex=e,t}return{data:t,rowDef:i,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),oU(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=oU(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=oU(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=oU(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const i=this._footerRowDefs.reduce(t,!1);return i&&this._forceRenderFooterRows(),e||n||i}_switchDataSource(t){this._data=[],Ix(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Ix(this.dataSource)?t=this.dataSource.connect(this):rx(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Ph(this.dataSource)),this._renderChangeSubscription=t.pipe(hx(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),i=n.map(t=>t.sticky),r=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,i,r,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let i=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;i&&n.push(i)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,i={}){const r=t.viewContainer.createEmbeddedView(e.template,i,n);return this._renderCellTemplateForItem(e,i),r}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))Kz.mostRecentCellOutlet&&Kz.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Xz(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:Ph()).pipe(hx(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(xs(nl),xs(ll),xs(ja),zn("role"),xs(Rx,8),xs(mu),xs(yx),xs(jx,8),xs(Nz,8),xs(Kx,8))},t.\u0275cmp=Nt({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&(ac(n,Zz,!0),ac(n,Iz,!0),ac(n,Gz,!0),ac(n,zz,!0),ac(n,Wz,!0)),2&t){let t;ic(t=uc())&&(e._noDataRow=t.first),ic(t=uc())&&(e._contentColumnDefs=t),ic(t=uc())&&(e._contentRowDefs=t),ic(t=uc())&&(e._contentHeaderRowDefs=t),ic(t=uc())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(rc(tU,!0),rc(eU,!0),rc(nU,!0),rc(iU,!0)),2&t){let t;ic(t=uc())&&(e._rowOutlet=t.first),ic(t=uc())&&(e._headerRowOutlet=t.first),ic(t=uc())&&(e._footerRowOutlet=t.first),ic(t=uc())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&Js("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[Fa([{provide:Sz,useExisting:t},{provide:jx,useClass:Dx},{provide:Nz,useClass:jz}])],ngContentSelectors:Oz,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&($s(Pz),zs(0),zs(1,1),Rs(2,0),Rs(3,1),Rs(4,2),Rs(5,3))},directives:[eU,tU,iU,nU],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function oU(t,e){return t.concat(Array.from(e))}let sU=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[tP]]}),t})();const aU=[[["caption"]],[["colgroup"],["col"]]],lU=["caption","colgroup, col"];let cU=(()=>{class t extends rU{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return uU(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&Js("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[Fa([{provide:jx,useClass:Dx},{provide:rU,useExisting:t},{provide:Sz,useExisting:t},{provide:Nz,useClass:jz}]),ss],ngContentSelectors:lU,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&($s(aU),zs(0),zs(1,1),Rs(2,0),Rs(3,1),Rs(4,2),Rs(5,3))},directives:[eU,tU,iU,nU],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky;position:sticky}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})();const uU=$n(cU);let dU=(()=>{class t extends Mz{}return t.\u0275fac=function(e){return hU(e||t)},t.\u0275dir=qt({type:t,selectors:[["","matCellDef",""]],features:[Fa([{provide:Mz,useExisting:t}]),ss]}),t})();const hU=$n(dU);let pU=(()=>{class t extends Tz{}return t.\u0275fac=function(e){return fU(e||t)},t.\u0275dir=qt({type:t,selectors:[["","matHeaderCellDef",""]],features:[Fa([{provide:Tz,useExisting:t}]),ss]}),t})();const fU=$n(pU);let gU=(()=>{class t extends Iz{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push("mat-column-"+this.cssClassFriendlyName)}}return t.\u0275fac=function(e){return mU(e||t)},t.\u0275dir=qt({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Fa([{provide:Iz,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ss]}),t})();const mU=$n(gU);let bU=(()=>{class t extends Dz{}return t.\u0275fac=function(e){return _U(e||t)},t.\u0275dir=qt({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[ss]}),t})();const _U=$n(bU);let yU=(()=>{class t extends Lz{}return t.\u0275fac=function(e){return vU(e||t)},t.\u0275dir=qt({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[ss]}),t})();const vU=$n(yU);let CU=(()=>{class t extends zz{}return t.\u0275fac=function(e){return wU(e||t)},t.\u0275dir=qt({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Fa([{provide:zz,useExisting:t}]),ss]}),t})();const wU=$n(CU);let xU=(()=>{class t extends Gz{}return t.\u0275fac=function(e){return PU(e||t)},t.\u0275dir=qt({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Fa([{provide:Gz,useExisting:t}]),ss]}),t})();const PU=$n(xU);let OU=(()=>{class t extends Qz{}return t.\u0275fac=function(e){return kU(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[Fa([{provide:Qz,useExisting:t}]),ss],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Rs(0,0)},directives:[Kz],encapsulation:2}),t})();const kU=$n(OU);let SU=(()=>{class t extends Yz{}return t.\u0275fac=function(e){return MU(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[Fa([{provide:Yz,useExisting:t}]),ss],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Rs(0,0)},directives:[Kz],encapsulation:2}),t})();const MU=$n(SU);let TU=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[sU,tM],tM]}),t})();const EU={provide:new qn("mat-autocomplete-scroll-strategy"),deps:[NP],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let RU=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[EU],imports:[[UP,EM,tM,Ud],Xx,EM,tM]}),t})();const FU=[KS,fE,_z,yz,aE,xz,cT,jD,nj,IA,ZT,vz,aR,JM,TU,vL,iA,RU,xF];let IU=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Ud,...FU],KS,fE,_z,yz,aE,xz,cT,jD,nj,IA,ZT,vz,aR,JM,TU,vL,iA,RU,xF]}),t})();function AU(t,e){const n=e-t.length,i=[...t];for(let r=0;r<n;r++)i.push("");return i}function DU(t,e){1&t&&(ks(0,"th",16),ua(1," Syntax "),Ss())}function LU(t,e){if(1&t&&(ks(0,"td",17),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.syntax," ")}}function BU(t,e){1&t&&(ks(0,"th",18),ua(1," Explanation "),Ss())}function NU(t,e){if(1&t&&(ks(0,"td",19),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.explanation," ")}}function jU(t,e){1&t&&(ks(0,"th",20),ua(1," Example "),Ss())}function VU(t,e){if(1&t&&(ks(0,"span",26),ua(1),Ss()),2&t){const t=Vs().$implicit;Ur(1),da(t.suffix)}}function HU(t,e){if(1&t&&(Ts(0),Ms(1,"app-cards",24),Cs(2,VU,2,1,"span",25),Es()),2&t){const t=e.$implicit,n=e.last,i=Vs(2);Ur(1),Ps("cards",t.fill?i.fillEmptyCards(t.cards):t.cards),Ur(1),Ps("ngIf",!n)}}function $U(t,e){if(1&t&&(ks(0,"td",21),ks(1,"div",22),Cs(2,HU,3,2,"ng-container",23),Ss(),Ss()),2&t){const t=e.$implicit;Ur(2),Ps("ngForOf",t.cardExample)}}function zU(t,e){1&t&&Ms(0,"tr",27)}function UU(t,e){1&t&&Ms(0,"tr",28)}function qU(t,e){1&t&&(ks(0,"th",16),ua(1," Syntax "),Ss())}function WU(t,e){if(1&t&&(ks(0,"td",17),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.syntax," ")}}function GU(t,e){1&t&&(ks(0,"th",18),ua(1," Explanation "),Ss())}function KU(t,e){if(1&t&&(ks(0,"td",19),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.explanation," ")}}function QU(t,e){1&t&&(ks(0,"th",20),ua(1," Example "),Ss())}function YU(t,e){if(1&t&&(ks(0,"span",26),ua(1),Ss()),2&t){const t=Vs().$implicit;Ur(1),da(t.suffix)}}function ZU(t,e){if(1&t&&(Ts(0),Ms(1,"app-cards",24),Cs(2,YU,2,1,"span",25),Es()),2&t){const t=e.$implicit,n=e.last,i=Vs(3);Ur(1),Ps("cards",t.fill?i.fillEmptyCards(t.cards):t.cards),Ur(1),Ps("ngIf",!n)}}function JU(t,e){if(1&t&&(ks(0,"div",22),Cs(1,ZU,3,2,"ng-container",23),Ss()),2&t){const t=Vs().$implicit;Ur(1),Ps("ngForOf",t.cardExample)}}function XU(t,e){if(1&t&&(ks(0,"div",22),ua(1),Ss()),2&t){const t=Vs().$implicit;Ur(1),ha(" ",t.textExample," ")}}function tq(t,e){if(1&t&&(ks(0,"td",21),Cs(1,JU,2,1,"div",29),Cs(2,XU,2,1,"div",29),Ss()),2&t){const t=e.$implicit;Ur(1),Ps("ngIf",t.cardExample),Ur(1),Ps("ngIf",!t.cardExample&&t.textExample)}}function eq(t,e){1&t&&Ms(0,"tr",27)}function nq(t,e){1&t&&Ms(0,"tr",28)}let iq=(()=>{class t{fillEmptyCards(t){return AU(t,3)}get displayedColumns(){return["syntax","explanation","example"]}get basicElements(){return[{syntax:"A",explanation:"Any ace",cardExample:[{cards:["A"],fill:!0}]},{syntax:"Ac",explanation:"Ace of clubs",cardExample:[{cards:["Ac"],fill:!0}]},{syntax:"Axx",explanation:"Suited ace (any suit)",cardExample:[{cards:["Ad","*d"],fill:!0}]},{syntax:"c d h s",explanation:"Suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"x y w z",explanation:"Generic suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"RR",explanation:"Paired",cardExample:[{cards:["A","A"],fill:!0}]},{syntax:"$rb",explanation:"Rainbow",cardExample:[{cards:["*s","*d","*c"],fill:!1}]},{syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*c"],fill:!1}]},{syntax:"$mt",explanation:"Monotone",cardExample:[{cards:["*s","*s","*s"],fill:!1}]}]}get operatorElements(){return[{syntax:"!",explanation:"Exclude/Not",textExample:"'!A' Flops without any ace"},{syntax:",",explanation:"Or",textExample:"'A,K' Flops with an ace or king"},{syntax:":",explanation:"And",textExample:"'A:$rb' Rainbow flops with an ace"},{syntax:"( )",explanation:"Group",textExample:"'!(A,K)' Flops without any aces or kings"}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["board-syntax-dialog"]],decls:32,vars:6,consts:[["mat-dialog-title",""],[1,"syntax-dialog-content","mat-typography"],["mat-table","",1,"syntax-table",3,"dataSource"],["matColumnDef","syntax"],["mat-header-cell","","class","syntax-col",4,"matHeaderCellDef"],["mat-cell","","class","syntax-col",4,"matCellDef"],["matColumnDef","explanation"],["mat-header-cell","","class","explanation-col",4,"matHeaderCellDef"],["mat-cell","","class","explanation-col",4,"matCellDef"],["matColumnDef","example"],["mat-header-cell","","class","example-col",4,"matHeaderCellDef"],["mat-cell","","class","example-col",4,"matCellDef"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end"],["mat-dialog-close","",1,"close-link"],["mat-header-cell","",1,"syntax-col"],["mat-cell","",1,"syntax-col"],["mat-header-cell","",1,"explanation-col"],["mat-cell","",1,"explanation-col"],["mat-header-cell","",1,"example-col"],["mat-cell","",1,"example-col"],[1,"examples"],[4,"ngFor","ngForOf"],[3,"cards"],["class","separator",4,"ngIf"],[1,"separator"],["mat-header-row","","sticky",""],["mat-row",""],["class","examples",4,"ngIf"]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1,"Board filter syntax"),Ss(),ks(2,"mat-dialog-content",1),ks(3,"table",2),Ts(4,3),Cs(5,DU,2,0,"th",4),Cs(6,LU,2,1,"td",5),Es(),Ts(7,6),Cs(8,BU,2,0,"th",7),Cs(9,NU,2,1,"td",8),Es(),Ts(10,9),Cs(11,jU,2,0,"th",10),Cs(12,$U,3,1,"td",11),Es(),Cs(13,zU,1,0,"tr",12),Cs(14,UU,1,0,"tr",13),Ss(),ks(15,"h4"),ua(16,"Operators"),Ss(),ks(17,"table",2),Ts(18,3),Cs(19,qU,2,0,"th",4),Cs(20,WU,2,1,"td",5),Es(),Ts(21,6),Cs(22,GU,2,0,"th",7),Cs(23,KU,2,1,"td",8),Es(),Ts(24,9),Cs(25,QU,2,0,"th",10),Cs(26,tq,3,2,"td",11),Es(),Cs(27,eq,1,0,"tr",12),Cs(28,nq,1,0,"tr",13),Ss(),Ss(),ks(29,"mat-dialog-actions",14),ks(30,"a",15),ua(31,"Close"),Ss(),Ss()),2&t&&(Ur(3),Ps("dataSource",e.basicElements),Ur(10),Ps("matHeaderRowDef",e.displayedColumns),Ur(1),Ps("matRowDefColumns",e.displayedColumns),Ur(3),Ps("dataSource",e.operatorElements),Ur(10),Ps("matHeaderRowDef",e.displayedColumns),Ur(1),Ps("matRowDefColumns",e.displayedColumns))},directives:[KM,QM,cU,gU,pU,dU,CU,xU,YM,GM,bU,yU,wd,oB,Pd,OU,SU],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}  .board-syntax-dialog>mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .board-syntax-dialog>mat-dialog-container h4{margin-bottom:0!important}  .mat-cell,   .mat-header-cell{color:var(--text-color)!important;border-bottom-color:var(--text-color)!important}.syntax-dialog-content[_ngcontent-%COMP%]{margin:5px}.syntax-table[_ngcontent-%COMP%]{background:none!important;margin-bottom:30px}.syntax-col[_ngcontent-%COMP%]{width:120px}.explanation-col[_ngcontent-%COMP%]{width:200px;margin:0 10px}.example-col[_ngcontent-%COMP%]{width:200px}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 5px;font-size:18px}.close-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.close-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();const rq=[{label:"Cards & suits",groups:[{label:"Cards & suits",elements:[{syntax:"A",explanation:"Any ace",cardExample:[{cards:["A"],fill:!0}]},{syntax:"Ac",explanation:"Ace of clubs",cardExample:[{cards:["Ac"],fill:!0}]},{syntax:"Axx",explanation:"Suited ace (any suit)",cardExample:[{cards:["Ad","*d"],fill:!0}]},{syntax:"c d h s",explanation:"Suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"x y w z",explanation:"Generic suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*d","*c"],fill:!0}]},{syntax:"$ds",explanation:"Double suited",cardExample:[{cards:["*s","*s","*d","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$ts",explanation:"Triple suited",cardExample:[{cards:["*s","*s","*s","*d"],fill:!0}]},{syntax:"$rb",explanation:"Rainbow suited",cardExample:[{cards:["*s","*d","*c","*h"],fill:!0}]},{syntax:"$ms",explanation:"Monotone suited",cardExample:[{cards:["*s","*s","*s","*s"],fill:!0}]}]}]},{label:"Made hands",groups:[{label:"Straight flush",elements:[{syntax:"RF",explanation:"Royal flush",cardExample:[{cards:["Ah","Kh","",""],fill:!0,suffix:"+"},{cards:["Qh","Jh","Th"],fill:!1}]},{syntax:"SF",explanation:"Straight flush",cardExample:[{cards:["Jh","Th","",""],fill:!0,suffix:"+"},{cards:["9h","8h","7h"],fill:!1}]}]},{label:"Quads",elements:[{syntax:"QS",explanation:"Quads",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","K",""],fill:!1}]}]},{label:"Full House",elements:[{syntax:"FH",explanation:"Any full house",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]},{syntax:"FHN",explanation:"Nut boat",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]},{syntax:"FHNN",explanation:"Non-nut boat",cardExample:[{cards:["Q","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]}]},{label:"Flush",elements:[{syntax:"FL",explanation:"Any flush",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FLN / FLN1",explanation:"Nut flush",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FLN2",explanation:"Second nut flush",cardExample:[{cards:["Kd","*d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6d"],fill:!1}]},{syntax:"FLNN",explanation:"Non nut flush",cardExample:[{cards:["Td","2d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6d"],fill:!1}]},{syntax:"FL3",explanation:"Flush with 3",cardExample:[{cards:["*d","*d","*d",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FL4",explanation:"Flush with 4",cardExample:[{cards:["*d","*d","*d","*d"],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]}]},{label:"Straight",elements:[{syntax:"STR",explanation:"Any straight",cardExample:[{cards:["J","8","",""],fill:!0,suffix:"+"},{cards:["Q","T","9"],fill:!1}]},{syntax:"STR1",explanation:"Nut straight",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STR2",explanation:"Second nut straight",cardExample:[{cards:["Q","8","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STR3",explanation:"Third nut straight",cardExample:[{cards:["8","7","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STRNN",explanation:"Non nut straight",cardExample:[{cards:["8","6","",""],fill:!0,suffix:"+"},{cards:["J","T","9","7"],fill:!1}]}]},{label:"Set / Trips",elements:[{syntax:"SET",explanation:"Any set",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","",""],fill:!1}]},{syntax:"SETT",explanation:"Top set",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"SETM",explanation:"Middle set",cardExample:[{cards:["Q","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"SETB",explanation:"Bottom set",cardExample:[{cards:["J","J","J",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"TRI",explanation:"Any trips",cardExample:[{cards:["K","","",""],fill:!0,suffix:"+"},{cards:["K","K",""],fill:!1}]},{syntax:"TRIH",explanation:"High trips",cardExample:[{cards:["K","","",""],fill:!0,suffix:"+"},{cards:["K","K","J","J"],fill:!1}]},{syntax:"TRIL",explanation:"Low trips",cardExample:[{cards:["J","","",""],fill:!0,suffix:"+"},{cards:["K","K","J","J"],fill:!1}]}]},{label:"Two Pair",elements:[{syntax:"2P",explanation:"Any two pair",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"3P",explanation:"Any three pair",cardExample:[{cards:["A","Q","T",""],fill:!0,suffix:"+"},{cards:["A","Q","T"],fill:!1}]},{syntax:"4P",explanation:"Any four pair",cardExample:[{cards:["A","Q","T","8"],fill:!0,suffix:"+"},{cards:["A","Q","T","8"],fill:!1}]},{syntax:"2PT2",explanation:"Top two pair",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]},{syntax:"2PTB",explanation:"Top bottom two pair",cardExample:[{cards:["K","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]},{syntax:"2PB2",explanation:"Bottom two pair",cardExample:[{cards:["Q","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]}]},{label:"One Pair",elements:[{syntax:"BOP",explanation:"Any board pair",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["A","",""],fill:!1}]},{syntax:"OP",explanation:"Overpair",cardExample:[{cards:["A","A","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"TP",explanation:"Top pair",cardExample:[{cards:["Q","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"MP",explanation:"Middle pair",cardExample:[{cards:["J","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"BP",explanation:"Bottom pair",cardExample:[{cards:["T","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"UP",explanation:"Underpair",cardExample:[{cards:["8","8","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"RR",explanation:"Any pocket pair",cardExample:[{cards:["A","A"],fill:!0,suffix:"+"},{cards:["","",""],fill:!1}]},{syntax:"RROO",explanation:"Any double pocket pair",cardExample:[{cards:["J","J","T","T"],fill:!0,suffix:"+"},{cards:["","",""],fill:!1}]}]}]},{label:"Air / Draws",groups:[{label:"Straight flush draw",elements:[{syntax:"SFD / FDSF",explanation:"Straight flush draw",cardExample:[{cards:["Ah","Kh","",""],fill:!0,suffix:"+"},{cards:["Qh","Jh",""],fill:!1}]}]},{label:"Flush draw",elements:[{syntax:"FD",explanation:"Any flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"DFD",explanation:"Double flush draw",cardExample:[{cards:["*d","*d","*c","*c"],fill:!0,suffix:"+"},{cards:["*d","*d","*c","*c"],fill:!1}]},{syntax:"NFD / NFD1",explanation:"Nut flush draw",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"NFD2",explanation:"Second nut flush draw",cardExample:[{cards:["Kd","*d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d",""],fill:!1}]},{syntax:"FDNN",explanation:"Non nut flush draw",cardExample:[{cards:["Td","2d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d",""],fill:!1}]}]},{label:"Backdoor flush draw",elements:[{syntax:"BDFD",explanation:"Any backdoor flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDNFD",explanation:"Backdoor nut flush draw",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDFD1",explanation:"One backdoor flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDFD2",explanation:"Two backdoor flush draw",cardExample:[{cards:["*d","*d","*h","*h"],fill:!0,suffix:"+"},{cards:["*d","*h",""],fill:!1}]}]},{label:"Straight draw",elements:[{syntax:"SD",explanation:"Any straight draw",cardExample:[{cards:["9","8","7",""],fill:!0,suffix:"+"},{cards:["6","",""],fill:!1}]},{syntax:"WR",explanation:"Wrap (9+ outs)",cardExample:[{cards:["T","8","7",""],fill:!0,suffix:"+"},{cards:["A","J","9"],fill:!1}]},{syntax:"OESD",explanation:"OESD  (8 outs)",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["J","T",""],fill:!1}]},{syntax:"GS",explanation:"Gutshot (4 outs)",cardExample:[{cards:["A","K","",""],fill:!0,suffix:"+"},{cards:["J","T",""],fill:!1}]},{syntax:"NWR / NOESD / NGS",explanation:"Nut straight draws. A straight draw for which every out leads to the nut straight",cardExample:[]}]},{label:"Air",elements:[{syntax:"AIR",explanation:"Any non-made hand"},{syntax:"=AIR",explanation:"Any non-made hand that is also not a flush/straight draw"}]}]},{label:"Blockers",groups:[{label:"Flush blockers",elements:[{syntax:"BLF",explanation:"Any flush blocker",cardExample:[{cards:["*d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLFN / BLF1",explanation:"Nut flush blocker",cardExample:[{cards:["Ad","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLF2",explanation:"Second nut flush blocker",cardExample:[{cards:["Kd","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLFNN",explanation:"Non nut flush blocker",cardExample:[{cards:["8d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]}]},{label:"Flush draw blockers",elements:[{syntax:"BLFD",explanation:"Any flush draw blocker",cardExample:[{cards:["*d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFDN / BLFD1",explanation:"Nut flush draw blocker",cardExample:[{cards:["Ad","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFD2",explanation:"Second nut flush draw blocker",cardExample:[{cards:["Kd","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFDNN",explanation:"Non nut flush draw blocker",cardExample:[{cards:["8d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]}]},{label:"Straight blockers",elements:[{syntax:"BLS",explanation:"Straight blocker",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLSRR",explanation:"Straight blocker with pair",cardExample:[{cards:["T","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS1",explanation:"One straight blocker",cardExample:[{cards:["9","","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS2",explanation:"Two straight blockers",cardExample:[{cards:["9","9","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS3",explanation:"Three straight blockers",cardExample:[{cards:["A","A","A",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS4",explanation:"Four straight blockers",cardExample:[{cards:["T","T","T","T"],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]}]},{label:"Straight draw blockers",elements:[{syntax:"BLSD",explanation:"Straight draw blocker",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSDRR",explanation:"Straight draw blocker with pair",cardExample:[{cards:["T","T","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD1",explanation:"One straight draw blocker",cardExample:[{cards:["9","","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD2",explanation:"Two straight draw blockers",cardExample:[{cards:["9","9","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD3",explanation:"Three straight draw blockers",cardExample:[{cards:["A","A","A",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD4",explanation:"Four straight draw blockers",cardExample:[{cards:["T","T","T","T"],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]}]}]},{label:"Operators",groups:[{label:"Operators",elements:[{syntax:"!",explanation:"Exclude/Not",textExample:"'!FD' Exclude flush draws"},{syntax:",",explanation:"Or",textExample:"'A,K' Ace or King"},{syntax:":",explanation:"And",textExample:"'BOP:FD' Board pairs with flush draw"},{syntax:"( )",explanation:"Group",textExample:"'!(SD,FD)' No straight or flush draws"},{syntax:">",explanation:"Equals and better than",textExample:"'>BP' Bottom pair or better"},{syntax:"<",explanation:"Worse than",textExample:"'<2P' Worse than two pair"},{syntax:"=",explanation:"Equals and not better than",textExample:"'=TRI' Exactly trips but not better"}]}]}],oq=[{label:"Cards & suits",groups:[{label:"Cards & suits",elements:[{syntax:"A",explanation:"Any ace",cardExample:[{cards:["A"],fill:!0}]},{syntax:"Ac",explanation:"Ace of clubs",cardExample:[{cards:["Ac"],fill:!0}]},{syntax:"Axx",explanation:"Suited ace (any suit)",cardExample:[{cards:["Ad","*d"],fill:!0}]},{syntax:"c d h s",explanation:"Suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"x y w z",explanation:"Generic suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*d","*c"],fill:!0}]},{syntax:"$ds",explanation:"Double suited",cardExample:[{cards:["*s","*s","*d","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$dsp",explanation:"Double suited pure",cardExample:[{cards:["*s","*s","*d","*d","*c"],fill:!0}]},{syntax:"$dts",explanation:"Double triple suited",cardExample:[{cards:["*s","*s","*s","*d","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$ts",explanation:"Triple suited",cardExample:[{cards:["*s","*s","*s","*d"],fill:!0}]},{syntax:"$qs",explanation:"Quad suited",cardExample:[{cards:["*s","*s","*s","*s","*d"],fill:!0}]},{syntax:"$ms",explanation:"Monotone suited",cardExample:[{cards:["*s","*s","*s","*s","*s"],fill:!0}]}]}]},{label:"Made hands",groups:[{label:"Straight flush",elements:[{syntax:"RF",explanation:"Royal flush",cardExample:[{cards:["Ah","Kh","",""],fill:!0,suffix:"+"},{cards:["Qh","Jh","Th"],fill:!1}]},{syntax:"SF",explanation:"Straight flush",cardExample:[{cards:["Jh","Th","",""],fill:!0,suffix:"+"},{cards:["9h","8h","7h"],fill:!1}]}]},{label:"Quads",elements:[{syntax:"QS",explanation:"Quads",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","K",""],fill:!1}]}]},{label:"Full House",elements:[{syntax:"FH",explanation:"Any full house",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]},{syntax:"FHN",explanation:"Nut boat",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]},{syntax:"FHNN",explanation:"Non-nut boat",cardExample:[{cards:["Q","Q","",""],fill:!0,suffix:"+"},{cards:["K","K","Q"],fill:!1}]}]},{label:"Flush",elements:[{syntax:"FL",explanation:"Any flush",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FLN / FLN1",explanation:"Nut flush",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FLN2",explanation:"Second nut flush",cardExample:[{cards:["Kd","*d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6d"],fill:!1}]},{syntax:"FLNN",explanation:"Non nut flush",cardExample:[{cards:["Td","2d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6d"],fill:!1}]},{syntax:"FL3",explanation:"Flush with 3",cardExample:[{cards:["*d","*d","*d",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"FL4",explanation:"Flush with 4",cardExample:[{cards:["*d","*d","*d","*d"],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]}]},{label:"Straight",elements:[{syntax:"STR",explanation:"Any straight",cardExample:[{cards:["J","8","",""],fill:!0,suffix:"+"},{cards:["Q","T","9"],fill:!1}]},{syntax:"STR1",explanation:"Nut straight",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STR2",explanation:"Second nut straight",cardExample:[{cards:["Q","8","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STR3",explanation:"Third nut straight",cardExample:[{cards:["8","7","",""],fill:!0,suffix:"+"},{cards:["J","T","9"],fill:!1}]},{syntax:"STRNN",explanation:"Non nut straight",cardExample:[{cards:["8","6","",""],fill:!0,suffix:"+"},{cards:["J","T","9","7"],fill:!1}]}]},{label:"Set / Trips",elements:[{syntax:"SET",explanation:"Any set",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","",""],fill:!1}]},{syntax:"SETT",explanation:"Top set",cardExample:[{cards:["K","K","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"SETM",explanation:"Middle set",cardExample:[{cards:["Q","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"SETB",explanation:"Bottom set",cardExample:[{cards:["J","J","J",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"TRI",explanation:"Any trips",cardExample:[{cards:["K","","",""],fill:!0,suffix:"+"},{cards:["K","K",""],fill:!1}]},{syntax:"TRIH",explanation:"High trips",cardExample:[{cards:["K","","",""],fill:!0,suffix:"+"},{cards:["K","K","J","J"],fill:!1}]},{syntax:"TRIL",explanation:"Low trips",cardExample:[{cards:["J","","",""],fill:!0,suffix:"+"},{cards:["K","K","J","J"],fill:!1}]}]},{label:"Two Pair",elements:[{syntax:"2P",explanation:"Any two pair",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"3P",explanation:"Any three pair",cardExample:[{cards:["A","Q","T",""],fill:!0,suffix:"+"},{cards:["A","Q","T"],fill:!1}]},{syntax:"4P",explanation:"Any four pair",cardExample:[{cards:["A","Q","T","8"],fill:!0,suffix:"+"},{cards:["A","Q","T","8"],fill:!1}]},{syntax:"2PT2",explanation:"Top two pair",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]},{syntax:"2PTB",explanation:"Top bottom two pair",cardExample:[{cards:["K","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]},{syntax:"2PB2",explanation:"Bottom two pair",cardExample:[{cards:["Q","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","T"],fill:!1}]}]},{label:"One Pair",elements:[{syntax:"BOP",explanation:"Any board pair",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["A","",""],fill:!1}]},{syntax:"OP",explanation:"Overpair",cardExample:[{cards:["A","A","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"TP",explanation:"Top pair",cardExample:[{cards:["Q","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"MP",explanation:"Middle pair",cardExample:[{cards:["J","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"BP",explanation:"Bottom pair",cardExample:[{cards:["T","","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"UP",explanation:"Underpair",cardExample:[{cards:["8","8","",""],fill:!0,suffix:"+"},{cards:["Q","J","T"],fill:!1}]},{syntax:"RR",explanation:"Any pocket pair",cardExample:[{cards:["A","A"],fill:!0,suffix:"+"},{cards:["","",""],fill:!1}]},{syntax:"RROO",explanation:"Any double pocket pair",cardExample:[{cards:["J","J","T","T"],fill:!0,suffix:"+"},{cards:["","",""],fill:!1}]}]}]},{label:"Air / Draws",groups:[{label:"Straight flush draw",elements:[{syntax:"SFD / FDSF",explanation:"Straight flush draw",cardExample:[{cards:["Ah","Kh","",""],fill:!0,suffix:"+"},{cards:["Qh","Jh",""],fill:!1}]}]},{label:"Flush draw",elements:[{syntax:"FD",explanation:"Any flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"DFD",explanation:"Double flush draw",cardExample:[{cards:["*d","*d","*c","*c"],fill:!0,suffix:"+"},{cards:["*d","*d","*c","*c"],fill:!1}]},{syntax:"NFD / NFD1",explanation:"Nut flush draw",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"NFD2",explanation:"Second nut flush draw",cardExample:[{cards:["Kd","*d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d","6"],fill:!1}]},{syntax:"FDNN",explanation:"Non nut flush draw",cardExample:[{cards:["Td","2d","",""],fill:!0,suffix:"+"},{cards:["Jd","8d",""],fill:!1}]}]},{label:"Backdoor flush draw",elements:[{syntax:"BDFD",explanation:"Any backdoor flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDNFD",explanation:"Backdoor nut flush draw",cardExample:[{cards:["Ad","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDFD1",explanation:"One backdoor flush draw",cardExample:[{cards:["*d","*d","",""],fill:!0,suffix:"+"},{cards:["*d","",""],fill:!1}]},{syntax:"BDFD2",explanation:"Two backdoor flush draw",cardExample:[{cards:["*d","*d","*h","*h"],fill:!0,suffix:"+"},{cards:["*d","*h",""],fill:!1}]}]},{label:"Straight draw",elements:[{syntax:"SD",explanation:"Any straight draw",cardExample:[{cards:["9","8","7",""],fill:!0,suffix:"+"},{cards:["6","",""],fill:!1}]},{syntax:"WR",explanation:"Wrap (9+ outs)",cardExample:[{cards:["T","8","7",""],fill:!0,suffix:"+"},{cards:["A","J","9"],fill:!1}]},{syntax:"OESD",explanation:"OESD  (8 outs)",cardExample:[{cards:["K","Q","",""],fill:!0,suffix:"+"},{cards:["J","T",""],fill:!1}]},{syntax:"GS",explanation:"Gutshot (4 outs)",cardExample:[{cards:["A","K","",""],fill:!0,suffix:"+"},{cards:["J","T",""],fill:!1}]},{syntax:"NWR / NOESD / NGS",explanation:"Nut straight draws. A straight draw for which every out leads to the nut straight",cardExample:[]}]},{label:"Air",elements:[{syntax:"AIR",explanation:"Any non-made hand"},{syntax:"=AIR",explanation:"Any non-made hand that is also not a flush/straight draw"}]}]},{label:"Blockers",groups:[{label:"Flush blockers",elements:[{syntax:"BLF",explanation:"Any flush blocker",cardExample:[{cards:["*d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLFN / BLF1",explanation:"Nut flush blocker",cardExample:[{cards:["Ad","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLF2",explanation:"Second nut flush blocker",cardExample:[{cards:["Kd","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]},{syntax:"BLFNN",explanation:"Non nut flush blocker",cardExample:[{cards:["8d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d","*d"],fill:!1}]}]},{label:"Flush draw blockers",elements:[{syntax:"BLFD",explanation:"Any flush draw blocker",cardExample:[{cards:["*d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFDN / BLFD1",explanation:"Nut flush draw blocker",cardExample:[{cards:["Ad","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFD2",explanation:"Second nut flush draw blocker",cardExample:[{cards:["Kd","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]},{syntax:"BLFDNN",explanation:"Non nut flush draw blocker",cardExample:[{cards:["8d","","",""],fill:!0,suffix:"+"},{cards:["*d","*d",""],fill:!1}]}]},{label:"Straight blockers",elements:[{syntax:"BLS",explanation:"Straight blocker",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLSRR",explanation:"Straight blocker with pair",cardExample:[{cards:["T","T","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS1",explanation:"One straight blocker",cardExample:[{cards:["9","","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS2",explanation:"Two straight blockers",cardExample:[{cards:["9","9","",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS3",explanation:"Three straight blockers",cardExample:[{cards:["A","A","A",""],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]},{syntax:"BLS4",explanation:"Four straight blockers",cardExample:[{cards:["T","T","T","T"],fill:!0,suffix:"+"},{cards:["K","Q","J"],fill:!1}]}]},{label:"Straight draw blockers",elements:[{syntax:"BLSD",explanation:"Straight draw blocker",cardExample:[{cards:["A","","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSDRR",explanation:"Straight draw blocker with pair",cardExample:[{cards:["T","T","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD1",explanation:"One straight draw blocker",cardExample:[{cards:["9","","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD2",explanation:"Two straight draw blockers",cardExample:[{cards:["9","9","",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD3",explanation:"Three straight draw blockers",cardExample:[{cards:["A","A","A",""],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]},{syntax:"BLSD4",explanation:"Four straight draw blockers",cardExample:[{cards:["T","T","T","T"],fill:!0,suffix:"+"},{cards:["K","Q",""],fill:!1}]}]}]},{label:"Operators",groups:[{label:"Operators",elements:[{syntax:"!",explanation:"Exclude/Not",textExample:"'!FD' Exclude flush draws"},{syntax:",",explanation:"Or",textExample:"'A,K' Ace or King"},{syntax:":",explanation:"And",textExample:"'BOP:FD' Board pairs with flush draw"},{syntax:"( )",explanation:"Group",textExample:"'!(SD,FD)' No straight or flush draws"},{syntax:">",explanation:"Equals and better than",textExample:"'>BP' Bottom pair or better"},{syntax:"<",explanation:"Worse than",textExample:"'<2P' Worse than two pair"},{syntax:"=",explanation:"Equals and not better than",textExample:"'=TRI' Exactly trips but not better"}]}]}];function sq(t,e){1&t&&(ks(0,"span",21),Ms(1,"i",22),Ss())}function aq(t,e){1&t&&(ks(0,"span",21),Ms(1,"i",23),Ss())}function lq(t,e){1&t&&(ks(0,"th",24),ua(1," Syntax "),Ss())}function cq(t,e){if(1&t&&(ks(0,"td",25),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.syntax," ")}}function uq(t,e){1&t&&(ks(0,"th",26),ua(1," Explanation "),Ss())}function dq(t,e){if(1&t&&(ks(0,"td",27),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.explanation," ")}}function hq(t,e){1&t&&(ks(0,"th",28),ua(1," Example "),Ss())}function pq(t,e){if(1&t&&(ks(0,"span",35),ua(1),Ss()),2&t){const t=Vs().$implicit;Ur(1),da(t.suffix)}}function fq(t,e){if(1&t&&(Ts(0),Ms(1,"app-cards",33),Cs(2,pq,2,1,"span",34),Es()),2&t){const t=e.$implicit,n=e.last,i=Vs(5);Ur(1),Ps("cards",t.fill?i.fillEmptyCards(t.cards):t.cards),Ur(1),Ps("ngIf",!n)}}function gq(t,e){if(1&t&&(ks(0,"div",31),Cs(1,fq,3,2,"ng-container",32),Ss()),2&t){const t=Vs().$implicit;Ur(1),Ps("ngForOf",t.cardExample)}}function mq(t,e){if(1&t&&(ks(0,"div",31),ua(1),Ss()),2&t){const t=Vs().$implicit;Ur(1),ha(" ",t.textExample," ")}}function bq(t,e){if(1&t&&(ks(0,"td",29),Cs(1,gq,2,1,"div",30),Cs(2,mq,2,1,"div",30),Ss()),2&t){const t=e.$implicit;Ur(1),Ps("ngIf",t.cardExample),Ur(1),Ps("ngIf",!t.cardExample&&t.textExample)}}function _q(t,e){1&t&&Ms(0,"tr",36)}function yq(t,e){1&t&&Ms(0,"tr",37)}function vq(t,e){if(1&t){const t=Fs();ks(0,"mat-expansion-panel",7),Ds("opened",function(){Re(t);const n=e.index,i=Vs().index;return Vs().panelOpenState[i][n]=!0})("closed",function(){Re(t);const n=e.index,i=Vs().index;return Vs().panelOpenState[i][n]=!1}),ks(1,"mat-expansion-panel-header"),ks(2,"mat-panel-title"),ua(3),Ss(),Cs(4,sq,2,0,"span",8),Cs(5,aq,2,0,"span",8),Ss(),ks(6,"table",9),Ts(7,10),Cs(8,lq,2,0,"th",11),Cs(9,cq,2,1,"td",12),Es(),Ts(10,13),Cs(11,uq,2,0,"th",14),Cs(12,dq,2,1,"td",15),Es(),Ts(13,16),Cs(14,hq,2,0,"th",17),Cs(15,bq,3,2,"td",18),Es(),Cs(16,_q,1,0,"tr",19),Cs(17,yq,1,0,"tr",20),Ss(),Ss()}if(2&t){const t=e.$implicit,n=e.index,i=Vs(),r=i.index,o=i.$implicit,s=Vs();Ur(3),da(t.label),Ur(1),Ps("ngIf",s.panelOpenState[r][n]),Ur(1),Ps("ngIf",!s.panelOpenState[r][n]),Ur(1),Ps("dataSource",s.getElements(o.label,t.label)),Ur(10),Ps("matHeaderRowDef",s.displayedColumns),Ur(1),Ps("matRowDefColumns",s.displayedColumns)}}function Cq(t,e){if(1&t&&(ks(0,"div",5),ks(1,"h4"),ua(2),Ss(),Cs(3,vq,18,6,"mat-expansion-panel",6),Ss()),2&t){const t=e.$implicit;Ur(2),da(t.label),Ur(1),Ps("ngForOf",t.groups)}}let wq=(()=>{class t{constructor(){this.title="Postflop filter syntax",this.panelOpenState=[]}ngOnInit(){this.panelOpenState=this.sections.map(t=>t.groups.map(()=>!1))}fillEmptyCards(t){return AU(t,this.isFiveCard?5:4)}get isFiveCard(){return!1}get sections(){return this.isFiveCard?oq:rq}get displayedColumns(){return["syntax","explanation","example"]}getElements(t,e){var n;const i=this.sections.find(e=>e.label===t);return null===(n=null==i?void 0:i.groups.find(t=>t.label===e))||void 0===n?void 0:n.elements}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["postflop-syntax-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],[1,"syntax-dialog-content","mat-typography"],["class","section",4,"ngFor","ngForOf"],["align","end"],["mat-dialog-close","",1,"close-link"],[1,"section"],["class","expansion-panel","hideToggle","true",3,"opened","closed",4,"ngFor","ngForOf"],["hideToggle","true",1,"expansion-panel",3,"opened","closed"],["class","icon",4,"ngIf"],["mat-table","",1,"syntax-table",3,"dataSource"],["matColumnDef","syntax"],["mat-header-cell","","class","syntax-col",4,"matHeaderCellDef"],["mat-cell","","class","syntax-col",4,"matCellDef"],["matColumnDef","explanation"],["mat-header-cell","","class","explanation-col",4,"matHeaderCellDef"],["mat-cell","","class","explanation-col",4,"matCellDef"],["matColumnDef","example"],["mat-header-cell","","class","example-col",4,"matHeaderCellDef"],["mat-cell","","class","example-col",4,"matCellDef"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"icon"],[1,"fas","fa-caret-up"],[1,"fas","fa-caret-down"],["mat-header-cell","",1,"syntax-col"],["mat-cell","",1,"syntax-col"],["mat-header-cell","",1,"explanation-col"],["mat-cell","",1,"explanation-col"],["mat-header-cell","",1,"example-col"],["mat-cell","",1,"example-col"],["class","examples",4,"ngIf"],[1,"examples"],[4,"ngFor","ngForOf"],[3,"cards"],["class","separator",4,"ngIf"],[1,"separator"],["mat-header-row","","sticky",""],["mat-row",""]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1),Ss(),ks(2,"mat-dialog-content",1),Cs(3,Cq,4,2,"div",2),Ss(),ks(4,"mat-dialog-actions",3),ks(5,"a",4),ua(6,"Close"),Ss(),Ss()),2&t&&(Ur(1),da(e.title),Ur(2),Ps("ngForOf",e.sections))},directives:[KM,QM,wd,YM,GM,gz,mz,bz,Pd,cU,gU,pU,dU,CU,xU,bU,yU,oB,OU,SU],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}  .postflop-syntax-dialog>mat-dialog-container{color:var(--text-color)!important;background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .postflop-syntax-dialog>mat-dialog-container h4{margin-bottom:0!important}  .mat-cell,   .mat-header-cell{color:var(--text-color)!important;border-bottom-color:var(--text-color)!important}mat-expansion-panel[_ngcontent-%COMP%]{margin:15px 0!important;background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);color:var(--text-color)}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header-title{color:var(--text-color)}.icon[_ngcontent-%COMP%]{color:var(--fa-icon-color)}.syntax-dialog-content[_ngcontent-%COMP%]{margin:5px}.syntax-table[_ngcontent-%COMP%]{background:none!important;margin-bottom:30px}.syntax-col[_ngcontent-%COMP%]{width:120px}.explanation-col[_ngcontent-%COMP%]{width:200px;margin:0 10px}.example-col[_ngcontent-%COMP%]{width:200px}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 5px;font-size:18px}.close-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.close-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();function xq(t,e){1&t&&(ks(0,"th",16),ua(1," Syntax "),Ss())}function Pq(t,e){if(1&t&&(ks(0,"td",17),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.syntax," ")}}function Oq(t,e){1&t&&(ks(0,"th",18),ua(1," Explanation "),Ss())}function kq(t,e){if(1&t&&(ks(0,"td",19),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.explanation," ")}}function Sq(t,e){1&t&&(ks(0,"th",20),ua(1," Example "),Ss())}function Mq(t,e){if(1&t&&(ks(0,"span",26),ua(1),Ss()),2&t){const t=Vs().$implicit;Ur(1),da(t.suffix)}}function Tq(t,e){if(1&t&&(Ts(0),Ms(1,"app-cards",24),Cs(2,Mq,2,1,"span",25),Es()),2&t){const t=e.$implicit,n=e.last,i=Vs(2);Ur(1),Ps("cards",t.fill?i.fillEmptyCards(t.cards):t.cards),Ur(1),Ps("ngIf",!n)}}function Eq(t,e){if(1&t&&(ks(0,"td",21),ks(1,"div",22),Cs(2,Tq,3,2,"ng-container",23),Ss(),Ss()),2&t){const t=e.$implicit;Ur(2),Ps("ngForOf",t.cardExample)}}function Rq(t,e){1&t&&Ms(0,"tr",27)}function Fq(t,e){1&t&&Ms(0,"tr",28)}function Iq(t,e){1&t&&(ks(0,"th",16),ua(1," Syntax "),Ss())}function Aq(t,e){if(1&t&&(ks(0,"td",17),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.syntax," ")}}function Dq(t,e){1&t&&(ks(0,"th",18),ua(1," Explanation "),Ss())}function Lq(t,e){if(1&t&&(ks(0,"td",19),ua(1),Ss()),2&t){const t=e.$implicit;Ur(1),ha(" ",t.explanation," ")}}function Bq(t,e){1&t&&(ks(0,"th",20),ua(1," Example "),Ss())}function Nq(t,e){if(1&t&&(ks(0,"span",26),ua(1),Ss()),2&t){const t=Vs().$implicit;Ur(1),da(t.suffix)}}function jq(t,e){if(1&t&&(Ts(0),Ms(1,"app-cards",24),Cs(2,Nq,2,1,"span",25),Es()),2&t){const t=e.$implicit,n=e.last,i=Vs(3);Ur(1),Ps("cards",t.fill?i.fillEmptyCards(t.cards):t.cards),Ur(1),Ps("ngIf",!n)}}function Vq(t,e){if(1&t&&(ks(0,"div",22),Cs(1,jq,3,2,"ng-container",23),Ss()),2&t){const t=Vs().$implicit;Ur(1),Ps("ngForOf",t.cardExample)}}function Hq(t,e){if(1&t&&(ks(0,"div",22),ua(1),Ss()),2&t){const t=Vs().$implicit;Ur(1),ha(" ",t.textExample," ")}}function $q(t,e){if(1&t&&(ks(0,"td",21),Cs(1,Vq,2,1,"div",29),Cs(2,Hq,2,1,"div",29),Ss()),2&t){const t=e.$implicit;Ur(1),Ps("ngIf",t.cardExample),Ur(1),Ps("ngIf",!t.cardExample&&t.textExample)}}function zq(t,e){1&t&&Ms(0,"tr",27)}function Uq(t,e){1&t&&Ms(0,"tr",28)}let qq=(()=>{class t{fillEmptyCards(t){return AU(t,this.isFiveCard?5:4)}get isFiveCard(){return!1}get displayedColumns(){return["syntax","explanation","example"]}get basicElements(){const t=[{syntax:"A",explanation:"Any ace",cardExample:[{cards:["A"],fill:!0}]},{syntax:"Ac",explanation:"Ace of clubs",cardExample:[{cards:["Ac"],fill:!0}]},{syntax:"Axx",explanation:"Suited ace (any suit)",cardExample:[{cards:["Ad","*d"],fill:!0}]},{syntax:"c d h s",explanation:"Suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"x y w z",explanation:"Generic suits",cardExample:[{cards:["*c"],fill:!1},{cards:["*d"],fill:!1},{cards:["*h"],fill:!1},{cards:["*s"],fill:!1}]},{syntax:"RR",explanation:"Any pocket pair",cardExample:[{cards:["A","A"],fill:!0}]},{syntax:"RROO",explanation:"Any double pocket pair",cardExample:[{cards:["J","J","T","T"],fill:!0}]},{syntax:"$np",explanation:"No pairs",cardExample:[{cards:["A","x","y","z"],fill:!0}]}];return this.isFiveCard?t.push({syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*d","*c","*h"],fill:!0}]},{syntax:"$ssn",explanation:"Single suited - nut suit",cardExample:[{cards:["As","*s","*d","*c","*h"],fill:!0}]},{syntax:"$ssnn",explanation:"Single suited - non nut suit",cardExample:[{cards:["Ks","*s","*d","*c","*h"],fill:!0}]},{syntax:"$ds",explanation:"Double suited",cardExample:[{cards:["*s","*s","*d","*d"],fill:!0}]},{syntax:"$dsnn",explanation:"Double suited - non nut suit",cardExample:[{cards:["Ks","*s","*d","*d"],fill:!0}]},{syntax:"$dsn",explanation:"Double suited - nut suit",cardExample:[{cards:["As","*s","*d","*d"],fill:!0}]},{syntax:"$dsdn",explanation:"Double suited - double nut suit",cardExample:[{cards:["As","*s","Ad","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$dsp",explanation:"Double suited pure",cardExample:[{cards:["*s","*s","*d","*d","*c"],fill:!0}]},{syntax:"$dts",explanation:"Double triple suited",cardExample:[{cards:["*s","*s","*s","*d","*d"],fill:!0}]},{syntax:"$ts",explanation:"Triple suited",cardExample:[{cards:["*s","*s","*s","*d"],fill:!0}]},{syntax:"$tsn",explanation:"Triple suited - nut suit",cardExample:[{cards:["As","*s","*s","*d"],fill:!0}]},{syntax:"$tsnn",explanation:"Triple suited - non nut suit",cardExample:[{cards:["Ks","*s","*s","*d"],fill:!0}]},{syntax:"$qs",explanation:"Quad suited",cardExample:[{cards:["*s","*s","*s","*s","*d"],fill:!0}]},{syntax:"$ms",explanation:"Monotone suited",cardExample:[{cards:["*s","*s","*s","*s","*s"],fill:!0}]}):t.push({syntax:"$ss",explanation:"Single suited",cardExample:[{cards:["*s","*s","*d","*c"],fill:!0}]},{syntax:"$ssn",explanation:"Single suited - nut suit",cardExample:[{cards:["As","*s","*d","*c"],fill:!0}]},{syntax:"$ssnn",explanation:"Single suited - non nut suit",cardExample:[{cards:["Ks","*s","*d","*c"],fill:!0}]},{syntax:"$ds",explanation:"Double suited",cardExample:[{cards:["*s","*s","*d","*d"],fill:!0}]},{syntax:"$dsnn",explanation:"Double suited - non nut suit",cardExample:[{cards:["Ks","*s","*d","*d"],fill:!0}]},{syntax:"$dsn",explanation:"Double suited - nut suit",cardExample:[{cards:["As","*s","*d","*d"],fill:!0}]},{syntax:"$dsdn",explanation:"Double suited - double nut suit",cardExample:[{cards:["As","*s","Ad","*d"],fill:!0}]},{syntax:"$lds",explanation:"Low double suited",cardExample:[{cards:["As","Ks","Td","9d"],fill:!0}]},{syntax:"$hds",explanation:"High double suited",cardExample:[{cards:["As","Ts","Kd","9d"],fill:!0}]},{syntax:"$ts",explanation:"Triple suited",cardExample:[{cards:["*s","*s","*s","*d"],fill:!0}]},{syntax:"$rb",explanation:"Rainbow suited",cardExample:[{cards:["*s","*d","*c","*h"],fill:!0}]},{syntax:"$ms",explanation:"Monotone suited",cardExample:[{cards:["*s","*s","*s","*s"],fill:!0}]}),this.isFiveCard?t.push({syntax:"$0g",explanation:"Zero-gap rundown",cardExample:[{cards:["A","K","Q","J","T"],fill:!1}]},{syntax:"$1g",explanation:"One-gap rundown",cardExample:[{cards:["A","2","4","5","6"],fill:!1}]},{syntax:"$2g",explanation:"Two-gap rundown",cardExample:[{cards:["T","8","7","5","4"],fill:!1}]},{syntax:"$0g4",explanation:"4-card zero-gap rundown",cardExample:[{cards:["A","K","Q","J"],fill:!0}]},{syntax:"$1g4",explanation:"4-card one-gap rundown",cardExample:[{cards:["A","2","4","5"],fill:!0}]},{syntax:"$2g4",explanation:"4-card two-gap rundown",cardExample:[{cards:["T","8","7","5"],fill:!0}]}):t.push({syntax:"$0g",explanation:"Zero-gap rundown",cardExample:[{cards:["A","K","Q","J"],fill:!1}]},{syntax:"$1g",explanation:"One-gap rundown",cardExample:[{cards:["A","2","4","5"],fill:!1}]},{syntax:"$2g",explanation:"Two-gap rundown",cardExample:[{cards:["T","8","7","5"],fill:!1}]}),t}get operatorElements(){return[{syntax:"!",explanation:"Exclude/Not",textExample:"'!RR' Exclude pocket pairs"},{syntax:",",explanation:"Or",textExample:"'A,K' Ace or king"},{syntax:":",explanation:"And",textExample:"'RR:$ds' Pocket pair and double suited"},{syntax:"( )",explanation:"Group",textExample:"'A:(K,Q,J)' Ace with either king, queen or jack"}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Nt({type:t,selectors:[["preflop-syntax-dialog"]],decls:32,vars:6,consts:[["mat-dialog-title",""],[1,"syntax-dialog-content","mat-typography"],["mat-table","",1,"syntax-table",3,"dataSource"],["matColumnDef","syntax"],["mat-header-cell","","class","syntax-col",4,"matHeaderCellDef"],["mat-cell","","class","syntax-col",4,"matCellDef"],["matColumnDef","explanation"],["mat-header-cell","","class","explanation-col",4,"matHeaderCellDef"],["mat-cell","","class","explanation-col",4,"matCellDef"],["matColumnDef","example"],["mat-header-cell","","class","example-col",4,"matHeaderCellDef"],["mat-cell","","class","example-col",4,"matCellDef"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end"],["mat-dialog-close","",1,"close-link"],["mat-header-cell","",1,"syntax-col"],["mat-cell","",1,"syntax-col"],["mat-header-cell","",1,"explanation-col"],["mat-cell","",1,"explanation-col"],["mat-header-cell","",1,"example-col"],["mat-cell","",1,"example-col"],[1,"examples"],[4,"ngFor","ngForOf"],[3,"cards"],["class","separator",4,"ngIf"],[1,"separator"],["mat-header-row","","sticky",""],["mat-row",""],["class","examples",4,"ngIf"]],template:function(t,e){1&t&&(ks(0,"h2",0),ua(1,"Preflop filter syntax"),Ss(),ks(2,"mat-dialog-content",1),ks(3,"table",2),Ts(4,3),Cs(5,xq,2,0,"th",4),Cs(6,Pq,2,1,"td",5),Es(),Ts(7,6),Cs(8,Oq,2,0,"th",7),Cs(9,kq,2,1,"td",8),Es(),Ts(10,9),Cs(11,Sq,2,0,"th",10),Cs(12,Eq,3,1,"td",11),Es(),Cs(13,Rq,1,0,"tr",12),Cs(14,Fq,1,0,"tr",13),Ss(),ks(15,"h4"),ua(16,"Operators"),Ss(),ks(17,"table",2),Ts(18,3),Cs(19,Iq,2,0,"th",4),Cs(20,Aq,2,1,"td",5),Es(),Ts(21,6),Cs(22,Dq,2,0,"th",7),Cs(23,Lq,2,1,"td",8),Es(),Ts(24,9),Cs(25,Bq,2,0,"th",10),Cs(26,$q,3,2,"td",11),Es(),Cs(27,zq,1,0,"tr",12),Cs(28,Uq,1,0,"tr",13),Ss(),Ss(),ks(29,"mat-dialog-actions",14),ks(30,"a",15),ua(31,"Close"),Ss(),Ss()),2&t&&(Ur(3),Ps("dataSource",e.basicElements),Ur(10),Ps("matHeaderRowDef",e.displayedColumns),Ur(1),Ps("matRowDefColumns",e.displayedColumns),Ur(3),Ps("dataSource",e.operatorElements),Ur(10),Ps("matHeaderRowDef",e.displayedColumns),Ur(1),Ps("matRowDefColumns",e.displayedColumns))},directives:[KM,QM,cU,gU,pU,dU,CU,xU,YM,GM,bU,yU,wd,oB,Pd,OU,SU],styles:["[_nghost-%COMP%]{background-color:var(--background-color);color:var(--text-color)}  .preflop-syntax-dialog>mat-dialog-container{background-color:var(--background-color);box-shadow:var(--box-shadow);border-style:var(--border-style);border-radius:var(--border-radius)}  .preflop-syntax-dialog>mat-dialog-container h4{margin-bottom:0!important}  .mat-cell,   .mat-header-cell{color:var(--text-color)!important;border-bottom-color:var(--text-color)!important}.syntax-dialog-content[_ngcontent-%COMP%]{margin:5px}.syntax-table[_ngcontent-%COMP%]{background:none!important;margin-bottom:30px}.syntax-col[_ngcontent-%COMP%]{width:120px}.explanation-col[_ngcontent-%COMP%]{width:200px;margin:0 10px}.example-col[_ngcontent-%COMP%]{width:200px}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.example-col[_ngcontent-%COMP%]   .examples[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 5px;font-size:18px}.close-link[_ngcontent-%COMP%]{height:32px;line-height:32px;text-align:center;font-size:16px;font-weight:400;padding:1px 20px;cursor:pointer;color:var(--link-color)}.close-link[_ngcontent-%COMP%]:hover{padding:0 19px;color:var(--link-color-hover);border:var(--border-style);border-radius:var(--link-border-radius)}"]}),t})();const Wq=E_({lastUsedPreflop:[],lastUsedPostflop:[],lastUsedFlop:[]},T_(q$,(t,{flop:e,preflop:n,postflop:i})=>Object.assign(Object.assign({},t),{lastUsedFlop:[...e].filter(t=>!!t),lastUsedPreflop:[...n].filter(t=>!!t),lastUsedPostflop:[...i].filter(t=>!!t)})),T_(G$,(t,{syntax:e})=>Object.assign(Object.assign({},t),{lastUsedFlop:[e,...t.lastUsedFlop.filter(t=>t!==e).slice(0,4)]})),T_(K$,(t,{syntax:e})=>Object.assign(Object.assign({},t),{lastUsedPreflop:[e,...t.lastUsedPreflop.filter(t=>t!==e).slice(0,4)]})),T_(Q$,(t,{syntax:e})=>Object.assign(Object.assign({},t),{lastUsedPostflop:[e,...t.lastUsedPostflop.filter(t=>t!==e).slice(0,4)]})));function Gq(t,e){return Wq(t,e)}const Kq=n_("syntax"),Qq=t_(Kq,t=>t.lastUsedFlop.filter(t=>!!t&&t.length>0)),Yq=t_(Kq,t=>t.lastUsedPreflop.filter(t=>!!t&&t.length>0)),Zq=t_(Kq,t=>t.lastUsedPostflop.filter(t=>!!t&&t.length>0)),Jq=["cardFilter"];function Xq(t,e){if(1&t){const t=Fs();ks(0,"div",12),Ds("click",function(){return Re(t),Vs().toggleRecentSyntaxes()}),Ms(1,"i",13),Ss()}}function tW(t,e){if(1&t){const t=Fs();ks(0,"button",14),Ds("click",function(){return Re(t),Vs().reset()}),Ms(1,"i",15),Ss()}}function eW(t,e){if(1&t){const t=Fs();ks(0,"div",18),Ds("click",function(n){Re(t);const i=e.$implicit;return Vs(2).selectRecentSyntax(i,n)}),ua(1),Ss()}if(2&t){const t=e.$implicit;Ur(1),ha(" ",t," ")}}function nW(t,e){if(1&t&&(ks(0,"div",16),Cs(1,eW,2,1,"div",17),Vl(2,"async"),Ss()),2&t){const t=Vs();Js("show",t.showRecentSyntaxes),Ur(1),Ps("ngForOf",Hl(2,3,t.recentSyntaxes$))}}let iW=(()=>{class t{constructor(t,e){this.dialog=t,this.store=e,this.isBoardFilter=!1,this.filter=new ql,this.filterControl=new dw(""),this.syntaxIsValid=!0,this.showRecentSyntaxes=!1,this.lastEmitted=null,this.bucketMacros$=this.store.pipe(Yb(this.isPostFlop?kv:Ov))}ngOnInit(){var t;this.recentSyntaxes$=this.store.pipe(Yb(this.isBoardFilter?Qq:this.isPostFlop?Zq:Yq),k(t=>t.sort())),this.setValue(null!==(t=this.initialValue)&&void 0!==t?t:""),this.keyPressSubscription&&this.keyPressSubscription.unsubscribe(),this.keyPressSubscription=qw(document,"keyup").subscribe(t=>$m(this,void 0,void 0,function*(){switch(t.key){case"Escape":this.closeRecentSyntaxes()}}))}ngOnDestroy(){this.keyPressSubscription&&this.keyPressSubscription.unsubscribe()}get isPostFlop(){const t=dy(this.store.pipe(Yb(yy)));return t&&t.type===X_.postflop}get value(){return this.filterControl.value}setValue(t){this.filterControl.setValue(t),this.lastEmitted=t}focus(){this.filterInput.nativeElement.focus()}reset(){this.filterControl.setValue(""),this.syntaxIsValid=!0}resetError(){this.syntaxIsValid=!0}closeRecentSyntaxes(){this.showRecentSyntaxes=!1}toggleRecentSyntaxes(){this.showRecentSyntaxes=!this.showRecentSyntaxes,this.focus()}selectRecentSyntax(t,e){e.stopPropagation(),this.closeRecentSyntaxes(),this.filterControl.setValue(t),this.submit()}submit(){const t=this.filterControl.value;if(t.length>0){const e=dy(this.bucketMacros$);this.syntaxIsValid=function(t,e,n){try{return t.length>0&&Object(yR.parseFilterSyntax)(t,!1,n,e),!0}catch(i){return!1}}(t,this.isPostFlop&&!this.isBoardFilter,e)}this.syntaxIsValid&&(dy(this.recentSyntaxes$).includes(t)||this.store.dispatch(this.isBoardFilter?G$({syntax:t}):this.isPostFlop?Q$({syntax:t}):K$({syntax:t})),this.emit(t))}openSyntaxDialog(){this.isBoardFilter?this.dialog.open(iq,{panelClass:"board-syntax-dialog"}):this.isPostFlop?this.dialog.open(wq,{panelClass:"postflop-syntax-dialog"}):this.dialog.open(qq,{panelClass:"preflop-syntax-dialog"})}emit(t){t!==this.lastEmitted&&(this.lastEmitted=t,this.filter.emit(t))}}return t.\u0275fac=function(e){return new(e||t)(xs(qM),xs(Kb))},t.\u0275cmp=Nt({type:t,selectors:[["app-card-filter"]],viewQuery:function(t,e){if(1&t&&oc(Jq,!0),2&t){let t;ic(t=uc())&&(e.filterInput=t.first)}},inputs:{label:"label",initialValue:"initialValue",placeholder:"placeholder",isBoardFilter:"isBoardFilter"},outputs:{filter:"filter"},decls:15,vars:12,consts:[[1,"filter-container"],[1,"syntax-container"],["class","icon history",3,"click",4,"ngIf"],[1,"filter-form"],["color","accent",1,"card-filter-field"],["matInput","","type","text","spellcheck","false","autocomplete","off",3,"formControl","placeholder","keyup","blur","keyup.enter"],["cardFilter",""],["type","button","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"icon","info",3,"click"],[1,"fas","fa-info-circle"],[1,"syntax-error"],["class","recent-syntaxes",3,"show",4,"ngIf"],[1,"icon","history",3,"click"],[1,"fas","fa-history"],["type","button","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"far","fa-times-circle"],[1,"recent-syntaxes"],["class","recent-syntax",3,"click",4,"ngFor","ngForOf"],[1,"recent-syntax",3,"click"]],template:function(t,e){if(1&t&&(ks(0,"div",0),ks(1,"div",1),Cs(2,Xq,2,0,"div",2),ks(3,"form",3),ks(4,"mat-form-field",4),ks(5,"mat-label"),ua(6),Ss(),ks(7,"input",5,6),Ds("keyup",function(){return e.resetError()})("blur",function(){return e.submit()})("keyup.enter",function(){return e.submit()}),Ss(),Cs(9,tW,2,0,"button",7),Ss(),Ss(),ks(10,"div",8),Ds("click",function(){return e.openSyntaxDialog()}),Ms(11,"i",9),Ss(),Ss(),ks(12,"div",10),ua(13,"Invalid syntax!"),Ss(),Cs(14,nW,3,5,"div",11),Ss()),2&t){const t=ws(8);Js("fixed-width",e.isBoardFilter),Ur(1),Js("invalid",!e.syntaxIsValid),Ur(1),Ps("ngIf",!e.isBoardFilter),Ur(4),da(e.label),Ur(1),Ps("formControl",e.filterControl)("placeholder",e.placeholder),Ur(2),Ps("ngIf",t.value),Ur(3),Js("show",!e.syntaxIsValid),Ur(2),Ps("ngIf",!e.isBoardFilter)}},directives:[Pd,vw,DC,mw,YT,VT,sE,hC,AC,xw,pE,UT,wd],pipes:[Bd],styles:["div[role=listbox]{background-color:var(--background-color)!important;margin:.3125rem 0}  .mat-option{color:var(--text-color)!important}  .mat-selected{background-color:var(--background-color)!important}  .mat-option-disabled{color:var(--text-color-disabled)!important}.filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;align-items:flex-start;width:100%;height:3.75rem}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%}.filter-container[_ngcontent-%COMP%]   .syntax-container.fixed-width[_ngcontent-%COMP%]{width:10rem;max-width:10rem}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{cursor:pointer}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{margin-left:.3125rem;margin-bottom:.2rem}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .icon.history[_ngcontent-%COMP%]{margin-right:.3125rem}.filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .card-filter-field[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .syntax-container[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]{width:100%}.filter-container[_ngcontent-%COMP%]   .syntax-container.invalid[_ngcontent-%COMP%]     .mat-input-element{color:red!important}.filter-container[_ngcontent-%COMP%]   .syntax-container.invalid[_ngcontent-%COMP%]     .mat-form-field-ripple, .filter-container[_ngcontent-%COMP%]   .syntax-container.invalid[_ngcontent-%COMP%]     .mat-form-field-underline{background-color:red!important}.filter-container[_ngcontent-%COMP%]   .syntax-error[_ngcontent-%COMP%]{margin-top:-1rem;visibility:hidden;color:red;font-size:.625rem}.filter-container[_ngcontent-%COMP%]   .syntax-error.show[_ngcontent-%COMP%]{visibility:visible}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:translateY(-100%);background-color:var(--background-color);border:var(--border-style);border-radius:var(--border-radius);box-shadow:var(--box-shadow);width:18.75rem;padding:.3125rem;z-index:100;visibility:hidden}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes.show[_ngcontent-%COMP%]{visibility:visible}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes[_ngcontent-%COMP%]   .recent-syntax[_ngcontent-%COMP%]{height:1.25rem;margin-bottom:.3125rem;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes[_ngcontent-%COMP%]   .recent-syntax[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-container[_ngcontent-%COMP%]   .recent-syntaxes[_ngcontent-%COMP%]   .recent-syntax[_ngcontent-%COMP%]:hover{color:var(--app-color);background:rgba(0,0,0,.04)!important}"]}),t})(),rW=(()=>{class t{constructor(t,e){this.actions$=t,this.bucketService=e,this.loadPreflopBuckets$=b$(()=>this.actions$.pipe(P$(cv),V(()=>this.bucketService.loadPreflopBuckets().pipe(k(t=>uv({groups:t})),$p(()=>Ph(dv({message:"Sorry, something went wrong"}))))))),this.loadPostflopBuckets$=b$(()=>this.actions$.pipe(P$(hv),V(()=>this.bucketService.loadPostflopBuckets().pipe(k(t=>pv({groups:t})),$p(()=>Ph(fv({message:"Sorry, something went wrong"}))))))),this.clearPreflopBucketLookup$=b$(()=>this.actions$.pipe(P$(_v),Gp(()=>this.bucketService.clearPreflopBucketLookup())),{dispatch:!1}),this.clearPostflopBucketLookup$=b$(()=>this.actions$.pipe(P$(yv),Gp(()=>this.bucketService.clearPostflopBucketLookup())),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(GI))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const oW=E_({},T_(LR,(t,{stats:e,remainingHands:n,remainingPreflopRanges:i,remainingPostflopRanges:r})=>Object.assign(Object.assign(Object.assign({},t),e),{remainingHands:n,remainingPreflopRanges:i,remainingPostflopRanges:r})),T_(jR,(t,{stats:e,remainingHands:n})=>Object.assign(Object.assign(Object.assign({},t),e),{remainingHands:n})));function sW(t,e){return oW(t,e)}let aW=(()=>{class t{constructor(t){this.http=t}get client(){return"4c"}trackResult(t,e,n){return L(this.http.post(`${pu}/training/result/${this.client}`,{rangeKey:t,filter:e,outcome:n}))}checkStats(){return L(this.http.get(`${pu}/training/stats/${this.client}`))}}return t.\u0275fac=function(e){return new(e||t)(hi(tF))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lW=(()=>{class t{constructor(t){this.router=t}startSingleRangeTraining(t){this.router.navigate(["train"],{queryParams:t})}startMultiRangeTraining(t,e){this.router.navigate(["train"],{queryParams:Object.assign(Object.assign({},t),{randomBoard:!0,boardFilter:(null==e?void 0:e.length)>0?e:void 0})})}startGameTraining(t){this.router.navigate(["game"],{queryParams:t})}}return t.\u0275fac=function(e){return new(e||t)(hi(wm))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cW=(()=>{class t{constructor(t,e,n){this.actions$=t,this.trainingStatsService=e,this.trainingService=n,this.checkTrainingStats$=b$(()=>this.actions$.pipe(P$(DR),V(()=>this.trainingStatsService.checkStats().pipe(k(t=>LR({stats:{totalHands:t.totalHands,percentCorrect:t.percentCorrect},remainingHands:t.remainingHands,remainingPostflopRanges:t.remainingPostflopRanges,remainingPreflopRanges:t.remainingPreflopRanges})),$p(t=>Ph(BR({error:t}))))))),this.trackTrainingResult$=b$(()=>this.actions$.pipe(P$(NR),V(t=>this.trainingStatsService.trackResult(t.rangeKey,t.filter,t.outcome).pipe(k(t=>jR({stats:{totalHands:t.totalHands,percentCorrect:t.percentCorrect},remainingHands:t.remainingHands})),$p(t=>Ph(VR({error:t}))))))),this.startTraining$=b$(()=>this.actions$.pipe(P$(HR),Gp(t=>this.trainingService.startSingleRangeTraining(t.queryParams))),{dispatch:!1}),this.startRandomBoardTraining$=b$(()=>this.actions$.pipe(P$($R),Gp(t=>this.trainingService.startMultiRangeTraining(t.queryParams,t.boardFilter))),{dispatch:!1}),this.startGameTraining$=b$(()=>this.actions$.pipe(P$(zR),Gp(t=>this.trainingService.startGameTraining(t.queryParams))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(aW),hi(lW))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),uW=(()=>{class t{constructor(t){this.http=t}get isFiveCard(){return!1}loadSettings(){return L(this.http.get(pu+"/user/settings"))}updateSettingsForTraining(t){return L(this.http.put(pu+"/user/settings",{training:t}))}updateSettingsForReleaseNotes(t){return L(this.http.put(pu+"/user/settings",this.isFiveCard?{fivecardReleaseNotesLastSeen:t}:{releaseNotesLastSeen:t}))}}return t.\u0275fac=function(e){return new(e||t)(hi(tF))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dW=(()=>{class t{constructor(t,e){this.actions$=t,this.settingsService=e,this.loadSettings$=b$(()=>this.actions$.pipe(P$(qv),V(()=>this.settingsService.loadSettings().pipe(k(t=>Wv({settings:t})),$p(t=>Ph(Gv({error:t}))))))),this.updateSettingsForTraining$=b$(()=>this.actions$.pipe(P$(Kv),V(t=>this.settingsService.updateSettingsForTraining(t.training).pipe(k(t=>Wv({settings:t})),$p(t=>Ph(Gv({error:t}))))))),this.updateSettingsForReleaseNotes$=b$(()=>this.actions$.pipe(P$(Qv),V(t=>this.settingsService.updateSettingsForReleaseNotes(t.releaseNotesLastSeen).pipe(k(t=>Wv({settings:t})),$p(t=>Ph(Gv({error:t})))))))}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(uW))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),hW=(()=>{class t{constructor(t){this.http=t}get isFiveCard(){return!1}assembleUrl(t){return`${pu}${t}${this.isFiveCard?"/?fivecard=true":""}`}saveSyntaxForPreflop(t){return $m(this,void 0,void 0,function*(){yield this.http.post(this.assembleUrl("/user/syntax/preflop"),{syntax:t})})}saveSyntaxForPostflop(t){return $m(this,void 0,void 0,function*(){yield this.http.post(this.assembleUrl("/user/syntax/postflop"),{syntax:t})})}saveSyntaxForFlop(t){return $m(this,void 0,void 0,function*(){yield this.http.post(this.assembleUrl("/user/syntax/flop"),{syntax:t})})}loadSyntaxes(){return L(this.http.get(this.assembleUrl("/user/syntax")))}}return t.\u0275fac=function(e){return new(e||t)(hi(tF))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pW=(()=>{class t{constructor(t,e){this.actions$=t,this.syntaxService=e,this.loadRecentSyntaxes$=b$(()=>this.actions$.pipe(P$(U$),V(()=>this.syntaxService.loadSyntaxes().pipe(k(t=>q$(t)),$p(t=>Ph(W$({error:t}))))))),this.addSyntaxForFlop$=b$(()=>this.actions$.pipe(P$(G$),kh(t=>t.syntax.length>0),Gp(t=>$m(this,void 0,void 0,function*(){return yield this.syntaxService.saveSyntaxForFlop(t.syntax)}))),{dispatch:!1}),this.addSyntaxForPreflop$=b$(()=>this.actions$.pipe(P$(K$),kh(t=>t.syntax.length>0),Gp(t=>$m(this,void 0,void 0,function*(){return yield this.syntaxService.saveSyntaxForPreflop(t.syntax)}))),{dispatch:!1}),this.addSyntaxForPostflop$=b$(()=>this.actions$.pipe(P$(Q$),kh(t=>t.syntax.length>0),Gp(t=>$m(this,void 0,void 0,function*(){return yield this.syntaxService.saveSyntaxForPostflop(t.syntax)}))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(hW))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),fW=(()=>{class t{handleError(t){console.error("Error from global error handler",t),console.error(JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),gW=(()=>{class t{constructor(t,e,n){this.http=t,this.store=e,this.dialog=n}get isFiveCard(){return!1}get baseUrl(){return this.isFiveCard?pu+"/fivecard":""+pu}loadAppInfo(){return L(this.http.get(this.baseUrl+"/info"))}checkNewUpdates(t){return $m(this,void 0,void 0,function*(){yield jw(3e3);const e=dy(this.store.pipe(Yb(tC(this.isFiveCard)))),n=oC(null==t?void 0:t.releaseNotes,e);n&&0===this.dialog.openDialogs.length&&(this.store.dispatch(Qv({releaseNotesLastSeen:new Date(n.dateReleased)})),this.dialog.open(EE,{data:{hasNewUpdates:!0}})),yield jw(3e5),this.store.dispatch(jv())})}}return t.\u0275fac=function(e){return new(e||t)(hi(tF),hi(Kb),hi(qM))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mW=(()=>{class t{constructor(t,e){this.actions$=t,this.appInfoService=e,this.loadAppInfo$=b$(()=>this.actions$.pipe(P$(jv),V(()=>this.appInfoService.loadAppInfo().pipe(k(t=>Vv({info:t})),$p(t=>Ph(Hv({error:t}))))))),this.loadAppInfoSuccess$=b$(()=>this.actions$.pipe(P$(Vv),Gp(t=>$m(this,void 0,void 0,function*(){return yield this.appInfoService.checkNewUpdates(t.info)}))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(gW))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),bW=(()=>{class t{constructor(t){this.http=t}get client(){return"4c"}trackRangeActivity(t){return $m(this,void 0,void 0,function*(){})}}return t.\u0275fac=function(e){return new(e||t)(hi(tF))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_W=(()=>{class t{constructor(t,e){this.actions$=t,this.trackingService=e,this.trackRangeActivity$=b$(()=>this.actions$.pipe(P$(vj),Gp(t=>this.trackingService.trackRangeActivity(t.activity))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(bW))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function yW(t,e){1&t&&(ks(0,"span",12),Ms(1,"i",13),Ss())}function vW(t,e){1&t&&(ks(0,"div",14),Ms(1,"i",15),Ss())}function CW(t,e){1&t&&(ks(0,"div",16),Ms(1,"i",17),Ss())}function wW(t,e){1&t&&(ks(0,"div",14),Ms(1,"i",15),Ss())}function xW(t,e){1&t&&(ks(0,"div",16),Ms(1,"i",17),Ss())}function PW(t,e){1&t&&(ks(0,"div",14),Ms(1,"i",15),Ss())}function OW(t,e){1&t&&(ks(0,"div",16),Ms(1,"i",17),Ss())}function kW(t,e){1&t&&(ks(0,"div",14),Ms(1,"i",15),Ss())}function SW(t,e){1&t&&(ks(0,"div",16),Ms(1,"i",17),Ss())}function MW(t,e){if(1&t&&(Ts(0),ks(1,"div"),ua(2),Vl(3,"number"),Ss(),Es()),2&t){const t=Vs(2).$implicit;Ur(1),ea(Xn,Xs,t[7]>=0?"positive":"negative",!0),Ur(1),pa(" ",t[7]>=0?"+":"","",$l(3,5,t[7],"1.2-2")," ")}}function TW(t,e){1&t&&ua(0," n/a ")}function EW(t,e){if(1&t&&(Ts(0),ks(1,"div",26),ua(2),Cs(3,MW,4,8,"ng-container",27),Cs(4,TW,1,0,"ng-template",null,28,fc),ua(6),Ss(),Es()),2&t){const t=ws(5),e=Vs().$implicit,n=Vs();Ur(2),ha(" ",""," "),Ur(1),Ps("ngIf",n.hasEvDifference(e))("ngIfElse",t),Ur(3),ha(" ",""," ")}}function RW(t,e){if(1&t&&(ks(0,"div",18),ks(1,"div",19),Ms(2,"app-cards",20),Ss(),ks(3,"div",21),ua(4),Vl(5,"percent"),Ss(),ks(6,"div",22),ks(7,"div",23),ua(8),Vl(9,"number"),Ss(),Cs(10,EW,7,4,"ng-container",24),Ss(),ks(11,"div",25),ua(12),Vl(13,"number"),Ss(),Ss()),2&t){const t=e.$implicit,n=Vs();Ur(2),Ps("cards",t[1]),Ur(2),ha(" ",$l(5,7,t[2],"1.0-0")," "),Ur(3),Js("smaller",!n.hideEvDifference),Ur(1),da($l(9,10,n.adjustedEv(t[3]),"1.2-2")),Ur(2),Ps("ngIf",!n.hideEvDifference),Ur(2),ha(" ",$l(13,13,t[4],"1.2-2")," ")}}let FW=(()=>{class t{constructor(t,e){this.rangeService=t,this.dialog=e,this.isIcm=!1,this.exportClicked=new ql,this.updateSorting=new ql}get itemSize(){const t=document.getElementsByTagName("html")[0];if(t){const e=window.getComputedStyle(t).getPropertyValue("font-size");return 2.1875*parseFloat(e)}return 35}get minItems(){return 50}get maxItems(){return 150}get currentSorting(){return this.rangeService.rangeSortingOptions.sortBy}get currentSortDirection(){return this.rangeService.rangeSortingOptions.sortDir}get sortedAscending(){return this.currentSortDirection===KR.Asc}get sortedDescending(){return this.currentSortDirection===KR.Desc}get sortedByFrequency(){return this.currentSorting===GR.Frequency}get sortedByEV(){return this.currentSorting===GR.EV}get sortedByEVDiff(){return this.currentSorting===GR.EVDiff}get sortedByWeight(){return this.currentSorting===GR.Weight}get evHeader(){const t=this.isIcm?"EV $":"EV";return this.hideEvDifference?t:t+"/diff"}sortByFrequency(){this.updateSorting.emit(this.sortedByFrequency?{sorting:GR.Frequency,direction:this.reverseSortDirection()}:{sorting:GR.Frequency,direction:KR.Desc})}sortByEVOrDiff(){this.updateSorting.emit(this.hideEvDifference?this.sortedByEV?{sorting:GR.EV,direction:this.reverseSortDirection()}:{sorting:GR.EV,direction:KR.Desc}:this.sortedByEV?this.sortedDescending?{sorting:GR.EV,direction:KR.Asc}:{sorting:GR.EVDiff,direction:KR.Desc}:this.sortedByEVDiff&&this.sortedDescending?{sorting:GR.EVDiff,direction:KR.Asc}:{sorting:GR.EV,direction:KR.Desc})}sortByWeight(){this.updateSorting.emit(this.sortedByWeight?{sorting:GR.Weight,direction:this.reverseSortDirection()}:{sorting:GR.Weight,direction:KR.Desc})}reverseSortDirection(){return this.sortedAscending?KR.Desc:KR.Asc}overallFreq(t){return xB(t.overallFreq,1)}adjustedEv(t){return vR(t,this.adjustEvBy,this.range.action.type===Q_.FOLD)}showExportIcon(t){var e;return this.showExport&&!this.isExporting&&(null===(e=t.items)||void 0===e?void 0:e.length)>0}emitExportClicked({action:t}){this.showExport&&(this.allowExport?this.exportClicked.emit(t):this.dialog.open(_R,{data:{featureText:"Exporting ranges"}}))}hasEvDifference(t){return!isNaN(MR(t))}}return t.\u0275fac=function(e){return new(e||t)(xs(rF),xs(qM))},t.\u0275cmp=Nt({type:t,selectors:[["app-action-range-view"]],inputs:{range:"range",isIcm:"isIcm",adjustEvBy:"adjustEvBy",hideEvDifference:"hideEvDifference",showExport:"showExport",allowExport:"allowExport",isExporting:"isExporting"},outputs:{exportClicked:"exportClicked",updateSorting:"updateSorting"},decls:27,vars:21,consts:[[1,"action-range-container"],[1,"action-range"],[1,"header","row"],[1,"combo-action",3,"click"],["class","export-icon",4,"ngIf"],[1,"freq","with-sort-icon",3,"click"],["class","sort-icon up",4,"ngIf"],["class","sort-icon down",4,"ngIf"],[1,"ev","with-sort-icon",3,"click"],[1,"weight","with-sort-icon",3,"click"],[1,"range-items",3,"itemSize","minBufferPx","maxBufferPx"],["class","row",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"export-icon"],[1,"download-icon","fas","fa-cloud-download-alt"],[1,"sort-icon","up"],[1,"fas","fa-sort-up"],[1,"sort-icon","down"],[1,"fas","fa-sort-down"],[1,"row"],[1,"combo-action"],[3,"cards"],[1,"freq"],[1,"ev"],[1,"num"],[4,"ngIf"],[1,"weight"],[1,"diff"],[4,"ngIf","ngIfElse"],["noEvDiff",""]],template:function(t,e){1&t&&(ks(0,"div",0),ks(1,"div",1),ks(2,"div",2),ks(3,"div",3),Ds("click",function(){return e.emitExportClicked(e.range)}),ks(4,"span"),ua(5),Ss(),Cs(6,yW,2,0,"span",4),Ss(),ks(7,"div",5),Ds("click",function(){return e.sortByFrequency()}),Cs(8,vW,2,0,"div",6),Cs(9,CW,2,0,"div",7),ks(10,"div"),ua(11),Vl(12,"percent"),Ss(),Ss(),ks(13,"div",8),Ds("click",function(){return e.sortByEVOrDiff()}),Cs(14,wW,2,0,"div",6),Cs(15,xW,2,0,"div",7),ks(16,"div"),ua(17),Ss(),Cs(18,PW,2,0,"div",6),Cs(19,OW,2,0,"div",7),Ss(),ks(20,"div",9),Ds("click",function(){return e.sortByWeight()}),Cs(21,kW,2,0,"div",6),Cs(22,SW,2,0,"div",7),ks(23,"div"),ua(24,"Weight"),Ss(),Ss(),Ss(),ks(25,"cdk-virtual-scroll-viewport",10),Cs(26,RW,14,16,"div",11),Ss(),Ss(),Ss()),2&t&&(Ur(3),Js("clickable",e.showExportIcon(e.range)),Ur(2),da(e.range.label),Ur(1),Ps("ngIf",e.showExportIcon(e.range)),Ur(2),Ps("ngIf",e.sortedByFrequency&&e.sortedAscending),Ur(1),Ps("ngIf",e.sortedByFrequency&&e.sortedDescending),Ur(2),da($l(12,18,e.overallFreq(e.range),"1.0-1")),Ur(3),Ps("ngIf",e.sortedByEV&&e.sortedAscending),Ur(1),Ps("ngIf",e.sortedByEV&&e.sortedDescending),Ur(2),da(e.evHeader),Ur(1),Ps("ngIf",e.sortedByEVDiff&&e.sortedAscending),Ur(1),Ps("ngIf",e.sortedByEVDiff&&e.sortedDescending),Ur(2),Ps("ngIf",e.sortedByWeight&&e.sortedAscending),Ur(1),Ps("ngIf",e.sortedByWeight&&e.sortedDescending),Ur(3),Ps("itemSize",e.itemSize)("minBufferPx",e.minItems*e.itemSize)("maxBufferPx",e.maxItems*e.itemSize),Ur(1),Ps("cdkVirtualForOf",e.range.items))},directives:[Pd,Yx,qx,Jx,oB],pipes:[Hd,Vd],styles:[".action-range-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;height:100%;gap:1rem}.action-range-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:.3125rem}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-right:1rem!important}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .combo-action[_ngcontent-%COMP%]{text-align:left;cursor:pointer}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .combo-action[_ngcontent-%COMP%]   .export-icon[_ngcontent-%COMP%]{margin-left:.3125rem}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]{flex-direction:row!important}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .with-sort-icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:.175rem;cursor:pointer}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .with-sort-icon[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:1.25rem}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .with-sort-icon[_ngcontent-%COMP%]   .sort-icon.up[_ngcontent-%COMP%]{padding-top:.65rem}.action-range-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .with-sort-icon[_ngcontent-%COMP%]   .sort-icon.down[_ngcontent-%COMP%]{margin-top:-.5rem}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;height:2.1875rem;margin-right:.3125rem;align-items:center;text-align:center;border-bottom:1px solid var(--highlight-color);box-sizing:border-box}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .combo-action[_ngcontent-%COMP%]{width:7rem;flex-grow:0}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:3.125rem}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .num.smaller[_ngcontent-%COMP%]{font-size:.875rem;height:1rem}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .diff[_ngcontent-%COMP%]{font-size:.75rem;height:.9rem;display:flex;align-items:center;justify-content:center}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .diff[_ngcontent-%COMP%]   .positive[_ngcontent-%COMP%]{color:#90d371}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .ev[_ngcontent-%COMP%]   .diff[_ngcontent-%COMP%]   .negative[_ngcontent-%COMP%]{color:#d37373}.action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .freq[_ngcontent-%COMP%], .action-range-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .weight[_ngcontent-%COMP%]{width:3.125rem}.action-range-container[_ngcontent-%COMP%]   .action-range[_ngcontent-%COMP%]{height:100%;width:100%}.action-range-container[_ngcontent-%COMP%]   .action-range[_ngcontent-%COMP%]   .range-items[_ngcontent-%COMP%]{height:calc(100% - 2.1875rem);overflow-y:scroll;overflow-x:hidden}.action-range-container[_ngcontent-%COMP%]   .action-range[_ngcontent-%COMP%]   .range-items.two-actions[_ngcontent-%COMP%]{height:calc(100% - 2.1875rem)}"],changeDetection:0}),t})(),IW=(()=>{class t{constructor(t,e){this.actions$=t,this.rangeService=e,this.clearRange$=b$(()=>this.actions$.pipe(P$(Oy),Gp(()=>this.rangeService.clearRange())),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(rF))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),AW=(()=>{class t{constructor(t,e){this.actions$=t,this.favoriteService=e,this.loadUserFavorites$=b$(()=>this.actions$.pipe(P$(Yy),Gp(()=>this.favoriteService.loadUserFavorites())),{dispatch:!1}),this.createUserFavorites$=b$(()=>this.actions$.pipe(P$(Zy),Gp(t=>this.favoriteService.createUserFavorites(t.favorite))),{dispatch:!1}),this.deleteUserFavorites$=b$(()=>this.actions$.pipe(P$(Jy),Gp(t=>this.favoriteService.deleteUserFavorites(t.key))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(hi(x$),hi(qE))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function DW(t){return()=>{t.cookie.domain=window.location.hostname}}const LW={autoLogin:!1,providers:[{id:Lw.PROVIDER_ID,provider:new Lw("83339177893-71s4d06ln5j02blsdhuahjg7k9fs9lkb.apps.googleusercontent.com")}]},BW={cookie:{domain:"not-set"},position:"bottom",theme:"classic",palette:{popup:{background:"#000000",text:"#ffffff",link:"#ffffff"},button:{background:"#f1d600",text:"#000000",border:"transparent"}},type:"info",content:{message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",deny:"Refuse cookies",link:"Learn more",href:"https://plomastermind.com/privacy-statement-eu/",policy:"Cookie Policy"}};function NW(t){return()=>t.setThemeOnStart()}let jW=(()=>{class t{}return t.\u0275mod=zt({type:t,bootstrap:[t$]}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Hd,Vd,{provide:Xi,useClass:fW},{provide:Gh,useClass:J$,multi:!0},{provide:gc,useFactory:DW,deps:[ZH],multi:!0},{provide:gc,useFactory:NW,deps:[_T],multi:!0},{provide:"SocialAuthServiceConfig",useValue:LW}],imports:[[xh,QH,$$,z$,w_.forRoot({tree:fy,bucket:Cv,training:sW,range:Ty,settings:Zv,syntax:Gq,appInfo:zv,favorites:ev}),j$.forRoot([Z$,Y$,rW,cW,dW,pW,mW,_W,IW,AW]),sp,Ew,Rw,tP,KS,Ew,IU,XH.forRoot(BW),Nw,UE]]}),t})();jt(wI,[iW,YT,VT,BD,wd,MM,Pd,_L,AC,yw,Yx,qx,Jx,oB],[]),jt(Lj,[Pd,lT,FW,iW,_L,AC,yw],[Bd]),jt(PA,[tD,Pd,lT,_B,HB,wd,KN,BN,vd,WV,Lj,CV,gE],[Hd,Bd]),jt(WV,[Pd,wd,vd,oB,oR,DB],[Vd,Hd]),jt(RI,[KM,QM,iW,YT,VT,BD,wd,MM,Pd,_L,AC,yw,Yx,qx,Jx,oB,YM],[]),function(){if(Qc)throw new Error("Cannot enable prod mode after platform setup.");Kc=!1}(),Ch().bootstrapModule(jW).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);